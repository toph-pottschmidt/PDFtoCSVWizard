var o2=Object.defineProperty;var GP=e=>{throw TypeError(e)};var r2=(e,t,s)=>t in e?o2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Je=(e,t,s)=>r2(e,typeof t!="symbol"?t+"":t,s),g0=(e,t,s)=>t.has(e)||GP("Cannot "+s);var v=(e,t,s)=>(g0(e,t,"read from private field"),s?s.call(e):t.get(e)),O=(e,t,s)=>t.has(e)?GP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),P=(e,t,s,i)=>(g0(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),M=(e,t,s)=>(g0(e,t,"access private method"),s);var di=(e,t,s,i)=>({set _(n){P(e,t,n,s)},get _(){return v(e,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function RA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p0={exports:{}},rg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP;function a2(){if(BP)return rg;BP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,n,o){var r=null;if(o!==void 0&&(r=""+o),n.key!==void 0&&(r=""+n.key),"key"in n){o={};for(var l in n)l!=="key"&&(o[l]=n[l])}else o=n;return n=o.ref,{$$typeof:e,type:i,key:r,ref:n!==void 0?n:null,props:o}}return rg.Fragment=t,rg.jsx=s,rg.jsxs=s,rg}var VP;function l2(){return VP||(VP=1,p0.exports=a2()),p0.exports}var N=l2(),m0={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP;function c2(){if(zP)return rt;zP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),r=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(_){return _===null||typeof _!="object"?null:(_=p&&_[p]||_["@@iterator"],typeof _=="function"?_:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function R(_,$,X){this.props=_,this.context=$,this.refs=S,this.updater=X||C}R.prototype.isReactComponent={},R.prototype.setState=function(_,$){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,$,"setState")},R.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function A(){}A.prototype=R.prototype;function D(_,$,X){this.props=_,this.context=$,this.refs=S,this.updater=X||C}var E=D.prototype=new A;E.constructor=D,w(E,R.prototype),E.isPureReactComponent=!0;var F=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function H(_,$,X,J,le,ge){return X=ge.ref,{$$typeof:e,type:_,key:$,ref:X!==void 0?X:null,props:ge}}function G(_,$){return H(_.type,$,void 0,void 0,void 0,_.props)}function W(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function q(_){var $={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return $[X]})}var K=/\/+/g;function Z(_,$){return typeof _=="object"&&_!==null&&_.key!=null?q(""+_.key):$.toString(36)}function Y(){}function re(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Y,Y):(_.status="pending",_.then(function($){_.status==="pending"&&(_.status="fulfilled",_.value=$)},function($){_.status==="pending"&&(_.status="rejected",_.reason=$)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function ne(_,$,X,J,le){var ge=typeof _;(ge==="undefined"||ge==="boolean")&&(_=null);var me=!1;if(_===null)me=!0;else switch(ge){case"bigint":case"string":case"number":me=!0;break;case"object":switch(_.$$typeof){case e:case t:me=!0;break;case f:return me=_._init,ne(me(_._payload),$,X,J,le)}}if(me)return le=le(_),me=J===""?"."+Z(_,0):J,F(le)?(X="",me!=null&&(X=me.replace(K,"$&/")+"/"),ne(le,$,X,"",function(it){return it})):le!=null&&(W(le)&&(le=G(le,X+(le.key==null||_&&_.key===le.key?"":(""+le.key).replace(K,"$&/")+"/")+me)),$.push(le)),1;me=0;var Ae=J===""?".":J+":";if(F(_))for(var Ie=0;Ie<_.length;Ie++)J=_[Ie],ge=Ae+Z(J,Ie),me+=ne(J,$,X,ge,le);else if(Ie=m(_),typeof Ie=="function")for(_=Ie.call(_),Ie=0;!(J=_.next()).done;)J=J.value,ge=Ae+Z(J,Ie++),me+=ne(J,$,X,ge,le);else if(ge==="object"){if(typeof _.then=="function")return ne(re(_),$,X,J,le);throw $=String(_),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(_,$,X){if(_==null)return _;var J=[],le=0;return ne(_,J,"","",function(ge){return $.call(X,ge,le++)}),J}function z(_){if(_._status===-1){var $=_._result;$=$(),$.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=$)}if(_._status===1)return _._result.default;throw _._result}var U=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function ue(){}return rt.Children={map:B,forEach:function(_,$,X){B(_,function(){$.apply(this,arguments)},X)},count:function(_){var $=0;return B(_,function(){$++}),$},toArray:function(_){return B(_,function($){return $})||[]},only:function(_){if(!W(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},rt.Component=R,rt.Fragment=s,rt.Profiler=n,rt.PureComponent=D,rt.StrictMode=i,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,rt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return L.H.useMemoCache(_)}},rt.cache=function(_){return function(){return _.apply(null,arguments)}},rt.cloneElement=function(_,$,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var J=w({},_.props),le=_.key,ge=void 0;if($!=null)for(me in $.ref!==void 0&&(ge=void 0),$.key!==void 0&&(le=""+$.key),$)!k.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(J[me]=$[me]);var me=arguments.length-2;if(me===1)J.children=X;else if(1<me){for(var Ae=Array(me),Ie=0;Ie<me;Ie++)Ae[Ie]=arguments[Ie+2];J.children=Ae}return H(_.type,le,void 0,void 0,ge,J)},rt.createContext=function(_){return _={$$typeof:r,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},rt.createElement=function(_,$,X){var J,le={},ge=null;if($!=null)for(J in $.key!==void 0&&(ge=""+$.key),$)k.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=$[J]);var me=arguments.length-2;if(me===1)le.children=X;else if(1<me){for(var Ae=Array(me),Ie=0;Ie<me;Ie++)Ae[Ie]=arguments[Ie+2];le.children=Ae}if(_&&_.defaultProps)for(J in me=_.defaultProps,me)le[J]===void 0&&(le[J]=me[J]);return H(_,ge,void 0,void 0,null,le)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(_){return{$$typeof:l,render:_}},rt.isValidElement=W,rt.lazy=function(_){return{$$typeof:f,_payload:{_status:-1,_result:_},_init:z}},rt.memo=function(_,$){return{$$typeof:d,type:_,compare:$===void 0?null:$}},rt.startTransition=function(_){var $=L.T,X={};L.T=X;try{var J=_(),le=L.S;le!==null&&le(X,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ue,U)}catch(ge){U(ge)}finally{L.T=$}},rt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},rt.use=function(_){return L.H.use(_)},rt.useActionState=function(_,$,X){return L.H.useActionState(_,$,X)},rt.useCallback=function(_,$){return L.H.useCallback(_,$)},rt.useContext=function(_){return L.H.useContext(_)},rt.useDebugValue=function(){},rt.useDeferredValue=function(_,$){return L.H.useDeferredValue(_,$)},rt.useEffect=function(_,$,X){var J=L.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(_,$)},rt.useId=function(){return L.H.useId()},rt.useImperativeHandle=function(_,$,X){return L.H.useImperativeHandle(_,$,X)},rt.useInsertionEffect=function(_,$){return L.H.useInsertionEffect(_,$)},rt.useLayoutEffect=function(_,$){return L.H.useLayoutEffect(_,$)},rt.useMemo=function(_,$){return L.H.useMemo(_,$)},rt.useOptimistic=function(_,$){return L.H.useOptimistic(_,$)},rt.useReducer=function(_,$,X){return L.H.useReducer(_,$,X)},rt.useRef=function(_){return L.H.useRef(_)},rt.useState=function(_){return L.H.useState(_)},rt.useSyncExternalStore=function(_,$,X){return L.H.useSyncExternalStore(_,$,X)},rt.useTransition=function(){return L.H.useTransition()},rt.version="19.1.0",rt}var WP;function xA(){return WP||(WP=1,m0.exports=c2()),m0.exports}var x=xA();const ve=RA(x);var v0={exports:{}},ag={},C0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function u2(){return UP||(UP=1,function(e){function t(B,z){var U=B.length;B.push(z);e:for(;0<U;){var ue=U-1>>>1,_=B[ue];if(0<n(_,z))B[ue]=z,B[U]=_,U=ue;else break e}}function s(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var z=B[0],U=B.pop();if(U!==z){B[0]=U;e:for(var ue=0,_=B.length,$=_>>>1;ue<$;){var X=2*(ue+1)-1,J=B[X],le=X+1,ge=B[le];if(0>n(J,U))le<_&&0>n(ge,J)?(B[ue]=ge,B[le]=U,ue=le):(B[ue]=J,B[X]=U,ue=X);else if(le<_&&0>n(ge,U))B[ue]=ge,B[le]=U,ue=le;else break e}}return z}function n(B,z){var U=B.sortIndex-z.sortIndex;return U!==0?U:B.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var u=[],d=[],f=1,p=null,m=3,C=!1,w=!1,S=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function F(B){for(var z=s(d);z!==null;){if(z.callback===null)i(d);else if(z.startTime<=B)i(d),z.sortIndex=z.expirationTime,t(u,z);else break;z=s(d)}}function L(B){if(S=!1,F(B),!w)if(s(u)!==null)w=!0,k||(k=!0,Z());else{var z=s(d);z!==null&&ne(L,z.startTime-B)}}var k=!1,H=-1,G=5,W=-1;function q(){return R?!0:!(e.unstable_now()-W<G)}function K(){if(R=!1,k){var B=e.unstable_now();W=B;var z=!0;try{e:{w=!1,S&&(S=!1,D(H),H=-1),C=!0;var U=m;try{t:{for(F(B),p=s(u);p!==null&&!(p.expirationTime>B&&q());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,m=p.priorityLevel;var _=ue(p.expirationTime<=B);if(B=e.unstable_now(),typeof _=="function"){p.callback=_,F(B),z=!0;break t}p===s(u)&&i(u),F(B)}else i(u);p=s(u)}if(p!==null)z=!0;else{var $=s(d);$!==null&&ne(L,$.startTime-B),z=!1}}break e}finally{p=null,m=U,C=!1}z=void 0}}finally{z?Z():k=!1}}}var Z;if(typeof E=="function")Z=function(){E(K)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,re=Y.port2;Y.port1.onmessage=K,Z=function(){re.postMessage(null)}}else Z=function(){A(K,0)};function ne(B,z){H=A(function(){B(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var U=m;m=z;try{return B()}finally{m=U}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=m;m=B;try{return z()}finally{m=U}},e.unstable_scheduleCallback=function(B,z,U){var ue=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ue+U:ue):U=ue,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=U+_,B={id:f++,callback:z,priorityLevel:B,startTime:U,expirationTime:_,sortIndex:-1},U>ue?(B.sortIndex=U,t(d,B),s(u)===null&&B===s(d)&&(S?(D(H),H=-1):S=!0,ne(L,U-ue))):(B.sortIndex=_,t(u,B),w||C||(w=!0,k||(k=!0,Z()))),B},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(B){var z=m;return function(){var U=m;m=z;try{return B.apply(this,arguments)}finally{m=U}}}}(b0)),b0}var jP;function d2(){return jP||(jP=1,C0.exports=u2()),C0.exports}var w0={exports:{}},Qs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function h2(){if($P)return Qs;$P=1;var e=xA();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},n=Symbol.for("react.portal");function o(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qs.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(u,d,null,f)},Qs.flushSync=function(u){var d=r.T,f=i.p;try{if(r.T=null,i.p=2,u)return u()}finally{r.T=d,i.p=f,i.d.f()}},Qs.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},Qs.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Qs.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:C}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qs.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},Qs.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qs.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},Qs.requestFormReset=function(u){i.d.r(u)},Qs.unstable_batchedUpdates=function(u,d){return u(d)},Qs.useFormState=function(u,d,f){return r.H.useFormState(u,d,f)},Qs.useFormStatus=function(){return r.H.useHostTransitionStatus()},Qs.version="19.1.0",Qs}var qP;function rL(){if(qP)return w0.exports;qP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w0.exports=h2(),w0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP;function f2(){if(KP)return ag;KP=1;var e=d2(),t=xA(),s=rL();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function r(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(o(a)!==a)throw Error(i(188))}function u(a){var c=a.alternate;if(!c){if(c=o(a),c===null)throw Error(i(188));return c!==a?null:a}for(var h=a,g=c;;){var b=h.return;if(b===null)break;var y=b.alternate;if(y===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===y.child){for(y=b.child;y;){if(y===h)return l(b),a;if(y===g)return l(b),c;y=y.sibling}throw Error(i(188))}if(h.return!==g.return)h=b,g=y;else{for(var T=!1,I=b.child;I;){if(I===h){T=!0,h=b,g=y;break}if(I===g){T=!0,g=b,h=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===h){T=!0,h=y,g=b;break}if(I===g){T=!0,g=y,h=b;break}I=I.sibling}if(!T)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:c}function d(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=d(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),E=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Y?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case W:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case E:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H:return c=a.displayName||null,c!==null?c:re(a.type)||"Memo";case G:c=a._payload,a=a._init;try{return re(a(c))}catch{}}return null}var ne=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ue=[],_=-1;function $(a){return{current:a}}function X(a){0>_||(a.current=ue[_],ue[_]=null,_--)}function J(a,c){_++,ue[_]=a.current,a.current=c}var le=$(null),ge=$(null),me=$(null),Ae=$(null);function Ie(a,c){switch(J(me,c),J(ge,a),J(le,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?fP(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=fP(c),a=gP(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(le),J(le,a)}function it(){X(le),X(ge),X(me)}function De(a){a.memoizedState!==null&&J(Ae,a);var c=le.current,h=gP(c,a.type);c!==h&&(J(ge,a),J(le,h))}function Nt(a){ge.current===a&&(X(le),X(ge)),Ae.current===a&&(X(Ae),tg._currentValue=U)}var Bt=Object.prototype.hasOwnProperty,Me=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,$e=e.unstable_shouldYield,nt=e.unstable_requestPaint,he=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,Xe=e.unstable_LowPriority,ot=e.unstable_IdlePriority,ce=e.log,Ee=e.unstable_setDisableYieldValue,qe=null,Le=null;function Pe(a){if(typeof ce=="function"&&Ee(a),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(qe,a)}catch{}}var Oe=Math.clz32?Math.clz32:qo,Et=Math.log,Ks=Math.LN2;function qo(a){return a>>>=0,a===0?32:31-(Et(a)/Ks|0)|0}var In=256,On=4194304;function _n(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function oa(a,c,h){var g=a.pendingLanes;if(g===0)return 0;var b=0,y=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var I=g&134217727;return I!==0?(g=I&~y,g!==0?b=_n(g):(T&=I,T!==0?b=_n(T):h||(h=I&~a,h!==0&&(b=_n(h))))):(I=g&~y,I!==0?b=_n(I):T!==0?b=_n(T):h||(h=g&~a,h!==0&&(b=_n(h)))),b===0?0:c!==0&&c!==b&&(c&y)===0&&(y=b&-b,h=c&-c,y>=h||y===32&&(h&4194048)!==0)?c:b}function uf(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function $H(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XE(){var a=In;return In<<=1,(In&4194048)===0&&(In=256),a}function QE(){var a=On;return On<<=1,(On&62914560)===0&&(On=4194304),a}function iy(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function df(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qH(a,c,h,g,b,y){var T=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var I=a.entanglements,V=a.expirationTimes,te=a.hiddenUpdates;for(h=T&~h;0<h;){var de=31-Oe(h),pe=1<<de;I[de]=0,V[de]=-1;var se=te[de];if(se!==null)for(te[de]=null,de=0;de<se.length;de++){var ie=se[de];ie!==null&&(ie.lane&=-536870913)}h&=~pe}g!==0&&ZE(a,g,0),y!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=y&~(T&~c))}function ZE(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-Oe(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|h&4194090}function JE(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-Oe(h),b=1<<g;b&c|a[g]&c&&(a[g]|=c),h&=~b}}function ny(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function oy(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function eD(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:kP(a.type))}function KH(a,c){var h=z.p;try{return z.p=a,c()}finally{z.p=h}}var ra=Math.random().toString(36).slice(2),Ys="__reactFiber$"+ra,Si="__reactProps$"+ra,Fu="__reactContainer$"+ra,ry="__reactEvents$"+ra,YH="__reactListeners$"+ra,XH="__reactHandles$"+ra,tD="__reactResources$"+ra,hf="__reactMarker$"+ra;function ay(a){delete a[Ys],delete a[Si],delete a[ry],delete a[YH],delete a[XH]}function Pu(a){var c=a[Ys];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Fu]||h[Ys]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=CP(a);a!==null;){if(h=a[Ys])return h;a=CP(a)}return c}a=h,h=a.parentNode}return null}function Mu(a){if(a=a[Ys]||a[Fu]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function ff(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function Lu(a){var c=a[tD];return c||(c=a[tD]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Es(a){a[hf]=!0}var sD=new Set,iD={};function Dl(a,c){ku(a,c),ku(a+"Capture",c)}function ku(a,c){for(iD[a]=c,a=0;a<c.length;a++)sD.add(c[a])}var QH=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nD={},oD={};function ZH(a){return Bt.call(oD,a)?!0:Bt.call(nD,a)?!1:QH.test(a)?oD[a]=!0:(nD[a]=!0,!1)}function zm(a,c,h){if(ZH(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function Wm(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function Ko(a,c,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+g)}}var ly,rD;function Iu(a){if(ly===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ly=c&&c[1]||"",rD=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ly+a+rD}var cy=!1;function uy(a,c){if(!a||cy)return"";cy=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ie){var se=ie}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(ie){se=ie}a.call(pe.prototype)}}else{try{throw Error()}catch(ie){se=ie}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ie){if(ie&&se&&typeof ie.stack=="string")return[ie.stack,se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=g.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var V=T.split(`
`),te=I.split(`
`);for(b=g=0;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;for(;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;if(g===V.length||b===te.length)for(g=V.length-1,b=te.length-1;1<=g&&0<=b&&V[g]!==te[b];)b--;for(;1<=g&&0<=b;g--,b--)if(V[g]!==te[b]){if(g!==1||b!==1)do if(g--,b--,0>b||V[g]!==te[b]){var de=`
`+V[g].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=g&&0<=b);break}}}finally{cy=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Iu(h):""}function JH(a){switch(a.tag){case 26:case 27:case 5:return Iu(a.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 15:return uy(a.type,!1);case 11:return uy(a.type.render,!1);case 1:return uy(a.type,!0);case 31:return Iu("Activity");default:return""}}function aD(a){try{var c="";do c+=JH(a),a=a.return;while(a);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function lD(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function eG(a){var c=lD(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,y=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(T){g=""+T,y.call(this,T)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Um(a){a._valueTracker||(a._valueTracker=eG(a))}function cD(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=lD(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function jm(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var tG=/[\n"\\]/g;function an(a){return a.replace(tG,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function dy(a,c,h,g,b,y,T,I){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),c!=null?T==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+rn(c)):a.value!==""+rn(c)&&(a.value=""+rn(c)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),c!=null?hy(a,T,rn(c)):h!=null?hy(a,T,rn(h)):g!=null&&a.removeAttribute("value"),b==null&&y!=null&&(a.defaultChecked=!!y),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+rn(I):a.removeAttribute("name")}function uD(a,c,h,g,b,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),c!=null||h!=null){if(!(y!=="submit"&&y!=="reset"||c!=null))return;h=h!=null?""+rn(h):"",c=c!=null?""+rn(c):h,I||c===a.value||(a.value=c),a.defaultValue=c}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=I?a.checked:!!g,a.defaultChecked=!!g,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function hy(a,c,h){c==="number"&&jm(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Ou(a,c,h,g){if(a=a.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=c.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+rn(h),c=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function dD(a,c,h){if(c!=null&&(c=""+rn(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+rn(h):""}function hD(a,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(i(92));if(ne(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=rn(c),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g)}function _u(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var sG=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fD(a,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,h):typeof h!="number"||h===0||sG.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function gD(a,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in c)g=c[b],c.hasOwnProperty(b)&&h[b]!==g&&fD(a,b,g)}else for(var y in c)c.hasOwnProperty(y)&&fD(a,y,c[y])}function fy(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iG=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nG=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $m(a){return nG.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var gy=null;function py(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Nu=null,Hu=null;function pD(a){var c=Mu(a);if(c&&(a=c.stateNode)){var h=a[Si]||null;e:switch(a=c.stateNode,c.type){case"input":if(dy(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+an(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var b=g[Si]||null;if(!b)throw Error(i(90));dy(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===a.form&&cD(g)}break e;case"textarea":dD(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Ou(a,!!h.multiple,c,!1)}}}var my=!1;function mD(a,c,h){if(my)return a(c,h);my=!0;try{var g=a(c);return g}finally{if(my=!1,(Nu!==null||Hu!==null)&&(Mv(),Nu&&(c=Nu,a=Hu,Hu=Nu=null,pD(c),a)))for(c=0;c<a.length;c++)pD(a[c])}}function gf(a,c){var h=a.stateNode;if(h===null)return null;var g=h[Si]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=!1;if(Yo)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){vy=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{vy=!1}var aa=null,Cy=null,qm=null;function vD(){if(qm)return qm;var a,c=Cy,h=c.length,g,b="value"in aa?aa.value:aa.textContent,y=b.length;for(a=0;a<h&&c[a]===b[a];a++);var T=h-a;for(g=1;g<=T&&c[h-g]===b[y-g];g++);return qm=b.slice(a,1<g?1-g:void 0)}function Km(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ym(){return!0}function CD(){return!1}function Ri(a){function c(h,g,b,y,T){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(h=a[I],this[I]=h?h(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ym:CD,this.isPropagationStopped=CD,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ym)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ym)},persist:function(){},isPersistent:Ym}),c}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xm=Ri(Tl),mf=f({},Tl,{view:0,detail:0}),oG=Ri(mf),by,wy,vf,Qm=f({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vf&&(vf&&a.type==="mousemove"?(by=a.screenX-vf.screenX,wy=a.screenY-vf.screenY):wy=by=0,vf=a),by)},movementY:function(a){return"movementY"in a?a.movementY:wy}}),bD=Ri(Qm),rG=f({},Qm,{dataTransfer:0}),aG=Ri(rG),lG=f({},mf,{relatedTarget:0}),yy=Ri(lG),cG=f({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),uG=Ri(cG),dG=f({},Tl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hG=Ri(dG),fG=f({},Tl,{data:0}),wD=Ri(fG),gG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vG(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=mG[a])?!!c[a]:!1}function Sy(){return vG}var CG=f({},mf,{key:function(a){if(a.key){var c=gG[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Km(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?pG[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(a){return a.type==="keypress"?Km(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Km(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bG=Ri(CG),wG=f({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yD=Ri(wG),yG=f({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),SG=Ri(yG),RG=f({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xG=Ri(RG),AG=f({},Qm,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),EG=Ri(AG),DG=f({},Tl,{newState:0,oldState:0}),TG=Ri(DG),FG=[9,13,27,32],Ry=Yo&&"CompositionEvent"in window,Cf=null;Yo&&"documentMode"in document&&(Cf=document.documentMode);var PG=Yo&&"TextEvent"in window&&!Cf,SD=Yo&&(!Ry||Cf&&8<Cf&&11>=Cf),RD=" ",xD=!1;function AD(a,c){switch(a){case"keyup":return FG.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ED(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Gu=!1;function MG(a,c){switch(a){case"compositionend":return ED(c);case"keypress":return c.which!==32?null:(xD=!0,RD);case"textInput":return a=c.data,a===RD&&xD?null:a;default:return null}}function LG(a,c){if(Gu)return a==="compositionend"||!Ry&&AD(a,c)?(a=vD(),qm=Cy=aa=null,Gu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return SD&&c.locale!=="ko"?null:c.data;default:return null}}var kG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DD(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!kG[a.type]:c==="textarea"}function TD(a,c,h,g){Nu?Hu?Hu.push(g):Hu=[g]:Nu=g,c=Nv(c,"onChange"),0<c.length&&(h=new Xm("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var bf=null,wf=null;function IG(a){lP(a,0)}function Zm(a){var c=ff(a);if(cD(c))return a}function FD(a,c){if(a==="change")return c}var PD=!1;if(Yo){var xy;if(Yo){var Ay="oninput"in document;if(!Ay){var MD=document.createElement("div");MD.setAttribute("oninput","return;"),Ay=typeof MD.oninput=="function"}xy=Ay}else xy=!1;PD=xy&&(!document.documentMode||9<document.documentMode)}function LD(){bf&&(bf.detachEvent("onpropertychange",kD),wf=bf=null)}function kD(a){if(a.propertyName==="value"&&Zm(wf)){var c=[];TD(c,wf,a,py(a)),mD(IG,c)}}function OG(a,c,h){a==="focusin"?(LD(),bf=c,wf=h,bf.attachEvent("onpropertychange",kD)):a==="focusout"&&LD()}function _G(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zm(wf)}function NG(a,c){if(a==="click")return Zm(c)}function HG(a,c){if(a==="input"||a==="change")return Zm(c)}function GG(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var _i=typeof Object.is=="function"?Object.is:GG;function yf(a,c){if(_i(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!Bt.call(c,b)||!_i(a[b],c[b]))return!1}return!0}function ID(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function OD(a,c){var h=ID(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ID(h)}}function _D(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?_D(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function ND(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=jm(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=jm(a.document)}return c}function Ey(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var BG=Yo&&"documentMode"in document&&11>=document.documentMode,Bu=null,Dy=null,Sf=null,Ty=!1;function HD(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ty||Bu==null||Bu!==jm(g)||(g=Bu,"selectionStart"in g&&Ey(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sf&&yf(Sf,g)||(Sf=g,g=Nv(Dy,"onSelect"),0<g.length&&(c=new Xm("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=Bu)))}function Fl(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Vu={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},Fy={},GD={};Yo&&(GD=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Pl(a){if(Fy[a])return Fy[a];if(!Vu[a])return a;var c=Vu[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in GD)return Fy[a]=c[h];return a}var BD=Pl("animationend"),VD=Pl("animationiteration"),zD=Pl("animationstart"),VG=Pl("transitionrun"),zG=Pl("transitionstart"),WG=Pl("transitioncancel"),WD=Pl("transitionend"),UD=new Map,Py="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Py.push("scrollEnd");function Nn(a,c){UD.set(a,c),Dl(c,[a])}var jD=new WeakMap;function ln(a,c){if(typeof a=="object"&&a!==null){var h=jD.get(a);return h!==void 0?h:(c={value:a,source:c,stack:aD(c)},jD.set(a,c),c)}return{value:a,source:c,stack:aD(c)}}var cn=[],zu=0,My=0;function Jm(){for(var a=zu,c=My=zu=0;c<a;){var h=cn[c];cn[c++]=null;var g=cn[c];cn[c++]=null;var b=cn[c];cn[c++]=null;var y=cn[c];if(cn[c++]=null,g!==null&&b!==null){var T=g.pending;T===null?b.next=b:(b.next=T.next,T.next=b),g.pending=b}y!==0&&$D(h,b,y)}}function ev(a,c,h,g){cn[zu++]=a,cn[zu++]=c,cn[zu++]=h,cn[zu++]=g,My|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Ly(a,c,h,g){return ev(a,c,h,g),tv(a)}function Wu(a,c){return ev(a,null,null,c),tv(a)}function $D(a,c,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var b=!1,y=a.return;y!==null;)y.childLanes|=h,g=y.alternate,g!==null&&(g.childLanes|=h),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(b=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,b&&c!==null&&(b=31-Oe(h),a=y.hiddenUpdates,g=a[b],g===null?a[b]=[c]:g.push(c),c.lane=h|536870912),y):null}function tv(a){if(50<qf)throw qf=0,HS=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Uu={};function UG(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(a,c,h,g){return new UG(a,c,h,g)}function ky(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xo(a,c){var h=a.alternate;return h===null?(h=Ni(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function qD(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function sv(a,c,h,g,b,y){var T=0;if(g=a,typeof a=="function")ky(a)&&(T=1);else if(typeof a=="string")T=$B(a,h,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case W:return a=Ni(31,h,c,b),a.elementType=W,a.lanes=y,a;case w:return Ml(h.children,b,y,c);case S:T=8,b|=24;break;case R:return a=Ni(12,h,c,b|2),a.elementType=R,a.lanes=y,a;case L:return a=Ni(13,h,c,b),a.elementType=L,a.lanes=y,a;case k:return a=Ni(19,h,c,b),a.elementType=k,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case E:T=10;break e;case D:T=9;break e;case F:T=11;break e;case H:T=14;break e;case G:T=16,g=null;break e}T=29,h=Error(i(130,a===null?"null":typeof a,"")),g=null}return c=Ni(T,h,c,b),c.elementType=a,c.type=g,c.lanes=y,c}function Ml(a,c,h,g){return a=Ni(7,a,g,c),a.lanes=h,a}function Iy(a,c,h){return a=Ni(6,a,null,c),a.lanes=h,a}function Oy(a,c,h){return c=Ni(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var ju=[],$u=0,iv=null,nv=0,un=[],dn=0,Ll=null,Qo=1,Zo="";function kl(a,c){ju[$u++]=nv,ju[$u++]=iv,iv=a,nv=c}function KD(a,c,h){un[dn++]=Qo,un[dn++]=Zo,un[dn++]=Ll,Ll=a;var g=Qo;a=Zo;var b=32-Oe(g)-1;g&=~(1<<b),h+=1;var y=32-Oe(c)+b;if(30<y){var T=b-b%5;y=(g&(1<<T)-1).toString(32),g>>=T,b-=T,Qo=1<<32-Oe(c)+b|h<<b|g,Zo=y+a}else Qo=1<<y|h<<b|g,Zo=a}function _y(a){a.return!==null&&(kl(a,1),KD(a,1,0))}function Ny(a){for(;a===iv;)iv=ju[--$u],ju[$u]=null,nv=ju[--$u],ju[$u]=null;for(;a===Ll;)Ll=un[--dn],un[dn]=null,Zo=un[--dn],un[dn]=null,Qo=un[--dn],un[dn]=null}var ui=null,is=null,wt=!1,Il=null,uo=!1,Hy=Error(i(519));function Ol(a){var c=Error(i(418,""));throw Af(ln(c,a)),Hy}function YD(a){var c=a.stateNode,h=a.type,g=a.memoizedProps;switch(c[Ys]=a,c[Si]=g,h){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<Yf.length;h++)pt(Yf[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),uD(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Um(c);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),hD(c,g.value,g.defaultValue,g.children),Um(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||hP(c.textContent,h)?(g.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),g.onScroll!=null&&pt("scroll",c),g.onScrollEnd!=null&&pt("scrollend",c),g.onClick!=null&&(c.onclick=Hv),c=!0):c=!1,c||Ol(a)}function XD(a){for(ui=a.return;ui;)switch(ui.tag){case 5:case 13:uo=!1;return;case 27:case 3:uo=!0;return;default:ui=ui.return}}function Rf(a){if(a!==ui)return!1;if(!wt)return XD(a),wt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||e0(a.type,a.memoizedProps)),h=!h),h&&is&&Ol(a),XD(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(c===0){is=Gn(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;a=a.nextSibling}is=null}}else c===27?(c=is,Ra(a.type)?(a=n0,n0=null,is=a):is=c):is=ui?Gn(a.stateNode.nextSibling):null;return!0}function xf(){is=ui=null,wt=!1}function QD(){var a=Il;return a!==null&&(Ei===null?Ei=a:Ei.push.apply(Ei,a),Il=null),a}function Af(a){Il===null?Il=[a]:Il.push(a)}var Gy=$(null),_l=null,Jo=null;function la(a,c,h){J(Gy,c._currentValue),c._currentValue=h}function er(a){a._currentValue=Gy.current,X(Gy)}function By(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function Vy(a,c,h,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var y=b.dependencies;if(y!==null){var T=b.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=b;for(var V=0;V<c.length;V++)if(I.context===c[V]){y.lanes|=h,I=y.alternate,I!==null&&(I.lanes|=h),By(y.return,h,a),g||(T=null);break e}y=I.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(i(341));T.lanes|=h,y=T.alternate,y!==null&&(y.lanes|=h),By(T,h,a),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function Ef(a,c,h,g){a=null;for(var b=c,y=!1;b!==null;){if(!y){if((b.flags&524288)!==0)y=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=b.type;_i(b.pendingProps.value,T.value)||(a!==null?a.push(I):a=[I])}}else if(b===Ae.current){if(T=b.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(tg):a=[tg])}b=b.return}a!==null&&Vy(c,a,h,g),c.flags|=262144}function ov(a){for(a=a.firstContext;a!==null;){if(!_i(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Nl(a){_l=a,Jo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xs(a){return ZD(_l,a)}function rv(a,c){return _l===null&&Nl(a),ZD(a,c)}function ZD(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Jo===null){if(a===null)throw Error(i(308));Jo=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Jo=Jo.next=c;return h}var jG=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},$G=e.unstable_scheduleCallback,qG=e.unstable_NormalPriority,Cs={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zy(){return{controller:new jG,data:new Map,refCount:0}}function Df(a){a.refCount--,a.refCount===0&&$G(qG,function(){a.controller.abort()})}var Tf=null,Wy=0,qu=0,Ku=null;function KG(a,c){if(Tf===null){var h=Tf=[];Wy=0,qu=jS(),Ku={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Wy++,c.then(JD,JD),c}function JD(){if(--Wy===0&&Tf!==null){Ku!==null&&(Ku.status="fulfilled");var a=Tf;Tf=null,qu=0,Ku=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function YG(a,c){var h=[],g={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var b=0;b<h.length;b++)(0,h[b])(c)},function(b){for(g.status="rejected",g.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),g}var eT=B.S;B.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&KG(a,c),eT!==null&&eT(a,c)};var Hl=$(null);function Uy(){var a=Hl.current;return a!==null?a:Vt.pooledCache}function av(a,c){c===null?J(Hl,Hl.current):J(Hl,c.pool)}function tT(){var a=Uy();return a===null?null:{parent:Cs._currentValue,pool:a}}var Ff=Error(i(460)),sT=Error(i(474)),lv=Error(i(542)),jy={then:function(){}};function iT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cv(){}function nT(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(cv,cv),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,rT(a),a;default:if(typeof c.status=="string")c.then(cv,cv);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=g}},function(g){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,rT(a),a}throw Pf=c,Ff}}var Pf=null;function oT(){if(Pf===null)throw Error(i(459));var a=Pf;return Pf=null,a}function rT(a){if(a===Ff||a===lv)throw Error(i(483))}var ca=!1;function $y(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qy(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ua(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function da(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Dt&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,c=tv(a),$D(a,null,h),c}return ev(a,g,c,h),tv(a)}function Mf(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,JE(a,h)}}function Ky(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,y=null;if(h=h.firstBaseUpdate,h!==null){do{var T={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};y===null?b=y=T:y=y.next=T,h=h.next}while(h!==null);y===null?b=y=c:y=y.next=c}else b=y=c;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:y,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var Yy=!1;function Lf(){if(Yy){var a=Ku;if(a!==null)throw a}}function kf(a,c,h,g){Yy=!1;var b=a.updateQueue;ca=!1;var y=b.firstBaseUpdate,T=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var V=I,te=V.next;V.next=null,T===null?y=te:T.next=te,T=V;var de=a.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==T&&(I===null?de.firstBaseUpdate=te:I.next=te,de.lastBaseUpdate=V))}if(y!==null){var pe=b.baseState;T=0,de=te=V=null,I=y;do{var se=I.lane&-536870913,ie=se!==I.lane;if(ie?(Ct&se)===se:(g&se)===se){se!==0&&se===qu&&(Yy=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ke=a,Ue=I;se=c;var It=h;switch(Ue.tag){case 1:if(Ke=Ue.payload,typeof Ke=="function"){pe=Ke.call(It,pe,se);break e}pe=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Ue.payload,se=typeof Ke=="function"?Ke.call(It,pe,se):Ke,se==null)break e;pe=f({},pe,se);break e;case 2:ca=!0}}se=I.callback,se!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[se]:ie.push(se))}else ie={lane:se,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(te=de=ie,V=pe):de=de.next=ie,T|=se;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);de===null&&(V=pe),b.baseState=V,b.firstBaseUpdate=te,b.lastBaseUpdate=de,y===null&&(b.shared.lanes=0),ba|=T,a.lanes=T,a.memoizedState=pe}}function aT(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function lT(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)aT(h[a],c)}var Yu=$(null),uv=$(0);function cT(a,c){a=ar,J(uv,a),J(Yu,c),ar=a|c.baseLanes}function Xy(){J(uv,ar),J(Yu,Yu.current)}function Qy(){ar=uv.current,X(Yu),X(uv)}var ha=0,ct=null,Lt=null,hs=null,dv=!1,Xu=!1,Gl=!1,hv=0,If=0,Qu=null,XG=0;function as(){throw Error(i(321))}function Zy(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!_i(a[h],c[h]))return!1;return!0}function Jy(a,c,h,g,b,y){return ha=y,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=a===null||a.memoizedState===null?$T:qT,Gl=!1,y=h(g,b),Gl=!1,Xu&&(y=dT(c,h,g,b)),uT(a),y}function uT(a){B.H=Cv;var c=Lt!==null&&Lt.next!==null;if(ha=0,hs=Lt=ct=null,dv=!1,If=0,Qu=null,c)throw Error(i(300));a===null||Ds||(a=a.dependencies,a!==null&&ov(a)&&(Ds=!0))}function dT(a,c,h,g){ct=a;var b=0;do{if(Xu&&(Qu=null),If=0,Xu=!1,25<=b)throw Error(i(301));if(b+=1,hs=Lt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=iB,y=c(h,g)}while(Xu);return y}function QG(){var a=B.H,c=a.useState()[0];return c=typeof c.then=="function"?Of(c):c,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(ct.flags|=1024),c}function eS(){var a=hv!==0;return hv=0,a}function tS(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function sS(a){if(dv){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}dv=!1}ha=0,hs=Lt=ct=null,Xu=!1,If=hv=0,Qu=null}function xi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?ct.memoizedState=hs=a:hs=hs.next=a,hs}function fs(){if(Lt===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var c=hs===null?ct.memoizedState:hs.next;if(c!==null)hs=c,Lt=a;else{if(a===null)throw ct.alternate===null?Error(i(467)):Error(i(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},hs===null?ct.memoizedState=hs=a:hs=hs.next=a}return hs}function iS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(a){var c=If;return If+=1,Qu===null&&(Qu=[]),a=nT(Qu,a,c),c=ct,(hs===null?c.memoizedState:hs.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?$T:qT),a}function fv(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Of(a);if(a.$$typeof===E)return Xs(a)}throw Error(i(438,String(a)))}function nS(a){var c=null,h=ct.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=ct.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=iS(),ct.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),g=0;g<a;g++)h[g]=q;return c.index++,h}function tr(a,c){return typeof c=="function"?c(a):c}function gv(a){var c=fs();return oS(c,Lt,a)}function oS(a,c,h){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var b=a.baseQueue,y=g.pending;if(y!==null){if(b!==null){var T=b.next;b.next=y.next,y.next=T}c.baseQueue=b=y,g.pending=null}if(y=a.baseState,b===null)a.memoizedState=y;else{c=b.next;var I=T=null,V=null,te=c,de=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(Ct&pe)===pe:(ha&pe)===pe){var se=te.revertLane;if(se===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===qu&&(de=!0);else if((ha&se)===se){te=te.next,se===qu&&(de=!0);continue}else pe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},V===null?(I=V=pe,T=y):V=V.next=pe,ct.lanes|=se,ba|=se;pe=te.action,Gl&&h(y,pe),y=te.hasEagerState?te.eagerState:h(y,pe)}else se={lane:pe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},V===null?(I=V=se,T=y):V=V.next=se,ct.lanes|=pe,ba|=pe;te=te.next}while(te!==null&&te!==c);if(V===null?T=y:V.next=I,!_i(y,a.memoizedState)&&(Ds=!0,de&&(h=Ku,h!==null)))throw h;a.memoizedState=y,a.baseState=T,a.baseQueue=V,g.lastRenderedState=y}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function rS(a){var c=fs(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,y=c.memoizedState;if(b!==null){h.pending=null;var T=b=b.next;do y=a(y,T.action),T=T.next;while(T!==b);_i(y,c.memoizedState)||(Ds=!0),c.memoizedState=y,c.baseQueue===null&&(c.baseState=y),h.lastRenderedState=y}return[y,g]}function hT(a,c,h){var g=ct,b=fs(),y=wt;if(y){if(h===void 0)throw Error(i(407));h=h()}else h=c();var T=!_i((Lt||b).memoizedState,h);T&&(b.memoizedState=h,Ds=!0),b=b.queue;var I=pT.bind(null,g,b,a);if(_f(2048,8,I,[a]),b.getSnapshot!==c||T||hs!==null&&hs.memoizedState.tag&1){if(g.flags|=2048,Zu(9,pv(),gT.bind(null,g,b,h,c),null),Vt===null)throw Error(i(349));y||(ha&124)!==0||fT(g,c,h)}return h}function fT(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=ct.updateQueue,c===null?(c=iS(),ct.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function gT(a,c,h,g){c.value=h,c.getSnapshot=g,mT(c)&&vT(a)}function pT(a,c,h){return h(function(){mT(c)&&vT(a)})}function mT(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!_i(a,h)}catch{return!0}}function vT(a){var c=Wu(a,2);c!==null&&zi(c,a,2)}function aS(a){var c=xi();if(typeof a=="function"){var h=a;if(a=h(),Gl){Pe(!0);try{h()}finally{Pe(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},c}function CT(a,c,h,g){return a.baseState=h,oS(a,Lt,typeof g=="function"?g:tr)}function ZG(a,c,h,g,b){if(vv(a))throw Error(i(485));if(a=c.action,a!==null){var y={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};B.T!==null?h(!0):y.isTransition=!1,g(y),h=c.pending,h===null?(y.next=c.pending=y,bT(c,y)):(y.next=h.next,c.pending=h.next=y)}}function bT(a,c){var h=c.action,g=c.payload,b=a.state;if(c.isTransition){var y=B.T,T={};B.T=T;try{var I=h(b,g),V=B.S;V!==null&&V(T,I),wT(a,c,I)}catch(te){lS(a,c,te)}finally{B.T=y}}else try{y=h(b,g),wT(a,c,y)}catch(te){lS(a,c,te)}}function wT(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){yT(a,c,g)},function(g){return lS(a,c,g)}):yT(a,c,h)}function yT(a,c,h){c.status="fulfilled",c.value=h,ST(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,bT(a,h)))}function lS(a,c,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,ST(c),c=c.next;while(c!==g)}a.action=null}function ST(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function RT(a,c){return c}function xT(a,c){if(wt){var h=Vt.formState;if(h!==null){e:{var g=ct;if(wt){if(is){t:{for(var b=is,y=uo;b.nodeType!==8;){if(!y){b=null;break t}if(b=Gn(b.nextSibling),b===null){b=null;break t}}y=b.data,b=y==="F!"||y==="F"?b:null}if(b){is=Gn(b.nextSibling),g=b.data==="F!";break e}}Ol(g)}g=!1}g&&(c=h[0])}}return h=xi(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RT,lastRenderedState:c},h.queue=g,h=WT.bind(null,ct,g),g.dispatch=h,g=aS(!1),y=fS.bind(null,ct,!1,g.queue),g=xi(),b={state:c,dispatch:null,action:a,pending:null},g.queue=b,h=ZG.bind(null,ct,b,y,h),b.dispatch=h,g.memoizedState=a,[c,h,!1]}function AT(a){var c=fs();return ET(c,Lt,a)}function ET(a,c,h){if(c=oS(a,c,RT)[0],a=gv(tr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Of(c)}catch(T){throw T===Ff?lv:T}else g=c;c=fs();var b=c.queue,y=b.dispatch;return h!==c.memoizedState&&(ct.flags|=2048,Zu(9,pv(),JG.bind(null,b,h),null)),[g,y,a]}function JG(a,c){a.action=c}function DT(a){var c=fs(),h=Lt;if(h!==null)return ET(c,h,a);fs(),c=c.memoizedState,h=fs();var g=h.queue.dispatch;return h.memoizedState=a,[c,g,!1]}function Zu(a,c,h,g){return a={tag:a,create:h,deps:g,inst:c,next:null},c=ct.updateQueue,c===null&&(c=iS(),ct.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a),a}function pv(){return{destroy:void 0,resource:void 0}}function TT(){return fs().memoizedState}function mv(a,c,h,g){var b=xi();g=g===void 0?null:g,ct.flags|=a,b.memoizedState=Zu(1|c,pv(),h,g)}function _f(a,c,h,g){var b=fs();g=g===void 0?null:g;var y=b.memoizedState.inst;Lt!==null&&g!==null&&Zy(g,Lt.memoizedState.deps)?b.memoizedState=Zu(c,y,h,g):(ct.flags|=a,b.memoizedState=Zu(1|c,y,h,g))}function FT(a,c){mv(8390656,8,a,c)}function PT(a,c){_f(2048,8,a,c)}function MT(a,c){return _f(4,2,a,c)}function LT(a,c){return _f(4,4,a,c)}function kT(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function IT(a,c,h){h=h!=null?h.concat([a]):null,_f(4,4,kT.bind(null,c,a),h)}function cS(){}function OT(a,c){var h=fs();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Zy(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function _T(a,c){var h=fs();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Zy(c,g[1]))return g[0];if(g=a(),Gl){Pe(!0);try{a()}finally{Pe(!1)}}return h.memoizedState=[g,c],g}function uS(a,c,h){return h===void 0||(ha&1073741824)!==0?a.memoizedState=c:(a.memoizedState=h,a=GF(),ct.lanes|=a,ba|=a,h)}function NT(a,c,h,g){return _i(h,c)?h:Yu.current!==null?(a=uS(a,h,g),_i(a,c)||(Ds=!0),a):(ha&42)===0?(Ds=!0,a.memoizedState=h):(a=GF(),ct.lanes|=a,ba|=a,c)}function HT(a,c,h,g,b){var y=z.p;z.p=y!==0&&8>y?y:8;var T=B.T,I={};B.T=I,fS(a,!1,c,h);try{var V=b(),te=B.S;if(te!==null&&te(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var de=YG(V,g);Nf(a,c,de,Vi(a))}else Nf(a,c,g,Vi(a))}catch(pe){Nf(a,c,{then:function(){},status:"rejected",reason:pe},Vi())}finally{z.p=y,B.T=T}}function eB(){}function dS(a,c,h,g){if(a.tag!==5)throw Error(i(476));var b=GT(a).queue;HT(a,b,c,U,h===null?eB:function(){return BT(a),h(g)})}function GT(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:U},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function BT(a){var c=GT(a).next.queue;Nf(a,c,{},Vi())}function hS(){return Xs(tg)}function VT(){return fs().memoizedState}function zT(){return fs().memoizedState}function tB(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=Vi();a=ua(h);var g=da(c,a,h);g!==null&&(zi(g,c,h),Mf(g,c,h)),c={cache:zy()},a.payload=c;return}c=c.return}}function sB(a,c,h){var g=Vi();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},vv(a)?UT(c,h):(h=Ly(a,c,h,g),h!==null&&(zi(h,a,g),jT(h,c,g)))}function WT(a,c,h){var g=Vi();Nf(a,c,h,g)}function Nf(a,c,h,g){var b={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(vv(a))UT(c,b);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=c.lastRenderedReducer,y!==null))try{var T=c.lastRenderedState,I=y(T,h);if(b.hasEagerState=!0,b.eagerState=I,_i(I,T))return ev(a,c,b,0),Vt===null&&Jm(),!1}catch{}finally{}if(h=Ly(a,c,b,g),h!==null)return zi(h,a,g),jT(h,c,g),!0}return!1}function fS(a,c,h,g){if(g={lane:2,revertLane:jS(),action:g,hasEagerState:!1,eagerState:null,next:null},vv(a)){if(c)throw Error(i(479))}else c=Ly(a,h,g,2),c!==null&&zi(c,a,2)}function vv(a){var c=a.alternate;return a===ct||c!==null&&c===ct}function UT(a,c){Xu=dv=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function jT(a,c,h){if((h&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,JE(a,h)}}var Cv={readContext:Xs,use:fv,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useLayoutEffect:as,useInsertionEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useSyncExternalStore:as,useId:as,useHostTransitionStatus:as,useFormState:as,useActionState:as,useOptimistic:as,useMemoCache:as,useCacheRefresh:as},$T={readContext:Xs,use:fv,useCallback:function(a,c){return xi().memoizedState=[a,c===void 0?null:c],a},useContext:Xs,useEffect:FT,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,mv(4194308,4,kT.bind(null,c,a),h)},useLayoutEffect:function(a,c){return mv(4194308,4,a,c)},useInsertionEffect:function(a,c){mv(4,2,a,c)},useMemo:function(a,c){var h=xi();c=c===void 0?null:c;var g=a();if(Gl){Pe(!0);try{a()}finally{Pe(!1)}}return h.memoizedState=[g,c],g},useReducer:function(a,c,h){var g=xi();if(h!==void 0){var b=h(c);if(Gl){Pe(!0);try{h(c)}finally{Pe(!1)}}}else b=c;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=sB.bind(null,ct,a),[g.memoizedState,a]},useRef:function(a){var c=xi();return a={current:a},c.memoizedState=a},useState:function(a){a=aS(a);var c=a.queue,h=WT.bind(null,ct,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:cS,useDeferredValue:function(a,c){var h=xi();return uS(h,a,c)},useTransition:function(){var a=aS(!1);return a=HT.bind(null,ct,a.queue,!0,!1),xi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var g=ct,b=xi();if(wt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),Vt===null)throw Error(i(349));(Ct&124)!==0||fT(g,c,h)}b.memoizedState=h;var y={value:h,getSnapshot:c};return b.queue=y,FT(pT.bind(null,g,y,a),[a]),g.flags|=2048,Zu(9,pv(),gT.bind(null,g,y,h,c),null),h},useId:function(){var a=xi(),c=Vt.identifierPrefix;if(wt){var h=Zo,g=Qo;h=(g&~(1<<32-Oe(g)-1)).toString(32)+h,c=""+c+"R"+h,h=hv++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=XG++,c=""+c+"r"+h.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:hS,useFormState:xT,useActionState:xT,useOptimistic:function(a){var c=xi();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=fS.bind(null,ct,!0,h),h.dispatch=c,[a,c]},useMemoCache:nS,useCacheRefresh:function(){return xi().memoizedState=tB.bind(null,ct)}},qT={readContext:Xs,use:fv,useCallback:OT,useContext:Xs,useEffect:PT,useImperativeHandle:IT,useInsertionEffect:MT,useLayoutEffect:LT,useMemo:_T,useReducer:gv,useRef:TT,useState:function(){return gv(tr)},useDebugValue:cS,useDeferredValue:function(a,c){var h=fs();return NT(h,Lt.memoizedState,a,c)},useTransition:function(){var a=gv(tr)[0],c=fs().memoizedState;return[typeof a=="boolean"?a:Of(a),c]},useSyncExternalStore:hT,useId:VT,useHostTransitionStatus:hS,useFormState:AT,useActionState:AT,useOptimistic:function(a,c){var h=fs();return CT(h,Lt,a,c)},useMemoCache:nS,useCacheRefresh:zT},iB={readContext:Xs,use:fv,useCallback:OT,useContext:Xs,useEffect:PT,useImperativeHandle:IT,useInsertionEffect:MT,useLayoutEffect:LT,useMemo:_T,useReducer:rS,useRef:TT,useState:function(){return rS(tr)},useDebugValue:cS,useDeferredValue:function(a,c){var h=fs();return Lt===null?uS(h,a,c):NT(h,Lt.memoizedState,a,c)},useTransition:function(){var a=rS(tr)[0],c=fs().memoizedState;return[typeof a=="boolean"?a:Of(a),c]},useSyncExternalStore:hT,useId:VT,useHostTransitionStatus:hS,useFormState:DT,useActionState:DT,useOptimistic:function(a,c){var h=fs();return Lt!==null?CT(h,Lt,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:nS,useCacheRefresh:zT},Ju=null,Hf=0;function bv(a){var c=Hf;return Hf+=1,Ju===null&&(Ju=[]),nT(Ju,a,c)}function Gf(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function wv(a,c){throw c.$$typeof===p?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function KT(a){var c=a._init;return c(a._payload)}function YT(a){function c(Q,j){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[j],Q.flags|=16):ee.push(j)}}function h(Q,j){if(!a)return null;for(;j!==null;)c(Q,j),j=j.sibling;return null}function g(Q){for(var j=new Map;Q!==null;)Q.key!==null?j.set(Q.key,Q):j.set(Q.index,Q),Q=Q.sibling;return j}function b(Q,j){return Q=Xo(Q,j),Q.index=0,Q.sibling=null,Q}function y(Q,j,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<j?(Q.flags|=67108866,j):ee):(Q.flags|=67108866,j)):(Q.flags|=1048576,j)}function T(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,j,ee,fe){return j===null||j.tag!==6?(j=Iy(ee,Q.mode,fe),j.return=Q,j):(j=b(j,ee),j.return=Q,j)}function V(Q,j,ee,fe){var ke=ee.type;return ke===w?de(Q,j,ee.props.children,fe,ee.key):j!==null&&(j.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&KT(ke)===j.type)?(j=b(j,ee.props),Gf(j,ee),j.return=Q,j):(j=sv(ee.type,ee.key,ee.props,null,Q.mode,fe),Gf(j,ee),j.return=Q,j)}function te(Q,j,ee,fe){return j===null||j.tag!==4||j.stateNode.containerInfo!==ee.containerInfo||j.stateNode.implementation!==ee.implementation?(j=Oy(ee,Q.mode,fe),j.return=Q,j):(j=b(j,ee.children||[]),j.return=Q,j)}function de(Q,j,ee,fe,ke){return j===null||j.tag!==7?(j=Ml(ee,Q.mode,fe,ke),j.return=Q,j):(j=b(j,ee),j.return=Q,j)}function pe(Q,j,ee){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Iy(""+j,Q.mode,ee),j.return=Q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case m:return ee=sv(j.type,j.key,j.props,null,Q.mode,ee),Gf(ee,j),ee.return=Q,ee;case C:return j=Oy(j,Q.mode,ee),j.return=Q,j;case G:var fe=j._init;return j=fe(j._payload),pe(Q,j,ee)}if(ne(j)||Z(j))return j=Ml(j,Q.mode,ee,null),j.return=Q,j;if(typeof j.then=="function")return pe(Q,bv(j),ee);if(j.$$typeof===E)return pe(Q,rv(Q,j),ee);wv(Q,j)}return null}function se(Q,j,ee,fe){var ke=j!==null?j.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ke!==null?null:I(Q,j,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case m:return ee.key===ke?V(Q,j,ee,fe):null;case C:return ee.key===ke?te(Q,j,ee,fe):null;case G:return ke=ee._init,ee=ke(ee._payload),se(Q,j,ee,fe)}if(ne(ee)||Z(ee))return ke!==null?null:de(Q,j,ee,fe,null);if(typeof ee.then=="function")return se(Q,j,bv(ee),fe);if(ee.$$typeof===E)return se(Q,j,rv(Q,ee),fe);wv(Q,ee)}return null}function ie(Q,j,ee,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(ee)||null,I(j,Q,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case m:return Q=Q.get(fe.key===null?ee:fe.key)||null,V(j,Q,fe,ke);case C:return Q=Q.get(fe.key===null?ee:fe.key)||null,te(j,Q,fe,ke);case G:var dt=fe._init;return fe=dt(fe._payload),ie(Q,j,ee,fe,ke)}if(ne(fe)||Z(fe))return Q=Q.get(ee)||null,de(j,Q,fe,ke,null);if(typeof fe.then=="function")return ie(Q,j,ee,bv(fe),ke);if(fe.$$typeof===E)return ie(Q,j,ee,rv(j,fe),ke);wv(j,fe)}return null}function Ke(Q,j,ee,fe){for(var ke=null,dt=null,Ge=j,je=j=0,Fs=null;Ge!==null&&je<ee.length;je++){Ge.index>je?(Fs=Ge,Ge=null):Fs=Ge.sibling;var bt=se(Q,Ge,ee[je],fe);if(bt===null){Ge===null&&(Ge=Fs);break}a&&Ge&&bt.alternate===null&&c(Q,Ge),j=y(bt,j,je),dt===null?ke=bt:dt.sibling=bt,dt=bt,Ge=Fs}if(je===ee.length)return h(Q,Ge),wt&&kl(Q,je),ke;if(Ge===null){for(;je<ee.length;je++)Ge=pe(Q,ee[je],fe),Ge!==null&&(j=y(Ge,j,je),dt===null?ke=Ge:dt.sibling=Ge,dt=Ge);return wt&&kl(Q,je),ke}for(Ge=g(Ge);je<ee.length;je++)Fs=ie(Ge,Q,je,ee[je],fe),Fs!==null&&(a&&Fs.alternate!==null&&Ge.delete(Fs.key===null?je:Fs.key),j=y(Fs,j,je),dt===null?ke=Fs:dt.sibling=Fs,dt=Fs);return a&&Ge.forEach(function(Ta){return c(Q,Ta)}),wt&&kl(Q,je),ke}function Ue(Q,j,ee,fe){if(ee==null)throw Error(i(151));for(var ke=null,dt=null,Ge=j,je=j=0,Fs=null,bt=ee.next();Ge!==null&&!bt.done;je++,bt=ee.next()){Ge.index>je?(Fs=Ge,Ge=null):Fs=Ge.sibling;var Ta=se(Q,Ge,bt.value,fe);if(Ta===null){Ge===null&&(Ge=Fs);break}a&&Ge&&Ta.alternate===null&&c(Q,Ge),j=y(Ta,j,je),dt===null?ke=Ta:dt.sibling=Ta,dt=Ta,Ge=Fs}if(bt.done)return h(Q,Ge),wt&&kl(Q,je),ke;if(Ge===null){for(;!bt.done;je++,bt=ee.next())bt=pe(Q,bt.value,fe),bt!==null&&(j=y(bt,j,je),dt===null?ke=bt:dt.sibling=bt,dt=bt);return wt&&kl(Q,je),ke}for(Ge=g(Ge);!bt.done;je++,bt=ee.next())bt=ie(Ge,Q,je,bt.value,fe),bt!==null&&(a&&bt.alternate!==null&&Ge.delete(bt.key===null?je:bt.key),j=y(bt,j,je),dt===null?ke=bt:dt.sibling=bt,dt=bt);return a&&Ge.forEach(function(n2){return c(Q,n2)}),wt&&kl(Q,je),ke}function It(Q,j,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case m:e:{for(var ke=ee.key;j!==null;){if(j.key===ke){if(ke=ee.type,ke===w){if(j.tag===7){h(Q,j.sibling),fe=b(j,ee.props.children),fe.return=Q,Q=fe;break e}}else if(j.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&KT(ke)===j.type){h(Q,j.sibling),fe=b(j,ee.props),Gf(fe,ee),fe.return=Q,Q=fe;break e}h(Q,j);break}else c(Q,j);j=j.sibling}ee.type===w?(fe=Ml(ee.props.children,Q.mode,fe,ee.key),fe.return=Q,Q=fe):(fe=sv(ee.type,ee.key,ee.props,null,Q.mode,fe),Gf(fe,ee),fe.return=Q,Q=fe)}return T(Q);case C:e:{for(ke=ee.key;j!==null;){if(j.key===ke)if(j.tag===4&&j.stateNode.containerInfo===ee.containerInfo&&j.stateNode.implementation===ee.implementation){h(Q,j.sibling),fe=b(j,ee.children||[]),fe.return=Q,Q=fe;break e}else{h(Q,j);break}else c(Q,j);j=j.sibling}fe=Oy(ee,Q.mode,fe),fe.return=Q,Q=fe}return T(Q);case G:return ke=ee._init,ee=ke(ee._payload),It(Q,j,ee,fe)}if(ne(ee))return Ke(Q,j,ee,fe);if(Z(ee)){if(ke=Z(ee),typeof ke!="function")throw Error(i(150));return ee=ke.call(ee),Ue(Q,j,ee,fe)}if(typeof ee.then=="function")return It(Q,j,bv(ee),fe);if(ee.$$typeof===E)return It(Q,j,rv(Q,ee),fe);wv(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,j!==null&&j.tag===6?(h(Q,j.sibling),fe=b(j,ee),fe.return=Q,Q=fe):(h(Q,j),fe=Iy(ee,Q.mode,fe),fe.return=Q,Q=fe),T(Q)):h(Q,j)}return function(Q,j,ee,fe){try{Hf=0;var ke=It(Q,j,ee,fe);return Ju=null,ke}catch(Ge){if(Ge===Ff||Ge===lv)throw Ge;var dt=Ni(29,Ge,null,Q.mode);return dt.lanes=fe,dt.return=Q,dt}finally{}}}var ed=YT(!0),XT=YT(!1),hn=$(null),ho=null;function fa(a){var c=a.alternate;J(bs,bs.current&1),J(hn,a),ho===null&&(c===null||Yu.current!==null||c.memoizedState!==null)&&(ho=a)}function QT(a){if(a.tag===22){if(J(bs,bs.current),J(hn,a),ho===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ho=a)}}else ga()}function ga(){J(bs,bs.current),J(hn,hn.current)}function sr(a){X(hn),ho===a&&(ho=null),X(bs)}var bs=$(0);function yv(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||i0(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function gS(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:f({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var pS={enqueueSetState:function(a,c,h){a=a._reactInternals;var g=Vi(),b=ua(g);b.payload=c,h!=null&&(b.callback=h),c=da(a,b,g),c!==null&&(zi(c,a,g),Mf(c,a,g))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=Vi(),b=ua(g);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=da(a,b,g),c!==null&&(zi(c,a,g),Mf(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Vi(),g=ua(h);g.tag=2,c!=null&&(g.callback=c),c=da(a,g,h),c!==null&&(zi(c,a,h),Mf(c,a,h))}};function ZT(a,c,h,g,b,y,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,y,T):c.prototype&&c.prototype.isPureReactComponent?!yf(h,g)||!yf(b,y):!0}function JT(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&pS.enqueueReplaceState(c,c.state,null)}function Bl(a,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(a=a.defaultProps){h===c&&(h=f({},h));for(var b in a)h[b]===void 0&&(h[b]=a[b])}return h}var Sv=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function eF(a){Sv(a)}function tF(a){console.error(a)}function sF(a){Sv(a)}function Rv(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function iF(a,c,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function mS(a,c,h){return h=ua(h),h.tag=3,h.payload={element:null},h.callback=function(){Rv(a,c)},h}function nF(a){return a=ua(a),a.tag=3,a}function oF(a,c,h,g){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var y=g.value;a.payload=function(){return b(y)},a.callback=function(){iF(c,h,g)}}var T=h.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){iF(c,h,g),typeof b!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var I=g.stack;this.componentDidCatch(g.value,{componentStack:I!==null?I:""})})}function nB(a,c,h,g,b){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Ef(c,h,b,!0),h=hn.current,h!==null){switch(h.tag){case 13:return ho===null?BS():h.alternate===null&&ns===0&&(ns=3),h.flags&=-257,h.flags|=65536,h.lanes=b,g===jy?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),zS(a,g,b)),!1;case 22:return h.flags|=65536,g===jy?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),zS(a,g,b)),!1}throw Error(i(435,h.tag))}return zS(a,g,b),BS(),!1}if(wt)return c=hn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,g!==Hy&&(a=Error(i(422),{cause:g}),Af(ln(a,h)))):(g!==Hy&&(c=Error(i(423),{cause:g}),Af(ln(c,h))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=ln(g,h),b=mS(a.stateNode,g,b),Ky(a,b),ns!==4&&(ns=2)),!1;var y=Error(i(520),{cause:g});if(y=ln(y,h),$f===null?$f=[y]:$f.push(y),ns!==4&&(ns=2),c===null)return!0;g=ln(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=b&-b,h.lanes|=a,a=mS(h.stateNode,g,a),Ky(h,a),!1;case 1:if(c=h.type,y=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))))return h.flags|=65536,b&=-b,h.lanes|=b,b=nF(b),oF(b,a,h,g),Ky(h,b),!1}h=h.return}while(h!==null);return!1}var rF=Error(i(461)),Ds=!1;function Ns(a,c,h,g){c.child=a===null?XT(c,null,h,g):ed(c,a.child,h,g)}function aF(a,c,h,g,b){h=h.render;var y=c.ref;if("ref"in g){var T={};for(var I in g)I!=="ref"&&(T[I]=g[I])}else T=g;return Nl(c),g=Jy(a,c,h,T,y,b),I=eS(),a!==null&&!Ds?(tS(a,c,b),ir(a,c,b)):(wt&&I&&_y(c),c.flags|=1,Ns(a,c,g,b),c.child)}function lF(a,c,h,g,b){if(a===null){var y=h.type;return typeof y=="function"&&!ky(y)&&y.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=y,cF(a,c,y,g,b)):(a=sv(h.type,null,g,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(y=a.child,!xS(a,b)){var T=y.memoizedProps;if(h=h.compare,h=h!==null?h:yf,h(T,g)&&a.ref===c.ref)return ir(a,c,b)}return c.flags|=1,a=Xo(y,g),a.ref=c.ref,a.return=c,c.child=a}function cF(a,c,h,g,b){if(a!==null){var y=a.memoizedProps;if(yf(y,g)&&a.ref===c.ref)if(Ds=!1,c.pendingProps=g=y,xS(a,b))(a.flags&131072)!==0&&(Ds=!0);else return c.lanes=a.lanes,ir(a,c,b)}return vS(a,c,h,g,b)}function uF(a,c,h){var g=c.pendingProps,b=g.children,y=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=y!==null?y.baseLanes|h:h,a!==null){for(b=c.child=a.child,y=0;b!==null;)y=y|b.lanes|b.childLanes,b=b.sibling;c.childLanes=y&~g}else c.childLanes=0,c.child=null;return dF(a,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&av(c,y!==null?y.cachePool:null),y!==null?cT(c,y):Xy(),QT(c);else return c.lanes=c.childLanes=536870912,dF(a,c,y!==null?y.baseLanes|h:h,h)}else y!==null?(av(c,y.cachePool),cT(c,y),ga(),c.memoizedState=null):(a!==null&&av(c,null),Xy(),ga());return Ns(a,c,b,h),c.child}function dF(a,c,h,g){var b=Uy();return b=b===null?null:{parent:Cs._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},a!==null&&av(c,null),Xy(),QT(c),a!==null&&Ef(a,c,g,!0),null}function xv(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function vS(a,c,h,g,b){return Nl(c),h=Jy(a,c,h,g,void 0,b),g=eS(),a!==null&&!Ds?(tS(a,c,b),ir(a,c,b)):(wt&&g&&_y(c),c.flags|=1,Ns(a,c,h,b),c.child)}function hF(a,c,h,g,b,y){return Nl(c),c.updateQueue=null,h=dT(c,g,h,b),uT(a),g=eS(),a!==null&&!Ds?(tS(a,c,y),ir(a,c,y)):(wt&&g&&_y(c),c.flags|=1,Ns(a,c,h,y),c.child)}function fF(a,c,h,g,b){if(Nl(c),c.stateNode===null){var y=Uu,T=h.contextType;typeof T=="object"&&T!==null&&(y=Xs(T)),y=new h(g,y),c.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pS,c.stateNode=y,y._reactInternals=c,y=c.stateNode,y.props=g,y.state=c.memoizedState,y.refs={},$y(c),T=h.contextType,y.context=typeof T=="object"&&T!==null?Xs(T):Uu,y.state=c.memoizedState,T=h.getDerivedStateFromProps,typeof T=="function"&&(gS(c,h,T,g),y.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&pS.enqueueReplaceState(y,y.state,null),kf(c,g,y,b),Lf(),y.state=c.memoizedState),typeof y.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){y=c.stateNode;var I=c.memoizedProps,V=Bl(h,I);y.props=V;var te=y.context,de=h.contextType;T=Uu,typeof de=="object"&&de!==null&&(T=Xs(de));var pe=h.getDerivedStateFromProps;de=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||te!==T)&&JT(c,y,g,T),ca=!1;var se=c.memoizedState;y.state=se,kf(c,g,y,b),Lf(),te=c.memoizedState,I||se!==te||ca?(typeof pe=="function"&&(gS(c,h,pe,g),te=c.memoizedState),(V=ca||ZT(c,h,V,g,se,te,T))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(c.flags|=4194308)):(typeof y.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=te),y.props=g,y.state=te,y.context=T,g=V):(typeof y.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{y=c.stateNode,qy(a,c),T=c.memoizedProps,de=Bl(h,T),y.props=de,pe=c.pendingProps,se=y.context,te=h.contextType,V=Uu,typeof te=="object"&&te!==null&&(V=Xs(te)),I=h.getDerivedStateFromProps,(te=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==pe||se!==V)&&JT(c,y,g,V),ca=!1,se=c.memoizedState,y.state=se,kf(c,g,y,b),Lf();var ie=c.memoizedState;T!==pe||se!==ie||ca||a!==null&&a.dependencies!==null&&ov(a.dependencies)?(typeof I=="function"&&(gS(c,h,I,g),ie=c.memoizedState),(de=ca||ZT(c,h,de,g,se,ie,V)||a!==null&&a.dependencies!==null&&ov(a.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(g,ie,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(g,ie,V)),typeof y.componentDidUpdate=="function"&&(c.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(c.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ie),y.props=g,y.state=ie,y.context=V,g=de):(typeof y.componentDidUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(c.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(c.flags|=1024),g=!1)}return y=g,xv(a,c),g=(c.flags&128)!==0,y||g?(y=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:y.render(),c.flags|=1,a!==null&&g?(c.child=ed(c,a.child,null,b),c.child=ed(c,null,h,b)):Ns(a,c,h,b),c.memoizedState=y.state,a=c.child):a=ir(a,c,b),a}function gF(a,c,h,g){return xf(),c.flags|=256,Ns(a,c,h,g),c.child}var CS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bS(a){return{baseLanes:a,cachePool:tT()}}function wS(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=fn),a}function pF(a,c,h){var g=c.pendingProps,b=!1,y=(c.flags&128)!==0,T;if((T=y)||(T=a!==null&&a.memoizedState===null?!1:(bs.current&2)!==0),T&&(b=!0,c.flags&=-129),T=(c.flags&32)!==0,c.flags&=-33,a===null){if(wt){if(b?fa(c):ga(),wt){var I=is,V;if(V=I){e:{for(V=I,I=uo;V.nodeType!==8;){if(!I){I=null;break e}if(V=Gn(V.nextSibling),V===null){I=null;break e}}I=V}I!==null?(c.memoizedState={dehydrated:I,treeContext:Ll!==null?{id:Qo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},V=Ni(18,null,null,0),V.stateNode=I,V.return=c,c.child=V,ui=c,is=null,V=!0):V=!1}V||Ol(c)}if(I=c.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return i0(I)?c.lanes=32:c.lanes=536870912,null;sr(c)}return I=g.children,g=g.fallback,b?(ga(),b=c.mode,I=Av({mode:"hidden",children:I},b),g=Ml(g,b,h,null),I.return=c,g.return=c,I.sibling=g,c.child=I,b=c.child,b.memoizedState=bS(h),b.childLanes=wS(a,T,h),c.memoizedState=CS,g):(fa(c),yS(c,I))}if(V=a.memoizedState,V!==null&&(I=V.dehydrated,I!==null)){if(y)c.flags&256?(fa(c),c.flags&=-257,c=SS(a,c,h)):c.memoizedState!==null?(ga(),c.child=a.child,c.flags|=128,c=null):(ga(),b=g.fallback,I=c.mode,g=Av({mode:"visible",children:g.children},I),b=Ml(b,I,h,null),b.flags|=2,g.return=c,b.return=c,g.sibling=b,c.child=g,ed(c,a.child,null,h),g=c.child,g.memoizedState=bS(h),g.childLanes=wS(a,T,h),c.memoizedState=CS,c=b);else if(fa(c),i0(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var te=T.dgst;T=te,g=Error(i(419)),g.stack="",g.digest=T,Af({value:g,source:null,stack:null}),c=SS(a,c,h)}else if(Ds||Ef(a,c,h,!1),T=(h&a.childLanes)!==0,Ds||T){if(T=Vt,T!==null&&(g=h&-h,g=(g&42)!==0?1:ny(g),g=(g&(T.suspendedLanes|h))!==0?0:g,g!==0&&g!==V.retryLane))throw V.retryLane=g,Wu(a,g),zi(T,a,g),rF;I.data==="$?"||BS(),c=SS(a,c,h)}else I.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=V.treeContext,is=Gn(I.nextSibling),ui=c,wt=!0,Il=null,uo=!1,a!==null&&(un[dn++]=Qo,un[dn++]=Zo,un[dn++]=Ll,Qo=a.id,Zo=a.overflow,Ll=c),c=yS(c,g.children),c.flags|=4096);return c}return b?(ga(),b=g.fallback,I=c.mode,V=a.child,te=V.sibling,g=Xo(V,{mode:"hidden",children:g.children}),g.subtreeFlags=V.subtreeFlags&65011712,te!==null?b=Xo(te,b):(b=Ml(b,I,h,null),b.flags|=2),b.return=c,g.return=c,g.sibling=b,c.child=g,g=b,b=c.child,I=a.child.memoizedState,I===null?I=bS(h):(V=I.cachePool,V!==null?(te=Cs._currentValue,V=V.parent!==te?{parent:te,pool:te}:V):V=tT(),I={baseLanes:I.baseLanes|h,cachePool:V}),b.memoizedState=I,b.childLanes=wS(a,T,h),c.memoizedState=CS,g):(fa(c),h=a.child,a=h.sibling,h=Xo(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,a!==null&&(T=c.deletions,T===null?(c.deletions=[a],c.flags|=16):T.push(a)),c.child=h,c.memoizedState=null,h)}function yS(a,c){return c=Av({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Av(a,c){return a=Ni(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function SS(a,c,h){return ed(c,a.child,null,h),a=yS(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function mF(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),By(a.return,c,h)}function RS(a,c,h,g,b){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(y.isBackwards=c,y.rendering=null,y.renderingStartTime=0,y.last=g,y.tail=h,y.tailMode=b)}function vF(a,c,h){var g=c.pendingProps,b=g.revealOrder,y=g.tail;if(Ns(a,c,g.children,h),g=bs.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&mF(a,h,c);else if(a.tag===19)mF(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(J(bs,g),b){case"forwards":for(h=c.child,b=null;h!==null;)a=h.alternate,a!==null&&yv(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),RS(c,!1,b,h,y);break;case"backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&yv(a)===null){c.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}RS(c,!0,h,null,y);break;case"together":RS(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ir(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),ba|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(Ef(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,h=Xo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Xo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function xS(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&ov(a)))}function oB(a,c,h){switch(c.tag){case 3:Ie(c,c.stateNode.containerInfo),la(c,Cs,a.memoizedState.cache),xf();break;case 27:case 5:De(c);break;case 4:Ie(c,c.stateNode.containerInfo);break;case 10:la(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(fa(c),c.flags|=128,null):(h&c.child.childLanes)!==0?pF(a,c,h):(fa(c),a=ir(a,c,h),a!==null?a.sibling:null);fa(c);break;case 19:var b=(a.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Ef(a,c,h,!1),g=(h&c.childLanes)!==0),b){if(g)return vF(a,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),J(bs,bs.current),g)break;return null;case 22:case 23:return c.lanes=0,uF(a,c,h);case 24:la(c,Cs,a.memoizedState.cache)}return ir(a,c,h)}function CF(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)Ds=!0;else{if(!xS(a,h)&&(c.flags&128)===0)return Ds=!1,oB(a,c,h);Ds=(a.flags&131072)!==0}else Ds=!1,wt&&(c.flags&1048576)!==0&&KD(c,nv,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var g=c.elementType,b=g._init;if(g=b(g._payload),c.type=g,typeof g=="function")ky(g)?(a=Bl(g,a),c.tag=1,c=fF(null,c,g,a,h)):(c.tag=0,c=vS(null,c,g,a,h));else{if(g!=null){if(b=g.$$typeof,b===F){c.tag=11,c=aF(null,c,g,a,h);break e}else if(b===H){c.tag=14,c=lF(null,c,g,a,h);break e}}throw c=re(g)||g,Error(i(306,c,""))}}return c;case 0:return vS(a,c,c.type,c.pendingProps,h);case 1:return g=c.type,b=Bl(g,c.pendingProps),fF(a,c,g,b,h);case 3:e:{if(Ie(c,c.stateNode.containerInfo),a===null)throw Error(i(387));g=c.pendingProps;var y=c.memoizedState;b=y.element,qy(a,c),kf(c,g,null,h);var T=c.memoizedState;if(g=T.cache,la(c,Cs,g),g!==y.cache&&Vy(c,[Cs],h,!0),Lf(),g=T.element,y.isDehydrated)if(y={element:g,isDehydrated:!1,cache:T.cache},c.updateQueue.baseState=y,c.memoizedState=y,c.flags&256){c=gF(a,c,g,h);break e}else if(g!==b){b=ln(Error(i(424)),c),Af(b),c=gF(a,c,g,h);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(is=Gn(a.firstChild),ui=c,wt=!0,Il=null,uo=!0,h=XT(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(xf(),g===b){c=ir(a,c,h);break e}Ns(a,c,g,h)}c=c.child}return c;case 26:return xv(a,c),a===null?(h=SP(c.type,null,c.pendingProps,null))?c.memoizedState=h:wt||(h=c.type,a=c.pendingProps,g=Gv(me.current).createElement(h),g[Ys]=c,g[Si]=a,Gs(g,h,a),Es(g),c.stateNode=g):c.memoizedState=SP(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return De(c),a===null&&wt&&(g=c.stateNode=bP(c.type,c.pendingProps,me.current),ui=c,uo=!0,b=is,Ra(c.type)?(n0=b,is=Gn(g.firstChild)):is=b),Ns(a,c,c.pendingProps.children,h),xv(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&wt&&((b=g=is)&&(g=kB(g,c.type,c.pendingProps,uo),g!==null?(c.stateNode=g,ui=c,is=Gn(g.firstChild),uo=!1,b=!0):b=!1),b||Ol(c)),De(c),b=c.type,y=c.pendingProps,T=a!==null?a.memoizedProps:null,g=y.children,e0(b,y)?g=null:T!==null&&e0(b,T)&&(c.flags|=32),c.memoizedState!==null&&(b=Jy(a,c,QG,null,null,h),tg._currentValue=b),xv(a,c),Ns(a,c,g,h),c.child;case 6:return a===null&&wt&&((a=h=is)&&(h=IB(h,c.pendingProps,uo),h!==null?(c.stateNode=h,ui=c,is=null,a=!0):a=!1),a||Ol(c)),null;case 13:return pF(a,c,h);case 4:return Ie(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=ed(c,null,g,h):Ns(a,c,g,h),c.child;case 11:return aF(a,c,c.type,c.pendingProps,h);case 7:return Ns(a,c,c.pendingProps,h),c.child;case 8:return Ns(a,c,c.pendingProps.children,h),c.child;case 12:return Ns(a,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,la(c,c.type,g.value),Ns(a,c,g.children,h),c.child;case 9:return b=c.type._context,g=c.pendingProps.children,Nl(c),b=Xs(b),g=g(b),c.flags|=1,Ns(a,c,g,h),c.child;case 14:return lF(a,c,c.type,c.pendingProps,h);case 15:return cF(a,c,c.type,c.pendingProps,h);case 19:return vF(a,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},a===null?(h=Av(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Xo(a.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return uF(a,c,h);case 24:return Nl(c),g=Xs(Cs),a===null?(b=Uy(),b===null&&(b=Vt,y=zy(),b.pooledCache=y,y.refCount++,y!==null&&(b.pooledCacheLanes|=h),b=y),c.memoizedState={parent:g,cache:b},$y(c),la(c,Cs,b)):((a.lanes&h)!==0&&(qy(a,c),kf(c,null,null,h),Lf()),b=a.memoizedState,y=c.memoizedState,b.parent!==g?(b={parent:g,cache:g},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),la(c,Cs,g)):(g=y.cache,la(c,Cs,g),g!==b.cache&&Vy(c,[Cs],h,!0))),Ns(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function nr(a){a.flags|=4}function bF(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DP(c)){if(c=hn.current,c!==null&&((Ct&4194048)===Ct?ho!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||c!==ho))throw Pf=jy,sT;a.flags|=8192}}function Ev(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?QE():536870912,a.lanes|=c,nd|=c)}function Bf(a,c){if(!wt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Xt(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function rB(a,c,h){var g=c.pendingProps;switch(Ny(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return h=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),er(Cs),it(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Rf(c)?nr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,QD())),Xt(c),null;case 26:return h=c.memoizedState,a===null?(nr(c),h!==null?(Xt(c),bF(c,h)):(Xt(c),c.flags&=-16777217)):h?h!==a.memoizedState?(nr(c),Xt(c),bF(c,h)):(Xt(c),c.flags&=-16777217):(a.memoizedProps!==g&&nr(c),Xt(c),c.flags&=-16777217),null;case 27:Nt(c),h=me.current;var b=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==g&&nr(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return Xt(c),null}a=le.current,Rf(c)?YD(c):(a=bP(b,g,h),c.stateNode=a,nr(c))}return Xt(c),null;case 5:if(Nt(c),h=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&nr(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return Xt(c),null}if(a=le.current,Rf(c))YD(c);else{switch(b=Gv(me.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?b.createElement(h,{is:g.is}):b.createElement(h)}}a[Ys]=c,a[Si]=g;e:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break e;for(;b.sibling===null;){if(b.return===null||b.return===c)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=a;e:switch(Gs(a,h,g),h){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&nr(c)}}return Xt(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&nr(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(i(166));if(a=me.current,Rf(c)){if(a=c.stateNode,h=c.memoizedProps,g=null,b=ui,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[Ys]=c,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||hP(a.nodeValue,h)),a||Ol(c)}else a=Gv(a).createTextNode(g),a[Ys]=c,c.stateNode=a}return Xt(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Rf(c),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(i(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Ys]=c}else xf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),b=!1}else b=QD(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(sr(c),c):(sr(c),null)}if(sr(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,a=a!==null&&a.memoizedState!==null,h){g=c.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var y=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(y=g.memoizedState.cachePool.pool),y!==b&&(g.flags|=2048)}return h!==a&&h&&(c.child.flags|=8192),Ev(c,c.updateQueue),Xt(c),null;case 4:return it(),a===null&&YS(c.stateNode.containerInfo),Xt(c),null;case 10:return er(c.type),Xt(c),null;case 19:if(X(bs),b=c.memoizedState,b===null)return Xt(c),null;if(g=(c.flags&128)!==0,y=b.rendering,y===null)if(g)Bf(b,!1);else{if(ns!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(y=yv(a),y!==null){for(c.flags|=128,Bf(b,!1),a=y.updateQueue,c.updateQueue=a,Ev(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)qD(h,a),h=h.sibling;return J(bs,bs.current&1|2),c.child}a=a.sibling}b.tail!==null&&he()>Fv&&(c.flags|=128,g=!0,Bf(b,!1),c.lanes=4194304)}else{if(!g)if(a=yv(y),a!==null){if(c.flags|=128,g=!0,a=a.updateQueue,c.updateQueue=a,Ev(c,a),Bf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!y.alternate&&!wt)return Xt(c),null}else 2*he()-b.renderingStartTime>Fv&&h!==536870912&&(c.flags|=128,g=!0,Bf(b,!1),c.lanes=4194304);b.isBackwards?(y.sibling=c.child,c.child=y):(a=b.last,a!==null?a.sibling=y:c.child=y,b.last=y)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=he(),c.sibling=null,a=bs.current,J(bs,g?a&1|2:a&1),c):(Xt(c),null);case 22:case 23:return sr(c),Qy(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),h=c.updateQueue,h!==null&&Ev(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),a!==null&&X(Hl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),er(Cs),Xt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function aB(a,c){switch(Ny(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return er(Cs),it(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Nt(c),null;case 13:if(sr(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));xf()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return X(bs),null;case 4:return it(),null;case 10:return er(c.type),null;case 22:case 23:return sr(c),Qy(),a!==null&&X(Hl),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return er(Cs),null;case 25:return null;default:return null}}function wF(a,c){switch(Ny(c),c.tag){case 3:er(Cs),it();break;case 26:case 27:case 5:Nt(c);break;case 4:it();break;case 13:sr(c);break;case 19:X(bs);break;case 10:er(c.type);break;case 22:case 23:sr(c),Qy(),a!==null&&X(Hl);break;case 24:er(Cs)}}function Vf(a,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&a)===a){g=void 0;var y=h.create,T=h.inst;g=y(),T.destroy=g}h=h.next}while(h!==b)}}catch(I){Ht(c,c.return,I)}}function pa(a,c,h){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var y=b.next;g=y;do{if((g.tag&a)===a){var T=g.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,b=c;var V=h,te=I;try{te()}catch(de){Ht(b,V,de)}}}g=g.next}while(g!==y)}}catch(de){Ht(c,c.return,de)}}function yF(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{lT(c,h)}catch(g){Ht(a,a.return,g)}}}function SF(a,c,h){h.props=Bl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){Ht(a,c,g)}}function zf(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(b){Ht(a,c,b)}}function fo(a,c){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(b){Ht(a,c,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Ht(a,c,b)}else h.current=null}function RF(a){var c=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(b){Ht(a,a.return,b)}}function AS(a,c,h){try{var g=a.stateNode;TB(g,a.type,h,c),g[Si]=c}catch(b){Ht(a,a.return,b)}}function xF(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ra(a.type)||a.tag===4}function ES(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xF(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ra(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function DS(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Hv));else if(g!==4&&(g===27&&Ra(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(DS(a,c,h),a=a.sibling;a!==null;)DS(a,c,h),a=a.sibling}function Dv(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(g===27&&Ra(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Dv(a,c,h),a=a.sibling;a!==null;)Dv(a,c,h),a=a.sibling}function AF(a){var c=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Gs(c,g,h),c[Ys]=a,c[Si]=h}catch(y){Ht(a,a.return,y)}}var or=!1,ls=!1,TS=!1,EF=typeof WeakSet=="function"?WeakSet:Set,Ts=null;function lB(a,c){if(a=a.containerInfo,ZS=jv,a=ND(a),Ey(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,y=g.focusNode;g=g.focusOffset;try{h.nodeType,y.nodeType}catch{h=null;break e}var T=0,I=-1,V=-1,te=0,de=0,pe=a,se=null;t:for(;;){for(var ie;pe!==h||b!==0&&pe.nodeType!==3||(I=T+b),pe!==y||g!==0&&pe.nodeType!==3||(V=T+g),pe.nodeType===3&&(T+=pe.nodeValue.length),(ie=pe.firstChild)!==null;)se=pe,pe=ie;for(;;){if(pe===a)break t;if(se===h&&++te===b&&(I=T),se===y&&++de===g&&(V=T),(ie=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=ie}h=I===-1||V===-1?null:{start:I,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(JS={focusedElem:a,selectionRange:h},jv=!1,Ts=c;Ts!==null;)if(c=Ts,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Ts=a;else for(;Ts!==null;){switch(c=Ts,y=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,h=c,b=y.memoizedProps,y=y.memoizedState,g=h.stateNode;try{var Ke=Bl(h.type,b,h.elementType===h.type);a=g.getSnapshotBeforeUpdate(Ke,y),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ue){Ht(h,h.return,Ue)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)s0(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":s0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Ts=a;break}Ts=c.return}}function DF(a,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:ma(a,h),g&4&&Vf(5,h);break;case 1:if(ma(a,h),g&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(T){Ht(h,h.return,T)}else{var b=Bl(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(b,c,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Ht(h,h.return,T)}}g&64&&yF(h),g&512&&zf(h,h.return);break;case 3:if(ma(a,h),g&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{lT(a,c)}catch(T){Ht(h,h.return,T)}}break;case 27:c===null&&g&4&&AF(h);case 26:case 5:ma(a,h),c===null&&g&4&&RF(h),g&512&&zf(h,h.return);break;case 12:ma(a,h);break;case 13:ma(a,h),g&4&&PF(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=vB.bind(null,h),OB(a,h))));break;case 22:if(g=h.memoizedState!==null||or,!g){c=c!==null&&c.memoizedState!==null||ls,b=or;var y=ls;or=g,(ls=c)&&!y?va(a,h,(h.subtreeFlags&8772)!==0):ma(a,h),or=b,ls=y}break;case 30:break;default:ma(a,h)}}function TF(a){var c=a.alternate;c!==null&&(a.alternate=null,TF(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&ay(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qt=null,Ai=!1;function rr(a,c,h){for(h=h.child;h!==null;)FF(a,c,h),h=h.sibling}function FF(a,c,h){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(qe,h)}catch{}switch(h.tag){case 26:ls||fo(h,c),rr(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ls||fo(h,c);var g=qt,b=Ai;Ra(h.type)&&(qt=h.stateNode,Ai=!1),rr(a,c,h),Qf(h.stateNode),qt=g,Ai=b;break;case 5:ls||fo(h,c);case 6:if(g=qt,b=Ai,qt=null,rr(a,c,h),qt=g,Ai=b,qt!==null)if(Ai)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(h.stateNode)}catch(y){Ht(h,c,y)}else try{qt.removeChild(h.stateNode)}catch(y){Ht(h,c,y)}break;case 18:qt!==null&&(Ai?(a=qt,vP(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),og(a)):vP(qt,h.stateNode));break;case 4:g=qt,b=Ai,qt=h.stateNode.containerInfo,Ai=!0,rr(a,c,h),qt=g,Ai=b;break;case 0:case 11:case 14:case 15:ls||pa(2,h,c),ls||pa(4,h,c),rr(a,c,h);break;case 1:ls||(fo(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&SF(h,c,g)),rr(a,c,h);break;case 21:rr(a,c,h);break;case 22:ls=(g=ls)||h.memoizedState!==null,rr(a,c,h),ls=g;break;default:rr(a,c,h)}}function PF(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{og(a)}catch(h){Ht(c,c.return,h)}}function cB(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new EF),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new EF),c;default:throw Error(i(435,a.tag))}}function FS(a,c){var h=cB(a);c.forEach(function(g){var b=CB.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}function Hi(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g],y=a,T=c,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Ra(I.type)){qt=I.stateNode,Ai=!1;break e}break;case 5:qt=I.stateNode,Ai=!1;break e;case 3:case 4:qt=I.stateNode.containerInfo,Ai=!0;break e}I=I.return}if(qt===null)throw Error(i(160));FF(y,T,b),qt=null,Ai=!1,y=b.alternate,y!==null&&(y.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)MF(c,a),c=c.sibling}var Hn=null;function MF(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hi(c,a),Gi(a),g&4&&(pa(3,a,a.return),Vf(3,a),pa(5,a,a.return));break;case 1:Hi(c,a),Gi(a),g&512&&(ls||h===null||fo(h,h.return)),g&64&&or&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var b=Hn;if(Hi(c,a),Gi(a),g&512&&(ls||h===null||fo(h,h.return)),g&4){var y=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":y=b.getElementsByTagName("title")[0],(!y||y[hf]||y[Ys]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=b.createElement(g),b.head.insertBefore(y,b.querySelector("head > title"))),Gs(y,g,h),y[Ys]=a,Es(y),g=y;break e;case"link":var T=AP("link","href",b).get(g+(h.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&y.getAttribute("rel")===(h.rel==null?null:h.rel)&&y.getAttribute("title")===(h.title==null?null:h.title)&&y.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){T.splice(I,1);break t}}y=b.createElement(g),Gs(y,g,h),b.head.appendChild(y);break;case"meta":if(T=AP("meta","content",b).get(g+(h.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(h.content==null?null:""+h.content)&&y.getAttribute("name")===(h.name==null?null:h.name)&&y.getAttribute("property")===(h.property==null?null:h.property)&&y.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&y.getAttribute("charset")===(h.charSet==null?null:h.charSet)){T.splice(I,1);break t}}y=b.createElement(g),Gs(y,g,h),b.head.appendChild(y);break;default:throw Error(i(468,g))}y[Ys]=a,Es(y),g=y}a.stateNode=g}else EP(b,a.type,a.stateNode);else a.stateNode=xP(b,g,a.memoizedProps);else y!==g?(y===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):y.count--,g===null?EP(b,a.type,a.stateNode):xP(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&AS(a,a.memoizedProps,h.memoizedProps)}break;case 27:Hi(c,a),Gi(a),g&512&&(ls||h===null||fo(h,h.return)),h!==null&&g&4&&AS(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Hi(c,a),Gi(a),g&512&&(ls||h===null||fo(h,h.return)),a.flags&32){b=a.stateNode;try{_u(b,"")}catch(ie){Ht(a,a.return,ie)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,AS(a,b,h!==null?h.memoizedProps:b)),g&1024&&(TS=!0);break;case 6:if(Hi(c,a),Gi(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(ie){Ht(a,a.return,ie)}}break;case 3:if(zv=null,b=Hn,Hn=Bv(c.containerInfo),Hi(c,a),Hn=b,Gi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{og(c.containerInfo)}catch(ie){Ht(a,a.return,ie)}TS&&(TS=!1,LF(a));break;case 4:g=Hn,Hn=Bv(a.stateNode.containerInfo),Hi(c,a),Gi(a),Hn=g;break;case 12:Hi(c,a),Gi(a);break;case 13:Hi(c,a),Gi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(OS=he()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,FS(a,g)));break;case 22:b=a.memoizedState!==null;var V=h!==null&&h.memoizedState!==null,te=or,de=ls;if(or=te||b,ls=de||V,Hi(c,a),ls=de,or=te,Gi(a),g&8192)e:for(c=a.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(h===null||V||or||ls||Vl(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){V=h=c;try{if(y=V.stateNode,b)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=V.stateNode;var pe=V.memoizedProps.style,se=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ie){Ht(V,V.return,ie)}}}else if(c.tag===6){if(h===null){V=c;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(ie){Ht(V,V.return,ie)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,FS(a,h))));break;case 19:Hi(c,a),Gi(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,FS(a,g)));break;case 30:break;case 21:break;default:Hi(c,a),Gi(a)}}function Gi(a){var c=a.flags;if(c&2){try{for(var h,g=a.return;g!==null;){if(xF(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var b=h.stateNode,y=ES(a);Dv(a,y,b);break;case 5:var T=h.stateNode;h.flags&32&&(_u(T,""),h.flags&=-33);var I=ES(a);Dv(a,I,T);break;case 3:case 4:var V=h.stateNode.containerInfo,te=ES(a);DS(a,te,V);break;default:throw Error(i(161))}}catch(de){Ht(a,a.return,de)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function LF(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;LF(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function ma(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)DF(a,c.alternate,c),c=c.sibling}function Vl(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:pa(4,c,c.return),Vl(c);break;case 1:fo(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&SF(c,c.return,h),Vl(c);break;case 27:Qf(c.stateNode);case 26:case 5:fo(c,c.return),Vl(c);break;case 22:c.memoizedState===null&&Vl(c);break;case 30:Vl(c);break;default:Vl(c)}a=a.sibling}}function va(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,b=a,y=c,T=y.flags;switch(y.tag){case 0:case 11:case 15:va(b,y,h),Vf(4,y);break;case 1:if(va(b,y,h),g=y,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(te){Ht(g,g.return,te)}if(g=y,b=g.updateQueue,b!==null){var I=g.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)aT(V[b],I)}catch(te){Ht(g,g.return,te)}}h&&T&64&&yF(y),zf(y,y.return);break;case 27:AF(y);case 26:case 5:va(b,y,h),h&&g===null&&T&4&&RF(y),zf(y,y.return);break;case 12:va(b,y,h);break;case 13:va(b,y,h),h&&T&4&&PF(b,y);break;case 22:y.memoizedState===null&&va(b,y,h),zf(y,y.return);break;case 30:break;default:va(b,y,h)}c=c.sibling}}function PS(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Df(h))}function MS(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Df(a))}function go(a,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)kF(a,c,h,g),c=c.sibling}function kF(a,c,h,g){var b=c.flags;switch(c.tag){case 0:case 11:case 15:go(a,c,h,g),b&2048&&Vf(9,c);break;case 1:go(a,c,h,g);break;case 3:go(a,c,h,g),b&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Df(a)));break;case 12:if(b&2048){go(a,c,h,g),a=c.stateNode;try{var y=c.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(V){Ht(c,c.return,V)}}else go(a,c,h,g);break;case 13:go(a,c,h,g);break;case 23:break;case 22:y=c.stateNode,T=c.alternate,c.memoizedState!==null?y._visibility&2?go(a,c,h,g):Wf(a,c):y._visibility&2?go(a,c,h,g):(y._visibility|=2,td(a,c,h,g,(c.subtreeFlags&10256)!==0)),b&2048&&PS(T,c);break;case 24:go(a,c,h,g),b&2048&&MS(c.alternate,c);break;default:go(a,c,h,g)}}function td(a,c,h,g,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var y=a,T=c,I=h,V=g,te=T.flags;switch(T.tag){case 0:case 11:case 15:td(y,T,I,V,b),Vf(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&2?td(y,T,I,V,b):Wf(y,T):(de._visibility|=2,td(y,T,I,V,b)),b&&te&2048&&PS(T.alternate,T);break;case 24:td(y,T,I,V,b),b&&te&2048&&MS(T.alternate,T);break;default:td(y,T,I,V,b)}c=c.sibling}}function Wf(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,g=c,b=g.flags;switch(g.tag){case 22:Wf(h,g),b&2048&&PS(g.alternate,g);break;case 24:Wf(h,g),b&2048&&MS(g.alternate,g);break;default:Wf(h,g)}c=c.sibling}}var Uf=8192;function sd(a){if(a.subtreeFlags&Uf)for(a=a.child;a!==null;)IF(a),a=a.sibling}function IF(a){switch(a.tag){case 26:sd(a),a.flags&Uf&&a.memoizedState!==null&&KB(Hn,a.memoizedState,a.memoizedProps);break;case 5:sd(a);break;case 3:case 4:var c=Hn;Hn=Bv(a.stateNode.containerInfo),sd(a),Hn=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Uf,Uf=16777216,sd(a),Uf=c):sd(a));break;default:sd(a)}}function OF(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function jf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ts=g,NF(g,a)}OF(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_F(a),a=a.sibling}function _F(a){switch(a.tag){case 0:case 11:case 15:jf(a),a.flags&2048&&pa(9,a,a.return);break;case 3:jf(a);break;case 12:jf(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Tv(a)):jf(a);break;default:jf(a)}}function Tv(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ts=g,NF(g,a)}OF(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:pa(8,c,c.return),Tv(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Tv(c));break;default:Tv(c)}a=a.sibling}}function NF(a,c){for(;Ts!==null;){var h=Ts;switch(h.tag){case 0:case 11:case 15:pa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Df(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ts=g;else e:for(h=a;Ts!==null;){g=Ts;var b=g.sibling,y=g.return;if(TF(g),g===h){Ts=null;break e}if(b!==null){b.return=y,Ts=b;break e}Ts=y}}}var uB={getCacheForType:function(a){var c=Xs(Cs),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h}},dB=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Vt=null,gt=null,Ct=0,Tt=0,Bi=null,Ca=!1,id=!1,LS=!1,ar=0,ns=0,ba=0,zl=0,kS=0,fn=0,nd=0,$f=null,Ei=null,IS=!1,OS=0,Fv=1/0,Pv=null,wa=null,Hs=0,ya=null,od=null,rd=0,_S=0,NS=null,HF=null,qf=0,HS=null;function Vi(){if((Dt&2)!==0&&Ct!==0)return Ct&-Ct;if(B.T!==null){var a=qu;return a!==0?a:jS()}return eD()}function GF(){fn===0&&(fn=(Ct&536870912)===0||wt?XE():536870912);var a=hn.current;return a!==null&&(a.flags|=32),fn}function zi(a,c,h){(a===Vt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(ad(a,0),Sa(a,Ct,fn,!1)),df(a,h),((Dt&2)===0||a!==Vt)&&(a===Vt&&((Dt&2)===0&&(zl|=h),ns===4&&Sa(a,Ct,fn,!1)),po(a))}function BF(a,c,h){if((Dt&6)!==0)throw Error(i(327));var g=!h&&(c&124)===0&&(c&a.expiredLanes)===0||uf(a,c),b=g?gB(a,c):VS(a,c,!0),y=g;do{if(b===0){id&&!g&&Sa(a,c,0,!1);break}else{if(h=a.current.alternate,y&&!hB(h)){b=VS(a,c,!1),y=!1;continue}if(b===2){if(y=c,a.errorRecoveryDisabledLanes&y)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){c=T;e:{var I=a;b=$f;var V=I.current.memoizedState.isDehydrated;if(V&&(ad(I,T).flags|=256),T=VS(I,T,!1),T!==2){if(LS&&!V){I.errorRecoveryDisabledLanes|=y,zl|=y,b=4;break e}y=Ei,Ei=b,y!==null&&(Ei===null?Ei=y:Ei.push.apply(Ei,y))}b=T}if(y=!1,b!==2)continue}}if(b===1){ad(a,0),Sa(a,c,0,!0);break}e:{switch(g=a,y=b,y){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Sa(g,c,fn,!Ca);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(b=OS+300-he(),10<b)){if(Sa(g,c,fn,!Ca),oa(g,0,!0)!==0)break e;g.timeoutHandle=pP(VF.bind(null,g,h,Ei,Pv,IS,c,fn,zl,nd,Ca,y,2,-0,0),b);break e}VF(g,h,Ei,Pv,IS,c,fn,zl,nd,Ca,y,0,-0,0)}}break}while(!0);po(a)}function VF(a,c,h,g,b,y,T,I,V,te,de,pe,se,ie){if(a.timeoutHandle=-1,pe=c.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(eg={stylesheets:null,count:0,unsuspend:qB},IF(c),pe=YB(),pe!==null)){a.cancelPendingCommit=pe(KF.bind(null,a,c,y,h,g,b,T,I,V,de,1,se,ie)),Sa(a,y,T,!te);return}KF(a,c,y,h,g,b,T,I,V)}function hB(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var b=h[g],y=b.getSnapshot;b=b.value;try{if(!_i(y(),b))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Sa(a,c,h,g){c&=~kS,c&=~zl,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var b=c;0<b;){var y=31-Oe(b),T=1<<y;g[y]=-1,b&=~T}h!==0&&ZE(a,h,c)}function Mv(){return(Dt&6)===0?(Kf(0),!1):!0}function GS(){if(gt!==null){if(Tt===0)var a=gt.return;else a=gt,Jo=_l=null,sS(a),Ju=null,Hf=0,a=gt;for(;a!==null;)wF(a.alternate,a),a=a.return;gt=null}}function ad(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,PB(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),GS(),Vt=a,gt=h=Xo(a.current,null),Ct=c,Tt=0,Bi=null,Ca=!1,id=uf(a,c),LS=!1,nd=fn=kS=zl=ba=ns=0,Ei=$f=null,IS=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var b=31-Oe(g),y=1<<b;c|=a[b],g&=~y}return ar=c,Jm(),h}function zF(a,c){ct=null,B.H=Cv,c===Ff||c===lv?(c=oT(),Tt=3):c===sT?(c=oT(),Tt=4):Tt=c===rF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Bi=c,gt===null&&(ns=1,Rv(a,ln(c,a.current)))}function WF(){var a=B.H;return B.H=Cv,a===null?Cv:a}function UF(){var a=B.A;return B.A=uB,a}function BS(){ns=4,Ca||(Ct&4194048)!==Ct&&hn.current!==null||(id=!0),(ba&134217727)===0&&(zl&134217727)===0||Vt===null||Sa(Vt,Ct,fn,!1)}function VS(a,c,h){var g=Dt;Dt|=2;var b=WF(),y=UF();(Vt!==a||Ct!==c)&&(Pv=null,ad(a,c)),c=!1;var T=ns;e:do try{if(Tt!==0&&gt!==null){var I=gt,V=Bi;switch(Tt){case 8:GS(),T=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(c=!0);var te=Tt;if(Tt=0,Bi=null,ld(a,I,V,te),h&&id){T=0;break e}break;default:te=Tt,Tt=0,Bi=null,ld(a,I,V,te)}}fB(),T=ns;break}catch(de){zF(a,de)}while(!0);return c&&a.shellSuspendCounter++,Jo=_l=null,Dt=g,B.H=b,B.A=y,gt===null&&(Vt=null,Ct=0,Jm()),T}function fB(){for(;gt!==null;)jF(gt)}function gB(a,c){var h=Dt;Dt|=2;var g=WF(),b=UF();Vt!==a||Ct!==c?(Pv=null,Fv=he()+500,ad(a,c)):id=uf(a,c);e:do try{if(Tt!==0&&gt!==null){c=gt;var y=Bi;t:switch(Tt){case 1:Tt=0,Bi=null,ld(a,c,y,1);break;case 2:case 9:if(iT(y)){Tt=0,Bi=null,$F(c);break}c=function(){Tt!==2&&Tt!==9||Vt!==a||(Tt=7),po(a)},y.then(c,c);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:iT(y)?(Tt=0,Bi=null,$F(c)):(Tt=0,Bi=null,ld(a,c,y,7));break;case 5:var T=null;switch(gt.tag){case 26:T=gt.memoizedState;case 5:case 27:var I=gt;if(!T||DP(T)){Tt=0,Bi=null;var V=I.sibling;if(V!==null)gt=V;else{var te=I.return;te!==null?(gt=te,Lv(te)):gt=null}break t}}Tt=0,Bi=null,ld(a,c,y,5);break;case 6:Tt=0,Bi=null,ld(a,c,y,6);break;case 8:GS(),ns=6;break e;default:throw Error(i(462))}}pB();break}catch(de){zF(a,de)}while(!0);return Jo=_l=null,B.H=g,B.A=b,Dt=h,gt!==null?0:(Vt=null,Ct=0,Jm(),ns)}function pB(){for(;gt!==null&&!$e();)jF(gt)}function jF(a){var c=CF(a.alternate,a,ar);a.memoizedProps=a.pendingProps,c===null?Lv(a):gt=c}function $F(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=hF(h,c,c.pendingProps,c.type,void 0,Ct);break;case 11:c=hF(h,c,c.pendingProps,c.type.render,c.ref,Ct);break;case 5:sS(c);default:wF(h,c),c=gt=qD(c,ar),c=CF(h,c,ar)}a.memoizedProps=a.pendingProps,c===null?Lv(a):gt=c}function ld(a,c,h,g){Jo=_l=null,sS(c),Ju=null,Hf=0;var b=c.return;try{if(nB(a,b,c,h,Ct)){ns=1,Rv(a,ln(h,a.current)),gt=null;return}}catch(y){if(b!==null)throw gt=b,y;ns=1,Rv(a,ln(h,a.current)),gt=null;return}c.flags&32768?(wt||g===1?a=!0:id||(Ct&536870912)!==0?a=!1:(Ca=a=!0,(g===2||g===9||g===3||g===6)&&(g=hn.current,g!==null&&g.tag===13&&(g.flags|=16384))),qF(c,a)):Lv(c)}function Lv(a){var c=a;do{if((c.flags&32768)!==0){qF(c,Ca);return}a=c.return;var h=rB(c.alternate,c,ar);if(h!==null){gt=h;return}if(c=c.sibling,c!==null){gt=c;return}gt=c=a}while(c!==null);ns===0&&(ns=5)}function qF(a,c){do{var h=aB(a.alternate,a);if(h!==null){h.flags&=32767,gt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){gt=a;return}gt=a=h}while(a!==null);ns=6,gt=null}function KF(a,c,h,g,b,y,T,I,V){a.cancelPendingCommit=null;do kv();while(Hs!==0);if((Dt&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(y=c.lanes|c.childLanes,y|=My,qH(a,h,y,T,I,V),a===Vt&&(gt=Vt=null,Ct=0),od=c,ya=a,rd=h,_S=y,NS=b,HF=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,bB(Ze,function(){return JF(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,b=z.p,z.p=2,T=Dt,Dt|=4;try{lB(a,c,h)}finally{Dt=T,z.p=b,B.T=g}}Hs=1,YF(),XF(),QF()}}function YF(){if(Hs===1){Hs=0;var a=ya,c=od,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var g=z.p;z.p=2;var b=Dt;Dt|=4;try{MF(c,a);var y=JS,T=ND(a.containerInfo),I=y.focusedElem,V=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&_D(I.ownerDocument.documentElement,I)){if(V!==null&&Ey(I)){var te=V.start,de=V.end;if(de===void 0&&(de=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(de,I.value.length);else{var pe=I.ownerDocument||document,se=pe&&pe.defaultView||window;if(se.getSelection){var ie=se.getSelection(),Ke=I.textContent.length,Ue=Math.min(V.start,Ke),It=V.end===void 0?Ue:Math.min(V.end,Ke);!ie.extend&&Ue>It&&(T=It,It=Ue,Ue=T);var Q=OD(I,Ue),j=OD(I,It);if(Q&&j&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==j.node||ie.focusOffset!==j.offset)){var ee=pe.createRange();ee.setStart(Q.node,Q.offset),ie.removeAllRanges(),Ue>It?(ie.addRange(ee),ie.extend(j.node,j.offset)):(ee.setEnd(j.node,j.offset),ie.addRange(ee))}}}}for(pe=[],ie=I;ie=ie.parentNode;)ie.nodeType===1&&pe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var fe=pe[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}jv=!!ZS,JS=ZS=null}finally{Dt=b,z.p=g,B.T=h}}a.current=c,Hs=2}}function XF(){if(Hs===2){Hs=0;var a=ya,c=od,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var g=z.p;z.p=2;var b=Dt;Dt|=4;try{DF(a,c.alternate,c)}finally{Dt=b,z.p=g,B.T=h}}Hs=3}}function QF(){if(Hs===4||Hs===3){Hs=0,nt();var a=ya,c=od,h=rd,g=HF;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hs=5:(Hs=0,od=ya=null,ZF(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(wa=null),oy(h),c=c.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(qe,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=B.T,b=z.p,z.p=2,B.T=null;try{for(var y=a.onRecoverableError,T=0;T<g.length;T++){var I=g[T];y(I.value,{componentStack:I.stack})}}finally{B.T=c,z.p=b}}(rd&3)!==0&&kv(),po(a),b=a.pendingLanes,(h&4194090)!==0&&(b&42)!==0?a===HS?qf++:(qf=0,HS=a):qf=0,Kf(0)}}function ZF(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Df(c)))}function kv(a){return YF(),XF(),QF(),JF()}function JF(){if(Hs!==5)return!1;var a=ya,c=_S;_S=0;var h=oy(rd),g=B.T,b=z.p;try{z.p=32>h?32:h,B.T=null,h=NS,NS=null;var y=ya,T=rd;if(Hs=0,od=ya=null,rd=0,(Dt&6)!==0)throw Error(i(331));var I=Dt;if(Dt|=4,_F(y.current),kF(y,y.current,T,h),Dt=I,Kf(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(qe,y)}catch{}return!0}finally{z.p=b,B.T=g,ZF(a,c)}}function eP(a,c,h){c=ln(h,c),c=mS(a.stateNode,c,2),a=da(a,c,2),a!==null&&(df(a,2),po(a))}function Ht(a,c,h){if(a.tag===3)eP(a,a,h);else for(;c!==null;){if(c.tag===3){eP(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wa===null||!wa.has(g))){a=ln(h,a),h=nF(2),g=da(c,h,2),g!==null&&(oF(h,g,c,a),df(g,2),po(g));break}}c=c.return}}function zS(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new dB;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(h)||(LS=!0,b.add(h),a=mB.bind(null,a,c,h),c.then(a,a))}function mB(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Vt===a&&(Ct&h)===h&&(ns===4||ns===3&&(Ct&62914560)===Ct&&300>he()-OS?(Dt&2)===0&&ad(a,0):kS|=h,nd===Ct&&(nd=0)),po(a)}function tP(a,c){c===0&&(c=QE()),a=Wu(a,c),a!==null&&(df(a,c),po(a))}function vB(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),tP(a,h)}function CB(a,c){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(c),tP(a,h)}function bB(a,c){return Me(a,c)}var Iv=null,cd=null,WS=!1,Ov=!1,US=!1,Wl=0;function po(a){a!==cd&&a.next===null&&(cd===null?Iv=cd=a:cd=cd.next=a),Ov=!0,WS||(WS=!0,yB())}function Kf(a,c){if(!US&&Ov){US=!0;do for(var h=!1,g=Iv;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var y=0;else{var T=g.suspendedLanes,I=g.pingedLanes;y=(1<<31-Oe(42|a)+1)-1,y&=b&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(h=!0,oP(g,y))}else y=Ct,y=oa(g,g===Vt?y:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(y&3)===0||uf(g,y)||(h=!0,oP(g,y));g=g.next}while(h);US=!1}}function wB(){sP()}function sP(){Ov=WS=!1;var a=0;Wl!==0&&(FB()&&(a=Wl),Wl=0);for(var c=he(),h=null,g=Iv;g!==null;){var b=g.next,y=iP(g,c);y===0?(g.next=null,h===null?Iv=b:h.next=b,b===null&&(cd=h)):(h=g,(a!==0||(y&3)!==0)&&(Ov=!0)),g=b}Kf(a)}function iP(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var T=31-Oe(y),I=1<<T,V=b[T];V===-1?((I&h)===0||(I&g)!==0)&&(b[T]=$H(I,c)):V<=c&&(a.expiredLanes|=I),y&=~I}if(c=Vt,h=Ct,h=oa(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===c&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ne(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||uf(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(g!==null&&Ne(g),oy(h)){case 2:case 8:h=Be;break;case 32:h=Ze;break;case 268435456:h=ot;break;default:h=Ze}return g=nP.bind(null,a),h=Me(h,g),a.callbackPriority=c,a.callbackNode=h,c}return g!==null&&g!==null&&Ne(g),a.callbackPriority=2,a.callbackNode=null,2}function nP(a,c){if(Hs!==0&&Hs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(kv()&&a.callbackNode!==h)return null;var g=Ct;return g=oa(a,a===Vt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(BF(a,g,c),iP(a,he()),a.callbackNode!=null&&a.callbackNode===h?nP.bind(null,a):null)}function oP(a,c){if(kv())return null;BF(a,c,!0)}function yB(){MB(function(){(Dt&6)!==0?Me(Fe,wB):sP()})}function jS(){return Wl===0&&(Wl=XE()),Wl}function rP(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$m(""+a)}function aP(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function SB(a,c,h,g,b){if(c==="submit"&&h&&h.stateNode===b){var y=rP((b[Si]||null).action),T=g.submitter;T&&(c=(c=T[Si]||null)?rP(c.formAction):T.getAttribute("formAction"),c!==null&&(y=c,T=null));var I=new Xm("action","action",null,g,b);a.push({event:I,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Wl!==0){var V=T?aP(b,T):new FormData(b);dS(h,{pending:!0,data:V,method:b.method,action:y},null,V)}}else typeof y=="function"&&(I.preventDefault(),V=T?aP(b,T):new FormData(b),dS(h,{pending:!0,data:V,method:b.method,action:y},y,V))},currentTarget:b}]})}}for(var $S=0;$S<Py.length;$S++){var qS=Py[$S],RB=qS.toLowerCase(),xB=qS[0].toUpperCase()+qS.slice(1);Nn(RB,"on"+xB)}Nn(BD,"onAnimationEnd"),Nn(VD,"onAnimationIteration"),Nn(zD,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(VG,"onTransitionRun"),Nn(zG,"onTransitionStart"),Nn(WG,"onTransitionCancel"),Nn(WD,"onTransitionEnd"),ku("onMouseEnter",["mouseout","mouseover"]),ku("onMouseLeave",["mouseout","mouseover"]),ku("onPointerEnter",["pointerout","pointerover"]),ku("onPointerLeave",["pointerout","pointerover"]),Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yf));function lP(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var y=void 0;if(c)for(var T=g.length-1;0<=T;T--){var I=g[T],V=I.instance,te=I.currentTarget;if(I=I.listener,V!==y&&b.isPropagationStopped())break e;y=I,b.currentTarget=te;try{y(b)}catch(de){Sv(de)}b.currentTarget=null,y=V}else for(T=0;T<g.length;T++){if(I=g[T],V=I.instance,te=I.currentTarget,I=I.listener,V!==y&&b.isPropagationStopped())break e;y=I,b.currentTarget=te;try{y(b)}catch(de){Sv(de)}b.currentTarget=null,y=V}}}}function pt(a,c){var h=c[ry];h===void 0&&(h=c[ry]=new Set);var g=a+"__bubble";h.has(g)||(cP(c,a,2,!1),h.add(g))}function KS(a,c,h){var g=0;c&&(g|=4),cP(h,a,g,c)}var _v="_reactListening"+Math.random().toString(36).slice(2);function YS(a){if(!a[_v]){a[_v]=!0,sD.forEach(function(h){h!=="selectionchange"&&(AB.has(h)||KS(h,!1,a),KS(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[_v]||(c[_v]=!0,KS("selectionchange",!1,c))}}function cP(a,c,h,g){switch(kP(c)){case 2:var b=ZB;break;case 8:b=JB;break;default:b=c0}h=b.bind(null,c,h,a),b=void 0,!vy||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(c,h,{capture:!0,passive:b}):a.addEventListener(c,h,!0):b!==void 0?a.addEventListener(c,h,{passive:b}):a.addEventListener(c,h,!1)}function XS(a,c,h,g,b){var y=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var I=g.stateNode.containerInfo;if(I===b)break;if(T===4)for(T=g.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;I!==null;){if(T=Pu(I),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){g=y=T;continue e}I=I.parentNode}}g=g.return}mD(function(){var te=y,de=py(h),pe=[];e:{var se=UD.get(a);if(se!==void 0){var ie=Xm,Ke=a;switch(a){case"keypress":if(Km(h)===0)break e;case"keydown":case"keyup":ie=bG;break;case"focusin":Ke="focus",ie=yy;break;case"focusout":Ke="blur",ie=yy;break;case"beforeblur":case"afterblur":ie=yy;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=bD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=aG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=SG;break;case BD:case VD:case zD:ie=uG;break;case WD:ie=xG;break;case"scroll":case"scrollend":ie=oG;break;case"wheel":ie=EG;break;case"copy":case"cut":case"paste":ie=hG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=yD;break;case"toggle":case"beforetoggle":ie=TG}var Ue=(c&4)!==0,It=!Ue&&(a==="scroll"||a==="scrollend"),Q=Ue?se!==null?se+"Capture":null:se;Ue=[];for(var j=te,ee;j!==null;){var fe=j;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Q===null||(fe=gf(j,Q),fe!=null&&Ue.push(Xf(j,fe,ee))),It)break;j=j.return}0<Ue.length&&(se=new ie(se,Ke,null,h,de),pe.push({event:se,listeners:Ue}))}}if((c&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",se&&h!==gy&&(Ke=h.relatedTarget||h.fromElement)&&(Pu(Ke)||Ke[Fu]))break e;if((ie||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,ie?(Ke=h.relatedTarget||h.toElement,ie=te,Ke=Ke?Pu(Ke):null,Ke!==null&&(It=o(Ke),Ue=Ke.tag,Ke!==It||Ue!==5&&Ue!==27&&Ue!==6)&&(Ke=null)):(ie=null,Ke=te),ie!==Ke)){if(Ue=bD,fe="onMouseLeave",Q="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(Ue=yD,fe="onPointerLeave",Q="onPointerEnter",j="pointer"),It=ie==null?se:ff(ie),ee=Ke==null?se:ff(Ke),se=new Ue(fe,j+"leave",ie,h,de),se.target=It,se.relatedTarget=ee,fe=null,Pu(de)===te&&(Ue=new Ue(Q,j+"enter",Ke,h,de),Ue.target=ee,Ue.relatedTarget=It,fe=Ue),It=fe,ie&&Ke)t:{for(Ue=ie,Q=Ke,j=0,ee=Ue;ee;ee=ud(ee))j++;for(ee=0,fe=Q;fe;fe=ud(fe))ee++;for(;0<j-ee;)Ue=ud(Ue),j--;for(;0<ee-j;)Q=ud(Q),ee--;for(;j--;){if(Ue===Q||Q!==null&&Ue===Q.alternate)break t;Ue=ud(Ue),Q=ud(Q)}Ue=null}else Ue=null;ie!==null&&uP(pe,se,ie,Ue,!1),Ke!==null&&It!==null&&uP(pe,It,Ke,Ue,!0)}}e:{if(se=te?ff(te):window,ie=se.nodeName&&se.nodeName.toLowerCase(),ie==="select"||ie==="input"&&se.type==="file")var ke=FD;else if(DD(se))if(PD)ke=HG;else{ke=_G;var dt=OG}else ie=se.nodeName,!ie||ie.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?te&&fy(te.elementType)&&(ke=FD):ke=NG;if(ke&&(ke=ke(a,te))){TD(pe,ke,h,de);break e}dt&&dt(a,se,te),a==="focusout"&&te&&se.type==="number"&&te.memoizedProps.value!=null&&hy(se,"number",se.value)}switch(dt=te?ff(te):window,a){case"focusin":(DD(dt)||dt.contentEditable==="true")&&(Bu=dt,Dy=te,Sf=null);break;case"focusout":Sf=Dy=Bu=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,HD(pe,h,de);break;case"selectionchange":if(BG)break;case"keydown":case"keyup":HD(pe,h,de)}var Ge;if(Ry)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Gu?AD(a,h)&&(je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(je="onCompositionStart");je&&(SD&&h.locale!=="ko"&&(Gu||je!=="onCompositionStart"?je==="onCompositionEnd"&&Gu&&(Ge=vD()):(aa=de,Cy="value"in aa?aa.value:aa.textContent,Gu=!0)),dt=Nv(te,je),0<dt.length&&(je=new wD(je,a,null,h,de),pe.push({event:je,listeners:dt}),Ge?je.data=Ge:(Ge=ED(h),Ge!==null&&(je.data=Ge)))),(Ge=PG?MG(a,h):LG(a,h))&&(je=Nv(te,"onBeforeInput"),0<je.length&&(dt=new wD("onBeforeInput","beforeinput",null,h,de),pe.push({event:dt,listeners:je}),dt.data=Ge)),SB(pe,a,te,h,de)}lP(pe,c)})}function Xf(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Nv(a,c){for(var h=c+"Capture",g=[];a!==null;){var b=a,y=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||y===null||(b=gf(a,h),b!=null&&g.unshift(Xf(a,b,y)),b=gf(a,c),b!=null&&g.push(Xf(a,b,y))),a.tag===3)return g;a=a.return}return[]}function ud(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uP(a,c,h,g,b){for(var y=c._reactName,T=[];h!==null&&h!==g;){var I=h,V=I.alternate,te=I.stateNode;if(I=I.tag,V!==null&&V===g)break;I!==5&&I!==26&&I!==27||te===null||(V=te,b?(te=gf(h,y),te!=null&&T.unshift(Xf(h,te,V))):b||(te=gf(h,y),te!=null&&T.push(Xf(h,te,V)))),h=h.return}T.length!==0&&a.push({event:c,listeners:T})}var EB=/\r\n?/g,DB=/\u0000|\uFFFD/g;function dP(a){return(typeof a=="string"?a:""+a).replace(EB,`
`).replace(DB,"")}function hP(a,c){return c=dP(c),dP(a)===c}function Hv(){}function kt(a,c,h,g,b,y){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||_u(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&_u(a,""+g);break;case"className":Wm(a,"class",g);break;case"tabIndex":Wm(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Wm(a,h,g);break;case"style":gD(a,g,y);break;case"data":if(c!=="object"){Wm(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=$m(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(h==="formAction"?(c!=="input"&&kt(a,c,"name",b.name,b,null),kt(a,c,"formEncType",b.formEncType,b,null),kt(a,c,"formMethod",b.formMethod,b,null),kt(a,c,"formTarget",b.formTarget,b,null)):(kt(a,c,"encType",b.encType,b,null),kt(a,c,"method",b.method,b,null),kt(a,c,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=$m(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Hv);break;case"onScroll":g!=null&&pt("scroll",a);break;case"onScrollEnd":g!=null&&pt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=$m(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":pt("beforetoggle",a),pt("toggle",a),zm(a,"popover",g);break;case"xlinkActuate":Ko(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ko(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ko(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ko(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ko(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ko(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ko(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ko(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ko(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":zm(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=iG.get(h)||h,zm(a,h,g))}}function QS(a,c,h,g,b,y){switch(h){case"style":gD(a,g,y);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof g=="string"?_u(a,g):(typeof g=="number"||typeof g=="bigint")&&_u(a,""+g);break;case"onScroll":g!=null&&pt("scroll",a);break;case"onScrollEnd":g!=null&&pt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Hv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iD.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),c=h.slice(2,b?h.length-7:void 0),y=a[Si]||null,y=y!=null?y[h]:null,typeof y=="function"&&a.removeEventListener(c,y,b),typeof g=="function")){typeof y!="function"&&y!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,g,b);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):zm(a,h,g)}}}function Gs(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",a),pt("load",a);var g=!1,b=!1,y;for(y in h)if(h.hasOwnProperty(y)){var T=h[y];if(T!=null)switch(y){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:kt(a,c,y,T,h,null)}}b&&kt(a,c,"srcSet",h.srcSet,h,null),g&&kt(a,c,"src",h.src,h,null);return;case"input":pt("invalid",a);var I=y=T=b=null,V=null,te=null;for(g in h)if(h.hasOwnProperty(g)){var de=h[g];if(de!=null)switch(g){case"name":b=de;break;case"type":T=de;break;case"checked":V=de;break;case"defaultChecked":te=de;break;case"value":y=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,c));break;default:kt(a,c,g,de,h,null)}}uD(a,y,I,V,te,T,b,!1),Um(a);return;case"select":pt("invalid",a),g=T=y=null;for(b in h)if(h.hasOwnProperty(b)&&(I=h[b],I!=null))switch(b){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":g=I;default:kt(a,c,b,I,h,null)}c=y,h=T,a.multiple=!!g,c!=null?Ou(a,!!g,c,!1):h!=null&&Ou(a,!!g,h,!0);return;case"textarea":pt("invalid",a),y=b=g=null;for(T in h)if(h.hasOwnProperty(T)&&(I=h[T],I!=null))switch(T){case"value":g=I;break;case"defaultValue":b=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:kt(a,c,T,I,h,null)}hD(a,g,b,y),Um(a);return;case"option":for(V in h)if(h.hasOwnProperty(V)&&(g=h[V],g!=null))switch(V){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:kt(a,c,V,g,h,null)}return;case"dialog":pt("beforetoggle",a),pt("toggle",a),pt("cancel",a),pt("close",a);break;case"iframe":case"object":pt("load",a);break;case"video":case"audio":for(g=0;g<Yf.length;g++)pt(Yf[g],a);break;case"image":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"embed":case"source":case"link":pt("error",a),pt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in h)if(h.hasOwnProperty(te)&&(g=h[te],g!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:kt(a,c,te,g,h,null)}return;default:if(fy(c)){for(de in h)h.hasOwnProperty(de)&&(g=h[de],g!==void 0&&QS(a,c,de,g,h,void 0));return}}for(I in h)h.hasOwnProperty(I)&&(g=h[I],g!=null&&kt(a,c,I,g,h,null))}function TB(a,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,y=null,T=null,I=null,V=null,te=null,de=null;for(ie in h){var pe=h[ie];if(h.hasOwnProperty(ie)&&pe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":V=pe;default:g.hasOwnProperty(ie)||kt(a,c,ie,null,g,pe)}}for(var se in g){var ie=g[se];if(pe=h[se],g.hasOwnProperty(se)&&(ie!=null||pe!=null))switch(se){case"type":y=ie;break;case"name":b=ie;break;case"checked":te=ie;break;case"defaultChecked":de=ie;break;case"value":T=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,c));break;default:ie!==pe&&kt(a,c,se,ie,g,pe)}}dy(a,T,I,V,te,de,y,b);return;case"select":ie=T=I=se=null;for(y in h)if(V=h[y],h.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":ie=V;default:g.hasOwnProperty(y)||kt(a,c,y,null,g,V)}for(b in g)if(y=g[b],V=h[b],g.hasOwnProperty(b)&&(y!=null||V!=null))switch(b){case"value":se=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==V&&kt(a,c,b,y,g,V)}c=I,h=T,g=ie,se!=null?Ou(a,!!h,se,!1):!!g!=!!h&&(c!=null?Ou(a,!!h,c,!0):Ou(a,!!h,h?[]:"",!1));return;case"textarea":ie=se=null;for(I in h)if(b=h[I],h.hasOwnProperty(I)&&b!=null&&!g.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:kt(a,c,I,null,g,b)}for(T in g)if(b=g[T],y=h[T],g.hasOwnProperty(T)&&(b!=null||y!=null))switch(T){case"value":se=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==y&&kt(a,c,T,b,g,y)}dD(a,se,ie);return;case"option":for(var Ke in h)if(se=h[Ke],h.hasOwnProperty(Ke)&&se!=null&&!g.hasOwnProperty(Ke))switch(Ke){case"selected":a.selected=!1;break;default:kt(a,c,Ke,null,g,se)}for(V in g)if(se=g[V],ie=h[V],g.hasOwnProperty(V)&&se!==ie&&(se!=null||ie!=null))switch(V){case"selected":a.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:kt(a,c,V,se,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)se=h[Ue],h.hasOwnProperty(Ue)&&se!=null&&!g.hasOwnProperty(Ue)&&kt(a,c,Ue,null,g,se);for(te in g)if(se=g[te],ie=h[te],g.hasOwnProperty(te)&&se!==ie&&(se!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,c));break;default:kt(a,c,te,se,g,ie)}return;default:if(fy(c)){for(var It in h)se=h[It],h.hasOwnProperty(It)&&se!==void 0&&!g.hasOwnProperty(It)&&QS(a,c,It,void 0,g,se);for(de in g)se=g[de],ie=h[de],!g.hasOwnProperty(de)||se===ie||se===void 0&&ie===void 0||QS(a,c,de,se,g,ie);return}}for(var Q in h)se=h[Q],h.hasOwnProperty(Q)&&se!=null&&!g.hasOwnProperty(Q)&&kt(a,c,Q,null,g,se);for(pe in g)se=g[pe],ie=h[pe],!g.hasOwnProperty(pe)||se===ie||se==null&&ie==null||kt(a,c,pe,se,g,ie)}var ZS=null,JS=null;function Gv(a){return a.nodeType===9?a:a.ownerDocument}function fP(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gP(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function e0(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var t0=null;function FB(){var a=window.event;return a&&a.type==="popstate"?a===t0?!1:(t0=a,!0):(t0=null,!1)}var pP=typeof setTimeout=="function"?setTimeout:void 0,PB=typeof clearTimeout=="function"?clearTimeout:void 0,mP=typeof Promise=="function"?Promise:void 0,MB=typeof queueMicrotask=="function"?queueMicrotask:typeof mP<"u"?function(a){return mP.resolve(null).then(a).catch(LB)}:pP;function LB(a){setTimeout(function(){throw a})}function Ra(a){return a==="head"}function vP(a,c){var h=c,g=0,b=0;do{var y=h.nextSibling;if(a.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(0<g&&8>g){h=g;var T=a.ownerDocument;if(h&1&&Qf(T.documentElement),h&2&&Qf(T.body),h&4)for(h=T.head,Qf(h),T=h.firstChild;T;){var I=T.nextSibling,V=T.nodeName;T[hf]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=I}}if(b===0){a.removeChild(y),og(c);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:g=h.charCodeAt(0)-48;else g=0;h=y}while(h);og(c)}function s0(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":s0(h),ay(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function kB(a,c,h,g){for(;a.nodeType===1;){var b=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[hf])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var y=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Gn(a.nextSibling),a===null)break}return null}function IB(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Gn(a.nextSibling),a===null))return null;return a}function i0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function OB(a,c){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Gn(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var n0=null;function CP(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}function bP(a,c,h){switch(c=Gv(h),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Qf(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ay(a)}var gn=new Map,wP=new Set;function Bv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var lr=z.d;z.d={f:_B,r:NB,D:HB,C:GB,L:BB,m:VB,X:WB,S:zB,M:UB};function _B(){var a=lr.f(),c=Mv();return a||c}function NB(a){var c=Mu(a);c!==null&&c.tag===5&&c.type==="form"?BT(c):lr.r(a)}var dd=typeof document>"u"?null:document;function yP(a,c,h){var g=dd;if(g&&typeof c=="string"&&c){var b=an(c);b='link[rel="'+a+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),wP.has(b)||(wP.add(b),a={rel:a,crossOrigin:h,href:c},g.querySelector(b)===null&&(c=g.createElement("link"),Gs(c,"link",a),Es(c),g.head.appendChild(c)))}}function HB(a){lr.D(a),yP("dns-prefetch",a,null)}function GB(a,c){lr.C(a,c),yP("preconnect",a,c)}function BB(a,c,h){lr.L(a,c,h);var g=dd;if(g&&a&&c){var b='link[rel="preload"][as="'+an(c)+'"]';c==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+an(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+an(h.imageSizes)+'"]')):b+='[href="'+an(a)+'"]';var y=b;switch(c){case"style":y=hd(a);break;case"script":y=fd(a)}gn.has(y)||(a=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),gn.set(y,a),g.querySelector(b)!==null||c==="style"&&g.querySelector(Zf(y))||c==="script"&&g.querySelector(Jf(y))||(c=g.createElement("link"),Gs(c,"link",a),Es(c),g.head.appendChild(c)))}}function VB(a,c){lr.m(a,c);var h=dd;if(h&&a){var g=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+an(g)+'"][href="'+an(a)+'"]',y=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=fd(a)}if(!gn.has(y)&&(a=f({rel:"modulepreload",href:a},c),gn.set(y,a),h.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Jf(y)))return}g=h.createElement("link"),Gs(g,"link",a),Es(g),h.head.appendChild(g)}}}function zB(a,c,h){lr.S(a,c,h);var g=dd;if(g&&a){var b=Lu(g).hoistableStyles,y=hd(a);c=c||"default";var T=b.get(y);if(!T){var I={loading:0,preload:null};if(T=g.querySelector(Zf(y)))I.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},h),(h=gn.get(y))&&o0(a,h);var V=T=g.createElement("link");Es(V),Gs(V,"link",a),V._p=new Promise(function(te,de){V.onload=te,V.onerror=de}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Vv(T,c,g)}T={type:"stylesheet",instance:T,count:1,state:I},b.set(y,T)}}}function WB(a,c){lr.X(a,c);var h=dd;if(h&&a){var g=Lu(h).hoistableScripts,b=fd(a),y=g.get(b);y||(y=h.querySelector(Jf(b)),y||(a=f({src:a,async:!0},c),(c=gn.get(b))&&r0(a,c),y=h.createElement("script"),Es(y),Gs(y,"link",a),h.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},g.set(b,y))}}function UB(a,c){lr.M(a,c);var h=dd;if(h&&a){var g=Lu(h).hoistableScripts,b=fd(a),y=g.get(b);y||(y=h.querySelector(Jf(b)),y||(a=f({src:a,async:!0,type:"module"},c),(c=gn.get(b))&&r0(a,c),y=h.createElement("script"),Es(y),Gs(y,"link",a),h.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},g.set(b,y))}}function SP(a,c,h,g){var b=(b=me.current)?Bv(b):null;if(!b)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=hd(h.href),h=Lu(b).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=hd(h.href);var y=Lu(b).hoistableStyles,T=y.get(a);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,T),(y=b.querySelector(Zf(a)))&&!y._p&&(T.instance=y,T.state.loading=5),gn.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},gn.set(a,h),y||jB(b,a,h,T.state))),c&&g===null)throw Error(i(528,""));return T}if(c&&g!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=fd(h),h=Lu(b).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function hd(a){return'href="'+an(a)+'"'}function Zf(a){return'link[rel="stylesheet"]['+a+"]"}function RP(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function jB(a,c,h,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Gs(c,"link",h),Es(c),a.head.appendChild(c))}function fd(a){return'[src="'+an(a)+'"]'}function Jf(a){return"script[async]"+a}function xP(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+an(h.href)+'"]');if(g)return c.instance=g,Es(g),g;var b=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Es(g),Gs(g,"style",b),Vv(g,h.precedence,a),c.instance=g;case"stylesheet":b=hd(h.href);var y=a.querySelector(Zf(b));if(y)return c.state.loading|=4,c.instance=y,Es(y),y;g=RP(h),(b=gn.get(b))&&o0(g,b),y=(a.ownerDocument||a).createElement("link"),Es(y);var T=y;return T._p=new Promise(function(I,V){T.onload=I,T.onerror=V}),Gs(y,"link",g),c.state.loading|=4,Vv(y,h.precedence,a),c.instance=y;case"script":return y=fd(h.src),(b=a.querySelector(Jf(y)))?(c.instance=b,Es(b),b):(g=h,(b=gn.get(y))&&(g=f({},h),r0(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),Es(b),Gs(b,"link",g),a.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Vv(g,h.precedence,a));return c.instance}function Vv(a,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,y=b,T=0;T<g.length;T++){var I=g[T];if(I.dataset.precedence===c)y=I;else if(y!==b)break}y?y.parentNode.insertBefore(a,y.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function o0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function r0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var zv=null;function AP(a,c,h){if(zv===null){var g=new Map,b=zv=new Map;b.set(h,g)}else b=zv,g=b.get(h),g||(g=new Map,b.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),b=0;b<h.length;b++){var y=h[b];if(!(y[hf]||y[Ys]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(c)||"";T=a+T;var I=g.get(T);I?I.push(y):g.set(T,[y])}}return g}function EP(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function $B(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function DP(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var eg=null;function qB(){}function KB(a,c,h){if(eg===null)throw Error(i(475));var g=eg;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=hd(h.href),y=a.querySelector(Zf(b));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Wv.bind(g),a.then(g,g)),c.state.loading|=4,c.instance=y,Es(y);return}y=a.ownerDocument||a,h=RP(h),(b=gn.get(b))&&o0(h,b),y=y.createElement("link"),Es(y);var T=y;T._p=new Promise(function(I,V){T.onload=I,T.onerror=V}),Gs(y,"link",h),c.instance=y}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Wv.bind(g),a.addEventListener("load",c),a.addEventListener("error",c))}}function YB(){if(eg===null)throw Error(i(475));var a=eg;return a.stylesheets&&a.count===0&&a0(a,a.stylesheets),0<a.count?function(c){var h=setTimeout(function(){if(a.stylesheets&&a0(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Wv(){if(this.count--,this.count===0){if(this.stylesheets)a0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Uv=null;function a0(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Uv=new Map,c.forEach(XB,a),Uv=null,Wv.call(a))}function XB(a,c){if(!(c.state.loading&4)){var h=Uv.get(a);if(h)var g=h.get(null);else{h=new Map,Uv.set(a,h);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<b.length;y++){var T=b[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(h.set(T.dataset.precedence,T),g=T)}g&&h.set(null,g)}b=c.instance,T=b.getAttribute("data-precedence"),y=h.get(T)||g,y===g&&h.set(null,b),h.set(T,b),this.count++,g=Wv.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),y?y.parentNode.insertBefore(b,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),c.state.loading|=4}}var tg={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function QB(a,c,h,g,b,y,T,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.hiddenUpdates=iy(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function TP(a,c,h,g,b,y,T,I,V,te,de,pe){return a=new QB(a,c,h,T,I,V,te,pe),c=1,y===!0&&(c|=24),y=Ni(3,null,null,c),a.current=y,y.stateNode=a,c=zy(),c.refCount++,a.pooledCache=c,c.refCount++,y.memoizedState={element:g,isDehydrated:h,cache:c},$y(y),a}function FP(a){return a?(a=Uu,a):Uu}function PP(a,c,h,g,b,y){b=FP(b),g.context===null?g.context=b:g.pendingContext=b,g=ua(c),g.payload={element:h},y=y===void 0?null:y,y!==null&&(g.callback=y),h=da(a,g,c),h!==null&&(zi(h,a,c),Mf(h,a,c))}function MP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function l0(a,c){MP(a,c),(a=a.alternate)&&MP(a,c)}function LP(a){if(a.tag===13){var c=Wu(a,67108864);c!==null&&zi(c,a,67108864),l0(a,67108864)}}var jv=!0;function ZB(a,c,h,g){var b=B.T;B.T=null;var y=z.p;try{z.p=2,c0(a,c,h,g)}finally{z.p=y,B.T=b}}function JB(a,c,h,g){var b=B.T;B.T=null;var y=z.p;try{z.p=8,c0(a,c,h,g)}finally{z.p=y,B.T=b}}function c0(a,c,h,g){if(jv){var b=u0(g);if(b===null)XS(a,c,g,$v,h),IP(a,g);else if(t2(b,a,c,h,g))g.stopPropagation();else if(IP(a,g),c&4&&-1<e2.indexOf(a)){for(;b!==null;){var y=Mu(b);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=_n(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var V=1<<31-Oe(T);I.entanglements[1]|=V,T&=~V}po(y),(Dt&6)===0&&(Fv=he()+500,Kf(0))}}break;case 13:I=Wu(y,2),I!==null&&zi(I,y,2),Mv(),l0(y,2)}if(y=u0(g),y===null&&XS(a,c,g,$v,h),y===b)break;b=y}b!==null&&g.stopPropagation()}else XS(a,c,g,null,h)}}function u0(a){return a=py(a),d0(a)}var $v=null;function d0(a){if($v=null,a=Pu(a),a!==null){var c=o(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=r(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return $v=a,null}function kP(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Fe:return 2;case Be:return 8;case Ze:case Xe:return 32;case ot:return 268435456;default:return 32}default:return 32}}var h0=!1,xa=null,Aa=null,Ea=null,sg=new Map,ig=new Map,Da=[],e2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IP(a,c){switch(a){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":sg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ig.delete(c.pointerId)}}function ng(a,c,h,g,b,y){return a===null||a.nativeEvent!==y?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:y,targetContainers:[b]},c!==null&&(c=Mu(c),c!==null&&LP(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function t2(a,c,h,g,b){switch(c){case"focusin":return xa=ng(xa,a,c,h,g,b),!0;case"dragenter":return Aa=ng(Aa,a,c,h,g,b),!0;case"mouseover":return Ea=ng(Ea,a,c,h,g,b),!0;case"pointerover":var y=b.pointerId;return sg.set(y,ng(sg.get(y)||null,a,c,h,g,b)),!0;case"gotpointercapture":return y=b.pointerId,ig.set(y,ng(ig.get(y)||null,a,c,h,g,b)),!0}return!1}function OP(a){var c=Pu(a.target);if(c!==null){var h=o(c);if(h!==null){if(c=h.tag,c===13){if(c=r(h),c!==null){a.blockedOn=c,KH(a.priority,function(){if(h.tag===13){var g=Vi();g=ny(g);var b=Wu(h,g);b!==null&&zi(b,h,g),l0(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qv(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=u0(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);gy=g,h.target.dispatchEvent(g),gy=null}else return c=Mu(h),c!==null&&LP(c),a.blockedOn=h,!1;c.shift()}return!0}function _P(a,c,h){qv(a)&&h.delete(c)}function s2(){h0=!1,xa!==null&&qv(xa)&&(xa=null),Aa!==null&&qv(Aa)&&(Aa=null),Ea!==null&&qv(Ea)&&(Ea=null),sg.forEach(_P),ig.forEach(_P)}function Kv(a,c){a.blockedOn===c&&(a.blockedOn=null,h0||(h0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s2)))}var Yv=null;function NP(a){Yv!==a&&(Yv=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yv===a&&(Yv=null);for(var c=0;c<a.length;c+=3){var h=a[c],g=a[c+1],b=a[c+2];if(typeof g!="function"){if(d0(g||h)===null)continue;break}var y=Mu(h);y!==null&&(a.splice(c,3),c-=3,dS(y,{pending:!0,data:b,method:h.method,action:g},g,b))}}))}function og(a){function c(V){return Kv(V,a)}xa!==null&&Kv(xa,a),Aa!==null&&Kv(Aa,a),Ea!==null&&Kv(Ea,a),sg.forEach(c),ig.forEach(c);for(var h=0;h<Da.length;h++){var g=Da[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Da.length&&(h=Da[0],h.blockedOn===null);)OP(h),h.blockedOn===null&&Da.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var b=h[g],y=h[g+1],T=b[Si]||null;if(typeof y=="function")T||NP(h);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(b=y,T=y[Si]||null)I=T.formAction;else if(d0(b)!==null)continue}else I=T.action;typeof I=="function"?h[g+1]=I:(h.splice(g,3),g-=3),NP(h)}}}function f0(a){this._internalRoot=a}Xv.prototype.render=f0.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,g=Vi();PP(h,g,a,c,null,null)},Xv.prototype.unmount=f0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;PP(a.current,2,null,a,null,null),Mv(),c[Fu]=null}};function Xv(a){this._internalRoot=a}Xv.prototype.unstable_scheduleHydration=function(a){if(a){var c=eD();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Da.length&&c!==0&&c<Da[h].priority;h++);Da.splice(h,0,a),h===0&&OP(a)}};var HP=t.version;if(HP!=="19.1.0")throw Error(i(527,HP,"19.1.0"));z.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(c),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var i2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qv.isDisabled&&Qv.supportsFiber)try{qe=Qv.inject(i2),Le=Qv}catch{}}return ag.createRoot=function(a,c){if(!n(a))throw Error(i(299));var h=!1,g="",b=eF,y=tF,T=sF,I=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(y=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks)),c=TP(a,1,!1,null,null,h,g,b,y,T,I,null),a[Fu]=c.current,YS(a),new f0(c)},ag.hydrateRoot=function(a,c,h){if(!n(a))throw Error(i(299));var g=!1,b="",y=eF,T=tF,I=sF,V=null,te=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(y=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(I=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(V=h.unstable_transitionCallbacks),h.formState!==void 0&&(te=h.formState)),c=TP(a,1,!0,c,h??null,g,b,y,T,I,V,te),c.context=FP(null),h=c.current,g=Vi(),g=ny(g),b=ua(g),b.callback=null,da(h,b,g),h=g,c.current.lanes=h,df(c,h),po(c),a[Fu]=c.current,YS(a),new Xv(c)},ag.version="19.1.0",ag}var YP;function g2(){if(YP)return v0.exports;YP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),v0.exports=f2(),v0.exports}var p2=g2(),Ho=function(){return Ho=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Ho.apply(this,arguments)};function aL(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s}function m2(e,t,s){if(s||arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var yC="right-scroll-bar-position",SC="width-before-scroll-bar",v2="with-scroll-bars-hidden",C2="--removed-body-scroll-bar-size";function y0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b2(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var n=s.value;n!==i&&(s.value=i,s.callback(i,n))}}}})[0];return s.callback=t,s.facade}var w2=typeof window<"u"?x.useLayoutEffect:x.useEffect,XP=new WeakMap;function y2(e,t){var s=b2(null,function(i){return e.forEach(function(n){return y0(n,i)})});return w2(function(){var i=XP.get(s);if(i){var n=new Set(i),o=new Set(e),r=s.current;n.forEach(function(l){o.has(l)||y0(l,null)}),o.forEach(function(l){n.has(l)||y0(l,r)})}XP.set(s,e)},[e]),s}function S2(e){return e}function R2(e,t){t===void 0&&(t=S2);var s=[],i=!1,n={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var r=t(o,i);return s.push(r),function(){s=s.filter(function(l){return l!==r})}},assignSyncMedium:function(o){for(i=!0;s.length;){var r=s;s=[],r.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){i=!0;var r=[];if(s.length){var l=s;s=[],l.forEach(o),r=s}var u=function(){var f=r;r=[],f.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),s={push:function(f){r.push(f),d()},filter:function(f){return r=r.filter(f),s}}}};return n}function x2(e){e===void 0&&(e={});var t=R2(null);return t.options=Ho({async:!0,ssr:!1},e),t}var lL=function(e){var t=e.sideCar,s=aL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Ho({},s))};lL.isSideCarExport=!0;function A2(e,t){return e.useMedium(t),lL}var cL=x2(),S0=function(){},ow=x.forwardRef(function(e,t){var s=x.useRef(null),i=x.useState({onScrollCapture:S0,onWheelCapture:S0,onTouchMoveCapture:S0}),n=i[0],o=i[1],r=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,C=e.noIsolation,w=e.inert,S=e.allowPinchZoom,R=e.as,A=R===void 0?"div":R,D=e.gapMode,E=aL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=m,L=y2([s,t]),k=Ho(Ho({},E),n);return x.createElement(x.Fragment,null,f&&x.createElement(F,{sideCar:cL,removeScrollBar:d,shards:p,noIsolation:C,inert:w,setCallbacks:o,allowPinchZoom:!!S,lockRef:s,gapMode:D}),r?x.cloneElement(x.Children.only(l),Ho(Ho({},k),{ref:L})):x.createElement(A,Ho({},k,{className:u,ref:L}),l))});ow.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ow.classNames={fullWidth:SC,zeroRight:yC};var E2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=E2();return t&&e.setAttribute("nonce",t),e}function T2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function F2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P2=function(){var e=0,t=null;return{add:function(s){e==0&&(t=D2())&&(T2(t,s),F2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},M2=function(){var e=P2();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},uL=function(){var e=M2(),t=function(s){var i=s.styles,n=s.dynamic;return e(i,n),null};return t},L2={left:0,top:0,right:0,gap:0},R0=function(e){return parseInt(e||"",10)||0},k2=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[R0(s),R0(i),R0(n)]},I2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L2;var t=k2(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},O2=uL(),Ld="data-scroll-locked",_2=function(e,t,s,i){var n=e.left,o=e.top,r=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(v2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Ld,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yC,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(SC,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(yC," .").concat(yC,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(SC," .").concat(SC,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ld,`] {
    `).concat(C2,": ").concat(l,`px;
  }
`)},QP=function(){var e=parseInt(document.body.getAttribute(Ld)||"0",10);return isFinite(e)?e:0},N2=function(){x.useEffect(function(){return document.body.setAttribute(Ld,(QP()+1).toString()),function(){var e=QP()-1;e<=0?document.body.removeAttribute(Ld):document.body.setAttribute(Ld,e.toString())}},[])},H2=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,n=i===void 0?"margin":i;N2();var o=x.useMemo(function(){return I2(n)},[n]);return x.createElement(O2,{styles:_2(o,!t,n,s?"":"!important")})},mR=!1;if(typeof window<"u")try{var Zv=Object.defineProperty({},"passive",{get:function(){return mR=!0,!0}});window.addEventListener("test",Zv,Zv),window.removeEventListener("test",Zv,Zv)}catch{mR=!1}var gd=mR?{passive:!1}:!1,G2=function(e){return e.tagName==="TEXTAREA"},dL=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!G2(e)&&s[t]==="visible")},B2=function(e){return dL(e,"overflowY")},V2=function(e){return dL(e,"overflowX")},ZP=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var n=hL(e,i);if(n){var o=fL(e,i),r=o[1],l=o[2];if(r>l)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},z2=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},W2=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},hL=function(e,t){return e==="v"?B2(t):V2(t)},fL=function(e,t){return e==="v"?z2(t):W2(t)},U2=function(e,t){return e==="h"&&t==="rtl"?-1:1},j2=function(e,t,s,i,n){var o=U2(e,window.getComputedStyle(t).direction),r=o*i,l=s.target,u=t.contains(l),d=!1,f=r>0,p=0,m=0;do{var C=fL(e,l),w=C[0],S=C[1],R=C[2],A=S-R-o*w;(w||A)&&hL(e,l)&&(p+=A,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Jv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JP=function(e){return[e.deltaX,e.deltaY]},eM=function(e){return e&&"current"in e?e.current:e},$2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},q2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K2=0,pd=[];function Y2(e){var t=x.useRef([]),s=x.useRef([0,0]),i=x.useRef(),n=x.useState(K2++)[0],o=x.useState(uL)[0],r=x.useRef(e);x.useEffect(function(){r.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var S=m2([e.lockRef.current],(e.shards||[]).map(eM),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!r.current.allowPinchZoom;var A=Jv(S),D=s.current,E="deltaX"in S?S.deltaX:D[0]-A[0],F="deltaY"in S?S.deltaY:D[1]-A[1],L,k=S.target,H=Math.abs(E)>Math.abs(F)?"h":"v";if("touches"in S&&H==="h"&&k.type==="range")return!1;var G=ZP(H,k);if(!G)return!0;if(G?L=H:(L=H==="v"?"h":"v",G=ZP(H,k)),!G)return!1;if(!i.current&&"changedTouches"in S&&(E||F)&&(i.current=L),!L)return!0;var W=i.current||L;return j2(W,R,S,W==="h"?E:F)},[]),u=x.useCallback(function(S){var R=S;if(!(!pd.length||pd[pd.length-1]!==o)){var A="deltaY"in R?JP(R):Jv(R),D=t.current.filter(function(L){return L.name===R.type&&(L.target===R.target||R.target===L.shadowParent)&&$2(L.delta,A)})[0];if(D&&D.should){R.cancelable&&R.preventDefault();return}if(!D){var E=(r.current.shards||[]).map(eM).filter(Boolean).filter(function(L){return L.contains(R.target)}),F=E.length>0?l(R,E[0]):!r.current.noIsolation;F&&R.cancelable&&R.preventDefault()}}},[]),d=x.useCallback(function(S,R,A,D){var E={name:S,delta:R,target:A,should:D,shadowParent:X2(A)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(F){return F!==E})},1)},[]),f=x.useCallback(function(S){s.current=Jv(S),i.current=void 0},[]),p=x.useCallback(function(S){d(S.type,JP(S),S.target,l(S,e.lockRef.current))},[]),m=x.useCallback(function(S){d(S.type,Jv(S),S.target,l(S,e.lockRef.current))},[]);x.useEffect(function(){return pd.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,gd),document.addEventListener("touchmove",u,gd),document.addEventListener("touchstart",f,gd),function(){pd=pd.filter(function(S){return S!==o}),document.removeEventListener("wheel",u,gd),document.removeEventListener("touchmove",u,gd),document.removeEventListener("touchstart",f,gd)}},[]);var C=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(o,{styles:q2(n)}):null,C?x.createElement(H2,{gapMode:e.gapMode}):null)}function X2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q2=A2(cL,Y2);var gL=x.forwardRef(function(e,t){return x.createElement(ow,Ho({},e,{ref:t,sideCar:Q2}))});gL.classNames=ow.classNames;function Vo(e){return Object.keys(e)}function x0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function AA(e,t){const s={...e},i=t;return x0(e)&&x0(t)&&Object.keys(t).forEach(n=>{x0(i[n])&&n in e?s[n]=AA(s[n],i[n]):s[n]=i[n]}),s}function Z2(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function J2(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function eV(e){const t=J2(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function A0(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function pL(e,{shouldScale:t=!1}={}){function s(i){if(i===0||i==="0")return`0${e}`;if(typeof i=="number"){const n=`${i/16}${e}`;return t?A0(n):n}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(o=>s(o)).join(",");if(i.includes(" "))return i.split(" ").map(o=>s(o)).join(" ");if(i.includes(e))return t?A0(i):i;const n=i.replace("px","");if(!Number.isNaN(Number(n))){const o=`${Number(n)/16}${e}`;return t?A0(o):o}}return i}return s}const Ce=pL("rem",{shouldScale:!0}),tM=pL("em");function EA(e){return Object.keys(e).reduce((t,s)=>(e[s]!==void 0&&(t[s]=e[s]),t),{})}function mL(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(i=>t.test(i))}return!1}function tV(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==x.Fragment:!1}function xm(e){const t=x.createContext(null);return[({children:n,value:o})=>N.jsx(t.Provider,{value:o,children:n}),()=>{const n=x.useContext(t);if(n===null)throw new Error(e);return n}]}function rw(e=null){const t=x.createContext(e);return[({children:n,value:o})=>N.jsx(t.Provider,{value:o,children:n}),()=>x.useContext(t)]}const sV={app:100,modal:200,popover:300,overlay:400,max:9999};function Cu(e){return sV[e]}const sM=()=>{};function vs(e,t="size",s=!0){if(e!==void 0)return mL(e)?s?Ce(e):e:`var(--${t}-${e})`}function dl(e){return vs(e,"mantine-spacing")}function Mn(e){return e===void 0?"var(--mantine-radius-default)":vs(e,"mantine-radius")}function vi(e){return vs(e,"mantine-font-size")}function iV(e){return vs(e,"mantine-line-height",!1)}function vL(e){if(e)return vs(e,"mantine-shadow",!1)}function eC(e,t){return s=>{e==null||e(s),t==null||t(s)}}function kd(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function vR(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function nV(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:i}=s;if(i!==Object.keys(t).length)return!1;for(let n=0;n<i;n+=1){const o=s[n];if(!(o in t)||e[o]!==t[o])return!1}return!0}function Xl(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>{var i;return(i=t.current)==null?void 0:i.call(t,...s)},[])}function aw(e,t){const s=typeof t=="number"?t:t.delay,i=typeof t=="number"?!1:t.flushOnUnmount,n=Xl(e),o=x.useRef(0),r=x.useRef(()=>{}),l=Object.assign(x.useCallback((...u)=>{window.clearTimeout(o.current);const d=()=>{o.current!==0&&(o.current=0,n(...u))};r.current=d,l.flush=d,o.current=window.setTimeout(d,s)},[n,s]),{flush:r.current});return x.useEffect(()=>()=>{window.clearTimeout(o.current),i&&l.flush()},[l,i]),l}function oV(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function rV(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function aV(e,t,{getInitialValueInEffect:s}={getInitialValueInEffect:!0}){const[i,n]=x.useState(s?t:rV(e)),o=x.useRef(null);return x.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),n(o.current.matches),oV(o.current,r=>n(r.matches))},[e]),i}const Am=typeof document<"u"?x.useLayoutEffect:x.useEffect;function CL(e,t){const s=x.useRef(!1);x.useEffect(()=>()=>{s.current=!1},[]),x.useEffect(()=>{if(s.current)return e();s.current=!0},t)}function lV({opened:e,shouldReturnFocus:t=!0}){const s=x.useRef(null),i=()=>{var n;s.current&&"focus"in s.current&&typeof s.current.focus=="function"&&((n=s.current)==null||n.focus({preventScroll:!0}))};return CL(()=>{let n=-1;const o=r=>{r.key==="Tab"&&window.clearTimeout(n)};return document.addEventListener("keydown",o),e?s.current=document.activeElement:t&&(n=window.setTimeout(i,10)),()=>{window.clearTimeout(n),document.removeEventListener("keydown",o)}},[e,t]),i}const cV=/input|select|textarea|button|object/,bL="a, input, select, textarea, button, object, [tabindex]";function uV(e){return e.style.display==="none"}function dV(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let s=e;for(;s&&!(s===document.body||s.nodeType===11);){if(uV(s))return!1;s=s.parentNode}return!0}function wL(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function CR(e){const t=e.nodeName.toLowerCase(),s=!Number.isNaN(wL(e));return(cV.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||s)&&dV(e)}function yL(e){const t=wL(e);return(Number.isNaN(t)||t>=0)&&CR(e)}function hV(e){return Array.from(e.querySelectorAll(bL)).filter(yL)}function fV(e,t){const s=hV(e);if(!s.length){t.preventDefault();return}const i=s[t.shiftKey?0:s.length-1],n=e.getRootNode();let o=i===n.activeElement||e===n.activeElement;const r=n.activeElement;if(r.tagName==="INPUT"&&r.getAttribute("type")==="radio"&&(o=s.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===r.getAttribute("name")).includes(i)),!o)return;t.preventDefault();const u=s[t.shiftKey?s.length-1:0];u&&u.focus()}function gV(e=!0){const t=x.useRef(null),s=n=>{let o=n.querySelector("[data-autofocus]");if(!o){const r=Array.from(n.querySelectorAll(bL));o=r.find(yL)||r.find(CR)||null,!o&&CR(n)&&(o=n)}o&&o.focus({preventScroll:!0})},i=x.useCallback(n=>{e&&n!==null&&t.current!==n&&(n?(setTimeout(()=>{n.getRootNode()&&s(n)}),t.current=n):t.current=null)},[e]);return x.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>s(t.current));const n=o=>{o.key==="Tab"&&t.current&&fV(t.current,o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e]),i}const pV=ve.useId||(()=>{});function mV(){const e=pV();return e?`mantine-${e.replace(/:/g,"")}`:""}function lw(e){const t=mV(),[s,i]=x.useState(t);return Am(()=>{i(vR())},[]),typeof e=="string"?e:typeof window>"u"?t:s}function bR(e,t,s){x.useEffect(()=>(window.addEventListener(e,t,s),()=>window.removeEventListener(e,t,s)),[e,t])}function Kg(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function vV(...e){const t=new Map;return s=>{if(e.forEach(i=>{const n=Kg(i,s);n&&t.set(i,n)}),t.size>0)return()=>{e.forEach(i=>{const n=t.get(i);n?n():Kg(i,null)}),t.clear()}}}function oo(...e){return x.useCallback(vV(...e),e)}function CV(e,t,s="ltr"){const i=x.useRef(null),n=x.useRef(!1),o=x.useRef(!1),r=x.useRef(0),[l,u]=x.useState(!1);return x.useEffect(()=>{n.current=!0},[]),x.useEffect(()=>{const d=i.current,f=({x:E,y:F})=>{cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(n.current&&d){d.style.userSelect="none";const L=d.getBoundingClientRect();if(L.width&&L.height){const k=kd((E-L.left)/L.width,0,1);e({x:s==="ltr"?k:1-k,y:kd((F-L.top)/L.height,0,1)})}}})},p=()=>{document.addEventListener("mousemove",R),document.addEventListener("mouseup",w),document.addEventListener("touchmove",D),document.addEventListener("touchend",w)},m=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",w)},C=()=>{!o.current&&n.current&&(o.current=!0,u(!0),p())},w=()=>{o.current&&n.current&&(o.current=!1,u(!1),m(),setTimeout(()=>{},0))},S=E=>{C(),E.preventDefault(),R(E)},R=E=>f({x:E.clientX,y:E.clientY}),A=E=>{E.cancelable&&E.preventDefault(),C(),D(E)},D=E=>{E.cancelable&&E.preventDefault(),f({x:E.changedTouches[0].clientX,y:E.changedTouches[0].clientY})};return d==null||d.addEventListener("mousedown",S),d==null||d.addEventListener("touchstart",A,{passive:!1}),()=>{d&&(d.removeEventListener("mousedown",S),d.removeEventListener("touchstart",A))}},[s,e]),{ref:i,active:l}}function Em({value:e,defaultValue:t,finalValue:s,onChange:i=()=>{}}){const[n,o]=x.useState(t!==void 0?t:s),r=(l,...u)=>{o(l),i==null||i(l,...u)};return e!==void 0?[e,i,!0]:[n,r,!1]}function Fa(e,t){const s=t-e+1;return Array.from({length:s},(i,n)=>n+e)}const tC="dots";function bV({total:e,siblings:t=1,boundaries:s=1,page:i,initialPage:n=1,onChange:o}){const r=Math.max(Math.trunc(e),0),[l,u]=Em({value:i,onChange:o,defaultValue:n,finalValue:n}),d=S=>{S<=0?u(1):S>r?u(r):u(S)},f=()=>d(l+1),p=()=>d(l-1),m=()=>d(1),C=()=>d(r);return{range:x.useMemo(()=>{if(t*2+3+s*2>=r)return Fa(1,r);const R=Math.max(l-t,s),A=Math.min(l+t,r-s),D=R>s+2,E=A<r-(s+1);if(!D&&E){const F=t*2+s+2;return[...Fa(1,F),tC,...Fa(r-(s-1),r)]}if(D&&!E){const F=s+1+2*t;return[...Fa(1,s),tC,...Fa(r-F,r)]}return[...Fa(1,s),tC,...Fa(R,A),tC,...Fa(r-s+1,r)]},[r,t,l]),active:l,setPage:d,next:f,previous:p,first:m,last:C}}function SL(e,t){return aV("(prefers-reduced-motion: reduce)",e,t)}const wV={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function yV(e){const t=x.useRef(0),s=x.useRef(null),[i,n]=x.useState(wV),o=x.useMemo(()=>typeof window<"u"?new ResizeObserver(r=>{const l=r[0];l&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var u,d;if(s.current){const f=((u=l.borderBoxSize)==null?void 0:u[0])||((d=l.contentBoxSize)==null?void 0:d[0]);if(f){const p=f.inlineSize,m=f.blockSize;n({width:p,height:m,x:l.contentRect.x,y:l.contentRect.y,top:l.contentRect.top,left:l.contentRect.left,bottom:l.contentRect.bottom,right:l.contentRect.right})}else n(l.contentRect)}}))}):null,[]);return x.useEffect(()=>(s.current&&(o==null||o.observe(s.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[s.current]),[s,i]}function SV(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!nV(e[s],t[s]))return!1;return!0}function RV(e){const t=x.useRef([]),s=x.useRef(0);return SV(t.current,e)||(t.current=e,s.current+=1),[s.current]}function xV(e,t){x.useEffect(e,RV(t))}const iM={passive:!0};function AV(){const[e,t]=x.useState({width:0,height:0}),s=x.useCallback(()=>{t({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return bR("resize",s,iM),bR("orientationchange",s,iM),x.useEffect(s,[]),e}function RL(e=!1,t){const{onOpen:s,onClose:i}={},[n,o]=x.useState(e),r=x.useCallback(()=>{o(d=>d||(s==null||s(),!0))},[s]),l=x.useCallback(()=>{o(d=>d&&(i==null||i(),!1))},[i]),u=x.useCallback(()=>{n?l():r()},[l,r,n]);return[n,{open:r,close:l,toggle:u}]}function EV(e,t,s={autoInvoke:!1}){const i=x.useRef(null),n=x.useCallback((...r)=>{i.current||(i.current=window.setTimeout(()=>{e(r),i.current=null},t))},[t]),o=x.useCallback(()=>{i.current&&(window.clearTimeout(i.current),i.current=null)},[]);return x.useEffect(()=>(s.autoInvoke&&n(),o),[o,n]),{start:n,clear:o}}function DV(e,t,s){const i=x.useRef(null),n=x.useRef(null);return x.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||n.current)&&(i.current=new MutationObserver(e),i.current.observe(o||n.current,t)),()=>{var r;(r=i.current)==null||r.disconnect()}},[e,t]),n}function TV(){const[e,t]=x.useState(!1);return x.useEffect(()=>t(!0),[]),e}var FV={};function PV(){return typeof process<"u"&&FV?"production":"development"}function xL(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=xL(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function _s(){for(var e,t,s=0,i="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=xL(e))&&(i&&(i+=" "),i+=t);return i}const MV={};function LV(e){const t={};return e.forEach(s=>{Object.entries(s).forEach(([i,n])=>{t[i]?t[i]=_s(t[i],n):t[i]=n})}),t}function cw({theme:e,classNames:t,props:s,stylesCtx:i}){const o=(Array.isArray(t)?t:[t]).map(r=>typeof r=="function"?r(e,s,i):r||MV);return LV(o)}function ub({theme:e,styles:t,props:s,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((o,r)=>typeof r=="function"?{...o,...r(e,s,i)}:{...o,...r},{})}const AL=x.createContext(null);function Rl(){const e=x.useContext(AL);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function kV(){return Rl().cssVariablesResolver}function IV(){return Rl().classNamesPrefix}function DA(){return Rl().getStyleNonce}function OV(){return Rl().withStaticClasses}function _V(){return Rl().headless}function NV(){var e;return(e=Rl().stylesTransform)==null?void 0:e.sx}function HV(){var e;return(e=Rl().stylesTransform)==null?void 0:e.styles}function EL(){return Rl().env||"default"}function GV(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function BV(e){let t=e.replace("#","");if(t.length===3){const r=t.split("");t=[r[0],r[0],r[1],r[1],r[2],r[2]].join("")}if(t.length===8){const r=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:r}}const s=parseInt(t,16),i=s>>16&255,n=s>>8&255,o=s&255;return{r:i,g:n,b:o,a:1}}function VV(e){const[t,s,i,n]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:s,b:i,a:n||1}}function zV(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,s=e.match(t);if(!s)return{r:0,g:0,b:0,a:1};const i=parseInt(s[1],10),n=parseInt(s[2],10)/100,o=parseInt(s[3],10)/100,r=s[5]?parseFloat(s[5]):void 0,l=(1-Math.abs(2*o-1))*n,u=i/60,d=l*(1-Math.abs(u%2-1)),f=o-l/2;let p,m,C;return u>=0&&u<1?(p=l,m=d,C=0):u>=1&&u<2?(p=d,m=l,C=0):u>=2&&u<3?(p=0,m=l,C=d):u>=3&&u<4?(p=0,m=d,C=l):u>=4&&u<5?(p=d,m=0,C=l):(p=l,m=0,C=d),{r:Math.round((p+f)*255),g:Math.round((m+f)*255),b:Math.round((C+f)*255),a:r||1}}function TA(e){return GV(e)?BV(e):e.startsWith("rgb")?VV(e):e.startsWith("hsl")?zV(e):{r:0,g:0,b:0,a:1}}function sC(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:s,g:i,b:n,a:o}=TA(e),r=1-t,l=u=>Math.round(u*r);return`rgba(${l(s)}, ${l(i)}, ${l(n)}, ${o})`}function Yg(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function E0(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function WV(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function UV(e){if(e.startsWith("oklch("))return(WV(e)||0)/100;const{r:t,g:s,b:i}=TA(e),n=t/255,o=s/255,r=i/255,l=E0(n),u=E0(o),d=E0(r);return .2126*l+.7152*u+.0722*d}function lg(e,t=.179){return e.startsWith("var(")?!1:UV(e)>t}function bu({color:e,theme:t,colorScheme:s}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:s==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:lg(s==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:s==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:lg(s==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:lg(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[i,n]=e.split("."),o=n?Number(n):void 0,r=i in t.colors;if(r){const l=o!==void 0?t.colors[i][o]:t.colors[i][Yg(t,s||"light")];return{color:i,value:l,shade:o,isThemeColor:r,isLight:lg(l,t.luminanceThreshold),variable:n?`--mantine-color-${i}-${o}`:`--mantine-color-${i}-filled`}}return{color:e,value:e,isThemeColor:r,isLight:lg(e,t.luminanceThreshold),shade:o,variable:void 0}}function Wo(e,t){const s=bu({color:e||t.primaryColor,theme:t});return s.variable?`var(${s.variable})`:e}function wR(e,t){const s={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},i=Wo(s.from,t),n=Wo(s.to,t);return`linear-gradient(${s.deg}deg, ${i} 0%, ${n} 100%)`}function Co(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:s,g:i,b:n}=TA(e);return`rgba(${s}, ${i}, ${n}, ${t})`}const md=Co,jV=({color:e,theme:t,variant:s,gradient:i,autoContrast:n})=>{const o=bu({color:e,theme:t}),r=typeof n=="boolean"?n:t.autoContrast;if(s==="filled"){const l=r&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${Ce(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:l,border:`${Ce(1)} solid transparent`}:{background:e,hover:sC(e,.1),color:l,border:`${Ce(1)} solid transparent`}}if(s==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`};const l=t.colors[o.color][o.shade];return{background:Co(l,.1),hover:Co(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ce(1)} solid transparent`}}return{background:Co(e,.1),hover:Co(e,.12),color:e,border:`${Ce(1)} solid transparent`}}if(s==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ce(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Co(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ce(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Co(e,.05),color:e,border:`${Ce(1)} solid ${e}`};if(s==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`};const l=t.colors[o.color][o.shade];return{background:"transparent",hover:Co(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ce(1)} solid transparent`}}return{background:"transparent",hover:Co(e,.12),color:e,border:`${Ce(1)} solid transparent`}}return s==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ce(1)} solid transparent`}:s==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:sC(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sC(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sC(t.white,.01),color:e,border:`${Ce(1)} solid transparent`}:s==="gradient"?{background:wR(i,t),hover:wR(i,t),color:"var(--mantine-color-white)",border:"none"}:s==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ce(1)} solid var(--mantine-color-default-border)`}:{}},$V={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},nM="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",uw={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:$V,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:jV,autoContrast:!1,luminanceThreshold:.3,fontFamily:nM,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:nM,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ce(34),lineHeight:"1.3"},h2:{fontSize:Ce(26),lineHeight:"1.35"},h3:{fontSize:Ce(22),lineHeight:"1.4"},h4:{fontSize:Ce(18),lineHeight:"1.45"},h5:{fontSize:Ce(16),lineHeight:"1.5"},h6:{fontSize:Ce(14),lineHeight:"1.5"}}},fontSizes:{xs:Ce(12),sm:Ce(14),md:Ce(16),lg:Ce(18),xl:Ce(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ce(2),sm:Ce(4),md:Ce(8),lg:Ce(16),xl:Ce(32)},spacing:{xs:Ce(10),sm:Ce(12),md:Ce(16),lg:Ce(20),xl:Ce(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), 0 ${Ce(1)} ${Ce(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(10)} ${Ce(15)} ${Ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ce(7)} ${Ce(7)} ${Ce(-5)}`,md:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(20)} ${Ce(25)} ${Ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ce(10)} ${Ce(10)} ${Ce(-5)}`,lg:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(28)} ${Ce(23)} ${Ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ce(12)} ${Ce(12)} ${Ce(-7)}`,xl:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(36)} ${Ce(28)} ${Ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ce(17)} ${Ce(17)} ${Ce(-7)}`},other:{},components:{}};function oM(e){return e==="auto"||e==="dark"||e==="light"}function qV({key:e="mantine-color-scheme-value"}={}){let t;return{get:s=>{if(typeof window>"u")return s;try{const i=window.localStorage.getItem(e);return oM(i)?i:s}catch{return s}},set:s=>{try{window.localStorage.setItem(e,s)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:s=>{t=i=>{i.storageArea===window.localStorage&&i.key===e&&oM(i.newValue)&&s(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const KV="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",rM="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function D0(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function aM(e){if(!(e.primaryColor in e.colors))throw new Error(KV);if(typeof e.primaryShade=="object"&&(!D0(e.primaryShade.dark)||!D0(e.primaryShade.light)))throw new Error(rM);if(typeof e.primaryShade=="number"&&!D0(e.primaryShade))throw new Error(rM)}function YV(e,t){var i;if(!t)return aM(e),e;const s=AA(e,t);return t.fontFamily&&!((i=t.headings)!=null&&i.fontFamily)&&(s.headings.fontFamily=t.fontFamily),aM(s),s}const FA=x.createContext(null),XV=()=>x.useContext(FA)||uw;function Jr(){const e=x.useContext(FA);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function DL({theme:e,children:t,inherit:s=!0}){const i=XV(),n=x.useMemo(()=>YV(s?i:uw,e),[e,i,s]);return N.jsx(FA.Provider,{value:n,children:t})}DL.displayName="@mantine/core/MantineThemeProvider";function QV(){const e=Jr(),t=DA(),s=Vo(e.breakpoints).reduce((i,n)=>{const o=e.breakpoints[n].includes("px"),r=eV(e.breakpoints[n]),l=o?`${r-.1}px`:tM(r-.1),u=o?`${r}px`:tM(r);return`${i}@media (max-width: ${l}) {.mantine-visible-from-${n} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${n} {display: none !important;}}`},"");return N.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:s}})}function T0(e){return Object.entries(e).map(([t,s])=>`${t}: ${s};`).join("")}function cg(e,t){return(Array.isArray(e)?e:[e]).reduce((i,n)=>`${n}{${i}}`,t)}function ZV(e,t){const s=T0(e.variables),i=s?cg(t,s):"",n=T0(e.dark),o=T0(e.light),r=n?cg(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,n):"",l=o?cg(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${i}${r}${l}`}function Dm({color:e,theme:t,autoContrast:s}){return(typeof s=="boolean"?s:t.autoContrast)&&bu({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function lM(e,t){return Dm({color:e.colors[e.primaryColor][Yg(e,t)],theme:e,autoContrast:null})}function iC({theme:e,color:t,colorScheme:s,name:i=t,withColorValues:n=!0}){if(!e.colors[t])return{};if(s==="light"){const l=Yg(e,"light"),u={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${l})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${l===9?8:l+1})`,[`--mantine-color-${i}-light`]:md(e.colors[t][l],.1),[`--mantine-color-${i}-light-hover`]:md(e.colors[t][l],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${l})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${l})`,[`--mantine-color-${i}-outline-hover`]:md(e.colors[t][l],.05)};return n?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...u}:u}const o=Yg(e,"dark"),r={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${o})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${o===9?8:o+1})`,[`--mantine-color-${i}-light`]:md(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${i}-light-hover`]:md(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(o-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(o-4,0)})`,[`--mantine-color-${i}-outline-hover`]:md(e.colors[t][Math.max(o-4,0)],.05)};return n?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...r}:r}function JV(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function vd(e,t,s){Vo(t).forEach(i=>Object.assign(e,{[`--mantine-${s}-${i}`]:t[i]}))}const TL=e=>{const t=Yg(e,"light"),s=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ce(e.defaultRadius),i={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":s,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":lM(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":lM(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};vd(i.variables,e.breakpoints,"breakpoint"),vd(i.variables,e.spacing,"spacing"),vd(i.variables,e.fontSizes,"font-size"),vd(i.variables,e.lineHeights,"line-height"),vd(i.variables,e.shadows,"shadow"),vd(i.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,r)=>{i.variables[`--mantine-primary-color-${r}`]=`var(--mantine-color-${e.primaryColor}-${r})`}),Vo(e.colors).forEach(o=>{const r=e.colors[o];if(JV(r)){Object.assign(i.light,iC({theme:e,name:r.name,color:r.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,iC({theme:e,name:r.name,color:r.dark,colorScheme:"dark",withColorValues:!0}));return}r.forEach((l,u)=>{i.variables[`--mantine-color-${o}-${u}`]=l}),Object.assign(i.light,iC({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,iC({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const n=e.headings.sizes;return Vo(n).forEach(o=>{i.variables[`--mantine-${o}-font-size`]=n[o].fontSize,i.variables[`--mantine-${o}-line-height`]=n[o].lineHeight,i.variables[`--mantine-${o}-font-weight`]=n[o].fontWeight||e.headings.fontWeight}),i};function ez({theme:e,generator:t}){const s=TL(e),i=t==null?void 0:t(e);return i?AA(s,i):s}const F0=TL(uw);function tz(e){const t={variables:{},light:{},dark:{}};return Vo(e.variables).forEach(s=>{F0.variables[s]!==e.variables[s]&&(t.variables[s]=e.variables[s])}),Vo(e.light).forEach(s=>{F0.light[s]!==e.light[s]&&(t.light[s]=e.light[s])}),Vo(e.dark).forEach(s=>{F0.dark[s]!==e.dark[s]&&(t.dark[s]=e.dark[s])}),t}function sz(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function FL({cssVariablesSelector:e,deduplicateCssVariables:t}){const s=Jr(),i=DA(),n=kV(),o=ez({theme:s,generator:n}),r=e===":root"&&t,l=r?tz(o):o,u=ZV(l,e);return u?N.jsx("style",{"data-mantine-styles":!0,nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:`${u}${r?"":sz(e)}`}}):null}FL.displayName="@mantine/CssVariables";function iz(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Cd(e,t){var n,o;const s=typeof window<"u"&&"matchMedia"in window&&((n=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:n.matches),i=e!=="auto"?e:s?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",i)}function nz({manager:e,defaultColorScheme:t,getRootElement:s,forceColorScheme:i}){const n=x.useRef(null),[o,r]=x.useState(()=>e.get(t)),l=i||o,u=x.useCallback(f=>{i||(Cd(f,s),r(f),e.set(f))},[e.set,l,i]),d=x.useCallback(()=>{r(t),Cd(t,s),e.clear()},[e.clear,t]);return x.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Am(()=>{Cd(e.get(t),s)},[]),x.useEffect(()=>{var p;if(i)return Cd(i,s),()=>{};i===void 0&&Cd(o,s),typeof window<"u"&&"matchMedia"in window&&(n.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=m=>{o==="auto"&&Cd(m.matches?"dark":"light",s)};return(p=n.current)==null||p.addEventListener("change",f),()=>{var m;return(m=n.current)==null?void 0:m.removeEventListener("change",f)}},[o,i]),{colorScheme:l,setColorScheme:u,clearColorScheme:d}}function oz({respectReducedMotion:e,getRootElement:t}){Am(()=>{var s;e&&((s=t())==null||s.setAttribute("data-respect-reduced-motion","true"))},[e])}iz();function PL({theme:e,children:t,getStyleNonce:s,withStaticClasses:i=!0,withGlobalClasses:n=!0,deduplicateCssVariables:o=!0,withCssVariables:r=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=qV(),defaultColorScheme:f="light",getRootElement:p=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:C,stylesTransform:w,env:S}){const{colorScheme:R,setColorScheme:A,clearColorScheme:D}=nz({defaultColorScheme:f,forceColorScheme:C,manager:d,getRootElement:p});return oz({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:p}),N.jsx(AL.Provider,{value:{colorScheme:R,setColorScheme:A,clearColorScheme:D,getRootElement:p,classNamesPrefix:u,getStyleNonce:s,cssVariablesResolver:m,cssVariablesSelector:l,withStaticClasses:i,stylesTransform:w,env:S},children:N.jsxs(DL,{theme:e,children:[r&&N.jsx(FL,{cssVariablesSelector:l,deduplicateCssVariables:o}),n&&N.jsx(QV,{}),t]})})}PL.displayName="@mantine/core/MantineProvider";function ML({classNames:e,styles:t,props:s,stylesCtx:i}){const n=Jr();return{resolvedClassNames:cw({theme:n,classNames:e,props:s,stylesCtx:i||void 0}),resolvedStyles:ub({theme:n,styles:t,props:s,stylesCtx:i||void 0})}}const rz={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function az({theme:e,options:t,unstyled:s}){return _s((t==null?void 0:t.focusable)&&!s&&(e.focusClassName||rz[e.focusRing]),(t==null?void 0:t.active)&&!s&&e.activeClassName)}function lz({selector:e,stylesCtx:t,options:s,props:i,theme:n}){return cw({theme:n,classNames:s==null?void 0:s.classNames,props:(s==null?void 0:s.props)||i,stylesCtx:t})[e]}function cM({selector:e,stylesCtx:t,theme:s,classNames:i,props:n}){return cw({theme:s,classNames:i,props:n,stylesCtx:t})[e]}function cz({rootSelector:e,selector:t,className:s}){return e===t?s:void 0}function uz({selector:e,classes:t,unstyled:s}){return s?void 0:t[e]}function dz({themeName:e,classNamesPrefix:t,selector:s,withStaticClass:i}){return i===!1?[]:e.map(n=>`${t}-${n}-${s}`)}function hz({themeName:e,theme:t,selector:s,props:i,stylesCtx:n}){return e.map(o=>{var r,l;return(l=cw({theme:t,classNames:(r=t.components[o])==null?void 0:r.classNames,props:i,stylesCtx:n}))==null?void 0:l[s]})}function fz({options:e,classes:t,selector:s,unstyled:i}){return e!=null&&e.variant&&!i?t[`${s}--${e.variant}`]:void 0}function gz({theme:e,options:t,themeName:s,selector:i,classNamesPrefix:n,classNames:o,classes:r,unstyled:l,className:u,rootSelector:d,props:f,stylesCtx:p,withStaticClasses:m,headless:C,transformedStyles:w}){return _s(az({theme:e,options:t,unstyled:l||C}),hz({theme:e,themeName:s,selector:i,props:f,stylesCtx:p}),fz({options:t,classes:r,selector:i,unstyled:l}),cM({selector:i,stylesCtx:p,theme:e,classNames:o,props:f}),cM({selector:i,stylesCtx:p,theme:e,classNames:w,props:f}),lz({selector:i,stylesCtx:p,options:t,props:f,theme:e}),cz({rootSelector:d,selector:i,className:u}),uz({selector:i,classes:r,unstyled:l||C}),m&&!C&&dz({themeName:s,classNamesPrefix:n,selector:i,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function pz({theme:e,themeName:t,props:s,stylesCtx:i,selector:n}){return t.map(o=>{var r;return ub({theme:e,styles:(r=e.components[o])==null?void 0:r.styles,props:s,stylesCtx:i})[n]}).reduce((o,r)=>({...o,...r}),{})}function yR({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((s,i)=>({...s,...yR({style:i,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function mz(e){return e.reduce((t,s)=>(s&&Object.keys(s).forEach(i=>{t[i]={...t[i],...EA(s[i])}}),t),{})}function vz({vars:e,varsResolver:t,theme:s,props:i,stylesCtx:n,selector:o,themeName:r,headless:l}){var u;return(u=mz([l?{}:t==null?void 0:t(s,i,n),...r.map(d=>{var f,p,m;return(m=(p=(f=s.components)==null?void 0:f[d])==null?void 0:p.vars)==null?void 0:m.call(p,s,i,n)}),e==null?void 0:e(s,i,n)]))==null?void 0:u[o]}function Cz({theme:e,themeName:t,selector:s,options:i,props:n,stylesCtx:o,rootSelector:r,styles:l,style:u,vars:d,varsResolver:f,headless:p,withStylesTransform:m}){return{...!m&&pz({theme:e,themeName:t,props:n,stylesCtx:o,selector:s}),...!m&&ub({theme:e,styles:l,props:n,stylesCtx:o})[s],...!m&&ub({theme:e,styles:i==null?void 0:i.styles,props:(i==null?void 0:i.props)||n,stylesCtx:o})[s],...vz({theme:e,props:n,stylesCtx:o,vars:d,varsResolver:f,selector:s,themeName:t,headless:p}),...r===s?yR({style:u,theme:e}):null,...yR({style:i==null?void 0:i.style,theme:e})}}function bz({props:e,stylesCtx:t,themeName:s}){var r;const i=Jr(),n=(r=HV())==null?void 0:r();return{getTransformedStyles:l=>n?[...l.map(d=>n(d,{props:e,theme:i,ctx:t})),...s.map(d=>{var f;return n((f=i.components[d])==null?void 0:f.styles,{props:e,theme:i,ctx:t})})].filter(Boolean):[],withStylesTransform:!!n}}function At({name:e,classes:t,props:s,stylesCtx:i,className:n,style:o,rootSelector:r="root",unstyled:l,classNames:u,styles:d,vars:f,varsResolver:p}){const m=Jr(),C=IV(),w=OV(),S=_V(),R=(Array.isArray(e)?e:[e]).filter(E=>E),{withStylesTransform:A,getTransformedStyles:D}=bz({props:s,stylesCtx:i,themeName:R});return(E,F)=>({className:gz({theme:m,options:F,themeName:R,selector:E,classNamesPrefix:C,classNames:u,classes:t,unstyled:l,className:n,rootSelector:r,props:s,stylesCtx:i,withStaticClasses:w,headless:S,transformedStyles:D([F==null?void 0:F.styles,d])}),style:Cz({theme:m,themeName:R,selector:E,options:F,props:s,stylesCtx:i,rootSelector:r,styles:d,style:o,vars:f,varsResolver:p,headless:S,withStylesTransform:A})})}function PA(e,t){return typeof e=="boolean"?e:t.autoContrast}function We(e,t,s){var r;const i=Jr(),n=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof n=="function"?n(i):n;return{...t,...o,...EA(s)}}function P0(e){return Vo(e).reduce((t,s)=>e[s]!==void 0?`${t}${Z2(s)}:${e[s]};`:t,"").trim()}function wz({selector:e,styles:t,media:s,container:i}){const n=t?P0(t):"",o=Array.isArray(s)?s.map(l=>`@media${l.query}{${e}{${P0(l.styles)}}}`):[],r=Array.isArray(i)?i.map(l=>`@container ${l.query}{${e}{${P0(l.styles)}}}`):[];return`${n?`${e}{${n}}`:""}${o.join("")}${r.join("")}`.trim()}function yz(e){const t=DA();return N.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:wz(e)}})}function dw(e){const{m:t,mx:s,my:i,mt:n,mb:o,ml:r,mr:l,me:u,ms:d,p:f,px:p,py:m,pt:C,pb:w,pl:S,pr:R,pe:A,ps:D,bd:E,bg:F,c:L,opacity:k,ff:H,fz:G,fw:W,lts:q,ta:K,lh:Z,fs:Y,tt:re,td:ne,w:B,miw:z,maw:U,h:ue,mih:_,mah:$,bgsz:X,bgp:J,bgr:le,bga:ge,pos:me,top:Ae,left:Ie,bottom:it,right:De,inset:Nt,display:Bt,flex:Me,hiddenFrom:Ne,visibleFrom:$e,lightHidden:nt,darkHidden:he,sx:we,...Fe}=e;return{styleProps:EA({m:t,mx:s,my:i,mt:n,mb:o,ml:r,mr:l,me:u,ms:d,p:f,px:p,py:m,pt:C,pb:w,pl:S,pr:R,pe:A,ps:D,bd:E,bg:F,c:L,opacity:k,ff:H,fz:G,fw:W,lts:q,ta:K,lh:Z,fs:Y,tt:re,td:ne,w:B,miw:z,maw:U,h:ue,mih:_,mah:$,bgsz:X,bgp:J,bgr:le,bga:ge,pos:me,top:Ae,left:Ie,bottom:it,right:De,inset:Nt,display:Bt,flex:Me,hiddenFrom:Ne,visibleFrom:$e,lightHidden:nt,darkHidden:he,sx:we}),rest:Fe}}const Sz={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function MA(e,t){const s=bu({color:e,theme:t});return s.color==="dimmed"?"var(--mantine-color-dimmed)":s.color==="bright"?"var(--mantine-color-bright)":s.variable?`var(${s.variable})`:s.color}function Rz(e,t){const s=bu({color:e,theme:t});return s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-text)`:MA(e,t)}function xz(e,t){if(typeof e=="number")return Ce(e);if(typeof e=="string"){const[s,i,...n]=e.split(" ").filter(r=>r.trim()!=="");let o=`${Ce(s)}`;return i&&(o+=` ${i}`),n.length>0&&(o+=` ${MA(n.join(" "),t)}`),o.trim()}return e}const uM={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Az(e){return typeof e=="string"&&e in uM?uM[e]:e}const Ez=["h1","h2","h3","h4","h5","h6"];function Dz(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&Ez.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ce(e):e}function Tz(e){return e}const Fz=["h1","h2","h3","h4","h5","h6"];function Pz(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&Fz.includes(e)?`var(--mantine-${e}-line-height)`:e}function Mz(e){return typeof e=="number"?Ce(e):e}function Lz(e,t){if(typeof e=="number")return Ce(e);if(typeof e=="string"){const s=e.replace("-","");if(!(s in t.spacing))return Ce(e);const i=`--mantine-spacing-${s}`;return e.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return e}const M0={color:MA,textColor:Rz,fontSize:Dz,spacing:Lz,identity:Tz,size:Mz,lineHeight:Pz,fontFamily:Az,border:xz};function dM(e){return e.replace("(min-width: ","").replace("em)","")}function kz({media:e,...t}){const i=Object.keys(e).sort((n,o)=>Number(dM(n))-Number(dM(o))).map(n=>({query:n,styles:e[n]}));return{...t,media:i}}function Iz(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function Oz(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function _z(e){return typeof e=="object"&&e!==null?Vo(e).filter(t=>t!=="base"):[]}function Nz(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Hz({styleProps:e,data:t,theme:s}){return kz(Vo(e).reduce((i,n)=>{if(n==="hiddenFrom"||n==="visibleFrom"||n==="sx")return i;const o=t[n],r=Array.isArray(o.property)?o.property:[o.property],l=Oz(e[n]);if(!Iz(e[n]))return r.forEach(d=>{i.inlineStyles[d]=M0[o.type](l,s)}),i;i.hasResponsiveStyles=!0;const u=_z(e[n]);return r.forEach(d=>{l&&(i.styles[d]=M0[o.type](l,s)),u.forEach(f=>{const p=`(min-width: ${s.breakpoints[f]})`;i.media[p]={...i.media[p],[d]:M0[o.type](Nz(e[n],f),s)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Gz(){return`__m__-${x.useId().replace(/:/g,"")}`}function LL(e){return e.startsWith("data-")?e:`data-${e}`}function Bz(e){return Object.keys(e).reduce((t,s)=>{const i=e[s];return i===void 0||i===""||i===!1||i===null||(t[LL(s)]=e[s]),t},{})}function kL(e){return e?typeof e=="string"?{[LL(e)]:!0}:Array.isArray(e)?[...e].reduce((t,s)=>({...t,...kL(s)}),{}):Bz(e):null}function SR(e,t){return Array.isArray(e)?[...e].reduce((s,i)=>({...s,...SR(i,t)}),{}):typeof e=="function"?e(t):e??{}}function Vz({theme:e,style:t,vars:s,styleProps:i}){const n=SR(t,e),o=SR(s,e);return{...n,...o,...i}}const IL=x.forwardRef(({component:e,style:t,__vars:s,className:i,variant:n,mod:o,size:r,hiddenFrom:l,visibleFrom:u,lightHidden:d,darkHidden:f,renderRoot:p,__size:m,...C},w)=>{var G;const S=Jr(),R=e||"div",{styleProps:A,rest:D}=dw(C),E=NV(),F=(G=E==null?void 0:E())==null?void 0:G(A.sx),L=Gz(),k=Hz({styleProps:A,theme:S,data:Sz}),H={ref:w,style:Vz({theme:S,style:t,vars:s,styleProps:k.inlineStyles}),className:_s(i,F,{[L]:k.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":n,"data-size":mL(r)?void 0:r||void 0,size:m,...kL(o),...D};return N.jsxs(N.Fragment,{children:[k.hasResponsiveStyles&&N.jsx(yz,{selector:`.${L}`,styles:k.styles,media:k.media}),typeof p=="function"?p(H):N.jsx(R,{...H})]})});IL.displayName="@mantine/core/Box";const Qe=IL;function OL(e){return e}function ft(e){const t=x.forwardRef(e);return t.extend=OL,t.withProps=s=>{const i=x.forwardRef((n,o)=>N.jsx(t,{...s,...n,ref:o}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t}function xl(e){const t=x.forwardRef(e);return t.withProps=s=>{const i=x.forwardRef((n,o)=>N.jsx(t,{...s,...n,ref:o}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t.extend=OL,t}const zz=x.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Wz(){return x.useContext(zz)}var hw=rL();const _L=RA(hw);function Uz(e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})},e)}const[jz,Ln]=xm("ScrollArea.Root component was not found in tree");function Uh(e,t){const s=Xl(t);Am(()=>{let i=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(i),n.unobserve(e)}}},[e,s])}const $z=x.forwardRef((e,t)=>{const{style:s,...i}=e,n=Ln(),[o,r]=x.useState(0),[l,u]=x.useState(0),d=!!(o&&l);return Uh(n.scrollbarX,()=>{var p;const f=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(f),u(f)}),Uh(n.scrollbarY,()=>{var p;const f=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(f),r(f)}),d?N.jsx("div",{...i,ref:t,style:{...s,width:o,height:l}}):null}),qz=x.forwardRef((e,t)=>{const s=Ln(),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?N.jsx($z,{...e,ref:t}):null}),Kz={scrollHideDelay:1e3,type:"hover"},NL=x.forwardRef((e,t)=>{const s=We("ScrollAreaRoot",Kz,e),{type:i,scrollHideDelay:n,scrollbars:o,...r}=s,[l,u]=x.useState(null),[d,f]=x.useState(null),[p,m]=x.useState(null),[C,w]=x.useState(null),[S,R]=x.useState(null),[A,D]=x.useState(0),[E,F]=x.useState(0),[L,k]=x.useState(!1),[H,G]=x.useState(!1),W=oo(t,q=>u(q));return N.jsx(jz,{value:{type:i,scrollHideDelay:n,scrollArea:l,viewport:d,onViewportChange:f,content:p,onContentChange:m,scrollbarX:C,onScrollbarXChange:w,scrollbarXEnabled:L,onScrollbarXEnabledChange:k,scrollbarY:S,onScrollbarYChange:R,scrollbarYEnabled:H,onScrollbarYEnabledChange:G,onCornerWidthChange:D,onCornerHeightChange:F},children:N.jsx(Qe,{...r,ref:W,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${A}px`,"--sa-corner-height":o!=="xy"?"0px":`${E}px`}})})});NL.displayName="@mantine/core/ScrollAreaRoot";function HL(e,t){const s=e/t;return Number.isNaN(s)?0:s}function fw(e){const t=HL(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function GL(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function Yz(e,[t,s]){return Math.min(s,Math.max(t,e))}function hM(e,t,s="ltr"){const i=fw(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-n,r=t.content-t.viewport,l=o-i,u=s==="ltr"?[0,r]:[r*-1,0],d=Yz(e,u);return GL([0,r],[0,l])(d)}function Xz(e,t,s,i="ltr"){const n=fw(s),o=n/2,r=t||o,l=n-r,u=s.scrollbar.paddingStart+r,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,f=s.content-s.viewport,p=i==="ltr"?[0,f]:[f*-1,0];return GL([u,d],p)(e)}function BL(e,t){return e>0&&e<t}function hl(e){return e?parseInt(e,10):0}function Zc(e,t,{checkForDefaultPrevented:s=!0}={}){return i=>{e==null||e(i),(s===!1||!i.defaultPrevented)&&(t==null||t(i))}}const[Qz,VL]=xm("ScrollAreaScrollbar was not found in tree"),zL=x.forwardRef((e,t)=>{const{sizes:s,hasThumb:i,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:r,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=e,m=Ln(),[C,w]=x.useState(null),S=oo(t,G=>w(G)),R=x.useRef(null),A=x.useRef(""),{viewport:D}=m,E=s.content-s.viewport,F=Xl(d),L=Xl(l),k=aw(f,10),H=G=>{if(R.current){const W=G.clientX-R.current.left,q=G.clientY-R.current.top;u({x:W,y:q})}};return x.useEffect(()=>{const G=W=>{const q=W.target;(C==null?void 0:C.contains(q))&&F(W,E)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[D,C,E,F]),x.useEffect(L,[s,L]),Uh(C,k),Uh(m.content,k),N.jsx(Qz,{value:{scrollbar:C,hasThumb:i,onThumbChange:Xl(n),onThumbPointerUp:Xl(o),onThumbPositionChange:L,onThumbPointerDown:Xl(r)},children:N.jsx("div",{...p,ref:S,"data-mantine-scrollbar":!0,style:{position:"absolute",...p.style},onPointerDown:Zc(e.onPointerDown,G=>{G.preventDefault(),G.button===0&&(G.target.setPointerCapture(G.pointerId),R.current=C.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",H(G))}),onPointerMove:Zc(e.onPointerMove,H),onPointerUp:Zc(e.onPointerUp,G=>{const W=G.target;W.hasPointerCapture(G.pointerId)&&(G.preventDefault(),W.releasePointerCapture(G.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=A.current,R.current=null}})})}),WL=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,style:n,...o}=e,r=Ln(),[l,u]=x.useState(),d=x.useRef(null),f=oo(t,d,r.onScrollbarXChange);return x.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),N.jsx(zL,{"data-orientation":"horizontal",...o,ref:f,sizes:s,style:{...n,"--sa-thumb-width":`${fw(s)}px`},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(r.viewport){const C=r.viewport.scrollLeft+p.deltaX;e.onWheelScroll(C),BL(C,m)&&p.preventDefault()}},onResize:()=>{d.current&&r.viewport&&l&&i({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:hl(l.paddingLeft),paddingEnd:hl(l.paddingRight)}})}})});WL.displayName="@mantine/core/ScrollAreaScrollbarX";const UL=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,style:n,...o}=e,r=Ln(),[l,u]=x.useState(),d=x.useRef(null),f=oo(t,d,r.onScrollbarYChange);return x.useEffect(()=>{d.current&&u(window.getComputedStyle(d.current))},[]),N.jsx(zL,{...o,"data-orientation":"vertical",ref:f,sizes:s,style:{"--sa-thumb-height":`${fw(s)}px`,...n},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(r.viewport){const C=r.viewport.scrollTop+p.deltaY;e.onWheelScroll(C),BL(C,m)&&p.preventDefault()}},onResize:()=>{d.current&&r.viewport&&l&&i({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:hl(l.paddingTop),paddingEnd:hl(l.paddingBottom)}})}})});UL.displayName="@mantine/core/ScrollAreaScrollbarY";const gw=x.forwardRef((e,t)=>{const{orientation:s="vertical",...i}=e,{dir:n}=Wz(),o=Ln(),r=x.useRef(null),l=x.useRef(0),[u,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=HL(u.viewport,u.content),p={...i,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:C=>{r.current=C},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:C=>{l.current=C}},m=(C,w)=>Xz(C,l.current,u,w);return s==="horizontal"?N.jsx(WL,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&r.current){const C=o.viewport.scrollLeft,w=hM(C,u,n);r.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollLeft=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollLeft=m(C,n))}}):s==="vertical"?N.jsx(UL,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&r.current){const C=o.viewport.scrollTop,w=hM(C,u);u.scrollbar.size===0?r.current.style.setProperty("--thumb-opacity","0"):r.current.style.setProperty("--thumb-opacity","1"),r.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollTop=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollTop=m(C))}}):null});gw.displayName="@mantine/core/ScrollAreaScrollbarVisible";const LA=x.forwardRef((e,t)=>{const s=Ln(),{forceMount:i,...n}=e,[o,r]=x.useState(!1),l=e.orientation==="horizontal",u=aw(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,f=s.viewport.offsetHeight<s.viewport.scrollHeight;r(l?d:f)}},10);return Uh(s.viewport,u),Uh(s.content,u),i||o?N.jsx(gw,{"data-state":o?"visible":"hidden",...n,ref:t}):null});LA.displayName="@mantine/core/ScrollAreaScrollbarAuto";const jL=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,n=Ln(),[o,r]=x.useState(!1);return x.useEffect(()=>{const{scrollArea:l}=n;let u=0;if(l){const d=()=>{window.clearTimeout(u),r(!0)},f=()=>{u=window.setTimeout(()=>r(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[n.scrollArea,n.scrollHideDelay]),s||o?N.jsx(LA,{"data-state":o?"visible":"hidden",...i,ref:t}):null});jL.displayName="@mantine/core/ScrollAreaScrollbarHover";const Zz=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,n=Ln(),o=e.orientation==="horizontal",[r,l]=x.useState("hidden"),u=aw(()=>l("idle"),100);return x.useEffect(()=>{if(r==="idle"){const d=window.setTimeout(()=>l("hidden"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[r,n.scrollHideDelay]),x.useEffect(()=>{const{viewport:d}=n,f=o?"scrollLeft":"scrollTop";if(d){let p=d[f];const m=()=>{const C=d[f];p!==C&&(l("scrolling"),u()),p=C};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[n.viewport,o,u]),s||r!=="hidden"?N.jsx(gw,{"data-state":r==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Zc(e.onPointerEnter,()=>l("interacting")),onPointerLeave:Zc(e.onPointerLeave,()=>l("idle"))}):null}),RR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,n=Ln(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:r}=n,l=e.orientation==="horizontal";return x.useEffect(()=>(l?o(!0):r(!0),()=>{l?o(!1):r(!1)}),[l,o,r]),n.type==="hover"?N.jsx(jL,{...i,ref:t,forceMount:s}):n.type==="scroll"?N.jsx(Zz,{...i,ref:t,forceMount:s}):n.type==="auto"?N.jsx(LA,{...i,ref:t,forceMount:s}):n.type==="always"?N.jsx(gw,{...i,ref:t}):null});RR.displayName="@mantine/core/ScrollAreaScrollbar";function Jz(e,t=()=>{}){let s={left:e.scrollLeft,top:e.scrollTop},i=0;return function n(){const o={left:e.scrollLeft,top:e.scrollTop},r=s.left!==o.left,l=s.top!==o.top;(r||l)&&t(),s=o,i=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(i)}const $L=x.forwardRef((e,t)=>{const{style:s,...i}=e,n=Ln(),o=VL(),{onThumbPositionChange:r}=o,l=oo(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=aw(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const{viewport:f}=n;if(f){const p=()=>{if(d(),!u.current){const m=Jz(f,r);u.current=m,r()}};return r(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[n.viewport,d,r]),N.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...s},onPointerDownCapture:Zc(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),C=f.clientX-m.left,w=f.clientY-m.top;o.onThumbPointerDown({x:C,y:w})}),onPointerUp:Zc(e.onPointerUp,o.onThumbPointerUp)})});$L.displayName="@mantine/core/ScrollAreaThumb";const xR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,n=VL();return s||n.hasThumb?N.jsx($L,{ref:t,...i}):null});xR.displayName="@mantine/core/ScrollAreaThumb";const qL=x.forwardRef(({children:e,style:t,...s},i)=>{const n=Ln(),o=oo(i,n.onViewportChange);return N.jsx(Qe,{...s,ref:o,style:{overflowX:n.scrollbarXEnabled?"scroll":"hidden",overflowY:n.scrollbarYEnabled?"scroll":"hidden",...t},children:N.jsx("div",{style:{minWidth:"100%"},ref:n.onContentChange,children:e})})});qL.displayName="@mantine/core/ScrollAreaViewport";var kA={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const KL={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},eW=(e,{scrollbarSize:t,overscrollBehavior:s})=>({root:{"--scrollarea-scrollbar-size":Ce(t),"--scrollarea-over-scroll-behavior":s}}),Tm=ft((e,t)=>{const s=We("ScrollArea",KL,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,scrollbarSize:u,vars:d,type:f,scrollHideDelay:p,viewportProps:m,viewportRef:C,onScrollPositionChange:w,children:S,offsetScrollbars:R,scrollbars:A,onBottomReached:D,onTopReached:E,overscrollBehavior:F,...L}=s,[k,H]=x.useState(!1),[G,W]=x.useState(!1),[q,K]=x.useState(!1),Z=At({name:"ScrollArea",props:s,classes:kA,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:d,varsResolver:eW}),Y=x.useRef(null),re=Uz([C,Y]);return x.useEffect(()=>{if(!Y.current||R!=="present")return;const ne=Y.current,B=new ResizeObserver(()=>{const{scrollHeight:z,clientHeight:U,scrollWidth:ue,clientWidth:_}=ne;W(z>U),K(ue>_)});return B.observe(ne),()=>B.disconnect()},[Y,R]),N.jsxs(NL,{type:f==="never"?"always":f,scrollHideDelay:p,ref:t,scrollbars:A,...Z("root"),...L,children:[N.jsx(qL,{...m,...Z("viewport",{style:m==null?void 0:m.style}),ref:re,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":A||void 0,"data-horizontal-hidden":R==="present"&&!q?"true":void 0,"data-vertical-hidden":R==="present"&&!G?"true":void 0,onScroll:ne=>{var ue;(ue=m==null?void 0:m.onScroll)==null||ue.call(m,ne),w==null||w({x:ne.currentTarget.scrollLeft,y:ne.currentTarget.scrollTop});const{scrollTop:B,scrollHeight:z,clientHeight:U}=ne.currentTarget;B-(z-U)>=0&&(D==null||D()),B===0&&(E==null||E())},children:S}),(A==="xy"||A==="x")&&N.jsx(RR,{...Z("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||R==="present"&&!q?!0:void 0,forceMount:!0,onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:N.jsx(xR,{...Z("thumb")})}),(A==="xy"||A==="y")&&N.jsx(RR,{...Z("scrollbar"),orientation:"vertical","data-hidden":f==="never"||R==="present"&&!G?!0:void 0,forceMount:!0,onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:N.jsx(xR,{...Z("thumb")})}),N.jsx(qz,{...Z("corner"),"data-hovered":k||void 0,"data-hidden":f==="never"||void 0})]})});Tm.displayName="@mantine/core/ScrollArea";const IA=ft((e,t)=>{const{children:s,classNames:i,styles:n,scrollbarSize:o,scrollHideDelay:r,type:l,dir:u,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:p,unstyled:m,variant:C,viewportProps:w,scrollbars:S,style:R,vars:A,onBottomReached:D,onTopReached:E,...F}=We("ScrollAreaAutosize",KL,e);return N.jsx(Qe,{...F,ref:t,style:[{display:"flex",overflow:"auto"},R],children:N.jsx(Qe,{style:{display:"flex",flexDirection:"column",flex:1},children:N.jsx(Tm,{classNames:i,styles:n,scrollHideDelay:r,scrollbarSize:o,type:l,dir:u,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:p,unstyled:m,variant:C,viewportProps:w,vars:A,scrollbars:S,onBottomReached:D,onTopReached:E,children:s})})})});Tm.classes=kA;IA.displayName="@mantine/core/ScrollAreaAutosize";IA.classes=kA;Tm.Autosize=IA;var YL={root:"m_87cf2631"};const tW={__staticSelector:"UnstyledButton"},pl=xl((e,t)=>{const s=We("UnstyledButton",tW,e),{className:i,component:n="button",__staticSelector:o,unstyled:r,classNames:l,styles:u,style:d,...f}=s,p=At({name:o,props:s,classes:YL,className:i,style:d,classNames:l,styles:u,unstyled:r});return N.jsx(Qe,{...p("root",{focusable:!0}),component:n,ref:t,type:n==="button"?"button":void 0,...f})});pl.classes=YL;pl.displayName="@mantine/core/UnstyledButton";var XL={root:"m_515a97f8"};const sW={},OA=ft((e,t)=>{const s=We("VisuallyHidden",sW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,...d}=s,f=At({name:"VisuallyHidden",classes:XL,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l});return N.jsx(Qe,{component:"span",ref:t,...f("root"),...d})});OA.classes=XL;OA.displayName="@mantine/core/VisuallyHidden";var QL={root:"m_1b7284a3"};const iW={},nW=(e,{radius:t,shadow:s})=>({root:{"--paper-radius":t===void 0?void 0:Mn(t),"--paper-shadow":vL(s)}}),_A=xl((e,t)=>{const s=We("Paper",iW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,withBorder:u,vars:d,radius:f,shadow:p,variant:m,mod:C,...w}=s,S=At({name:"Paper",props:s,classes:QL,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:d,varsResolver:nW});return N.jsx(Qe,{ref:t,mod:[{"data-with-border":u},C],...S("root"),variant:m,...w})});_A.classes=QL;_A.displayName="@mantine/core/Paper";var ZL={root:"m_9814e45f"};const oW={zIndex:Cu("modal")},rW=(e,{gradient:t,color:s,backgroundOpacity:i,blur:n,radius:o,zIndex:r})=>({root:{"--overlay-bg":t||(s!==void 0||i!==void 0)&&Co(s||"#000",i??.6)||void 0,"--overlay-filter":n?`blur(${Ce(n)})`:void 0,"--overlay-radius":o===void 0?void 0:Mn(o),"--overlay-z-index":r==null?void 0:r.toString()}}),NA=xl((e,t)=>{const s=We("Overlay",oW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,fixed:d,center:f,children:p,radius:m,zIndex:C,gradient:w,blur:S,color:R,backgroundOpacity:A,mod:D,...E}=s,F=At({name:"Overlay",props:s,classes:ZL,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:rW});return N.jsx(Qe,{ref:t,...F("root"),mod:[{center:f,fixed:d},D],...E,children:p})});NA.classes=ZL;NA.displayName="@mantine/core/Overlay";function L0(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function aW({target:e,reuseTargetNode:t,...s}){if(e)return typeof e=="string"?document.querySelector(e)||L0(s):e;if(t){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const n=L0(s);return n.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(n),n}return L0(s)}const lW={},JL=ft((e,t)=>{const{children:s,target:i,reuseTargetNode:n,...o}=We("Portal",lW,e),[r,l]=x.useState(!1),u=x.useRef(null);return Am(()=>(l(!0),u.current=aW({target:i,reuseTargetNode:n,...o}),Kg(t,u.current),!i&&!n&&u.current&&document.body.appendChild(u.current),()=>{!i&&!n&&u.current&&document.body.removeChild(u.current)}),[i]),!r||!u.current?null:hw.createPortal(N.jsx(N.Fragment,{children:s}),u.current)});JL.displayName="@mantine/core/Portal";const HA=ft(({withinPortal:e=!0,children:t,...s},i)=>EL()==="test"||!e?N.jsx(N.Fragment,{children:t}):N.jsx(JL,{ref:i,...s,children:t}));HA.displayName="@mantine/core/OptionalPortal";const ug=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),nC={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ug("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ug("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ug("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ug("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ug("top"),common:{transformOrigin:"top right"}}},fM={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function cW({transition:e,state:t,duration:s,timingFunction:i}){const n={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${s}ms`,transitionTimingFunction:i};return typeof e=="string"?e in nC?{transitionProperty:nC[e].transitionProperty,...n,...nC[e].common,...nC[e][fM[t]]}:{}:{transitionProperty:e.transitionProperty,...n,...e.common,...e[fM[t]]}}function uW({duration:e,exitDuration:t,timingFunction:s,mounted:i,onEnter:n,onExit:o,onEntered:r,onExited:l,enterDelay:u,exitDelay:d}){const f=Jr(),p=SL(),m=f.respectReducedMotion?p:!1,[C,w]=x.useState(m?0:e),[S,R]=x.useState(i?"entered":"exited"),A=x.useRef(-1),D=x.useRef(-1),E=x.useRef(-1),F=k=>{const H=k?n:o,G=k?r:l;window.clearTimeout(A.current);const W=m?0:k?e:t;w(W),W===0?(typeof H=="function"&&H(),typeof G=="function"&&G(),R(k?"entered":"exited")):E.current=requestAnimationFrame(()=>{_L.flushSync(()=>{R(k?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof H=="function"&&H(),R(k?"entering":"exiting"),A.current=window.setTimeout(()=>{typeof G=="function"&&G(),R(k?"entered":"exited")},W)})})},L=k=>{if(window.clearTimeout(D.current),typeof(k?u:d)!="number"){F(k);return}D.current=window.setTimeout(()=>{F(k)},k?u:d)};return CL(()=>{L(i)},[i]),x.useEffect(()=>()=>{window.clearTimeout(A.current),cancelAnimationFrame(E.current)},[]),{transitionDuration:C,transitionStatus:S,transitionTimingFunction:s||"ease"}}function pw({keepMounted:e,transition:t="fade",duration:s=250,exitDuration:i=s,mounted:n,children:o,timingFunction:r="ease",onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:p,exitDelay:m}){const C=EL(),{transitionDuration:w,transitionStatus:S,transitionTimingFunction:R}=uW({mounted:n,exitDuration:i,duration:s,timingFunction:r,onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:p,exitDelay:m});return w===0||C==="test"?n?N.jsx(N.Fragment,{children:o({})}):e?o({display:"none"}):null:S==="exited"?e?o({display:"none"}):null:N.jsx(N.Fragment,{children:o(cW({transition:t,duration:w,state:S,timingFunction:R}))})}pw.displayName="@mantine/core/Transition";function GA({children:e,active:t=!0,refProp:s="ref",innerRef:i}){const n=gV(t),o=oo(n,i);return tV(e)?x.cloneElement(e,{[s]:o}):e}function ek(e){return N.jsx(OA,{tabIndex:-1,"data-autofocus":!0,...e})}GA.displayName="@mantine/core/FocusTrap";ek.displayName="@mantine/core/FocusTrapInitialFocus";GA.InitialFocus=ek;var to={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const tk=x.forwardRef(({className:e,...t},s)=>N.jsxs(Qe,{component:"span",className:_s(to.barsLoader,e),...t,ref:s,children:[N.jsx("span",{className:to.bar}),N.jsx("span",{className:to.bar}),N.jsx("span",{className:to.bar})]}));tk.displayName="@mantine/core/Bars";const sk=x.forwardRef(({className:e,...t},s)=>N.jsxs(Qe,{component:"span",className:_s(to.dotsLoader,e),...t,ref:s,children:[N.jsx("span",{className:to.dot}),N.jsx("span",{className:to.dot}),N.jsx("span",{className:to.dot})]}));sk.displayName="@mantine/core/Dots";const ik=x.forwardRef(({className:e,...t},s)=>N.jsx(Qe,{component:"span",className:_s(to.ovalLoader,e),...t,ref:s}));ik.displayName="@mantine/core/Oval";const nk={bars:tk,oval:ik,dots:sk},dW={loaders:nk,type:"oval"},hW=(e,{size:t,color:s})=>({root:{"--loader-size":vs(t,"loader-size"),"--loader-color":s?Wo(s,e):void 0}}),mw=ft((e,t)=>{const s=We("Loader",dW,e),{size:i,color:n,type:o,vars:r,className:l,style:u,classNames:d,styles:f,unstyled:p,loaders:m,variant:C,children:w,...S}=s,R=At({name:"Loader",props:s,classes:to,className:l,style:u,classNames:d,styles:f,unstyled:p,vars:r,varsResolver:hW});return w?N.jsx(Qe,{...R("root"),ref:t,...S,children:w}):N.jsx(Qe,{...R("root"),ref:t,component:m[o],variant:C,size:i,...S})});mw.defaultLoaders=nk;mw.classes=to;mw.displayName="@mantine/core/Loader";const BA=x.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...s},i)=>N.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:i,...s,children:N.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));BA.displayName="@mantine/core/CloseIcon";var ok={root:"m_86a44da5","root--subtle":"m_220c80f2"};const fW={variant:"subtle"},gW=(e,{size:t,radius:s,iconSize:i})=>({root:{"--cb-size":vs(t,"cb-size"),"--cb-radius":s===void 0?void 0:Mn(s),"--cb-icon-size":Ce(i)}}),vw=xl((e,t)=>{const s=We("CloseButton",fW,e),{iconSize:i,children:n,vars:o,radius:r,className:l,classNames:u,style:d,styles:f,unstyled:p,"data-disabled":m,disabled:C,variant:w,icon:S,mod:R,__staticSelector:A,...D}=s,E=At({name:A||"CloseButton",props:s,className:l,style:d,classes:ok,classNames:u,styles:f,unstyled:p,vars:o,varsResolver:gW});return N.jsxs(pl,{ref:t,...D,unstyled:p,variant:w,disabled:C,mod:[{disabled:C||m},R],...E("root",{variant:w,active:!C&&!m}),children:[S||N.jsx(BA,{}),n]})});vw.classes=ok;vw.displayName="@mantine/core/CloseButton";function pW(e){return x.Children.toArray(e).filter(Boolean)}var rk={root:"m_4081bf90"};const mW={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},vW=(e,{grow:t,preventGrowOverflow:s,gap:i,align:n,justify:o,wrap:r},{childWidth:l})=>({root:{"--group-child-width":t&&s?l:void 0,"--group-gap":dl(i),"--group-align":n,"--group-justify":o,"--group-wrap":r}}),fl=ft((e,t)=>{const s=We("Group",mW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,children:u,gap:d,align:f,justify:p,wrap:m,grow:C,preventGrowOverflow:w,vars:S,variant:R,__size:A,mod:D,...E}=s,F=pW(u),L=F.length,k=dl(d??"md"),G={childWidth:`calc(${100/L}% - (${k} - ${k} / ${L}))`},W=At({name:"Group",props:s,stylesCtx:G,className:n,style:o,classes:rk,classNames:i,styles:r,unstyled:l,vars:S,varsResolver:vW});return N.jsx(Qe,{...W("root"),ref:t,variant:R,mod:[{grow:C},D],size:A,...E,children:F})});fl.classes=rk;fl.displayName="@mantine/core/Group";const[CW,ea]=xm("ModalBase component was not found in tree");function bW({opened:e,transitionDuration:t}){const[s,i]=x.useState(e),n=x.useRef(-1),r=SL()?0:t;return x.useEffect(()=>(e?(i(!0),window.clearTimeout(n.current)):r===0?i(!1):n.current=window.setTimeout(()=>i(!1),r),()=>window.clearTimeout(n.current)),[e,r]),s}function wW({id:e,transitionProps:t,opened:s,trapFocus:i,closeOnEscape:n,onClose:o,returnFocus:r}){const l=lw(e),[u,d]=x.useState(!1),[f,p]=x.useState(!1),m=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,C=bW({opened:s,transitionDuration:m});return bR("keydown",w=>{var S;w.key==="Escape"&&n&&!w.isComposing&&s&&((S=w.target)==null?void 0:S.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),lV({opened:s,shouldReturnFocus:i&&r}),{_id:l,titleMounted:u,bodyMounted:f,shouldLockScroll:C,setTitleMounted:d,setBodyMounted:p}}const ak=x.forwardRef(({keepMounted:e,opened:t,onClose:s,id:i,transitionProps:n,onExitTransitionEnd:o,onEnterTransitionEnd:r,trapFocus:l,closeOnEscape:u,returnFocus:d,closeOnClickOutside:f,withinPortal:p,portalProps:m,lockScroll:C,children:w,zIndex:S,shadow:R,padding:A,__vars:D,unstyled:E,removeScrollProps:F,...L},k)=>{const{_id:H,titleMounted:G,bodyMounted:W,shouldLockScroll:q,setTitleMounted:K,setBodyMounted:Z}=wW({id:i,transitionProps:n,opened:t,trapFocus:l,closeOnEscape:u,onClose:s,returnFocus:d}),{key:Y,...re}=F||{};return N.jsx(HA,{...m,withinPortal:p,children:N.jsx(CW,{value:{opened:t,onClose:s,closeOnClickOutside:f,onExitTransitionEnd:o,onEnterTransitionEnd:r,transitionProps:{...n,keepMounted:e},getTitleId:()=>`${H}-title`,getBodyId:()=>`${H}-body`,titleMounted:G,bodyMounted:W,setTitleMounted:K,setBodyMounted:Z,trapFocus:l,closeOnEscape:u,zIndex:S,unstyled:E},children:N.jsx(gL,{enabled:q&&C,...re,children:N.jsx(Qe,{ref:k,...L,__vars:{...D,"--mb-z-index":(S||Cu("modal")).toString(),"--mb-shadow":vL(R),"--mb-padding":dl(A)},children:w})},Y)})})});ak.displayName="@mantine/core/ModalBase";function yW(){const e=ea();return x.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var jh={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const lk=x.forwardRef(({className:e,...t},s)=>{const i=yW(),n=ea();return N.jsx(Qe,{ref:s,...t,id:i,className:_s({[jh.body]:!n.unstyled},e)})});lk.displayName="@mantine/core/ModalBaseBody";const ck=x.forwardRef(({className:e,onClick:t,...s},i)=>{const n=ea();return N.jsx(vw,{ref:i,...s,onClick:o=>{n.onClose(),t==null||t(o)},className:_s({[jh.close]:!n.unstyled},e),unstyled:n.unstyled})});ck.displayName="@mantine/core/ModalBaseCloseButton";const uk=x.forwardRef(({transitionProps:e,className:t,innerProps:s,onKeyDown:i,style:n,...o},r)=>{const l=ea();return N.jsx(pw,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var u,d,f;(u=l.onExitTransitionEnd)==null||u.call(l),(f=(d=l.transitionProps)==null?void 0:d.onExited)==null||f.call(d)},onEntered:()=>{var u,d,f;(u=l.onEnterTransitionEnd)==null||u.call(l),(f=(d=l.transitionProps)==null?void 0:d.onEntered)==null||f.call(d)},...e,children:u=>N.jsx("div",{...s,className:_s({[jh.inner]:!l.unstyled},s.className),children:N.jsx(GA,{active:l.opened&&l.trapFocus,innerRef:r,children:N.jsx(_A,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[n,u],className:_s({[jh.content]:!l.unstyled},t),unstyled:l.unstyled,children:o.children})})})})});uk.displayName="@mantine/core/ModalBaseContent";const dk=x.forwardRef(({className:e,...t},s)=>{const i=ea();return N.jsx(Qe,{component:"header",ref:s,className:_s({[jh.header]:!i.unstyled},e),...t})});dk.displayName="@mantine/core/ModalBaseHeader";const SW={duration:200,timingFunction:"ease",transition:"fade"};function RW(e){const t=ea();return{...SW,...t.transitionProps,...e}}const hk=x.forwardRef(({onClick:e,transitionProps:t,style:s,visible:i,...n},o)=>{const r=ea(),l=RW(t);return N.jsx(pw,{mounted:i!==void 0?i:r.opened,...l,transition:"fade",children:u=>N.jsx(NA,{ref:o,fixed:!0,style:[s,u],zIndex:r.zIndex,unstyled:r.unstyled,onClick:d=>{e==null||e(d),r.closeOnClickOutside&&r.onClose()},...n})})});hk.displayName="@mantine/core/ModalBaseOverlay";function xW(){const e=ea();return x.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const fk=x.forwardRef(({className:e,...t},s)=>{const i=xW(),n=ea();return N.jsx(Qe,{component:"h2",ref:s,className:_s({[jh.title]:!n.unstyled},e),...t,id:i})});fk.displayName="@mantine/core/ModalBaseTitle";function AW({children:e}){return N.jsx(N.Fragment,{children:e})}const[EW,DW]=rw({size:"sm"}),TW={},gk=ft((e,t)=>{const s=We("InputClearButton",TW,e),{size:i,variant:n,vars:o,classNames:r,styles:l,...u}=s,d=DW(),{resolvedClassNames:f,resolvedStyles:p}=ML({classNames:r,styles:l,props:s});return N.jsx(vw,{variant:n||"transparent",ref:t,size:i||(d==null?void 0:d.size)||"sm",classNames:f,styles:p,__staticSelector:"InputClearButton",...u})});gk.displayName="@mantine/core/InputClearButton";const[FW,Fm]=rw({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var kn={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const gM={},PW=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${vi(t)} - ${Ce(2)})`}}),Cw=ft((e,t)=>{const s=We("InputDescription",gM,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...C}=We("InputDescription",gM,s),w=Fm(),S=At({name:["InputWrapper",f],props:s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,rootSelector:"description",vars:u,varsResolver:PW}),R=p&&(w==null?void 0:w.getStyles)||S;return N.jsx(Qe,{component:"p",ref:t,variant:m,size:d,...R("description",w!=null&&w.getStyles?{className:n,style:o}:void 0),...C})});Cw.classes=kn;Cw.displayName="@mantine/core/InputDescription";const MW={},LW=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${vi(t)} - ${Ce(2)})`}}),bw=ft((e,t)=>{const s=We("InputError",MW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...C}=s,w=At({name:["InputWrapper",f],props:s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,rootSelector:"error",vars:u,varsResolver:LW}),S=Fm(),R=p&&(S==null?void 0:S.getStyles)||w;return N.jsx(Qe,{component:"p",ref:t,variant:m,size:d,...R("error",S!=null&&S.getStyles?{className:n,style:o}:void 0),...C})});bw.classes=kn;bw.displayName="@mantine/core/InputError";const pM={labelElement:"label"},kW=(e,{size:t})=>({label:{"--input-label-size":vi(t),"--input-asterisk-color":void 0}}),ww=ft((e,t)=>{const s=We("InputLabel",pM,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,labelElement:d,size:f,required:p,htmlFor:m,onMouseDown:C,children:w,__staticSelector:S,variant:R,mod:A,...D}=We("InputLabel",pM,s),E=At({name:["InputWrapper",S],props:s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,rootSelector:"label",vars:u,varsResolver:kW}),F=Fm(),L=(F==null?void 0:F.getStyles)||E;return N.jsxs(Qe,{...L("label",F!=null&&F.getStyles?{className:n,style:o}:void 0),component:d,variant:R,size:f,ref:t,htmlFor:d==="label"?m:void 0,mod:[{required:p},A],onMouseDown:k=>{C==null||C(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...D,children:[w,p&&N.jsx("span",{...L("required"),"aria-hidden":!0,children:" *"})]})});ww.classes=kn;ww.displayName="@mantine/core/InputLabel";const mM={},VA=ft((e,t)=>{const s=We("InputPlaceholder",mM,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,__staticSelector:d,variant:f,error:p,mod:m,...C}=We("InputPlaceholder",mM,s),w=At({name:["InputPlaceholder",d],props:s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,rootSelector:"placeholder"});return N.jsx(Qe,{...w("placeholder"),mod:[{error:!!p},m],component:"span",variant:f,ref:t,...C})});VA.classes=kn;VA.displayName="@mantine/core/InputPlaceholder";function IW(e,{hasDescription:t,hasError:s}){const i=e.findIndex(u=>u==="input"),n=e.slice(0,i),o=e.slice(i+1),r=t&&n.includes("description")||s&&n.includes("error");return{offsetBottom:t&&o.includes("description")||s&&o.includes("error"),offsetTop:r}}const OW={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},_W=(e,{size:t})=>({label:{"--input-label-size":vi(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${vi(t)} - ${Ce(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${vi(t)} - ${Ce(2)})`}}),zA=ft((e,t)=>{const s=We("InputWrapper",OW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,size:d,variant:f,__staticSelector:p,inputContainer:m,inputWrapperOrder:C,label:w,error:S,description:R,labelProps:A,descriptionProps:D,errorProps:E,labelElement:F,children:L,withAsterisk:k,id:H,required:G,__stylesApiProps:W,mod:q,...K}=s,Z=At({name:["InputWrapper",p],props:W||s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:_W}),Y={size:d,variant:f,__staticSelector:p},re=lw(H),ne=typeof k=="boolean"?k:G,B=(E==null?void 0:E.id)||`${re}-error`,z=(D==null?void 0:D.id)||`${re}-description`,U=re,ue=!!S&&typeof S!="boolean",_=!!R,$=`${ue?B:""} ${_?z:""}`,X=$.trim().length>0?$.trim():void 0,J=(A==null?void 0:A.id)||`${re}-label`,le=w&&N.jsx(ww,{labelElement:F,id:J,htmlFor:U,required:ne,...Y,...A,children:w},"label"),ge=_&&N.jsx(Cw,{...D,...Y,size:(D==null?void 0:D.size)||Y.size,id:(D==null?void 0:D.id)||z,children:R},"description"),me=N.jsx(x.Fragment,{children:m(L)},"input"),Ae=ue&&x.createElement(bw,{...E,...Y,size:(E==null?void 0:E.size)||Y.size,key:"error",id:(E==null?void 0:E.id)||B},S),Ie=C.map(it=>{switch(it){case"label":return le;case"input":return me;case"description":return ge;case"error":return Ae;default:return null}});return N.jsx(FW,{value:{getStyles:Z,describedBy:X,inputId:U,labelId:J,...IW(C,{hasDescription:_,hasError:ue})},children:N.jsx(Qe,{ref:t,variant:f,size:d,mod:[{error:!!S},q],...Z("root"),...K,children:Ie})})});zA.classes=kn;zA.displayName="@mantine/core/InputWrapper";const NW={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},HW=(e,t,s)=>({wrapper:{"--input-margin-top":s.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":s.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":vs(t.size,"input-height"),"--input-fz":vi(t.size),"--input-radius":t.radius===void 0?void 0:Mn(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ce(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ce(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?vs(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),li=xl((e,t)=>{const s=We("Input",NW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,required:u,__staticSelector:d,__stylesApiProps:f,size:p,wrapperProps:m,error:C,disabled:w,leftSection:S,leftSectionProps:R,leftSectionWidth:A,rightSection:D,rightSectionProps:E,rightSectionWidth:F,rightSectionPointerEvents:L,leftSectionPointerEvents:k,variant:H,vars:G,pointer:W,multiline:q,radius:K,id:Z,withAria:Y,withErrorStyles:re,mod:ne,inputSize:B,__clearSection:z,__clearable:U,__defaultRightSection:ue,..._}=s,{styleProps:$,rest:X}=dw(_),J=Fm(),le={offsetBottom:J==null?void 0:J.offsetBottom,offsetTop:J==null?void 0:J.offsetTop},ge=At({name:["Input",d],props:f||s,classes:kn,className:n,style:o,classNames:i,styles:r,unstyled:l,stylesCtx:le,rootSelector:"wrapper",vars:G,varsResolver:HW}),me=Y?{required:u,disabled:w,"aria-invalid":!!C,"aria-describedby":J==null?void 0:J.describedBy,id:(J==null?void 0:J.inputId)||Z}:{},Ae=D||U&&z||ue;return N.jsx(EW,{value:{size:p||"sm"},children:N.jsxs(Qe,{...ge("wrapper"),...$,...m,mod:[{error:!!C&&re,pointer:W,disabled:w,multiline:q,"data-with-right-section":!!Ae,"data-with-left-section":!!S},ne],variant:H,size:p,children:[S&&N.jsx("div",{...R,"data-position":"left",...ge("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:S}),N.jsx(Qe,{component:"input",...X,...me,ref:t,required:u,mod:{disabled:w,error:!!C&&re},variant:H,__size:B,...ge("input")}),Ae&&N.jsx("div",{...E,"data-position":"right",...ge("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style}),children:Ae})]})})});li.classes=kn;li.Wrapper=zA;li.Label=ww;li.Error=bw;li.Description=Cw;li.Placeholder=VA;li.ClearButton=gk;li.displayName="@mantine/core/Input";function GW(e,t,s){const i=We(e,t,s),{label:n,description:o,error:r,required:l,classNames:u,styles:d,className:f,unstyled:p,__staticSelector:m,__stylesApiProps:C,errorProps:w,labelProps:S,descriptionProps:R,wrapperProps:A,id:D,size:E,style:F,inputContainer:L,inputWrapperOrder:k,withAsterisk:H,variant:G,vars:W,mod:q,...K}=i,{styleProps:Z,rest:Y}=dw(K),re={label:n,description:o,error:r,required:l,classNames:u,className:f,__staticSelector:m,__stylesApiProps:C||i,errorProps:w,labelProps:S,descriptionProps:R,unstyled:p,styles:d,size:E,style:F,inputContainer:L,inputWrapperOrder:k,withAsterisk:H,variant:G,id:D,mod:q,...A};return{...Y,classNames:u,styles:d,unstyled:p,wrapperProps:{...re,...Z},inputProps:{required:l,classNames:u,styles:d,unstyled:p,size:E,__staticSelector:m,__stylesApiProps:C||i,error:r,variant:G,id:D}}}const BW={__staticSelector:"InputBase",withAria:!0},tf=xl((e,t)=>{const{inputProps:s,wrapperProps:i,...n}=GW("InputBase",BW,e);return N.jsx(li.Wrapper,{...i,children:N.jsx(li,{...s,...n,ref:t})})});tf.classes={...li.classes,...li.Wrapper.classes};tf.displayName="@mantine/core/InputBase";function VW(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function zW({target:e,parent:t,ref:s,displayAfterTransitionEnd:i}){const n=x.useRef(-1),[o,r]=x.useState(!1),[l,u]=x.useState(typeof i=="boolean"?i:!1),d=()=>{if(!e||!t||!s.current)return;const C=e.getBoundingClientRect(),w=t.getBoundingClientRect(),S=window.getComputedStyle(e),R=window.getComputedStyle(t),A=hl(S.borderTopWidth)+hl(R.borderTopWidth),D=hl(S.borderLeftWidth)+hl(R.borderLeftWidth),E={top:C.top-w.top-A,left:C.left-w.left-D,width:C.width,height:C.height};s.current.style.transform=`translateY(${E.top}px) translateX(${E.left}px)`,s.current.style.width=`${E.width}px`,s.current.style.height=`${E.height}px`},f=()=>{window.clearTimeout(n.current),s.current&&(s.current.style.transitionDuration="0ms"),d(),n.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},p=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{if(d(),e)return p.current=new ResizeObserver(f),p.current.observe(e),t&&(m.current=new ResizeObserver(f),m.current.observe(t)),()=>{var C,w;(C=p.current)==null||C.disconnect(),(w=m.current)==null||w.disconnect()}},[t,e]),x.useEffect(()=>{if(t){const C=w=>{VW(w.target,t)&&(f(),u(!1))};return t.addEventListener("transitionend",C),()=>{t.removeEventListener("transitionend",C)}}},[t]),EV(()=>{PV()!=="test"&&r(!0)},20,{autoInvoke:!0}),DV(C=>{C.forEach(w=>{w.type==="attributes"&&w.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:l}}var pk={root:"m_96b553a6"};const WW={},UW=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),WA=ft((e,t)=>{const s=We("FloatingIndicator",WW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,target:d,parent:f,transitionDuration:p,mod:m,displayAfterTransitionEnd:C,...w}=s,S=At({name:"FloatingIndicator",classes:pk,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:UW}),R=x.useRef(null),{initialized:A,hidden:D}=zW({target:d,parent:f,ref:R,displayAfterTransitionEnd:C}),E=oo(t,R);return!d||!f?null:N.jsx(Qe,{ref:E,mod:[{initialized:A,hidden:D},m],...S("root"),...w})});WA.displayName="@mantine/core/FloatingIndicator";WA.classes=pk;var mk={root:"m_7f854edf"};const jW={position:{bottom:0,right:0},zIndex:Cu("modal"),withinPortal:!0},$W=(e,{zIndex:t,position:s})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":dl(s==null?void 0:s.top),"--affix-left":dl(s==null?void 0:s.left),"--affix-bottom":dl(s==null?void 0:s.bottom),"--affix-right":dl(s==null?void 0:s.right)}}),UA=ft((e,t)=>{const s=We("Affix",jW,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,portalProps:d,zIndex:f,withinPortal:p,position:m,...C}=s,w=At({name:"Affix",classes:mk,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:$W});return N.jsx(HA,{...d,withinPortal:p,children:N.jsx(Qe,{ref:t,...w("root"),...C})})});UA.classes=mk;UA.displayName="@mantine/core/Affix";var vk={root:"m_b6d8b162"};function qW(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const KW={inherit:!1},YW=(e,{variant:t,lineClamp:s,gradient:i,size:n,color:o})=>({root:{"--text-fz":vi(n),"--text-lh":iV(n),"--text-gradient":t==="gradient"?wR(i,e):void 0,"--text-line-clamp":typeof s=="number"?s.toString():void 0,"--text-color":o?Wo(o,e):void 0}}),Jc=xl((e,t)=>{const s=We("Text",KW,e),{lineClamp:i,truncate:n,inline:o,inherit:r,gradient:l,span:u,__staticSelector:d,vars:f,className:p,style:m,classNames:C,styles:w,unstyled:S,variant:R,mod:A,size:D,...E}=s,F=At({name:["Text",d],props:s,classes:vk,className:p,style:m,classNames:C,styles:w,unstyled:S,vars:f,varsResolver:YW});return N.jsx(Qe,{...F("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:R,mod:[{"data-truncate":qW(n),"data-line-clamp":typeof i=="number","data-inline":o,"data-inherit":r},A],size:D,...E})});Jc.classes=vk;Jc.displayName="@mantine/core/Text";var Ck={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const XW=Ck,bk=x.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:s,classNames:i,styles:n,unstyled:o,children:r,label:l,description:u,id:d,disabled:f,error:p,size:m,labelPosition:C="left",bodyElement:w="div",labelElement:S="label",variant:R,style:A,vars:D,mod:E,...F},L)=>{const k=At({name:e,props:t,className:s,style:A,classes:Ck,classNames:i,styles:n,unstyled:o});return N.jsx(Qe,{...k("root"),ref:L,__vars:{"--label-fz":vi(m),"--label-lh":vs(m,"label-lh")},mod:[{"label-position":C},E],variant:R,size:m,...F,children:N.jsxs(Qe,{component:w,htmlFor:w==="label"?d:void 0,...k("body"),children:[r,N.jsxs("div",{...k("labelWrapper"),"data-disabled":f||void 0,children:[l&&N.jsx(Qe,{component:S,htmlFor:S==="label"?d:void 0,...k("label"),"data-disabled":f||void 0,children:l}),u&&N.jsx(li.Description,{size:m,__inheritStyles:!1,...k("description"),children:u}),p&&typeof p!="boolean"&&N.jsx(li.Error,{size:m,__inheritStyles:!1,...k("error"),children:p})]})]})})});bk.displayName="@mantine/core/InlineInput";const wk=x.createContext(null),QW=wk.Provider,yk=()=>x.useContext(wk),[ZW,JW]=rw();var Sk={card:"m_26775b0a"};const e3={withBorder:!0},t3=(e,{radius:t})=>({card:{"--card-radius":Mn(t)}}),jA=ft((e,t)=>{const s=We("CheckboxCard",e3,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,checked:d,mod:f,withBorder:p,value:m,onClick:C,defaultChecked:w,onChange:S,...R}=s,A=At({name:"CheckboxCard",classes:Sk,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:t3,rootSelector:"card"}),D=yk(),E=typeof d=="boolean"?d:D?D.value.includes(m||""):void 0,[F,L]=Em({value:E,defaultValue:w,finalValue:!1,onChange:S});return N.jsx(ZW,{value:{checked:F},children:N.jsx(pl,{ref:t,mod:[{"with-border":p,checked:F},f],...A("card"),...R,role:"checkbox","aria-checked":F,onClick:k=>{C==null||C(k),D==null||D.onChange(m||""),L(!F)}})})});jA.displayName="@mantine/core/CheckboxCard";jA.classes=Sk;function s3({children:e,role:t}){const s=Fm();return s?N.jsx("div",{role:t,"aria-labelledby":s.labelId,"aria-describedby":s.describedBy,children:e}):N.jsx(N.Fragment,{children:e})}const i3={},$A=ft((e,t)=>{const{value:s,defaultValue:i,onChange:n,size:o,wrapperProps:r,children:l,readOnly:u,...d}=We("CheckboxGroup",i3,e),[f,p]=Em({value:s,defaultValue:i,finalValue:[],onChange:n}),m=C=>{const w=typeof C=="string"?C:C.currentTarget.value;!u&&p(f.includes(w)?f.filter(S=>S!==w):[...f,w])};return N.jsx(QW,{value:{value:f,onChange:m,size:o},children:N.jsx(li.Wrapper,{size:o,ref:t,...r,...d,labelElement:"div",__staticSelector:"CheckboxGroup",children:N.jsx(s3,{role:"group",children:l})})})});$A.classes=li.Wrapper.classes;$A.displayName="@mantine/core/CheckboxGroup";function n3({size:e,style:t,...s}){const i=e!==void 0?{width:Ce(e),height:Ce(e),...t}:t;return N.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...s,children:N.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Rk({indeterminate:e,...t}){return e?N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:N.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):N.jsx(n3,{...t})}var xk={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const o3={icon:Rk},r3=(e,{radius:t,color:s,size:i,iconColor:n,variant:o,autoContrast:r})=>{const l=bu({color:s||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--checkbox-size":vs(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Mn(t),"--checkbox-color":o==="outline"?u:Wo(s,e),"--checkbox-icon-color":n?Wo(n,e):PA(r,e)?Dm({color:s,theme:e,autoContrast:r}):void 0}}},qA=ft((e,t)=>{const s=We("CheckboxIndicator",o3,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,icon:d,indeterminate:f,radius:p,color:m,iconColor:C,autoContrast:w,checked:S,mod:R,variant:A,disabled:D,...E}=s,F=d,L=At({name:"CheckboxIndicator",classes:xk,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:r3,rootSelector:"indicator"}),k=JW(),H=typeof S=="boolean"||typeof f=="boolean"?S||f:(k==null?void 0:k.checked)||!1;return N.jsx(Qe,{ref:t,...L("indicator",{variant:A}),variant:A,mod:[{checked:H,disabled:D},R],...E,children:N.jsx(F,{indeterminate:f,...L("icon")})})});qA.displayName="@mantine/core/CheckboxIndicator";qA.classes=xk;var Ak={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const a3={labelPosition:"right",icon:Rk},l3=(e,{radius:t,color:s,size:i,iconColor:n,variant:o,autoContrast:r})=>{const l=bu({color:s||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--checkbox-size":vs(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Mn(t),"--checkbox-color":o==="outline"?u:Wo(s,e),"--checkbox-icon-color":n?Wo(n,e):PA(r,e)?Dm({color:s,theme:e,autoContrast:r}):void 0}}},sf=ft((e,t)=>{const s=We("Checkbox",a3,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,color:d,label:f,id:p,size:m,radius:C,wrapperProps:w,checked:S,labelPosition:R,description:A,error:D,disabled:E,variant:F,indeterminate:L,icon:k,rootRef:H,iconColor:G,onChange:W,autoContrast:q,mod:K,...Z}=s,Y=yk(),re=m||(Y==null?void 0:Y.size),ne=k,B=At({name:"Checkbox",props:s,classes:Ak,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:l3}),{styleProps:z,rest:U}=dw(Z),ue=lw(p),_=Y?{checked:Y.value.includes(U.value),onChange:J=>{Y.onChange(J),W==null||W(J)}}:{},$=x.useRef(null),X=t||$;return x.useEffect(()=>{X&&"current"in X&&X.current&&(X.current.indeterminate=L||!1)},[L,X]),N.jsx(bk,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:s,id:ue,size:re,labelPosition:R,label:f,description:A,error:D,disabled:E,classNames:i,styles:r,unstyled:l,"data-checked":_.checked||S||void 0,variant:F,ref:H,mod:K,...z,...w,children:N.jsxs(Qe,{...B("inner"),mod:{"data-label-position":R},children:[N.jsx(Qe,{component:"input",id:ue,ref:X,checked:S,disabled:E,mod:{error:!!D,indeterminate:L},...B("input",{focusable:!0,variant:F}),onChange:W,...U,..._,type:"checkbox"}),N.jsx(ne,{indeterminate:L,...B("icon")})]})})});sf.classes={...Ak,...XW};sf.displayName="@mantine/core/Checkbox";sf.Group=$A;sf.Indicator=qA;sf.Card=jA;var nf={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const vM={orientation:"horizontal"},c3=(e,{borderWidth:t})=>({group:{"--button-border-width":Ce(t)}}),KA=ft((e,t)=>{const s=We("ButtonGroup",vM,e),{className:i,style:n,classNames:o,styles:r,unstyled:l,orientation:u,vars:d,borderWidth:f,variant:p,mod:m,...C}=We("ButtonGroup",vM,e),w=At({name:"ButtonGroup",props:s,classes:nf,className:i,style:n,classNames:o,styles:r,unstyled:l,vars:d,varsResolver:c3,rootSelector:"group"});return N.jsx(Qe,{...w("group"),ref:t,variant:p,mod:[{"data-orientation":u},m],role:"group",...C})});KA.classes=nf;KA.displayName="@mantine/core/ButtonGroup";const CM={},u3=(e,{radius:t,color:s,gradient:i,variant:n,autoContrast:o,size:r})=>{const l=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:o});return{groupSection:{"--section-height":vs(r,"section-height"),"--section-padding-x":vs(r,"section-padding-x"),"--section-fz":r!=null&&r.includes("compact")?vi(r.replace("compact-","")):vi(r),"--section-radius":t===void 0?void 0:Mn(t),"--section-bg":s||n?l.background:void 0,"--section-color":l.color,"--section-bd":s||n?l.border:void 0}}},YA=ft((e,t)=>{const s=We("ButtonGroupSection",CM,e),{className:i,style:n,classNames:o,styles:r,unstyled:l,vars:u,variant:d,gradient:f,radius:p,autoContrast:m,...C}=We("ButtonGroupSection",CM,e),w=At({name:"ButtonGroupSection",props:s,classes:nf,className:i,style:n,classNames:o,styles:r,unstyled:l,vars:u,varsResolver:u3,rootSelector:"groupSection"});return N.jsx(Qe,{...w("groupSection"),ref:t,variant:d,...C})});YA.classes=nf;YA.displayName="@mantine/core/ButtonGroupSection";const d3={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ce(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},h3={},f3=(e,{radius:t,color:s,gradient:i,variant:n,size:o,justify:r,autoContrast:l})=>{const u=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:l});return{root:{"--button-justify":r,"--button-height":vs(o,"button-height"),"--button-padding-x":vs(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?vi(o.replace("compact-","")):vi(o),"--button-radius":t===void 0?void 0:Mn(t),"--button-bg":s||n?u.background:void 0,"--button-hover":s||n?u.hover:void 0,"--button-color":u.color,"--button-bd":s||n?u.border:void 0,"--button-hover-color":s||n?u.hoverColor:void 0}}},Us=xl((e,t)=>{const s=We("Button",h3,e),{style:i,vars:n,className:o,color:r,disabled:l,children:u,leftSection:d,rightSection:f,fullWidth:p,variant:m,radius:C,loading:w,loaderProps:S,gradient:R,classNames:A,styles:D,unstyled:E,"data-disabled":F,autoContrast:L,mod:k,...H}=s,G=At({name:"Button",props:s,classes:nf,className:o,style:i,classNames:A,styles:D,unstyled:E,vars:n,varsResolver:f3}),W=!!d,q=!!f;return N.jsxs(pl,{ref:t,...G("root",{active:!l&&!w&&!F}),unstyled:E,variant:m,disabled:l||w,mod:[{disabled:l||F,loading:w,block:p,"with-left-section":W,"with-right-section":q},k],...H,children:[N.jsx(pw,{mounted:!!w,transition:d3,duration:150,children:K=>N.jsx(Qe,{component:"span",...G("loader",{style:K}),"aria-hidden":!0,children:N.jsx(mw,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...S})})}),N.jsxs("span",{...G("inner"),children:[d&&N.jsx(Qe,{component:"span",...G("section"),mod:{position:"left"},children:d}),N.jsx(Qe,{component:"span",mod:{loading:w},...G("label"),children:u}),f&&N.jsx(Qe,{component:"span",...G("section"),mod:{position:"right"},children:f})]})]})});Us.classes=nf;Us.displayName="@mantine/core/Button";Us.Group=KA;Us.GroupSection=YA;const g3={multiple:!1},Ek=x.forwardRef((e,t)=>{const{onChange:s,children:i,multiple:n,accept:o,name:r,form:l,resetRef:u,disabled:d,capture:f,inputProps:p,...m}=We("FileButton",g3,e),C=x.useRef(null),w=()=>{var A;!d&&((A=C.current)==null||A.click())},S=A=>{s(n?Array.from(A.currentTarget.files):A.currentTarget.files[0]||null)};return Kg(u,()=>{C.current&&(C.current.value="")}),N.jsxs(N.Fragment,{children:[i({onClick:w,...m}),N.jsx("input",{style:{display:"none"},type:"file",accept:o,multiple:n,onChange:S,ref:oo(t,C),name:r,form:l,capture:f,...p})]})});Ek.displayName="@mantine/core/FileButton";const[p3,of]=xm("Modal component was not found in tree");var ta={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const m3={},yw=ft((e,t)=>{const s=We("ModalBody",m3,e),{classNames:i,className:n,style:o,styles:r,vars:l,...u}=s,d=of();return N.jsx(lk,{ref:t,...d.getStyles("body",{classNames:i,style:o,styles:r,className:n}),...u})});yw.classes=ta;yw.displayName="@mantine/core/ModalBody";const v3={},Sw=ft((e,t)=>{const s=We("ModalCloseButton",v3,e),{classNames:i,className:n,style:o,styles:r,vars:l,...u}=s,d=of();return N.jsx(ck,{ref:t,...d.getStyles("close",{classNames:i,style:o,styles:r,className:n}),...u})});Sw.classes=ta;Sw.displayName="@mantine/core/ModalCloseButton";const C3={},Rw=ft((e,t)=>{const s=We("ModalContent",C3,e),{classNames:i,className:n,style:o,styles:r,vars:l,children:u,__hidden:d,...f}=s,p=of(),m=p.scrollAreaComponent||AW;return N.jsx(uk,{...p.getStyles("content",{className:n,style:o,styles:r,classNames:i}),innerProps:p.getStyles("inner",{className:n,style:o,styles:r,classNames:i}),"data-full-screen":p.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...f,children:N.jsx(m,{style:{maxHeight:p.fullScreen?"100dvh":`calc(100dvh - (${Ce(p.yOffset)} * 2))`},children:u})})});Rw.classes=ta;Rw.displayName="@mantine/core/ModalContent";const b3={},xw=ft((e,t)=>{const s=We("ModalHeader",b3,e),{classNames:i,className:n,style:o,styles:r,vars:l,...u}=s,d=of();return N.jsx(dk,{ref:t,...d.getStyles("header",{classNames:i,style:o,styles:r,className:n}),...u})});xw.classes=ta;xw.displayName="@mantine/core/ModalHeader";const w3={},Aw=ft((e,t)=>{const s=We("ModalOverlay",w3,e),{classNames:i,className:n,style:o,styles:r,vars:l,...u}=s,d=of();return N.jsx(hk,{ref:t,...d.getStyles("overlay",{classNames:i,style:o,styles:r,className:n}),...u})});Aw.classes=ta;Aw.displayName="@mantine/core/ModalOverlay";const y3={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Cu("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},S3=(e,{radius:t,size:s,yOffset:i,xOffset:n})=>({root:{"--modal-radius":t===void 0?void 0:Mn(t),"--modal-size":vs(s,"modal-size"),"--modal-y-offset":Ce(i),"--modal-x-offset":Ce(n)}}),Ew=ft((e,t)=>{const s=We("ModalRoot",y3,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,yOffset:d,scrollAreaComponent:f,radius:p,fullScreen:m,centered:C,xOffset:w,__staticSelector:S,...R}=s,A=At({name:S,classes:ta,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:S3});return N.jsx(p3,{value:{yOffset:d,scrollAreaComponent:f,getStyles:A,fullScreen:m},children:N.jsx(ak,{ref:t,...A("root"),"data-full-screen":m||void 0,"data-centered":C||void 0,"data-offset-scrollbars":f===Tm.Autosize||void 0,unstyled:l,...R})})});Ew.classes=ta;Ew.displayName="@mantine/core/ModalRoot";const[R3,x3]=rw();function Dk({children:e}){const[t,s]=x.useState([]),[i,n]=x.useState(Cu("modal"));return N.jsx(R3,{value:{stack:t,addModal:(o,r)=>{s(l=>[...new Set([...l,o])]),n(l=>typeof r=="number"&&typeof l=="number"?Math.max(l,r):l)},removeModal:o=>s(r=>r.filter(l=>l!==o)),getZIndex:o=>`calc(${i} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:i},children:e})}Dk.displayName="@mantine/core/ModalStack";const A3={},Dw=ft((e,t)=>{const s=We("ModalTitle",A3,e),{classNames:i,className:n,style:o,styles:r,vars:l,...u}=s,d=of();return N.jsx(fk,{ref:t,...d.getStyles("title",{classNames:i,style:o,styles:r,className:n}),...u})});Dw.classes=ta;Dw.displayName="@mantine/core/ModalTitle";const E3={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Cu("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},ro=ft((e,t)=>{const{title:s,withOverlay:i,overlayProps:n,withCloseButton:o,closeButtonProps:r,children:l,radius:u,opened:d,stackId:f,zIndex:p,...m}=We("Modal",E3,e),C=x3(),w=!!s||o,S=C&&f?{closeOnEscape:C.currentId===f,trapFocus:C.currentId===f,zIndex:C.getZIndex(f)}:{},R=i===!1?!1:f&&C?C.currentId===f:d;return x.useEffect(()=>{C&&f&&(d?C.addModal(f,p||Cu("modal")):C.removeModal(f))},[d,f,p]),N.jsxs(Ew,{ref:t,radius:u,opened:d,zIndex:C&&f?C.getZIndex(f):p,...m,...S,children:[i&&N.jsx(Aw,{visible:R,transitionProps:C&&f?{duration:0}:void 0,...n}),N.jsxs(Rw,{radius:u,__hidden:C&&f&&d?f!==C.currentId:!1,children:[w&&N.jsxs(xw,{children:[s&&N.jsx(Dw,{children:s}),o&&N.jsx(Sw,{...r})]}),N.jsx(yw,{children:l})]})]})});ro.classes=ta;ro.displayName="@mantine/core/Modal";ro.Root=Ew;ro.Overlay=Aw;ro.Content=Rw;ro.Body=yw;ro.Header=xw;ro.Title=Dw;ro.CloseButton=Sw;ro.Stack=Dk;function Tk(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s}var Xg;(function(e){e.event="event",e.props="prop"})(Xg||(Xg={}));function Oa(){}function D3(e){var t,s=void 0;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return t&&i.length===t.length&&i.every(function(o,r){return o===t[r]})||(t=i,s=e.apply(void 0,i)),s}}function Qg(e){return!!(e||"").match(/\d/)}function Id(e){return e==null}function T3(e){return typeof e=="number"&&isNaN(e)}function Fk(e){return Id(e)||T3(e)||typeof e=="number"&&!isFinite(e)}function Pk(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function F3(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function P3(e,t,s){var i=F3(s),n=e.search(/[1-9]/);return n=n===-1?e.length:n,e.substring(0,n)+e.substring(n,e.length).replace(i,"$1"+t)}function M3(e){var t=x.useRef(e);t.current=e;var s=x.useRef(function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return t.current.apply(t,i)});return s.current}function XA(e,t){t===void 0&&(t=!0);var s=e[0]==="-",i=s&&t;e=e.replace("-","");var n=e.split("."),o=n[0],r=n[1]||"";return{beforeDecimal:o,afterDecimal:r,hasNegation:s,addNegation:i}}function L3(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var s=e.split("."),i=s[0].replace(/^0+/,"")||"0",n=s[1]||"";return(t?"-":"")+i+(n?"."+n:"")}function Mk(e,t,s){for(var i="",n=s?"0":"",o=0;o<=t-1;o++)i+=e[o]||n;return i}function bM(e,t){return Array(t+1).join(e)}function Lk(e){var t=e+"",s=t[0]==="-"?"-":"";s&&(t=t.substring(1));var i=t.split(/[eE]/g),n=i[0],o=i[1];if(o=Number(o),!o)return s+n;n=n.replace(".","");var r=1+o,l=n.length;return r<0?n="0."+bM("0",Math.abs(r))+n:r>=l?n=n+bM("0",r-l):n=(n.substring(0,r)||"0")+"."+n.substring(r),s+n}function wM(e,t,s){if(["","-"].indexOf(e)!==-1)return e;var i=(e.indexOf(".")!==-1||s)&&t,n=XA(e),o=n.beforeDecimal,r=n.afterDecimal,l=n.hasNegation,u=parseFloat("0."+(r||"0")),d=r.length<=t?"0."+r:u.toFixed(t),f=d.split("."),p=o;o&&Number(f[0])&&(p=o.split("").reverse().reduce(function(S,R,A){return S.length>A?(Number(S[0])+Number(R)).toString()+S.substring(1,S.length):R+S},f[0]));var m=Mk(f[1]||"",t,s),C=l?"-":"",w=i?".":"";return""+C+p+w+m}function Ql(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var s=e.createTextRange();return s.move("character",t),s.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var kk=D3(function(e,t){for(var s=0,i=0,n=e.length,o=t.length;e[s]===t[s]&&s<n;)s++;for(;e[n-1-i]===t[o-1-i]&&o-i>s&&n-i>s;)i++;return{from:{start:s,end:n-i},to:{start:s,end:o-i}}}),k3=function(e,t){var s=Math.min(e.selectionStart,t);return{from:{start:s,end:e.selectionEnd},to:{start:s,end:t}}};function I3(e,t,s){return Math.min(Math.max(e,t),s)}function k0(e){return Math.max(e.selectionStart,e.selectionEnd)}function O3(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function _3(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function N3(e){var t=e.currentValue,s=e.formattedValue,i=e.currentValueIndex,n=e.formattedValueIndex;return t[i]===s[n]}function H3(e,t,s,i,n,o,r){r===void 0&&(r=N3);var l=n.findIndex(function(F){return F}),u=e.slice(0,l);!t&&!s.startsWith(u)&&(t=u,s=u+s,i=i+u.length);for(var d=s.length,f=e.length,p={},m=new Array(d),C=0;C<d;C++){m[C]=-1;for(var w=0,S=f;w<S;w++){var R=r({currentValue:s,lastValue:t,formattedValue:e,currentValueIndex:C,formattedValueIndex:w});if(R&&p[w]!==!0){m[C]=w,p[w]=!0;break}}}for(var A=i;A<d&&(m[A]===-1||!o(s[A]));)A++;var D=A===d||m[A]===-1?f:m[A];for(A=i-1;A>0&&m[A]===-1;)A--;var E=A===-1||m[A]===-1?0:m[A]+1;return E>D?D:i-E<D-i?E:D}function yM(e,t,s,i){var n=e.length;if(t=I3(t,0,n),i==="left"){for(;t>=0&&!s[t];)t--;t===-1&&(t=s.indexOf(!0))}else{for(;t<=n&&!s[t];)t++;t>n&&(t=s.lastIndexOf(!0))}return t===-1&&(t=n),t}function G3(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),s=0,i=t.length;s<i;s++)t[s]=!!(Qg(e[s])||Qg(e[s-1]));return t}function Ik(e,t,s,i,n,o){o===void 0&&(o=Oa);var r=M3(function(w,S){var R,A;return Fk(w)?(A="",R=""):typeof w=="number"||S?(A=typeof w=="number"?Lk(w):w,R=i(A)):(A=n(w,void 0),R=i(A)),{formattedValue:R,numAsString:A}}),l=x.useState(function(){return r(Id(e)?t:e,s)}),u=l[0],d=l[1],f=function(w,S){w.formattedValue!==u.formattedValue&&d({formattedValue:w.formattedValue,numAsString:w.value}),o(w,S)},p=e,m=s;Id(e)&&(p=u.numAsString,m=!0);var C=r(p,m);return x.useMemo(function(){d(C)},[C.formattedValue]),[u,f]}function B3(e){return e.replace(/[^0-9]/g,"")}function V3(e){return e}function z3(e){var t=e.type;t===void 0&&(t="text");var s=e.displayType;s===void 0&&(s="input");var i=e.customInput,n=e.renderText,o=e.getInputRef,r=e.format;r===void 0&&(r=V3);var l=e.removeFormatting;l===void 0&&(l=B3);var u=e.defaultValue,d=e.valueIsNumericString,f=e.onValueChange,p=e.isAllowed,m=e.onChange;m===void 0&&(m=Oa);var C=e.onKeyDown;C===void 0&&(C=Oa);var w=e.onMouseUp;w===void 0&&(w=Oa);var S=e.onFocus;S===void 0&&(S=Oa);var R=e.onBlur;R===void 0&&(R=Oa);var A=e.value,D=e.getCaretBoundary;D===void 0&&(D=G3);var E=e.isValidInputCharacter;E===void 0&&(E=Qg);var F=e.isCharacterSame,L=Tk(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),k=Ik(A,u,!!d,r,l,f),H=k[0],G=H.formattedValue,W=H.numAsString,q=k[1],K=x.useRef(),Z=x.useRef({formattedValue:G,numAsString:W}),Y=function(he,we){Z.current={formattedValue:he.formattedValue,numAsString:he.value},q(he,we)},re=x.useState(!1),ne=re[0],B=re[1],z=x.useRef(null),U=x.useRef({setCaretTimeout:null,focusTimeout:null});x.useEffect(function(){return B(!0),function(){clearTimeout(U.current.setCaretTimeout),clearTimeout(U.current.focusTimeout)}},[]);var ue=r,_=function(he,we){var Fe=parseFloat(we);return{formattedValue:he,value:we,floatValue:isNaN(Fe)?void 0:Fe}},$=function(he,we,Fe){he.selectionStart===0&&he.selectionEnd===he.value.length||(Ql(he,we),U.current.setCaretTimeout=setTimeout(function(){he.value===Fe&&he.selectionStart!==we&&Ql(he,we)},0))},X=function(he,we,Fe){return yM(he,we,D(he),Fe)},J=function(he,we,Fe){var Be=D(we),Ze=H3(we,G,he,Fe,Be,E,F);return Ze=yM(we,Ze,Be),Ze},le=function(he){var we=he.formattedValue;we===void 0&&(we="");var Fe=he.input,Be=he.source,Ze=he.event,Xe=he.numAsString,ot;if(Fe){var ce=he.inputValue||Fe.value,Ee=k0(Fe);Fe.value=we,ot=J(ce,we,Ee),ot!==void 0&&$(Fe,ot,we)}we!==G&&Y(_(we,Xe),{event:Ze,source:Be})};x.useEffect(function(){var he=Z.current,we=he.formattedValue,Fe=he.numAsString;(G!==we||W!==Fe)&&Y(_(G,W),{event:void 0,source:Xg.props})},[G,W]);var ge=z.current?k0(z.current):void 0,me=typeof window<"u"?x.useLayoutEffect:x.useEffect;me(function(){var he=z.current;if(G!==Z.current.formattedValue&&he){var we=J(Z.current.formattedValue,G,ge);he.value=G,$(he,we,G)}},[G]);var Ae=function(he,we,Fe){var Be=we.target,Ze=K.current?k3(K.current,Be.selectionEnd):kk(G,he),Xe=Object.assign(Object.assign({},Ze),{lastValue:G}),ot=l(he,Xe),ce=ue(ot);if(ot=l(ce,void 0),p&&!p(_(ce,ot))){var Ee=we.target,qe=k0(Ee),Le=J(he,G,qe);return Ee.value=G,$(Ee,Le,G),!1}return le({formattedValue:ce,numAsString:ot,inputValue:he,event:we,source:Fe,input:we.target}),!0},Ie=function(he,we){we===void 0&&(we=0);var Fe=he.selectionStart,Be=he.selectionEnd;K.current={selectionStart:Fe,selectionEnd:Be+we}},it=function(he){var we=he.target,Fe=we.value,Be=Ae(Fe,he,Xg.event);Be&&m(he),K.current=void 0},De=function(he){var we=he.target,Fe=he.key,Be=we.selectionStart,Ze=we.selectionEnd,Xe=we.value;Xe===void 0&&(Xe="");var ot;Fe==="ArrowLeft"||Fe==="Backspace"?ot=Math.max(Be-1,0):Fe==="ArrowRight"?ot=Math.min(Be+1,Xe.length):Fe==="Delete"&&(ot=Be);var ce=0;Fe==="Delete"&&Be===Ze&&(ce=1);var Ee=Fe==="ArrowLeft"||Fe==="ArrowRight";if(ot===void 0||Be!==Ze&&!Ee){C(he),Ie(we,ce);return}var qe=ot;if(Ee){var Le=Fe==="ArrowLeft"?"left":"right";qe=X(Xe,ot,Le),qe!==ot&&he.preventDefault()}else Fe==="Delete"&&!E(Xe[ot])?qe=X(Xe,ot,"right"):Fe==="Backspace"&&!E(Xe[ot])&&(qe=X(Xe,ot,"left"));qe!==ot&&$(we,qe,Xe),C(he),Ie(we,ce)},Nt=function(he){var we=he.target,Fe=function(){var Be=we.selectionStart,Ze=we.selectionEnd,Xe=we.value;if(Xe===void 0&&(Xe=""),Be===Ze){var ot=X(Xe,Be);ot!==Be&&$(we,ot,Xe)}};Fe(),requestAnimationFrame(function(){Fe()}),w(he),Ie(we)},Bt=function(he){he.persist&&he.persist();var we=he.target,Fe=he.currentTarget;z.current=we,U.current.focusTimeout=setTimeout(function(){var Be=we.selectionStart,Ze=we.selectionEnd,Xe=we.value;Xe===void 0&&(Xe="");var ot=X(Xe,Be);ot!==Be&&!(Be===0&&Ze===Xe.length)&&$(we,ot,Xe),S(Object.assign(Object.assign({},he),{currentTarget:Fe}))},0)},Me=function(he){z.current=null,clearTimeout(U.current.focusTimeout),clearTimeout(U.current.setCaretTimeout),R(he)},Ne=ne&&O3()?"numeric":void 0,$e=Object.assign({inputMode:Ne},L,{type:t,value:G,onChange:it,onKeyDown:De,onMouseUp:Nt,onFocus:Bt,onBlur:Me});if(s==="text")return n?ve.createElement(ve.Fragment,null,n(G,L)||null):ve.createElement("span",Object.assign({},L,{ref:o}),G);if(i){var nt=i;return ve.createElement(nt,Object.assign({},$e,{ref:o}))}return ve.createElement("input",Object.assign({},$e,{ref:o}))}function SM(e,t){var s=t.decimalScale,i=t.fixedDecimalScale,n=t.prefix;n===void 0&&(n="");var o=t.suffix;o===void 0&&(o="");var r=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var u=Tw(t),d=u.thousandSeparator,f=u.decimalSeparator,p=s!==0&&e.indexOf(".")!==-1||s&&i,m=XA(e,r),C=m.beforeDecimal,w=m.afterDecimal,S=m.addNegation;return s!==void 0&&(w=Mk(w,s,!!i)),d&&(C=P3(C,d,l)),n&&(C=n+C),o&&(w=w+o),S&&(C="-"+C),e=C+(p&&f||"")+w,e}function Tw(e){var t=e.decimalSeparator;t===void 0&&(t=".");var s=e.thousandSeparator,i=e.allowedDecimalSeparators;return s===!0&&(s=","),i||(i=[t,"."]),{decimalSeparator:t,thousandSeparator:s,allowedDecimalSeparators:i}}function W3(e,t){e===void 0&&(e="");var s=new RegExp("(-)"),i=new RegExp("(-)(.)*(-)"),n=s.test(e),o=i.test(e);return e=e.replace(/-/g,""),n&&!o&&t&&(e="-"+e),e}function U3(e,t){return new RegExp("(^-)|[0-9]|"+Pk(e),"g")}function j3(e,t,s){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(s!=null&&s.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function $3(e,t,s){var i;t===void 0&&(t=_3(e));var n=s.allowNegative,o=s.prefix;o===void 0&&(o="");var r=s.suffix;r===void 0&&(r="");var l=s.decimalScale,u=t.from,d=t.to,f=d.start,p=d.end,m=Tw(s),C=m.allowedDecimalSeparators,w=m.decimalSeparator,S=e[p]===w;if(Qg(e)&&(e===o||e===r)&&t.lastValue==="")return e;if(p-f===1&&C.indexOf(e[f])!==-1){var R=l===0?"":w;e=e.substring(0,f)+R+e.substring(f+1,e.length)}var A=function(z,U,ue){var _=!1,$=!1;o.startsWith("-")?_=!1:z.startsWith("--")?(_=!1,$=!0):r.startsWith("-")&&z.length===r.length?_=!1:z[0]==="-"&&(_=!0);var X=_?1:0;return $&&(X=2),X&&(z=z.substring(X),U-=X,ue-=X),{value:z,start:U,end:ue,hasNegation:_}},D=A(e,f,p),E=D.hasNegation;i=D,e=i.value,f=i.start,p=i.end;var F=A(t.lastValue,u.start,u.end),L=F.start,k=F.end,H=F.value,G=e.substring(f,p);e.length&&H.length&&(L>H.length-r.length||k<o.length)&&!(G&&r.startsWith(G))&&(e=H);var W=0;e.startsWith(o)?W+=o.length:f<o.length&&(W=f),e=e.substring(W),p-=W;var q=e.length,K=e.length-r.length;e.endsWith(r)?q=K:(p>K||p>e.length-r.length)&&(q=p),e=e.substring(0,q),e=W3(E?"-"+e:e,n),e=(e.match(U3(w))||[]).join("");var Z=e.indexOf(w);e=e.replace(new RegExp(Pk(w),"g"),function(z,U){return U===Z?".":""});var Y=XA(e,n),re=Y.beforeDecimal,ne=Y.afterDecimal,B=Y.addNegation;return d.end-d.start<u.end-u.start&&re===""&&S&&!parseFloat(ne)&&(e=B?"-":""),e}function q3(e,t){var s=t.prefix;s===void 0&&(s="");var i=t.suffix;i===void 0&&(i="");var n=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";n.fill(!1,0,s.length+(o?1:0));var r=e.length;return n.fill(!1,r-i.length+1,r+1),n}function K3(e){var t=Tw(e),s=t.thousandSeparator,i=t.decimalSeparator,n=e.prefix;n===void 0&&(n="");var o=e.allowNegative;if(o===void 0&&(o=!0),s===i)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+s+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+i+` (default value for decimalSeparator is .)
     `);return n.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+n+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function Y3(e){e=K3(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,s=e.allowNegative,i=e.allowLeadingZeros,n=e.onKeyDown;n===void 0&&(n=Oa);var o=e.onBlur;o===void 0&&(o=Oa);var r=e.thousandSeparator,l=e.decimalScale,u=e.fixedDecimalScale,d=e.prefix;d===void 0&&(d="");var f=e.defaultValue,p=e.value,m=e.valueIsNumericString,C=e.onValueChange,w=Tk(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),S=Tw(e),R=S.decimalSeparator,A=S.allowedDecimalSeparators,D=function(B){return SM(B,e)},E=function(B,z){return $3(B,z,e)},F=Id(p)?f:p,L=m??j3(F,d,t);Id(p)?Id(f)||(L=L||typeof f=="number"):L=L||typeof p=="number";var k=function(B){return Fk(B)?B:(typeof B=="number"&&(B=Lk(B)),L&&typeof l=="number"?wM(B,l,!!u):B)},H=Ik(k(p),k(f),!!L,D,E,C),G=H[0],W=G.numAsString,q=G.formattedValue,K=H[1],Z=function(B){var z=B.target,U=B.key,ue=z.selectionStart,_=z.selectionEnd,$=z.value;if($===void 0&&($=""),(U==="Backspace"||U==="Delete")&&_<d.length){B.preventDefault();return}if(ue!==_){n(B);return}U==="Backspace"&&$[0]==="-"&&ue===d.length+1&&s&&Ql(z,1),l&&u&&(U==="Backspace"&&$[ue-1]===R?(Ql(z,ue-1),B.preventDefault()):U==="Delete"&&$[ue]===R&&B.preventDefault()),A!=null&&A.includes(U)&&$[ue]===R&&Ql(z,ue+1);var X=r===!0?",":r;U==="Backspace"&&$[ue-1]===X&&Ql(z,ue-1),U==="Delete"&&$[ue]===X&&Ql(z,ue+1),n(B)},Y=function(B){var z=W;if(z.match(/\d/g)||(z=""),i||(z=L3(z)),u&&l&&(z=wM(z,l,u)),z!==W){var U=SM(z,e);K({formattedValue:U,value:z,floatValue:parseFloat(z)},{event:B,source:Xg.event})}o(B)},re=function(B){return B===R?!0:Qg(B)},ne=function(B){var z=B.currentValue,U=B.lastValue,ue=B.formattedValue,_=B.currentValueIndex,$=B.formattedValueIndex,X=z[_],J=ue[$],le=kk(U,z),ge=le.to,me=function(Ae){return E(Ae).indexOf(".")+d.length};return p===0&&u&&l&&z[ge.start]===R&&me(z)<_&&me(ue)>$?!1:_>=ge.start&&_<ge.end&&A&&A.includes(X)&&J===R?!0:X===J};return Object.assign(Object.assign({},w),{value:q,valueIsNumericString:!1,isValidInputCharacter:re,isCharacterSame:ne,onValueChange:K,format:D,removeFormatting:E,getCaretBoundary:function(B){return q3(B,e)},onKeyDown:Z,onBlur:Y})}function X3(e){var t=Y3(e);return ve.createElement(z3,Object.assign({},t))}function RM({direction:e,style:t,...s}){return N.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:N.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var AR={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Q3=/^(0\.0*|-0(\.0*)?)$/,Z3=/^-?0\d+(\.\d+)?\.?$/;function ER(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function I0(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||ER(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function J3(e){return e.toString().replace(".","").length}function eU(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&J3(t)<14&&t!==""}function xM(e,t,s){if(e===void 0)return!0;const i=t===void 0||e>=t,n=s===void 0||e<=s;return i&&n}const tU={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},sU=(e,{size:t})=>({controls:{"--ni-chevron-size":vs(t,"ni-chevron-size")}});function iU(e,t,s){const i=e.toString().replace(/^0+/,""),n=parseFloat(i);return Number.isNaN(n)?i:n>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):i:kd(n,s,t)}const db=ft((e,t)=>{const s=We("NumberInput",tU,e),{className:i,classNames:n,styles:o,unstyled:r,vars:l,onChange:u,onValueChange:d,value:f,defaultValue:p,max:m,min:C,step:w,hideControls:S,rightSection:R,isAllowed:A,clampBehavior:D,onBlur:E,allowDecimal:F,decimalScale:L,onKeyDown:k,onKeyDownCapture:H,handlersRef:G,startValue:W,disabled:q,rightSectionPointerEvents:K,allowNegative:Z,readOnly:Y,size:re,rightSectionWidth:ne,stepHoldInterval:B,stepHoldDelay:z,allowLeadingZeros:U,withKeyboardEvents:ue,trimLeadingZeroesOnBlur:_,...$}=s,X=At({name:"NumberInput",classes:AR,props:s,classNames:n,styles:o,unstyled:r,vars:l,varsResolver:sU}),{resolvedClassNames:J,resolvedStyles:le}=ML({classNames:n,styles:o,props:s}),[ge,me]=Em({value:f,defaultValue:p,finalValue:"",onChange:u}),Ae=z!==void 0&&B!==void 0,Ie=x.useRef(null),it=x.useRef(null),De=x.useRef(0),Nt=(ce,Ee)=>{Ee.source==="event"&&me(eU(ce.floatValue,ce.value)&&!Q3.test(ce.value)&&!(U&&Z3.test(ce.value))?ce.floatValue:ce.value),d==null||d(ce,Ee)},Bt=ce=>{const Ee=String(ce).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Ee?Math.max(0,(Ee[1]?Ee[1].length:0)-(Ee[2]?+Ee[2]:0)):0},Me=ce=>{Ie.current&&typeof ce<"u"&&Ie.current.setSelectionRange(ce,ce)},Ne=x.useRef(sM);Ne.current=()=>{if(!I0(ge))return;let ce;const Ee=Bt(ge),qe=Bt(w),Le=Math.max(Ee,qe),Pe=10**Le;if(!ER(ge)&&(typeof ge!="number"||Number.isNaN(ge)))ce=kd(W,C,m);else if(m!==void 0){const Et=(Math.round(Number(ge)*Pe)+Math.round(w*Pe))/Pe;ce=Et<=m?Et:m}else ce=(Math.round(Number(ge)*Pe)+Math.round(w*Pe))/Pe;const Oe=ce.toFixed(Le);me(parseFloat(Oe)),d==null||d({floatValue:parseFloat(Oe),formattedValue:Oe,value:Oe},{source:"increment"}),setTimeout(()=>{var Et;return Me((Et=Ie.current)==null?void 0:Et.value.length)},0)};const $e=x.useRef(sM);$e.current=()=>{if(!I0(ge))return;let ce;const Ee=C!==void 0?C:Z?Number.MIN_SAFE_INTEGER:0,qe=Bt(ge),Le=Bt(w),Pe=Math.max(qe,Le),Oe=10**Pe;if(!ER(ge)&&typeof ge!="number"||Number.isNaN(ge))ce=kd(W,Ee,m);else{const Ks=(Math.round(Number(ge)*Oe)-Math.round(w*Oe))/Oe;ce=Ee!==void 0&&Ks<Ee?Ee:Ks}const Et=ce.toFixed(Pe);me(parseFloat(Et)),d==null||d({floatValue:parseFloat(Et),formattedValue:Et,value:Et},{source:"decrement"}),setTimeout(()=>{var Ks;return Me((Ks=Ie.current)==null?void 0:Ks.value.length)},0)};const nt=ce=>{k==null||k(ce),!(Y||!ue)&&(ce.key==="ArrowUp"&&(ce.preventDefault(),Ne.current()),ce.key==="ArrowDown"&&(ce.preventDefault(),$e.current()))},he=ce=>{if(H==null||H(ce),ce.key==="Backspace"){const Ee=Ie.current;Ee.selectionStart===0&&Ee.selectionStart===Ee.selectionEnd&&(ce.preventDefault(),window.setTimeout(()=>Me(0),0))}},we=ce=>{let Ee=ge;D==="blur"&&typeof Ee=="number"&&(Ee=kd(Ee,C,m)),_&&typeof Ee=="string"&&Bt(Ee)<15&&(Ee=iU(Ee,m,C)),ge!==Ee&&me(Ee),E==null||E(ce)};Kg(G,{increment:Ne.current,decrement:$e.current});const Fe=ce=>{ce?Ne.current():$e.current(),De.current+=1},Be=ce=>{if(Fe(ce),Ae){const Ee=typeof B=="number"?B:B(De.current);it.current=window.setTimeout(()=>Be(ce),Ee)}},Ze=(ce,Ee)=>{var qe;ce.preventDefault(),(qe=Ie.current)==null||qe.focus(),Fe(Ee),Ae&&(it.current=window.setTimeout(()=>Be(Ee),z))},Xe=()=>{it.current&&window.clearTimeout(it.current),it.current=null,De.current=0},ot=N.jsxs("div",{...X("controls"),children:[N.jsx(pl,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:q||typeof ge=="number"&&m!==void 0&&ge>=m,mod:{direction:"up"},onMouseDown:ce=>ce.preventDefault(),onPointerDown:ce=>{Ze(ce,!0)},onPointerUp:Xe,onPointerLeave:Xe,children:N.jsx(RM,{direction:"up"})}),N.jsx(pl,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:q||typeof ge=="number"&&C!==void 0&&ge<=C,mod:{direction:"down"},onMouseDown:ce=>ce.preventDefault(),onPointerDown:ce=>{Ze(ce,!1)},onPointerUp:Xe,onPointerLeave:Xe,children:N.jsx(RM,{direction:"down"})})]});return N.jsx(tf,{component:X3,allowNegative:Z,className:_s(AR.root,i),size:re,...$,readOnly:Y,disabled:q,value:ge,getInputRef:oo(t,Ie),onValueChange:Nt,rightSection:S||Y||!I0(ge)?R:R||ot,classNames:J,styles:le,unstyled:r,__staticSelector:"NumberInput",decimalScale:F?L:0,onKeyDown:nt,onKeyDownCapture:he,rightSectionPointerEvents:K??(q?"none":void 0),rightSectionWidth:ne??`var(--ni-right-section-width-${re||"sm"})`,allowLeadingZeros:U,onBlur:we,isAllowed:ce=>D==="strict"?A?A(ce)&&xM(ce.floatValue,C,m):xM(ce.floatValue,C,m):A?A(ce):!0})});db.classes={...tf.classes,...AR};db.displayName="@mantine/core/NumberInput";const[nU,Fw]=xm("Pagination.Root component was not found in tree");var Pm={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const oU={withPadding:!0},Mm=ft((e,t)=>{const s=We("PaginationControl",oU,e),{classNames:i,className:n,style:o,styles:r,vars:l,active:u,disabled:d,withPadding:f,mod:p,...m}=s,C=Fw(),w=d||C.disabled;return N.jsx(pl,{ref:t,disabled:w,mod:[{active:u,disabled:w,"with-padding":f},p],...C.getStyles("control",{className:n,style:o,classNames:i,styles:r,active:!w}),...m})});Mm.classes=Pm;Mm.displayName="@mantine/core/PaginationControl";function Lm({style:e,children:t,path:s,...i}){return N.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...i,children:N.jsx("path",{d:s,fill:"currentColor"})})}const rU=e=>N.jsx(Lm,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),aU=e=>N.jsx(Lm,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),lU=e=>N.jsx(Lm,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),cU=e=>N.jsx(Lm,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),uU=e=>N.jsx(Lm,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),dU={icon:uU},Pw=ft((e,t)=>{const s=We("PaginationDots",dU,e),{classNames:i,className:n,style:o,styles:r,vars:l,icon:u,...d}=s,f=Fw(),p=u;return N.jsx(Qe,{ref:t,...f.getStyles("dots",{className:n,style:o,styles:r,classNames:i}),...d,children:N.jsx(p,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});Pw.classes=Pm;Pw.displayName="@mantine/core/PaginationDots";function Mw({icon:e,name:t,action:s,type:i}){const n={icon:e},o=x.forwardRef((r,l)=>{const{icon:u,...d}=We(t,n,r),f=u,p=Fw(),m=i==="next"?p.active===p.total:p.active===1;return N.jsx(Mm,{disabled:p.disabled||m,ref:l,onClick:p[s],withPadding:!1,...d,children:N.jsx(f,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,o}const Ok=Mw({icon:rU,name:"PaginationNext",action:"onNext",type:"next"}),_k=Mw({icon:aU,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),Nk=Mw({icon:lU,name:"PaginationFirst",action:"onFirst",type:"previous"}),Hk=Mw({icon:cU,name:"PaginationLast",action:"onLast",type:"next"});function QA({dotsIcon:e}){const t=Fw(),s=t.range.map((i,n)=>{var o,r,l;return i==="dots"?N.jsx(Pw,{icon:e},n):N.jsx(Mm,{active:i===t.active,"aria-current":i===t.active?"page":void 0,onClick:()=>t.onChange(i),disabled:t.disabled,...(o=t.getItemProps)==null?void 0:o.call(t,i),children:((l=(r=t.getItemProps)==null?void 0:r.call(t,i))==null?void 0:l.children)??i},n)});return N.jsx(N.Fragment,{children:s})}QA.displayName="@mantine/core/PaginationItems";const hU={siblings:1,boundaries:1},fU=(e,{size:t,radius:s,color:i,autoContrast:n})=>({root:{"--pagination-control-radius":s===void 0?void 0:Mn(s),"--pagination-control-size":vs(t,"pagination-control-size"),"--pagination-control-fz":vi(t),"--pagination-active-bg":i?Wo(i,e):void 0,"--pagination-active-color":PA(n,e)?Dm({color:i,theme:e,autoContrast:n}):void 0}}),Lw=ft((e,t)=>{const s=We("PaginationRoot",hU,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,total:d,value:f,defaultValue:p,onChange:m,disabled:C,siblings:w,boundaries:S,color:R,radius:A,onNextPage:D,onPreviousPage:E,onFirstPage:F,onLastPage:L,getItemProps:k,autoContrast:H,...G}=s,W=At({name:"Pagination",classes:Pm,props:s,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:fU}),{range:q,setPage:K,next:Z,previous:Y,active:re,first:ne,last:B}=bV({page:f,initialPage:p,onChange:m,total:d,siblings:w,boundaries:S}),z=eC(D,Z),U=eC(E,Y),ue=eC(F,ne),_=eC(L,B);return N.jsx(nU,{value:{total:d,range:q,active:re,disabled:C,getItemProps:k,onChange:K,onNext:z,onPrevious:U,onFirst:ue,onLast:_,getStyles:W},children:N.jsx(Qe,{ref:t,...W("root"),...G})})});Lw.classes=Pm;Lw.displayName="@mantine/core/PaginationRoot";const gU={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},ao=ft((e,t)=>{const s=We("Pagination",gU,e),{withEdges:i,withControls:n,getControlProps:o,nextIcon:r,previousIcon:l,lastIcon:u,firstIcon:d,dotsIcon:f,total:p,gap:m,hideWithOnePage:C,withPages:w,...S}=s;return p<=0||C&&p===1?null:N.jsx(Lw,{ref:t,total:p,...S,children:N.jsxs(fl,{gap:m,children:[i&&N.jsx(Nk,{icon:d,...o==null?void 0:o("first")}),n&&N.jsx(_k,{icon:l,...o==null?void 0:o("previous")}),w&&N.jsx(QA,{dotsIcon:f}),n&&N.jsx(Ok,{icon:r,...o==null?void 0:o("next")}),i&&N.jsx(Hk,{icon:u,...o==null?void 0:o("last")})]})})});ao.classes=Pm;ao.displayName="@mantine/core/Pagination";ao.Root=Lw;ao.Control=Mm;ao.Dots=Pw;ao.First=Nk;ao.Last=Hk;ao.Next=Ok;ao.Previous=_k;ao.Items=QA;var Gk={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const pU={withItemsBorders:!0},mU=(e,{radius:t,color:s,transitionDuration:i,size:n,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:Mn(t),"--sc-color":s?Wo(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":i===void 0?void 0:`${i}ms`,"--sc-transition-timing-function":o,"--sc-padding":vs(n,"sc-padding"),"--sc-font-size":vi(n)}}),ZA=ft((e,t)=>{var Ie,it;const s=We("SegmentedControl",pU,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,data:d,value:f,defaultValue:p,onChange:m,size:C,name:w,disabled:S,readOnly:R,fullWidth:A,orientation:D,radius:E,color:F,transitionDuration:L,transitionTimingFunction:k,variant:H,autoContrast:G,withItemsBorders:W,mod:q,...K}=s,Z=At({name:"SegmentedControl",props:s,classes:Gk,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:mU}),Y=Jr(),re=d.map(De=>typeof De=="string"?{label:De,value:De}:De),ne=TV(),[B,z]=x.useState(vR()),[U,ue]=x.useState(null),[_,$]=x.useState({}),X=(De,Nt)=>{_[Nt]=De,$(_)},[J,le]=Em({value:f,defaultValue:p,finalValue:Array.isArray(d)?((Ie=re.find(De=>!De.disabled))==null?void 0:Ie.value)??((it=d[0])==null?void 0:it.value)??null:null,onChange:m}),ge=lw(w),me=re.map(De=>x.createElement(Qe,{...Z("control"),mod:{active:J===De.value,orientation:D},key:De.value},x.createElement("input",{...Z("input"),disabled:S||De.disabled,type:"radio",name:ge,value:De.value,id:`${ge}-${De.value}`,checked:J===De.value,onChange:()=>!R&&le(De.value),"data-focus-ring":Y.focusRing,key:`${De.value}-input`}),x.createElement(Qe,{component:"label",...Z("label"),mod:{active:J===De.value&&!(S||De.disabled),disabled:S||De.disabled,"read-only":R},htmlFor:`${ge}-${De.value}`,ref:Nt=>X(Nt,De.value),__vars:{"--sc-label-color":F!==void 0?Dm({color:F,theme:Y,autoContrast:G}):void 0},key:`${De.value}-label`},N.jsx("span",{...Z("innerLabel"),children:De.label})))),Ae=oo(t,De=>ue(De));return xV(()=>{z(vR())},[d.length]),d.length===0?null:N.jsxs(Qe,{...Z("root"),variant:H,size:C,ref:Ae,mod:[{"full-width":A,orientation:D,initialized:ne,"with-items-borders":W},q],...K,role:"radiogroup","data-disabled":S,children:[typeof J=="string"&&N.jsx(WA,{target:_[J],parent:U,component:"span",transitionDuration:"var(--sc-transition-duration)",...Z("indicator")},B),me]})});ZA.classes=Gk;ZA.displayName="@mantine/core/SegmentedControl";var Bk={root:"m_6d731127"};const vU={gap:"md",align:"stretch",justify:"flex-start"},CU=(e,{gap:t,align:s,justify:i})=>({root:{"--stack-gap":dl(t),"--stack-align":s,"--stack-justify":i}}),kw=ft((e,t)=>{const s=We("Stack",vU,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,vars:u,align:d,justify:f,gap:p,variant:m,...C}=s,w=At({name:"Stack",props:s,classes:Bk,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:u,varsResolver:CU});return N.jsx(Qe,{ref:t,...w("root"),variant:m,...C})});kw.classes=Bk;kw.displayName="@mantine/core/Stack";const bU={},Iw=ft((e,t)=>{const s=We("TextInput",bU,e);return N.jsx(tf,{component:"input",ref:t,...s,__staticSelector:"TextInput"})});Iw.classes=tf.classes;Iw.displayName="@mantine/core/TextInput";const wU=["h1","h2","h3","h4","h5","h6"],yU=["xs","sm","md","lg","xl"];function SU(e,t){const s=t!==void 0?t:`h${e}`;return wU.includes(s)?{fontSize:`var(--mantine-${s}-font-size)`,fontWeight:`var(--mantine-${s}-font-weight)`,lineHeight:`var(--mantine-${s}-line-height)`}:yU.includes(s)?{fontSize:`var(--mantine-font-size-${s})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ce(s),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Vk={root:"m_8a5d1357"};const RU={order:1},xU=(e,{order:t,size:s,lineClamp:i,textWrap:n})=>{const o=SU(t,s);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":n}}},JA=ft((e,t)=>{const s=We("Title",RU,e),{classNames:i,className:n,style:o,styles:r,unstyled:l,order:u,vars:d,size:f,variant:p,lineClamp:m,textWrap:C,mod:w,...S}=s,R=At({name:"Title",props:s,classes:Vk,className:n,style:o,classNames:i,styles:r,unstyled:l,vars:d,varsResolver:xU});return[1,2,3,4,5,6].includes(u)?N.jsx(Qe,{...R("root"),component:`h${u}`,variant:p,ref:t,mod:[{order:u,"data-line-clamp":typeof m=="number"},w],size:f,...S}):null});JA.classes=Vk;JA.displayName="@mantine/core/Title";const AU="modulepreload",EU=function(e){return"/PDFtoCSVWizard/"+e},AM={},oC=function(t,s,i){let n=Promise.resolve();if(s&&s.length>0){let r=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=r(s.map(d=>{if(d=EU(d),d in AM)return;AM[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":AU,f||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((C,w)=>{m.addEventListener("load",C),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return n.then(r=>{for(const l of r||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var _g={};_g.d=(e,t)=>{for(var s in t)_g.o(t,s)&&!_g.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})};_g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var tt=globalThis.pdfjsLib={};_g.d(tt,{AbortException:()=>yu,AnnotationEditorLayer:()=>Hx,AnnotationEditorParamsType:()=>et,AnnotationEditorType:()=>at,AnnotationEditorUIManager:()=>cu,AnnotationLayer:()=>x4,AnnotationMode:()=>_a,ColorPicker:()=>pb,DOMSVGFactory:()=>dE,DrawLayer:()=>zx,FeatureTest:()=>Ci,GlobalWorkerOptions:()=>Br,ImageKind:()=>RC,InvalidPDFException:()=>Wk,MissingPDFException:()=>wu,OPS:()=>Vn,OutputScale:()=>MR,PDFDataRangeTransport:()=>GI,PDFDateString:()=>nE,PDFWorker:()=>_d,PasswordResponses:()=>PU,PermissionFlag:()=>FU,PixelsPerInch:()=>ml,RenderingCancelledException:()=>sE,TextLayer:()=>ox,UnexpectedResponseException:()=>Hw,Util:()=>He,VerbosityLevel:()=>Ow,XfaLayer:()=>VI,build:()=>n4,createValidAbsoluteUrl:()=>IU,fetchData:()=>Bw,getDocument:()=>Y5,getFilenameFromUrl:()=>WU,getPdfFilenameFromUrl:()=>UU,getXfaPageViewport:()=>jU,isDataScheme:()=>Vw,isPdfFile:()=>iE,noContextMenu:()=>Pn,normalizeUnicode:()=>BU,setLayerDimensions:()=>lu,shadow:()=>vt,version:()=>i4});const ri=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),zk=[1,0,0,1,0,0],DR=[.001,0,0,.001,0,0],DU=1e7,O0=1.35,Zi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},TU="pdfjs_internal_editor_",at={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},FU={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Zs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},RC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ws={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},dg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ow={ERRORS:0,WARNINGS:1,INFOS:5},Vn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PU={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _w=Ow.WARNINGS;function MU(e){Number.isInteger(e)&&(_w=e)}function LU(){return _w}function Nw(e){_w>=Ow.INFOS&&console.log(`Info: ${e}`)}function ut(e){_w>=Ow.WARNINGS&&console.log(`Warning: ${e}`)}function Wt(e){throw new Error(e)}function xs(e,t){e||Wt(t)}function kU(e){switch(e==null?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function IU(e,t=null,s=null){if(!e)return null;try{if(s&&typeof e=="string"){if(s.addDefaultProtocol&&e.startsWith("www.")){const n=e.match(/\./g);(n==null?void 0:n.length)>=2&&(e=`http://${e}`)}if(s.tryConvertEncoding)try{e=GU(e)}catch{}}const i=t?new URL(e,t):new URL(e);if(kU(i))return i}catch{}return null}function vt(e,t,s,i=!1){return Object.defineProperty(e,t,{value:s,enumerable:!i,configurable:!0,writable:!1}),s}const Al=function(){function t(s,i){this.message=s,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class TR extends Al{constructor(t,s){super(t,"PasswordException"),this.code=s}}class FR extends Al{constructor(t,s){super(t,"UnknownErrorException"),this.details=s}}class Wk extends Al{constructor(t){super(t,"InvalidPDFException")}}class wu extends Al{constructor(t){super(t,"MissingPDFException")}}class Hw extends Al{constructor(t,s){super(t,"UnexpectedResponseException"),this.status=s}}class OU extends Al{constructor(t){super(t,"FormatError")}}class yu extends Al{constructor(t){super(t,"AbortException")}}function Uk(e){(typeof e!="object"||(e==null?void 0:e.length)===void 0)&&Wt("Invalid argument for bytesToString");const t=e.length,s=8192;if(t<s)return String.fromCharCode.apply(null,e);const i=[];for(let n=0;n<t;n+=s){const o=Math.min(n+s,t),r=e.subarray(n,o);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function Gw(e){typeof e!="string"&&Wt("Invalid argument for stringToBytes");const t=e.length,s=new Uint8Array(t);for(let i=0;i<t;++i)s[i]=e.charCodeAt(i)&255;return s}function _U(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function eE(e){const t=Object.create(null);for(const[s,i]of e)t[s]=i;return t}function NU(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function HU(){try{return new Function(""),!0}catch{return!1}}class Ci{static get isLittleEndian(){return vt(this,"isLittleEndian",NU())}static get isEvalSupported(){return vt(this,"isEvalSupported",HU())}static get isOffscreenCanvasSupported(){return vt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?vt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):vt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,s;return vt(this,"isCSSRoundSupported",(s=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:s.call(t,"width: round(1.5px, 1px)"))}}const _0=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));var $r,xC,PR;class He{static makeHexColor(t,s,i){return`#${_0[t]}${_0[s]}${_0[i]}`}static scaleMinMax(t,s){let i;t[0]?(t[0]<0&&(i=s[0],s[0]=s[2],s[2]=i),s[0]*=t[0],s[2]*=t[0],t[3]<0&&(i=s[1],s[1]=s[3],s[3]=i),s[1]*=t[3],s[3]*=t[3]):(i=s[0],s[0]=s[1],s[1]=i,i=s[2],s[2]=s[3],s[3]=i,t[1]<0&&(i=s[1],s[1]=s[3],s[3]=i),s[1]*=t[1],s[3]*=t[1],t[2]<0&&(i=s[0],s[0]=s[2],s[2]=i),s[0]*=t[2],s[2]*=t[2]),s[0]+=t[4],s[1]+=t[5],s[2]+=t[4],s[3]+=t[5]}static transform(t,s){return[t[0]*s[0]+t[2]*s[1],t[1]*s[0]+t[3]*s[1],t[0]*s[2]+t[2]*s[3],t[1]*s[2]+t[3]*s[3],t[0]*s[4]+t[2]*s[5]+t[4],t[1]*s[4]+t[3]*s[5]+t[5]]}static applyTransform(t,s){const i=t[0]*s[0]+t[1]*s[2]+s[4],n=t[0]*s[1]+t[1]*s[3]+s[5];return[i,n]}static applyInverseTransform(t,s){const i=s[0]*s[3]-s[1]*s[2],n=(t[0]*s[3]-t[1]*s[2]+s[2]*s[5]-s[4]*s[3])/i,o=(-t[0]*s[1]+t[1]*s[0]+s[4]*s[1]-s[5]*s[0])/i;return[n,o]}static getAxialAlignedBoundingBox(t,s){const i=this.applyTransform(t,s),n=this.applyTransform(t.slice(2,4),s),o=this.applyTransform([t[0],t[3]],s),r=this.applyTransform([t[2],t[1]],s);return[Math.min(i[0],n[0],o[0],r[0]),Math.min(i[1],n[1],o[1],r[1]),Math.max(i[0],n[0],o[0],r[0]),Math.max(i[1],n[1],o[1],r[1])]}static inverseTransform(t){const s=t[0]*t[3]-t[1]*t[2];return[t[3]/s,-t[1]/s,-t[2]/s,t[0]/s,(t[2]*t[5]-t[4]*t[3])/s,(t[4]*t[1]-t[5]*t[0])/s]}static singularValueDecompose2dScale(t){const s=[t[0],t[2],t[1],t[3]],i=t[0]*s[0]+t[1]*s[2],n=t[0]*s[1]+t[1]*s[3],o=t[2]*s[0]+t[3]*s[2],r=t[2]*s[1]+t[3]*s[3],l=(i+r)/2,u=Math.sqrt((i+r)**2-4*(i*r-o*n))/2,d=l+u||1,f=l-u||1;return[Math.sqrt(d),Math.sqrt(f)]}static normalizeRect(t){const s=t.slice(0);return t[0]>t[2]&&(s[0]=t[2],s[2]=t[0]),t[1]>t[3]&&(s[1]=t[3],s[3]=t[1]),s}static intersect(t,s){const i=Math.max(Math.min(t[0],t[2]),Math.min(s[0],s[2])),n=Math.min(Math.max(t[0],t[2]),Math.max(s[0],s[2]));if(i>n)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(s[1],s[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(s[1],s[3]));return o>r?null:[i,o,n,r]}static bezierBoundingBox(t,s,i,n,o,r,l,u,d){return d?(d[0]=Math.min(d[0],t,l),d[1]=Math.min(d[1],s,u),d[2]=Math.max(d[2],t,l),d[3]=Math.max(d[3],s,u)):d=[Math.min(t,l),Math.min(s,u),Math.max(t,l),Math.max(s,u)],M(this,$r,PR).call(this,t,i,o,l,s,n,r,u,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),d),M(this,$r,PR).call(this,t,i,o,l,s,n,r,u,3*(-s+3*(n-r)+u),6*(s-2*n+r),3*(n-s),d),d}}$r=new WeakSet,xC=function(t,s,i,n,o,r,l,u,d,f){if(d<=0||d>=1)return;const p=1-d,m=d*d,C=m*d,w=p*(p*(p*t+3*d*s)+3*m*i)+C*n,S=p*(p*(p*o+3*d*r)+3*m*l)+C*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],S),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],S)},PR=function(t,s,i,n,o,r,l,u,d,f,p,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&M(this,$r,xC).call(this,t,s,i,n,o,r,l,u,-p/f,m);return}const C=f**2-4*p*d;if(C<0)return;const w=Math.sqrt(C),S=2*d;M(this,$r,xC).call(this,t,s,i,n,o,r,l,u,(-f+w)/S,m),M(this,$r,xC).call(this,t,s,i,n,o,r,l,u,(-f-w)/S,m)},O(He,$r);function GU(e){return decodeURIComponent(escape(e))}let N0=null,EM=null;function BU(e){return N0||(N0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,EM=new Map([["","t"]])),e.replaceAll(N0,(t,s,i)=>s?s.normalize("NFKC"):EM.get(i))}function VU(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(Math.random()*255);return Uk(e)}const tE="pdfjs_internal_id_",cr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function zU(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(Uk(e))}const dr="http://www.w3.org/2000/svg",Jl=class Jl{};Je(Jl,"CSS",96),Je(Jl,"PDF",72),Je(Jl,"PDF_TO_CSS_UNITS",Jl.CSS/Jl.PDF);let ml=Jl;async function Bw(e,t="text"){if(Cg(e,document.baseURI)){const s=await fetch(e);if(!s.ok)throw new Error(s.statusText);switch(t){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,i)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType=t,n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(n.status===200||n.status===0){switch(t){case"arraybuffer":case"blob":case"json":s(n.response);return}s(n.responseText);return}i(new Error(n.statusText))}},n.send(null)})}class km{constructor({viewBox:t,scale:s,rotation:i,offsetX:n=0,offsetY:o=0,dontFlip:r=!1}){this.viewBox=t,this.scale=s,this.rotation=i,this.offsetX=n,this.offsetY=o;const l=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let d,f,p,m;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,f=0,p=0,m=1;break;case 90:d=0,f=1,p=1,m=0;break;case 270:d=0,f=-1,p=-1,m=0;break;case 0:d=1,f=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(p=-p,m=-m);let C,w,S,R;d===0?(C=Math.abs(u-t[1])*s+n,w=Math.abs(l-t[0])*s+o,S=(t[3]-t[1])*s,R=(t[2]-t[0])*s):(C=Math.abs(l-t[0])*s+n,w=Math.abs(u-t[1])*s+o,S=(t[2]-t[0])*s,R=(t[3]-t[1])*s),this.transform=[d*s,f*s,p*s,m*s,C-d*s*l-p*s*u,w-f*s*l-m*s*u],this.width=S,this.height=R}get rawDims(){const{viewBox:t}=this;return vt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:s=this.rotation,offsetX:i=this.offsetX,offsetY:n=this.offsetY,dontFlip:o=!1}={}){return new km({viewBox:this.viewBox.slice(),scale:t,rotation:s,offsetX:i,offsetY:n,dontFlip:o})}convertToViewportPoint(t,s){return He.applyTransform([t,s],this.transform)}convertToViewportRectangle(t){const s=He.applyTransform([t[0],t[1]],this.transform),i=He.applyTransform([t[2],t[3]],this.transform);return[s[0],s[1],i[0],i[1]]}convertToPdfPoint(t,s){return He.applyInverseTransform([t,s],this.transform)}}class sE extends Al{constructor(t,s=0){super(t,"RenderingCancelledException"),this.extraDelay=s}}function Vw(e){const t=e.length;let s=0;for(;s<t&&e[s].trim()==="";)s++;return e.substring(s,s+5).toLowerCase()==="data:"}function iE(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function WU(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function UU(e,t="document.pdf"){if(typeof e!="string")return t;if(Vw(e))return ut('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=s.exec(e);let o=i.exec(n[1])||i.exec(n[2])||i.exec(n[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}class DM{constructor(){Je(this,"started",Object.create(null));Je(this,"times",[])}time(t){t in this.started&&ut(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ut(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let s=0;for(const{name:i}of this.times)s=Math.max(i.length,s);for(const{name:i,start:n,end:o}of this.times)t.push(`${i.padEnd(s)} ${o-n}ms
`);return t.join("")}}function Cg(e,t){try{const{protocol:s}=t?new URL(e,t):new URL(e);return s==="http:"||s==="https:"}catch{return!1}}function Pn(e){e.preventDefault()}function TM(e){console.log("Deprecated API usage: "+e)}var cp;class nE{static toDateObject(t){if(!t||typeof t!="string")return null;v(this,cp)||P(this,cp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const s=v(this,cp).exec(t);if(!s)return null;const i=parseInt(s[1],10);let n=parseInt(s[2],10);n=n>=1&&n<=12?n-1:0;let o=parseInt(s[3],10);o=o>=1&&o<=31?o:1;let r=parseInt(s[4],10);r=r>=0&&r<=23?r:0;let l=parseInt(s[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(s[6],10);u=u>=0&&u<=59?u:0;const d=s[7]||"Z";let f=parseInt(s[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(s[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(r+=f,l+=p):d==="+"&&(r-=f,l-=p),new Date(Date.UTC(i,n,o,r,l,u))}}cp=new WeakMap,O(nE,cp);function jU(e,{scale:t=1,rotation:s=0}){const{width:i,height:n}=e.attributes.style,o=[0,0,parseInt(i),parseInt(n)];return new km({viewBox:o,scale:t,rotation:s})}function oE(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ut(`Not a valid color format: "${e}"`),[0,0,0])}function $U(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const s of e.keys()){t.style.color=s;const i=window.getComputedStyle(t).color;e.set(s,oE(i))}t.remove()}function es(e){const{a:t,b:s,c:i,d:n,e:o,f:r}=e.getTransform();return[t,s,i,n,o,r]}function ur(e){const{a:t,b:s,c:i,d:n,e:o,f:r}=e.getTransform().invertSelf();return[t,s,i,n,o,r]}function lu(e,t,s=!1,i=!0){if(t instanceof km){const{pageWidth:n,pageHeight:o}=t.rawDims,{style:r}=e,l=Ci.isCSSRoundSupported,u=`var(--scale-factor) * ${n}px`,d=`var(--scale-factor) * ${o}px`,f=l?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,p=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!s||t.rotation%180===0?(r.width=f,r.height=p):(r.width=p,r.height=f)}i&&e.setAttribute("data-main-rotation",t.rotation)}class MR{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ha,sc,zn,ic,up,dp,zb,jk,wi,$k,qk,AC,Kk,kR;const fr=class fr{constructor(t){O(this,wi);O(this,Ha,null);O(this,sc,null);O(this,zn);O(this,ic,null);O(this,up,null);P(this,zn,t),v(fr,dp)||P(fr,dp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=P(this,Ha,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const s=v(this,zn)._uiManager._signal;t.addEventListener("contextmenu",Pn,{signal:s}),t.addEventListener("pointerdown",M(fr,zb,jk),{signal:s});const i=P(this,ic,document.createElement("div"));i.className="buttons",t.append(i);const n=v(this,zn).toolbarPosition;if(n){const{style:o}=t,r=v(this,zn)._uiManager.direction==="ltr"?1-n[0]:n[0];o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,wi,Kk).call(this),t}get div(){return v(this,Ha)}hide(){var t;v(this,Ha).classList.add("hidden"),(t=v(this,sc))==null||t.hideDropdown()}show(){var t;v(this,Ha).classList.remove("hidden"),(t=v(this,up))==null||t.shown()}async addAltText(t){const s=await t.render();M(this,wi,AC).call(this,s),v(this,ic).prepend(s,v(this,wi,kR)),P(this,up,t)}addColorPicker(t){P(this,sc,t);const s=t.renderButton();M(this,wi,AC).call(this,s),v(this,ic).prepend(s,v(this,wi,kR))}remove(){var t;v(this,Ha).remove(),(t=v(this,sc))==null||t.destroy(),P(this,sc,null)}};Ha=new WeakMap,sc=new WeakMap,zn=new WeakMap,ic=new WeakMap,up=new WeakMap,dp=new WeakMap,zb=new WeakSet,jk=function(t){t.stopPropagation()},wi=new WeakSet,$k=function(t){v(this,zn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},qk=function(t){v(this,zn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},AC=function(t){const s=v(this,zn)._uiManager._signal;t.addEventListener("focusin",M(this,wi,$k).bind(this),{capture:!0,signal:s}),t.addEventListener("focusout",M(this,wi,qk).bind(this),{capture:!0,signal:s}),t.addEventListener("contextmenu",Pn,{signal:s})},Kk=function(){const{editorType:t,_uiManager:s}=v(this,zn),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",v(fr,dp)[t]),M(this,wi,AC).call(this,i),i.addEventListener("click",n=>{s.delete()},{signal:s._signal}),v(this,ic).append(i)},kR=function(){const t=document.createElement("div");return t.className="divider",t},O(fr,zb),O(fr,dp,null);let LR=fr;var hp,nc,oc,yl,Yk,Xk,Qk;class qU{constructor(t){O(this,yl);O(this,hp,null);O(this,nc,null);O(this,oc);P(this,oc,t)}show(t,s,i){const[n,o]=M(this,yl,Xk).call(this,s,i),{style:r}=v(this,nc)||P(this,nc,M(this,yl,Yk).call(this));t.append(v(this,nc)),r.insetInlineEnd=`${100*n}%`,r.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){v(this,nc).remove()}}hp=new WeakMap,nc=new WeakMap,oc=new WeakMap,yl=new WeakSet,Yk=function(){const t=P(this,nc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Pn,{signal:v(this,oc)._signal});const s=P(this,hp,document.createElement("div"));return s.className="buttons",t.append(s),M(this,yl,Qk).call(this),t},Xk=function(t,s){let i=0,n=0;for(const o of t){const r=o.y+o.height;if(r<i)continue;const l=o.x+(s?o.width:0);if(r>i){n=l,i=r;continue}s?l>n&&(n=l):l<n&&(n=l)}return[s?1-n:n,i]},Qk=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");t.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=v(this,oc)._signal;t.addEventListener("contextmenu",Pn,{signal:i}),t.addEventListener("click",()=>{v(this,oc).highlightSelection("floating_button")},{signal:i}),v(this,hp).append(t)};function hb(e,t,s){for(const i of s)t.addEventListener(i,e[i].bind(e))}function KU(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var Wb;class YU{constructor(){O(this,Wb,0)}get id(){return`${TU}${di(this,Wb)._++}`}}Wb=new WeakMap;var $d,fp,ei,qd,EC;const qE=class qE{constructor(){O(this,qd);O(this,$d,VU());O(this,fp,0);O(this,ei,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),n=new Image;n.src=t;const o=n.decode().then(()=>(i.drawImage(n,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return vt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:s,name:i,size:n,type:o}=t;return M(this,qd,EC).call(this,`${s}_${i}_${n}_${o}`,t)}async getFromUrl(t){return M(this,qd,EC).call(this,t,t)}async getFromBlob(t,s){const i=await s;return M(this,qd,EC).call(this,t,i)}async getFromId(t){v(this,ei)||P(this,ei,new Map);const s=v(this,ei).get(t);if(!s)return null;if(s.bitmap)return s.refCounter+=1,s;if(s.file)return this.getFromFile(s.file);if(s.blobPromise){const{blobPromise:i}=s;return delete s.blobPromise,this.getFromBlob(s.id,i)}return this.getFromUrl(s.url)}getFromCanvas(t,s){v(this,ei)||P(this,ei,new Map);let i=v(this,ei).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const n=new OffscreenCanvas(s.width,s.height);return n.getContext("2d").drawImage(s,0,0),i={bitmap:n.transferToImageBitmap(),id:`image_${v(this,$d)}_${di(this,fp)._++}`,refCounter:1,isSvg:!1},v(this,ei).set(t,i),v(this,ei).set(i.id,i),i}getSvgUrl(t){const s=v(this,ei).get(t);return s!=null&&s.isSvg?s.svgUrl:null}deleteId(t){var n;v(this,ei)||P(this,ei,new Map);const s=v(this,ei).get(t);if(!s||(s.refCounter-=1,s.refCounter!==0))return;const{bitmap:i}=s;if(!s.url&&!s.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),s.blobPromise=o.convertToBlob()}(n=i.close)==null||n.call(i),s.bitmap=null}isValidId(t){return t.startsWith(`image_${v(this,$d)}_`)}};$d=new WeakMap,fp=new WeakMap,ei=new WeakMap,qd=new WeakSet,EC=async function(t,s){v(this,ei)||P(this,ei,new Map);let i=v(this,ei).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${v(this,$d)}_${di(this,fp)._++}`,refCounter:0,isSvg:!1});let n;if(typeof s=="string"?(i.url=s,n=await Bw(s,"blob")):s instanceof File?n=i.file=s:s instanceof Blob&&(n=s),n.type==="image/svg+xml"){const o=qE._isSVGFittingCanvas,r=new FileReader,l=new Image,u=new Promise((d,f)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,d()},r.onload=async()=>{const p=i.svgUrl=r.result;l.src=await o?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=r.onerror=f});r.readAsDataURL(n),await u}else i.bitmap=await createImageBitmap(n);i.refCounter=1}catch(n){console.error(n),i=null}return v(this,ei).set(t,i),i&&v(this,ei).set(i.id,i),i};let IR=qE;var Ms,Ga,gp,Ls;class XU{constructor(t=128){O(this,Ms,[]);O(this,Ga,!1);O(this,gp);O(this,Ls,-1);P(this,gp,t)}add({cmd:t,undo:s,post:i,mustExec:n,type:o=NaN,overwriteIfSameType:r=!1,keepUndo:l=!1}){if(n&&t(),v(this,Ga))return;const u={cmd:t,undo:s,post:i,type:o};if(v(this,Ls)===-1){v(this,Ms).length>0&&(v(this,Ms).length=0),P(this,Ls,0),v(this,Ms).push(u);return}if(r&&v(this,Ms)[v(this,Ls)].type===o){l&&(u.undo=v(this,Ms)[v(this,Ls)].undo),v(this,Ms)[v(this,Ls)]=u;return}const d=v(this,Ls)+1;d===v(this,gp)?v(this,Ms).splice(0,1):(P(this,Ls,d),d<v(this,Ms).length&&v(this,Ms).splice(d)),v(this,Ms).push(u)}undo(){if(v(this,Ls)===-1)return;P(this,Ga,!0);const{undo:t,post:s}=v(this,Ms)[v(this,Ls)];t(),s==null||s(),P(this,Ga,!1),P(this,Ls,v(this,Ls)-1)}redo(){if(v(this,Ls)<v(this,Ms).length-1){P(this,Ls,v(this,Ls)+1),P(this,Ga,!0);const{cmd:t,post:s}=v(this,Ms)[v(this,Ls)];t(),s==null||s(),P(this,Ga,!1)}}hasSomethingToUndo(){return v(this,Ls)!==-1}hasSomethingToRedo(){return v(this,Ls)<v(this,Ms).length-1}destroy(){P(this,Ms,null)}}Ms=new WeakMap,Ga=new WeakMap,gp=new WeakMap,Ls=new WeakMap;var Ub,Zk;class Im{constructor(t){O(this,Ub);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=Ci.platform;for(const[i,n,o={}]of t)for(const r of i){const l=r.startsWith("mac+");s&&l?(this.callbacks.set(r.slice(4),{callback:n,options:o}),this.allKeys.add(r.split("+").at(-1))):!s&&!l&&(this.callbacks.set(r,{callback:n,options:o}),this.allKeys.add(r.split("+").at(-1)))}}exec(t,s){if(!this.allKeys.has(s.key))return;const i=this.callbacks.get(M(this,Ub,Zk).call(this,s));if(!i)return;const{callback:n,options:{bubbles:o=!1,args:r=[],checker:l=null}}=i;l&&!l(t,s)||(n.bind(t,...r,s)(),o||(s.stopPropagation(),s.preventDefault()))}}Ub=new WeakSet,Zk=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const s=this.buffer.join("+");return this.buffer.length=0,s};const jb=class jb{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return $U(t),vt(this,"_colors",t)}convert(t){const s=oE(t);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[i,n]of this._colors)if(n.every((o,r)=>o===s[r]))return jb._colorsMapping.get(i);return s}getHexCode(t){const s=this._colors.get(t);return s?He.makeHexColor(...s):t}};Je(jb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let OR=jb;var Kd,Ui,ys,Vs,Yd,mr,Xd,Wn,Ba,Qd,rc,wo,Un,ac,pp,mp,Zd,vp,yo,Va,Jd,za,So,$b,Wa,Cp,Ua,lc,bp,wp,ks,Ft,vr,cc,yp,Sp,ja,Ro,Cr,Rp,vn,xe,DC,_R,Jk,eI,TC,tI,sI,iI,NR,nI,HR,GR,oI,fi,La,rI,aI,BR,lI,bg,VR;const Md=class Md{constructor(t,s,i,n,o,r,l,u,d,f,p){O(this,xe);O(this,Kd,new AbortController);O(this,Ui,null);O(this,ys,new Map);O(this,Vs,new Map);O(this,Yd,null);O(this,mr,null);O(this,Xd,null);O(this,Wn,new XU);O(this,Ba,null);O(this,Qd,0);O(this,rc,new Set);O(this,wo,null);O(this,Un,null);O(this,ac,new Set);O(this,pp,!1);O(this,mp,!1);O(this,Zd,!1);O(this,vp,null);O(this,yo,null);O(this,Va,null);O(this,Jd,null);O(this,za,!1);O(this,So,null);O(this,$b,new YU);O(this,Wa,!1);O(this,Cp,!1);O(this,Ua,null);O(this,lc,null);O(this,bp,null);O(this,wp,null);O(this,ks,at.NONE);O(this,Ft,new Set);O(this,vr,null);O(this,cc,null);O(this,yp,null);O(this,Sp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,ja,[0,0]);O(this,Ro,null);O(this,Cr,null);O(this,Rp,null);O(this,vn,null);const m=this._signal=v(this,Kd).signal;P(this,Cr,t),P(this,Rp,s),P(this,Yd,i),this._eventBus=n,n._on("editingaction",this.onEditingAction.bind(this),{signal:m}),n._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),n._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),n._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),n._on("setpreference",this.onSetPreference.bind(this),{signal:m}),n._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:m}),M(this,xe,tI).call(this),M(this,xe,oI).call(this),M(this,xe,NR).call(this),P(this,mr,o.annotationStorage),P(this,vp,o.filterFactory),P(this,cc,r),P(this,Jd,l||null),P(this,pp,u),P(this,mp,d),P(this,Zd,f),P(this,wp,p||null),this.viewParameters={realScale:ml.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Md.prototype,s=r=>v(r,Cr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),i=(r,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},n=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return vt(this,"_keyboardManager",new Im([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&v(r,Cr).contains(l)&&!r.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&v(r,Cr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-n,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[n,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-n],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,n],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:s}]]))}destroy(){var t,s,i,n;(t=v(this,vn))==null||t.resolve(),P(this,vn,null),(s=v(this,Kd))==null||s.abort(),P(this,Kd,null),this._signal=null;for(const o of v(this,Vs).values())o.destroy();v(this,Vs).clear(),v(this,ys).clear(),v(this,ac).clear(),P(this,Ui,null),v(this,Ft).clear(),v(this,Wn).destroy(),(i=v(this,Yd))==null||i.destroy(),(n=v(this,So))==null||n.hide(),P(this,So,null),v(this,yo)&&(clearTimeout(v(this,yo)),P(this,yo,null)),v(this,Ro)&&(clearTimeout(v(this,Ro)),P(this,Ro,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return v(this,wp)}get useNewAltTextFlow(){return v(this,mp)}get useNewAltTextWhenAddingImage(){return v(this,Zd)}get hcmFilter(){return vt(this,"hcmFilter",v(this,cc)?v(this,vp).addHCMFilter(v(this,cc).foreground,v(this,cc).background):"none")}get direction(){return vt(this,"direction",getComputedStyle(v(this,Cr)).direction)}get highlightColors(){return vt(this,"highlightColors",v(this,Jd)?new Map(v(this,Jd).split(",").map(t=>t.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return vt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){P(this,bp,t)}editAltText(t,s=!1){var i;(i=v(this,Yd))==null||i.editAltText(this,t,s)}switchToMode(t,s){this._eventBus.on("annotationeditormodechanged",s,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,s){this._eventBus.dispatch("setpreference",{source:this,name:t,value:s})}onSetPreference({name:t,value:s}){switch(t){case"enableNewAltTextWhenAddingImage":P(this,Zd,s);break}}onPageChanging({pageNumber:t}){P(this,Qd,t-1)}focusMainContainer(){v(this,Cr).focus()}findParent(t,s){for(const i of v(this,Vs).values()){const{x:n,y:o,width:r,height:l}=i.div.getBoundingClientRect();if(t>=n&&t<=n+r&&s>=o&&s<=o+l)return i}return null}disableUserSelect(t=!1){v(this,Rp).classList.toggle("noUserSelect",t)}addShouldRescale(t){v(this,ac).add(t)}removeShouldRescale(t){v(this,ac).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ml.PDF_TO_CSS_UNITS;for(const s of v(this,ac))s.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:i,anchorOffset:n,focusNode:o,focusOffset:r}=s,l=s.toString(),d=M(this,xe,DC).call(this,s).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;s.empty();const p=M(this,xe,_R).call(this,d),m=v(this,ks)===at.NONE,C=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:i,anchorOffset:n,focusNode:o,focusOffset:r,text:l}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(at.HIGHLIGHT,C);return}C()}addToAnnotationStorage(t){!t.isEmpty()&&v(this,mr)&&!v(this,mr).has(t.id)&&v(this,mr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,v(this,za)&&(P(this,za,!1),M(this,xe,TC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const s of v(this,Ft))if(s.div.contains(t)){P(this,lc,[s,t]),s._focusEventsAllowed=!1;break}}focus(){if(!v(this,lc))return;const[t,s]=v(this,lc);P(this,lc,null),s.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}addEditListeners(){M(this,xe,NR).call(this),M(this,xe,HR).call(this)}removeEditListeners(){M(this,xe,nI).call(this),M(this,xe,GR).call(this)}dragOver(t){for(const{type:s}of t.dataTransfer.items)for(const i of v(this,Un))if(i.isHandlingMimeForPasting(s)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const s of t.dataTransfer.items)for(const i of v(this,Un))if(i.isHandlingMimeForPasting(s.type)){i.paste(s,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=v(this,Ui))==null||i.commitOrRemove(),!this.hasSelection)return;const s=[];for(const n of v(this,Ft)){const o=n.serialize(!0);o&&s.push(o)}s.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:s}=t;for(const o of s.items)for(const r of v(this,Un))if(r.isHandlingMimeForPasting(o.type)){r.paste(o,this.currentLayer);return}let i=s.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){ut(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const n=this.currentLayer;try{const o=[];for(const u of i){const d=await n.deserialize(u);if(!d)return;o.push(d)}const r=()=>{for(const u of o)M(this,xe,BR).call(this,u);M(this,xe,VR).call(this,o)},l=()=>{for(const u of o)u.remove()};this.addCommands({cmd:r,undo:l,mustExec:!0})}catch(o){ut(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),v(this,ks)!==at.NONE&&!this.isEditorHandlingKeyboard&&Md._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,v(this,za)&&(P(this,za,!1),M(this,xe,TC).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(M(this,xe,sI).call(this),M(this,xe,HR).call(this),M(this,xe,fi).call(this,{isEditing:v(this,ks)!==at.NONE,isEmpty:M(this,xe,bg).call(this),hasSomethingToUndo:v(this,Wn).hasSomethingToUndo(),hasSomethingToRedo:v(this,Wn).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,xe,iI).call(this),M(this,xe,GR).call(this),M(this,xe,fi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!v(this,Un)){P(this,Un,t);for(const s of v(this,Un))M(this,xe,La).call(this,s.defaultPropertiesToUpdate)}}getId(){return v(this,$b).id}get currentLayer(){return v(this,Vs).get(v(this,Qd))}getLayer(t){return v(this,Vs).get(t)}get currentPageIndex(){return v(this,Qd)}addLayer(t){v(this,Vs).set(t.pageIndex,t),v(this,Wa)?t.enable():t.disable()}removeLayer(t){v(this,Vs).delete(t.pageIndex)}async updateMode(t,s=null,i=!1){if(v(this,ks)!==t&&!(v(this,vn)&&(await v(this,vn).promise,!v(this,vn)))){if(P(this,vn,Promise.withResolvers()),P(this,ks,t),t===at.NONE){this.setEditingState(!1),M(this,xe,aI).call(this),v(this,vn).resolve();return}this.setEditingState(!0),await M(this,xe,rI).call(this),this.unselectAll();for(const n of v(this,Vs).values())n.updateMode(t);if(!s){i&&this.addNewEditorFromKeyboard(),v(this,vn).resolve();return}for(const n of v(this,ys).values())n.annotationElementId===s?(this.setSelected(n),n.enterInEditMode()):n.unselect();v(this,vn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==v(this,ks)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,s){var i;if(v(this,Un)){switch(t){case et.CREATE:this.currentLayer.addNewEditor();return;case et.HIGHLIGHT_DEFAULT_COLOR:(i=v(this,bp))==null||i.updateColor(s);break;case et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(v(this,yp)||P(this,yp,new Map)).set(t,s),this.showAllEditors("highlight",s);break}for(const n of v(this,Ft))n.updateParams(t,s);for(const n of v(this,Un))n.updateDefaultParams(t,s)}}showAllEditors(t,s,i=!1){var o;for(const r of v(this,ys).values())r.editorType===t&&r.show(s);(((o=v(this,yp))==null?void 0:o.get(et.HIGHLIGHT_SHOW_ALL))??!0)!==s&&M(this,xe,La).call(this,[[et.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(t=!1){if(v(this,Cp)!==t){P(this,Cp,t);for(const s of v(this,Vs).values())t?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",t)}}getEditors(t){const s=[];for(const i of v(this,ys).values())i.pageIndex===t&&s.push(i);return s}getEditor(t){return v(this,ys).get(t)}addEditor(t){v(this,ys).set(t.id,t)}removeEditor(t){var s;t.div.contains(document.activeElement)&&(v(this,yo)&&clearTimeout(v(this,yo)),P(this,yo,setTimeout(()=>{this.focusMainContainer(),P(this,yo,null)},0))),v(this,ys).delete(t.id),this.unselect(t),(!t.annotationElementId||!v(this,rc).has(t.annotationElementId))&&((s=v(this,mr))==null||s.remove(t.id))}addDeletedAnnotationElement(t){v(this,rc).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return v(this,rc).has(t)}removeDeletedAnnotationElement(t){v(this,rc).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){v(this,Ui)!==t&&(P(this,Ui,t),t&&M(this,xe,La).call(this,t.propertiesToUpdate))}updateUI(t){v(this,xe,lI)===t&&M(this,xe,La).call(this,t.propertiesToUpdate)}toggleSelected(t){if(v(this,Ft).has(t)){v(this,Ft).delete(t),t.unselect(),M(this,xe,fi).call(this,{hasSelectedEditor:this.hasSelection});return}v(this,Ft).add(t),t.select(),M(this,xe,La).call(this,t.propertiesToUpdate),M(this,xe,fi).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const s of v(this,Ft))s!==t&&s.unselect();v(this,Ft).clear(),v(this,Ft).add(t),t.select(),M(this,xe,La).call(this,t.propertiesToUpdate),M(this,xe,fi).call(this,{hasSelectedEditor:!0})}isSelected(t){return v(this,Ft).has(t)}get firstSelectedEditor(){return v(this,Ft).values().next().value}unselect(t){t.unselect(),v(this,Ft).delete(t),M(this,xe,fi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return v(this,Ft).size!==0}get isEnterHandled(){return v(this,Ft).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){v(this,Wn).undo(),M(this,xe,fi).call(this,{hasSomethingToUndo:v(this,Wn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,xe,bg).call(this)})}redo(){v(this,Wn).redo(),M(this,xe,fi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:v(this,Wn).hasSomethingToRedo(),isEmpty:M(this,xe,bg).call(this)})}addCommands(t){v(this,Wn).add(t),M(this,xe,fi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,xe,bg).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...v(this,Ft)],s=()=>{for(const n of t)n.remove()},i=()=>{for(const n of t)M(this,xe,BR).call(this,n)};this.addCommands({cmd:s,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=v(this,Ui))==null||t.commitOrRemove()}hasSomethingToControl(){return v(this,Ui)||this.hasSelection}selectAll(){for(const t of v(this,Ft))t.commit();M(this,xe,VR).call(this,v(this,ys).values())}unselectAll(){if(!(v(this,Ui)&&(v(this,Ui).commitOrRemove(),v(this,ks)!==at.NONE))&&this.hasSelection){for(const t of v(this,Ft))t.unselect();v(this,Ft).clear(),M(this,xe,fi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,s,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;v(this,ja)[0]+=t,v(this,ja)[1]+=s;const[n,o]=v(this,ja),r=[...v(this,Ft)],l=1e3;v(this,Ro)&&clearTimeout(v(this,Ro)),P(this,Ro,setTimeout(()=>{P(this,Ro,null),v(this,ja)[0]=v(this,ja)[1]=0,this.addCommands({cmd:()=>{for(const u of r)v(this,ys).has(u.id)&&u.translateInPage(n,o)},undo:()=>{for(const u of r)v(this,ys).has(u.id)&&u.translateInPage(-n,-o)},mustExec:!1})},l));for(const u of r)u.translateInPage(t,s)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,wo,new Map);for(const t of v(this,Ft))v(this,wo).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!v(this,wo))return!1;this.disableUserSelect(!1);const t=v(this,wo);P(this,wo,null);let s=!1;for(const[{x:n,y:o,pageIndex:r},l]of t)l.newX=n,l.newY=o,l.newPageIndex=r,s||(s=n!==l.savedX||o!==l.savedY||r!==l.savedPageIndex);if(!s)return!1;const i=(n,o,r,l)=>{if(v(this,ys).has(n.id)){const u=v(this,Vs).get(l);u?n._setParentAndPosition(u,o,r):(n.pageIndex=l,n.x=o,n.y=r)}};return this.addCommands({cmd:()=>{for(const[n,{newX:o,newY:r,newPageIndex:l}]of t)i(n,o,r,l)},undo:()=>{for(const[n,{savedX:o,savedY:r,savedPageIndex:l}]of t)i(n,o,r,l)},mustExec:!0}),!0}dragSelectedEditors(t,s){if(v(this,wo))for(const i of v(this,wo).keys())i.drag(t,s)}rebuild(t){if(t.parent===null){const s=this.getLayer(t.pageIndex);s?(s.changeParent(t),s.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||v(this,Ft).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return v(this,Ui)===t}getActive(){return v(this,Ui)}getMode(){return v(this,ks)}get imageManager(){return vt(this,"imageManager",new IR)}getSelectionBoxes(t){if(!t)return null;const s=document.getSelection();for(let d=0,f=s.rangeCount;d<f;d++)if(!t.contains(s.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:n,width:o,height:r}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(d,f,p,m)=>({x:(f-n)/r,y:1-(d+p-i)/o,width:m/r,height:p/o});break;case"180":l=(d,f,p,m)=>({x:1-(d+p-i)/o,y:1-(f+m-n)/r,width:p/o,height:m/r});break;case"270":l=(d,f,p,m)=>({x:1-(f+m-n)/r,y:(d-i)/o,width:m/r,height:p/o});break;default:l=(d,f,p,m)=>({x:(d-i)/o,y:(f-n)/r,width:p/o,height:m/r});break}const u=[];for(let d=0,f=s.rangeCount;d<f;d++){const p=s.getRangeAt(d);if(!p.collapsed)for(const{x:m,y:C,width:w,height:S}of p.getClientRects())w===0||S===0||u.push(l(m,C,w,S))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:s}){(v(this,Xd)||P(this,Xd,new Map)).set(t,s)}removeChangedExistingAnnotation({annotationElementId:t}){var s;(s=v(this,Xd))==null||s.delete(t)}renderAnnotationElement(t){var n;const s=(n=v(this,Xd))==null?void 0:n.get(t.data.id);if(!s)return;const i=v(this,mr).getRawValue(s);i&&(v(this,ks)===at.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Kd=new WeakMap,Ui=new WeakMap,ys=new WeakMap,Vs=new WeakMap,Yd=new WeakMap,mr=new WeakMap,Xd=new WeakMap,Wn=new WeakMap,Ba=new WeakMap,Qd=new WeakMap,rc=new WeakMap,wo=new WeakMap,Un=new WeakMap,ac=new WeakMap,pp=new WeakMap,mp=new WeakMap,Zd=new WeakMap,vp=new WeakMap,yo=new WeakMap,Va=new WeakMap,Jd=new WeakMap,za=new WeakMap,So=new WeakMap,$b=new WeakMap,Wa=new WeakMap,Cp=new WeakMap,Ua=new WeakMap,lc=new WeakMap,bp=new WeakMap,wp=new WeakMap,ks=new WeakMap,Ft=new WeakMap,vr=new WeakMap,cc=new WeakMap,yp=new WeakMap,Sp=new WeakMap,ja=new WeakMap,Ro=new WeakMap,Cr=new WeakMap,Rp=new WeakMap,vn=new WeakMap,xe=new WeakSet,DC=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},_R=function(t){const{currentLayer:s}=this;if(s.hasTextLayer(t))return s;for(const i of v(this,Vs).values())if(i.hasTextLayer(t))return i;return null},Jk=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=M(this,xe,DC).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(i);n&&(v(this,So)||P(this,So,new qU(this)),v(this,So).show(i,n,this.direction==="ltr"))},eI=function(){var o,r,l;const t=document.getSelection();if(!t||t.isCollapsed){v(this,vr)&&((o=v(this,So))==null||o.hide(),P(this,vr,null),M(this,xe,fi).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=t;if(s===v(this,vr))return;const n=M(this,xe,DC).call(this,t).closest(".textLayer");if(!n){v(this,vr)&&((r=v(this,So))==null||r.hide(),P(this,vr,null),M(this,xe,fi).call(this,{hasSelectedText:!1}));return}if((l=v(this,So))==null||l.hide(),P(this,vr,s),M(this,xe,fi).call(this,{hasSelectedText:!0}),!(v(this,ks)!==at.HIGHLIGHT&&v(this,ks)!==at.NONE)&&(v(this,ks)===at.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,za,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=v(this,ks)===at.HIGHLIGHT?M(this,xe,_R).call(this,n):null;u==null||u.toggleDrawing();const d=new AbortController,f=this.combinedSignal(d),p=m=>{m.type==="pointerup"&&m.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),m.type==="pointerup"&&M(this,xe,TC).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},TC=function(t=""){v(this,ks)===at.HIGHLIGHT?this.highlightSelection(t):v(this,pp)&&M(this,xe,Jk).call(this)},tI=function(){document.addEventListener("selectionchange",M(this,xe,eI).bind(this),{signal:this._signal})},sI=function(){if(v(this,Va))return;P(this,Va,new AbortController);const t=this.combinedSignal(v(this,Va));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},iI=function(){var t;(t=v(this,Va))==null||t.abort(),P(this,Va,null)},NR=function(){if(v(this,Ua))return;P(this,Ua,new AbortController);const t=this.combinedSignal(v(this,Ua));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},nI=function(){var t;(t=v(this,Ua))==null||t.abort(),P(this,Ua,null)},HR=function(){if(v(this,Ba))return;P(this,Ba,new AbortController);const t=this.combinedSignal(v(this,Ba));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},GR=function(){var t;(t=v(this,Ba))==null||t.abort(),P(this,Ba,null)},oI=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},fi=function(t){Object.entries(t).some(([i,n])=>v(this,Sp)[i]!==n)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(v(this,Sp),t)}),v(this,ks)===at.HIGHLIGHT&&t.hasSelectedEditor===!1&&M(this,xe,La).call(this,[[et.HIGHLIGHT_FREE,!0]]))},La=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},rI=async function(){if(!v(this,Wa)){P(this,Wa,!0);const t=[];for(const s of v(this,Vs).values())t.push(s.enable());await Promise.all(t);for(const s of v(this,ys).values())s.enable()}},aI=function(){if(this.unselectAll(),v(this,Wa)){P(this,Wa,!1);for(const t of v(this,Vs).values())t.disable();for(const t of v(this,ys).values())t.disable()}},BR=function(t){const s=v(this,Vs).get(t.pageIndex);s?s.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},lI=function(){let t=null;for(t of v(this,Ft));return t},bg=function(){if(v(this,ys).size===0)return!0;if(v(this,ys).size===1)for(const t of v(this,ys).values())return t.isEmpty();return!1},VR=function(t){for(const s of v(this,Ft))s.unselect();v(this,Ft).clear();for(const s of t)s.isEmpty()||(v(this,Ft).add(s),s.select());M(this,xe,fi).call(this,{hasSelectedEditor:this.hasSelection})},Je(Md,"TRANSLATE_SMALL",1),Je(Md,"TRANSLATE_BIG",10);let cu=Md;var Is,xo,jn,eh,Ao,ji,th,Eo,Pi,br,uc,Do,$a,io,wg,FC;const gi=class gi{constructor(t){O(this,io);O(this,Is,null);O(this,xo,!1);O(this,jn,null);O(this,eh,null);O(this,Ao,null);O(this,ji,null);O(this,th,!1);O(this,Eo,null);O(this,Pi,null);O(this,br,null);O(this,uc,null);O(this,Do,!1);P(this,Pi,t),P(this,Do,t._uiManager.useNewAltTextFlow),v(gi,$a)||P(gi,$a,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){gi._l10n??(gi._l10n=t)}async render(){const t=P(this,jn,document.createElement("button"));t.className="altText",t.tabIndex="0";const s=P(this,eh,document.createElement("span"));t.append(s),v(this,Do)?(t.classList.add("new"),t.setAttribute("data-l10n-id",v(gi,$a).missing),s.setAttribute("data-l10n-id",v(gi,$a)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=v(this,Pi)._uiManager._signal;t.addEventListener("contextmenu",Pn,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const n=o=>{o.preventDefault(),v(this,Pi)._uiManager.editAltText(v(this,Pi)),v(this,Do)&&v(this,Pi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:v(this,io,wg)}})};return t.addEventListener("click",n,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(P(this,th,!0),n(o))},{signal:i}),await M(this,io,FC).call(this),t}finish(){v(this,jn)&&(v(this,jn).focus({focusVisible:v(this,th)}),P(this,th,!1))}isEmpty(){return v(this,Do)?v(this,Is)===null:!v(this,Is)&&!v(this,xo)}hasData(){return v(this,Do)?v(this,Is)!==null||!!v(this,br):this.isEmpty()}get guessedText(){return v(this,br)}async setGuessedText(t){v(this,Is)===null&&(P(this,br,t),P(this,uc,await gi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),M(this,io,FC).call(this))}toggleAltTextBadge(t=!1){var s;if(!v(this,Do)||v(this,Is)){(s=v(this,Eo))==null||s.remove(),P(this,Eo,null);return}if(!v(this,Eo)){const i=P(this,Eo,document.createElement("div"));i.className="noAltTextBadge",v(this,Pi).div.append(i)}v(this,Eo).classList.toggle("hidden",!t)}serialize(t){let s=v(this,Is);return!t&&v(this,br)===s&&(s=v(this,uc)),{altText:s,decorative:v(this,xo),guessedText:v(this,br),textWithDisclaimer:v(this,uc)}}get data(){return{altText:v(this,Is),decorative:v(this,xo)}}set data({altText:t,decorative:s,guessedText:i,textWithDisclaimer:n,cancel:o=!1}){i&&(P(this,br,i),P(this,uc,n)),!(v(this,Is)===t&&v(this,xo)===s)&&(o||(P(this,Is,t),P(this,xo,s)),M(this,io,FC).call(this))}toggle(t=!1){v(this,jn)&&(!t&&v(this,ji)&&(clearTimeout(v(this,ji)),P(this,ji,null)),v(this,jn).disabled=!t)}shown(){v(this,Pi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:v(this,io,wg)}})}destroy(){var t,s;(t=v(this,jn))==null||t.remove(),P(this,jn,null),P(this,eh,null),P(this,Ao,null),(s=v(this,Eo))==null||s.remove(),P(this,Eo,null)}};Is=new WeakMap,xo=new WeakMap,jn=new WeakMap,eh=new WeakMap,Ao=new WeakMap,ji=new WeakMap,th=new WeakMap,Eo=new WeakMap,Pi=new WeakMap,br=new WeakMap,uc=new WeakMap,Do=new WeakMap,$a=new WeakMap,io=new WeakSet,wg=function(){return v(this,Is)&&"added"||v(this,Is)===null&&this.guessedText&&"review"||"missing"},FC=async function(){var n,o,r;const t=v(this,jn);if(!t)return;if(v(this,Do)){if(t.classList.toggle("done",!!v(this,Is)),t.setAttribute("data-l10n-id",v(gi,$a)[v(this,io,wg)]),(n=v(this,eh))==null||n.setAttribute("data-l10n-id",v(gi,$a)[`${v(this,io,wg)}-label`]),!v(this,Is)){(o=v(this,Ao))==null||o.remove();return}}else{if(!v(this,Is)&&!v(this,xo)){t.classList.remove("done"),(r=v(this,Ao))==null||r.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=v(this,Ao);if(!s){P(this,Ao,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id=`alt-text-tooltip-${v(this,Pi).id}`;const l=100,u=v(this,Pi)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(v(this,ji)),P(this,ji,null)},{once:!0}),t.addEventListener("mouseenter",()=>{P(this,ji,setTimeout(()=>{P(this,ji,null),v(this,Ao).classList.add("show"),v(this,Pi)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;v(this,ji)&&(clearTimeout(v(this,ji)),P(this,ji,null)),(d=v(this,Ao))==null||d.classList.remove("show")},{signal:u})}v(this,xo)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=v(this,Is)),s.parentNode||t.append(s);const i=v(this,Pi).getImageForAltText();i==null||i.setAttribute("aria-describedby",s.id)},O(gi,$a,null),Je(gi,"_l10n",null);let fb=gi;var dc,$n,Zt,sh,hc,zs,fc,qa,xp,gc,Ka,Ap,pc,wr,To,ih,nh,Cn,Ep,qb,lt,zR,Dp,WR,UR,cI,uI,jR,$R,qR,dI,KR,hI,fI,gI,YR,yg;const St=class St{constructor(t){O(this,lt);O(this,dc,null);O(this,$n,null);O(this,Zt,null);O(this,sh,!1);O(this,hc,!1);O(this,zs,null);O(this,fc,null);O(this,qa,null);O(this,xp,"");O(this,gc,!1);O(this,Ka,null);O(this,Ap,!1);O(this,pc,!1);O(this,wr,!1);O(this,To,null);O(this,ih,0);O(this,nh,0);O(this,Cn,null);Je(this,"_editToolbar",null);Je(this,"_initialOptions",Object.create(null));Je(this,"_initialData",null);Je(this,"_isVisible",!0);Je(this,"_uiManager",null);Je(this,"_focusEventsAllowed",!0);O(this,Ep,!1);O(this,qb,St._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:i,pageHeight:n,pageX:o,pageY:r}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,n],this.pageTranslation=[o,r];const[l,u]=this.parentDimensions;this.x=t.x/l,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=St.prototype._resizeWithKeyboard,s=cu.TRANSLATE_SMALL,i=cu.TRANSLATE_BIG;return vt(this,"_resizerKeyboardManager",new Im([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],St.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return vt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const s=new QU({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});s.annotationElementId=t.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(t,s){if(St._l10n??(St._l10n=t),St._l10nResizer||(St._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),St._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);St._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,s){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return v(this,Ep)}set _isDraggable(t){var s;P(this,Ep,t),(s=this.div)==null||s.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(t*2),this.y+=this.width*t/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(t*2),this.y-=this.width*t/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=v(this,qb)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):M(this,lt,yg).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(v(this,gc)?P(this,gc,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const s=t.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,s,i,n){const[o,r]=this.parentDimensions;[i,n]=this.screenToPageTranslation(i,n),this.x=(t+i)/o,this.y=(s+n)/r,this.fixAndSetPosition()}translate(t,s){M(this,lt,zR).call(this,this.parentDimensions,t,s)}translateInPage(t,s){v(this,Ka)||P(this,Ka,[this.x,this.y]),M(this,lt,zR).call(this,this.pageDimensions,t,s),this.div.scrollIntoView({block:"nearest"})}drag(t,s){v(this,Ka)||P(this,Ka,[this.x,this.y]);const[i,n]=this.parentDimensions;if(this.x+=t/i,this.y+=s/n,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:r}=this;const[l,u]=this.getBaseTranslation();o+=l,r+=u,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!v(this,Ka)&&(v(this,Ka)[0]!==this.x||v(this,Ka)[1]!==this.y)}getBaseTranslation(){const[t,s]=this.parentDimensions,{_borderLineWidth:i}=St,n=i/t,o=i/s;switch(this.rotation){case 90:return[-n,o];case 180:return[n,o];case 270:return[n,-o];default:return[-n,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[s,i]=this.pageDimensions;let{x:n,y:o,width:r,height:l}=this;if(r*=s,l*=i,n*=s,o*=i,this._mustFixPosition)switch(t){case 0:n=Math.max(0,Math.min(s-r,n)),o=Math.max(0,Math.min(i-l,o));break;case 90:n=Math.max(0,Math.min(s-l,n)),o=Math.min(i,Math.max(r,o));break;case 180:n=Math.min(s,Math.max(r,n)),o=Math.min(i,Math.max(l,o));break;case 270:n=Math.min(s,Math.max(l,n)),o=Math.max(0,Math.min(i-r,o));break}this.x=n/=s,this.y=o/=i;const[u,d]=this.getBaseTranslation();n+=u,o+=d;const{style:f}=this.div;f.left=`${(100*n).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,s){var i;return M(i=St,Dp,WR).call(i,t,s,this.parentRotation)}pageTranslationToScreen(t,s){var i;return M(i=St,Dp,WR).call(i,t,s,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[s,i]}=this;return[s*t,i*t]}setDims(t,s){const[i,n]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,v(this,hc)||(this.div.style.height=`${(100*s/n).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:s,width:i}=t,n=i.endsWith("%"),o=!v(this,hc)&&s.endsWith("%");if(n&&o)return;const[r,l]=this.parentDimensions;n||(t.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!v(this,hc)&&!o&&(t.height=`${(100*parseFloat(s)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=v(this,Zt))==null||t.finish()}async addEditToolbar(){return this._editToolbar||v(this,pc)?this._editToolbar:(this._editToolbar=new LR(this),this.div.append(this._editToolbar.render()),v(this,Zt)&&await this._editToolbar.addAltText(v(this,Zt)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=v(this,Zt))==null||t.destroy())}addContainer(t){var i;const s=(i=this._editToolbar)==null?void 0:i.div;s?s.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){v(this,Zt)||(fb.initialize(St._l10n),P(this,Zt,new fb(this)),v(this,dc)&&(v(this,Zt).data=v(this,dc),P(this,dc,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=v(this,Zt))==null?void 0:t.data}set altTextData(t){v(this,Zt)&&(v(this,Zt).data=t)}get guessedAltText(){var t;return(t=v(this,Zt))==null?void 0:t.guessedText}async setGuessedAltText(t){var s;await((s=v(this,Zt))==null?void 0:s.setGuessedText(t))}serializeAltText(t){var s;return(s=v(this,Zt))==null?void 0:s.serialize(t)}hasAltText(){return!!v(this,Zt)&&!v(this,Zt).isEmpty()}hasAltTextData(){var t;return((t=v(this,Zt))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=v(this,sh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),M(this,lt,KR).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[i,n]=this.getInitialTranslation();return this.translate(i,n),hb(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:s}=Ci.platform;if(t.button!==0||t.ctrlKey&&s){t.preventDefault();return}if(P(this,gc,!0),this._isDraggable){M(this,lt,dI).call(this,t);return}M(this,lt,qR).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){v(this,To)&&clearTimeout(v(this,To)),P(this,To,setTimeout(()=>{var t;P(this,To,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,s,i){t.changeParent(this),this.x=s,this.y=i,this.fixAndSetPosition()}getRect(t,s,i=this.rotation){const n=this.parentScale,[o,r]=this.pageDimensions,[l,u]=this.pageTranslation,d=t/n,f=s/n,p=this.x*o,m=this.y*r,C=this.width*o,w=this.height*r;switch(i){case 0:return[p+d+l,r-m-f-w+u,p+d+C+l,r-m-f+u];case 90:return[p+f+l,r-m+d+u,p+f+w+l,r-m+d+C+u];case 180:return[p-d-C+l,r-m+f+u,p-d+l,r-m+f+w+u];case 270:return[p-f-w+l,r-m-d-C+u,p-f+l,r-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,s){const[i,n,o,r]=t,l=o-i,u=r-n;switch(this.rotation){case 0:return[i,s-r,l,u];case 90:return[i,s-n,u,l];case 180:return[o,s-n,l,u];case 270:return[o,s-r,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){P(this,pc,!0)}disableEditMode(){P(this,pc,!1)}isInEditMode(){return v(this,pc)}shouldGetKeyboardEvents(){return v(this,wr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){M(this,lt,KR).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,s=null){Wt("An editor must be serializable")}static async deserialize(t,s,i){const n=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:i});n.rotation=t.rotation,P(n,dc,t.accessibilityData);const[o,r]=n.pageDimensions,[l,u,d,f]=n.getRectInCurrentCoords(t.rect,r);return n.x=l/o,n.y=u/r,n.width=d/o,n.height=f/r,n}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=v(this,qa))==null||t.abort(),P(this,qa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),v(this,To)&&(clearTimeout(v(this,To)),P(this,To,null)),M(this,lt,yg).call(this),this.removeEditToolbar(),v(this,Cn)){for(const s of v(this,Cn).values())clearTimeout(s);P(this,Cn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,lt,cI).call(this),v(this,zs).classList.remove("hidden"),hb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),P(this,fc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=v(this,zs).children;if(!v(this,$n)){P(this,$n,Array.from(s));const r=M(this,lt,hI).bind(this),l=M(this,lt,fI).bind(this),u=this._uiManager._signal;for(const d of v(this,$n)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",r,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",M(this,lt,gI).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",St._l10nResizer[f])}}const i=v(this,$n)[0];let n=0;for(const r of s){if(r===i)break;n++}const o=(360-this.rotation+this.parentRotation)%360/90*(v(this,$n).length/4);if(o!==n){if(o<n)for(let l=0;l<n-o;l++)v(this,zs).append(v(this,zs).firstChild);else if(o>n)for(let l=0;l<o-n;l++)v(this,zs).firstChild.before(v(this,zs).lastChild);let r=0;for(const l of s){const d=v(this,$n)[r++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",St._l10nResizer[d])}}M(this,lt,YR).call(this,0),P(this,wr,!0),v(this,zs).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,s){v(this,wr)&&M(this,lt,$R).call(this,v(this,xp),{movementX:t,movementY:s})}_stopResizingWithKeyboard(){M(this,lt,yg).call(this),this.div.focus()}select(){var t,s,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var n,o;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(s=this._editToolbar)==null||s.show(),(i=v(this,Zt))==null||i.toggleAltTextBadge(!1)}unselect(){var t,s,i,n,o;(t=v(this,zs))==null||t.classList.add("hidden"),(s=this.div)==null||s.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(n=this._editToolbar)==null||n.hide(),(o=v(this,Zt))==null||o.toggleAltTextBadge(!0)}updateParams(t,s){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return v(this,Ap)}set isEditing(t){P(this,Ap,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,s){P(this,hc,!0);const i=t/s,{style:n}=this.div;n.aspectRatio=i,n.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,s=!1){if(s){v(this,Cn)||P(this,Cn,new Map);const{action:i}=t;let n=v(this,Cn).get(i);n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(t),v(this,Cn).delete(i),v(this,Cn).size===0&&P(this,Cn,null)},St._telemetryTimeout),v(this,Cn).set(i,n);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),P(this,sh,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,sh,!0)}renderAnnotationElement(t){let s=t.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),t.container.prepend(s);else if(s.nodeName==="CANVAS"){const i=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),i.before(s)}return s}resetAnnotationElement(t){const{firstChild:s}=t.container;(s==null?void 0:s.nodeName)==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}};dc=new WeakMap,$n=new WeakMap,Zt=new WeakMap,sh=new WeakMap,hc=new WeakMap,zs=new WeakMap,fc=new WeakMap,qa=new WeakMap,xp=new WeakMap,gc=new WeakMap,Ka=new WeakMap,Ap=new WeakMap,pc=new WeakMap,wr=new WeakMap,To=new WeakMap,ih=new WeakMap,nh=new WeakMap,Cn=new WeakMap,Ep=new WeakMap,qb=new WeakMap,lt=new WeakSet,zR=function([t,s],i,n){[i,n]=this.screenToPageTranslation(i,n),this.x+=i/t,this.y+=n/s,this.fixAndSetPosition()},Dp=new WeakSet,WR=function(t,s,i){switch(i){case 90:return[s,-t];case 180:return[-t,-s];case 270:return[-s,t];default:return[t,s]}},UR=function(t){switch(t){case 90:{const[s,i]=this.pageDimensions;return[0,-s/i,i/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,i]=this.pageDimensions;return[0,s/i,-i/s,0]}default:return[1,0,0,1]}},cI=function(){if(v(this,zs))return;P(this,zs,document.createElement("div")),v(this,zs).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const i of t){const n=document.createElement("div");v(this,zs).append(n),n.classList.add("resizer",i),n.setAttribute("data-resizer-name",i),n.addEventListener("pointerdown",M(this,lt,uI).bind(this,i),{signal:s}),n.addEventListener("contextmenu",Pn,{signal:s}),n.tabIndex=-1}this.div.prepend(v(this,zs))},uI=function(t,s){var w;s.preventDefault();const{isMac:i}=Ci.platform;if(s.button!==0||s.ctrlKey&&i)return;(w=v(this,Zt))==null||w.toggle(!1);const n=this._isDraggable;this._isDraggable=!1;const o=new AbortController,r=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,lt,$R).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Pn,{signal:r});const l=this.x,u=this.y,d=this.width,f=this.height,p=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const C=()=>{var S;o.abort(),this.parent.togglePointerEvents(!0),(S=v(this,Zt))==null||S.toggle(!0),this._isDraggable=n,this.parent.div.style.cursor=p,this.div.style.cursor=m,M(this,lt,jR).call(this,l,u,d,f)};window.addEventListener("pointerup",C,{signal:r}),window.addEventListener("blur",C,{signal:r})},jR=function(t,s,i,n){const o=this.x,r=this.y,l=this.width,u=this.height;o===t&&r===s&&l===i&&u===n||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=o,this.y=r;const[d,f]=this.parentDimensions;this.setDims(d*l,f*u),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=n,this.x=t,this.y=s;const[d,f]=this.parentDimensions;this.setDims(d*i,f*n),this.fixAndSetPosition()},mustExec:!0})},$R=function(t,s){const[i,n]=this.parentDimensions,o=this.x,r=this.y,l=this.width,u=this.height,d=St.MIN_SIZE/i,f=St.MIN_SIZE/n,p=z=>Math.round(z*1e4)/1e4,m=M(this,lt,UR).call(this,this.rotation),C=(z,U)=>[m[0]*z+m[2]*U,m[1]*z+m[3]*U],w=M(this,lt,UR).call(this,360-this.rotation),S=(z,U)=>[w[0]*z+w[2]*U,w[1]*z+w[3]*U];let R,A,D=!1,E=!1;switch(t){case"topLeft":D=!0,R=(z,U)=>[0,0],A=(z,U)=>[z,U];break;case"topMiddle":R=(z,U)=>[z/2,0],A=(z,U)=>[z/2,U];break;case"topRight":D=!0,R=(z,U)=>[z,0],A=(z,U)=>[0,U];break;case"middleRight":E=!0,R=(z,U)=>[z,U/2],A=(z,U)=>[0,U/2];break;case"bottomRight":D=!0,R=(z,U)=>[z,U],A=(z,U)=>[0,0];break;case"bottomMiddle":R=(z,U)=>[z/2,U],A=(z,U)=>[z/2,0];break;case"bottomLeft":D=!0,R=(z,U)=>[0,U],A=(z,U)=>[z,0];break;case"middleLeft":E=!0,R=(z,U)=>[0,U/2],A=(z,U)=>[z,U/2];break}const F=R(l,u),L=A(l,u);let k=C(...L);const H=p(o+k[0]),G=p(r+k[1]);let W=1,q=1,[K,Z]=this.screenToPageTranslation(s.movementX,s.movementY);if([K,Z]=S(K/i,Z/n),D){const z=Math.hypot(l,u);W=q=Math.max(Math.min(Math.hypot(L[0]-F[0]-K,L[1]-F[1]-Z)/z,1/l,1/u),d/l,f/u)}else E?W=Math.max(d,Math.min(1,Math.abs(L[0]-F[0]-K)))/l:q=Math.max(f,Math.min(1,Math.abs(L[1]-F[1]-Z)))/u;const Y=p(l*W),re=p(u*q);k=C(...A(Y,re));const ne=H-k[0],B=G-k[1];this.width=Y,this.height=re,this.x=ne,this.y=B,this.setDims(i*Y,n*re),this.fixAndSetPosition()},qR=function(t){const{isMac:s}=Ci.platform;t.ctrlKey&&!s||t.shiftKey||t.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)},dI=function(t){const{isSelected:s}=this;this._uiManager.setUpDragSession();const i=new AbortController,n=this._uiManager.combinedSignal(i);if(s){this.div.classList.add("moving"),P(this,ih,t.clientX),P(this,nh,t.clientY);const r=l=>{const{clientX:u,clientY:d}=l,[f,p]=this.screenToPageTranslation(u-v(this,ih),d-v(this,nh));P(this,ih,u),P(this,nh,d),this._uiManager.dragSelectedEditors(f,p)};window.addEventListener("pointermove",r,{passive:!0,capture:!0,signal:n})}const o=()=>{i.abort(),s&&this.div.classList.remove("moving"),P(this,gc,!1),this._uiManager.endDragSession()||M(this,lt,qR).call(this,t)};window.addEventListener("pointerup",o,{signal:n}),window.addEventListener("blur",o,{signal:n})},KR=function(){if(v(this,qa)||!this.div)return;P(this,qa,new AbortController);const t=this._uiManager.combinedSignal(v(this,qa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},hI=function(t){St._resizerKeyboardManager.exec(this,t)},fI=function(t){var s;v(this,wr)&&((s=t.relatedTarget)==null?void 0:s.parentNode)!==v(this,zs)&&M(this,lt,yg).call(this)},gI=function(t){P(this,xp,v(this,wr)?t:"")},YR=function(t){if(v(this,$n))for(const s of v(this,$n))s.tabIndex=t},yg=function(){if(P(this,wr,!1),M(this,lt,YR).call(this,-1),v(this,fc)){const{savedX:t,savedY:s,savedWidth:i,savedHeight:n}=v(this,fc);M(this,lt,jR).call(this,t,s,i,n),P(this,fc,null)}},O(St,Dp),Je(St,"_l10n",null),Je(St,"_l10nResizer",null),Je(St,"_borderLineWidth",-1),Je(St,"_colorManager",new OR),Je(St,"_zIndex",1),Je(St,"_telemetryTimeout",1e3);let Mt=St;class QU extends Mt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const FM=3285377520,pn=4294901760,mo=65535;class pI{constructor(t){this.h1=t?t&4294967295:FM,this.h2=t?t&4294967295:FM}update(t){let s,i;if(typeof t=="string"){s=new Uint8Array(t.length*2),i=0;for(let S=0,R=t.length;S<R;S++){const A=t.charCodeAt(S);A<=255?s[i++]=A:(s[i++]=A>>>8,s[i++]=A&255)}}else if(ArrayBuffer.isView(t))s=t.slice(),i=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const n=i>>2,o=i-n*4,r=new Uint32Array(s.buffer,0,n);let l=0,u=0,d=this.h1,f=this.h2;const p=3432918353,m=461845907,C=p&mo,w=m&mo;for(let S=0;S<n;S++)S&1?(l=r[S],l=l*p&pn|l*C&mo,l=l<<15|l>>>17,l=l*m&pn|l*w&mo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=r[S],u=u*p&pn|u*C&mo,u=u<<15|u>>>17,u=u*m&pn|u*w&mo,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,o){case 3:l^=s[n*4+2]<<16;case 2:l^=s[n*4+1]<<8;case 1:l^=s[n*4],l=l*p&pn|l*C&mo,l=l<<15|l>>>17,l=l*m&pn|l*w&mo,n&1?d^=l:f^=l}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,s=this.h2;return t^=s>>>1,t=t*3981806797&pn|t*36045&mo,s=s*4283543511&pn|((s<<16|t>>>16)*2950163797&pn)>>>16,t^=s>>>1,t=t*444984403&pn|t*60499&mo,s=s*3301882366&pn|((s<<16|t>>>16)*3120437893&pn)>>>16,t^=s>>>1,(t>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const XR=Object.freeze({map:null,hash:"",transfer:void 0});var mc,vc,Os,Kb,mI;class rE{constructor(){O(this,Kb);O(this,mc,!1);O(this,vc,null);O(this,Os,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,s){const i=v(this,Os).get(t);return i===void 0?s:Object.assign(s,i)}getRawValue(t){return v(this,Os).get(t)}remove(t){if(v(this,Os).delete(t),v(this,Os).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of v(this,Os).values())if(s instanceof Mt)return;this.onAnnotationEditor(null)}}setValue(t,s){const i=v(this,Os).get(t);let n=!1;if(i!==void 0)for(const[o,r]of Object.entries(s))i[o]!==r&&(n=!0,i[o]=r);else n=!0,v(this,Os).set(t,s);n&&M(this,Kb,mI).call(this),s instanceof Mt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(t){return v(this,Os).has(t)}getAll(){return v(this,Os).size>0?eE(v(this,Os)):null}setAll(t){for(const[s,i]of Object.entries(t))this.setValue(s,i)}get size(){return v(this,Os).size}resetModified(){v(this,mc)&&(P(this,mc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vI(this)}get serializable(){if(v(this,Os).size===0)return XR;const t=new Map,s=new pI,i=[],n=Object.create(null);let o=!1;for(const[r,l]of v(this,Os)){const u=l instanceof Mt?l.serialize(!1,n):l;u&&(t.set(r,u),s.update(`${r}:${JSON.stringify(u)}`),o||(o=!!u.bitmap))}if(o)for(const r of t.values())r.bitmap&&i.push(r.bitmap);return t.size>0?{map:t,hash:s.hexdigest(),transfer:i}:XR}get editorStats(){let t=null;const s=new Map;for(const i of v(this,Os).values()){if(!(i instanceof Mt))continue;const n=i.telemetryFinalData;if(!n)continue;const{type:o}=n;s.has(o)||s.set(o,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const r=t[o]||(t[o]=new Map);for(const[l,u]of Object.entries(n)){if(l==="type")continue;let d=r.get(l);d||(d=new Map,r.set(l,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[i,n]of s)t[i]=n.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){P(this,vc,null)}get modifiedIds(){if(v(this,vc))return v(this,vc);const t=[];for(const s of v(this,Os).values())!(s instanceof Mt)||!s.annotationElementId||!s.serialize()||t.push(s.annotationElementId);return P(this,vc,{ids:new Set(t),hash:t.join(",")})}}mc=new WeakMap,vc=new WeakMap,Os=new WeakMap,Kb=new WeakSet,mI=function(){v(this,mc)||(P(this,mc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Tp;class vI extends rE{constructor(s){super();O(this,Tp);const{map:i,hash:n,transfer:o}=s.serializable,r=structuredClone(i,o?{transfer:o}:null);P(this,Tp,{map:r,hash:n,transfer:o})}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return v(this,Tp)}get modifiedIds(){return vt(this,"modifiedIds",{ids:new Set,hash:""})}}Tp=new WeakMap;var oh;class ZU{constructor({ownerDocument:t=globalThis.document,styleElement:s=null}){O(this,oh,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(t,s.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),v(this,oh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:s}){if(!(!t||v(this,oh).has(t.loadedName))){if(xs(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:n,style:o}=t,r=new FontFace(i,n,o);this.addNativeFontFace(r);try{await r.load(),v(this,oh).add(i),s==null||s(t)}catch{ut(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(n){throw ut(`Failed to load font '${i.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const s=t.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const n=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,n)})}}get isFontLoadingAPISupported(){var s;const t=!!((s=this._document)!=null&&s.fonts);return vt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(ri||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),vt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function s(){for(xs(!n.done,"completeRequest() cannot be called twice."),n.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,n={done:!1,complete:s,callback:t};return i.push(n),n}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return vt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,s){function i(F,L){return F.charCodeAt(L)<<24|F.charCodeAt(L+1)<<16|F.charCodeAt(L+2)<<8|F.charCodeAt(L+3)&255}function n(F,L,k,H){const G=F.substring(0,L),W=F.substring(L+k);return G+H+W}let o,r;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function f(F,L){if(++d>30){ut("Load test font never loaded."),L();return}if(u.font="30px "+F,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(f.bind(null,F,L))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=n(m,976,p.length,p);const w=16,S=1482184792;let R=i(m,w);for(o=0,r=p.length-3;o<r;o+=4)R=R-S+i(p,o)|0;o<p.length&&(R=R-S+i(p+"XXX",o)|0),m=n(m,w,4,_U(R));const A=`url(data:font/opentype;base64,${btoa(m)});`,D=`@font-face {font-family:"${p}";src:${A}}`;this.insertRule(D);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const F of[t.loadedName,p]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=F,E.append(L)}this._document.body.append(E),f(p,()=>{E.remove(),s.complete()})}}oh=new WeakMap;class JU{constructor(t,{disableFontFace:s=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this.disableFontFace=s===!0,this._inspectFont=i}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(s=this._inspectFont)==null||s.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${zU(this.data)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),s}getPathGenerator(t,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let i;try{i=t.get(this.loadedName+"_path_"+s)}catch(o){ut(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[s]=function(o,r){};const n=[];for(let o=0,r=i.length;o<r;)switch(i[o++]){case cr.BEZIER_CURVE_TO:{const[l,u,d,f,p,m]=i.slice(o,o+6);n.push(C=>C.bezierCurveTo(l,u,d,f,p,m)),o+=6}break;case cr.MOVE_TO:{const[l,u]=i.slice(o,o+2);n.push(d=>d.moveTo(l,u)),o+=2}break;case cr.LINE_TO:{const[l,u]=i.slice(o,o+2);n.push(d=>d.lineTo(l,u)),o+=2}break;case cr.QUADRATIC_CURVE_TO:{const[l,u,d,f]=i.slice(o,o+4);n.push(p=>p.quadraticCurveTo(l,u,d,f)),o+=4}break;case cr.RESTORE:n.push(l=>l.restore());break;case cr.SAVE:n.push(l=>l.save());break;case cr.SCALE:xs(n.length===2,"Scale command is only valid at the third position.");break;case cr.TRANSFORM:{const[l,u,d,f,p,m]=i.slice(o,o+6);n.push(C=>C.transform(l,u,d,f,p,m)),o+=6}break;case cr.TRANSLATE:{const[l,u]=i.slice(o,o+2);n.push(d=>d.translate(l,u)),o+=2}break}return this.compiledGlyphs[s]=function(r,l){n[0](r),n[1](r),r.scale(l,-l);for(let u=2,d=n.length;u<d;u++)n[u](r)}}}var Fp;class CI{constructor({enableHWA:t=!1}){O(this,Fp,!1);P(this,Fp,t)}create(t,s){if(t<=0||s<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,s);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!v(this,Fp)})}}reset(t,s,i){if(!t.canvas)throw new Error("Canvas is not specified");if(s<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=s,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,s){Wt("Abstract method `_createCanvas` called.")}}Fp=new WeakMap;class e5 extends CI{constructor({ownerDocument:t=globalThis.document,enableHWA:s=!1}){super({enableHWA:s}),this._document=t}_createCanvas(t,s){const i=this._document.createElement("canvas");return i.width=t,i.height=s,i}}class bI{constructor({baseUrl:t=null,isCompressed:s=!0}){this.baseUrl=t,this.isCompressed=s}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const s=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(s).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class wI extends bI{async _fetch(t){const s=await Bw(t,this.isCompressed?"arraybuffer":"text");return s instanceof ArrayBuffer?new Uint8Array(s):Gw(s)}}class yI{addFilter(t){return"none"}addHCMFilter(t,s){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,s,i,n,o){return"none"}destroy(t=!1){}}var Cc,bc,Fo,yr,ti,Yb,wc,Te,Js,wd,yd,PC,Sd,SI,QR,Rd,Sg,Rg,ZR,xg;class t5 extends yI{constructor({docId:s,ownerDocument:i=globalThis.document}){super();O(this,Te);O(this,Cc);O(this,bc);O(this,Fo);O(this,yr);O(this,ti);O(this,Yb);O(this,wc,0);P(this,yr,s),P(this,ti,i)}addFilter(s){if(!s)return"none";let i=v(this,Te,Js).get(s);if(i)return i;const[n,o,r]=M(this,Te,PC).call(this,s),l=s.length===1?n:`${n}${o}${r}`;if(i=v(this,Te,Js).get(l),i)return v(this,Te,Js).set(s,i),i;const u=`g_${v(this,yr)}_transfer_map_${di(this,wc)._++}`,d=M(this,Te,Sd).call(this,u);v(this,Te,Js).set(s,d),v(this,Te,Js).set(l,d);const f=M(this,Te,Rd).call(this,u);return M(this,Te,Rg).call(this,n,o,r,f),d}addHCMFilter(s,i){var w;const n=`${s}-${i}`,o="base";let r=v(this,Te,wd).get(o);if((r==null?void 0:r.key)===n||(r?((w=r.filter)==null||w.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},v(this,Te,wd).set(o,r)),!s||!i))return r.url;const l=M(this,Te,xg).call(this,s);s=He.makeHexColor(...l);const u=M(this,Te,xg).call(this,i);if(i=He.makeHexColor(...u),v(this,Te,yd).style.color="",s==="#000000"&&i==="#ffffff"||s===i)return r.url;const d=new Array(256);for(let S=0;S<=255;S++){const R=S/255;d[S]=R<=.03928?R/12.92:((R+.055)/1.055)**2.4}const f=d.join(","),p=`g_${v(this,yr)}_hcm_filter`,m=r.filter=M(this,Te,Rd).call(this,p);M(this,Te,Rg).call(this,f,f,f,m),M(this,Te,QR).call(this,m);const C=(S,R)=>{const A=l[S]/255,D=u[S]/255,E=new Array(R+1);for(let F=0;F<=R;F++)E[F]=A+F/R*(D-A);return E.join(",")};return M(this,Te,Rg).call(this,C(0,5),C(1,5),C(2,5),m),r.url=M(this,Te,Sd).call(this,p),r.url}addAlphaFilter(s){let i=v(this,Te,Js).get(s);if(i)return i;const[n]=M(this,Te,PC).call(this,[s]),o=`alpha_${n}`;if(i=v(this,Te,Js).get(o),i)return v(this,Te,Js).set(s,i),i;const r=`g_${v(this,yr)}_alpha_map_${di(this,wc)._++}`,l=M(this,Te,Sd).call(this,r);v(this,Te,Js).set(s,l),v(this,Te,Js).set(o,l);const u=M(this,Te,Rd).call(this,r);return M(this,Te,ZR).call(this,n,u),l}addLuminosityFilter(s){let i=v(this,Te,Js).get(s||"luminosity");if(i)return i;let n,o;if(s?([n]=M(this,Te,PC).call(this,[s]),o=`luminosity_${n}`):o="luminosity",i=v(this,Te,Js).get(o),i)return v(this,Te,Js).set(s,i),i;const r=`g_${v(this,yr)}_luminosity_map_${di(this,wc)._++}`,l=M(this,Te,Sd).call(this,r);v(this,Te,Js).set(s,l),v(this,Te,Js).set(o,l);const u=M(this,Te,Rd).call(this,r);return M(this,Te,SI).call(this,u),s&&M(this,Te,ZR).call(this,n,u),l}addHighlightHCMFilter(s,i,n,o,r){var D;const l=`${i}-${n}-${o}-${r}`;let u=v(this,Te,wd).get(s);if((u==null?void 0:u.key)===l||(u?((D=u.filter)==null||D.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},v(this,Te,wd).set(s,u)),!i||!n))return u.url;const[d,f]=[i,n].map(M(this,Te,xg).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[C,w]=[o,r].map(M(this,Te,xg).bind(this));m<p&&([p,m,C,w]=[m,p,w,C]),v(this,Te,yd).style.color="";const S=(E,F,L)=>{const k=new Array(256),H=(m-p)/L,G=E/255,W=(F-E)/(255*L);let q=0;for(let K=0;K<=L;K++){const Z=Math.round(p+K*H),Y=G+K*W;for(let re=q;re<=Z;re++)k[re]=Y;q=Z+1}for(let K=q;K<256;K++)k[K]=k[q-1];return k.join(",")},R=`g_${v(this,yr)}_hcm_${s}_filter`,A=u.filter=M(this,Te,Rd).call(this,R);return M(this,Te,QR).call(this,A),M(this,Te,Rg).call(this,S(C[0],w[0],5),S(C[1],w[1],5),S(C[2],w[2],5),A),u.url=M(this,Te,Sd).call(this,R),u.url}destroy(s=!1){s&&v(this,Te,wd).size!==0||(v(this,Fo)&&(v(this,Fo).parentNode.parentNode.remove(),P(this,Fo,null)),v(this,bc)&&(v(this,bc).clear(),P(this,bc,null)),P(this,wc,0))}}Cc=new WeakMap,bc=new WeakMap,Fo=new WeakMap,yr=new WeakMap,ti=new WeakMap,Yb=new WeakMap,wc=new WeakMap,Te=new WeakSet,Js=function(){return v(this,bc)||P(this,bc,new Map)},wd=function(){return v(this,Yb)||P(this,Yb,new Map)},yd=function(){if(!v(this,Fo)){const s=v(this,ti).createElement("div"),{style:i}=s;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const n=v(this,ti).createElementNS(dr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),P(this,Fo,v(this,ti).createElementNS(dr,"defs")),s.append(n),n.append(v(this,Fo)),v(this,ti).body.append(s)}return v(this,Fo)},PC=function(s){if(s.length===1){const d=s[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[i,n,o]=s,r=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)r[d]=i[d]/255,l[d]=n[d]/255,u[d]=o[d]/255;return[r.join(","),l.join(","),u.join(",")]},Sd=function(s){if(v(this,Cc)===void 0){P(this,Cc,"");const i=v(this,ti).URL;i!==v(this,ti).baseURI&&(Vw(i)?ut('#createUrl: ignore "data:"-URL for performance reasons.'):P(this,Cc,i.split("#",1)[0]))}return`url(${v(this,Cc)}#${s})`},SI=function(s){const i=v(this,ti).createElementNS(dr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(i)},QR=function(s){const i=v(this,ti).createElementNS(dr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(i)},Rd=function(s){const i=v(this,ti).createElementNS(dr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",s),v(this,Te,yd).append(i),i},Sg=function(s,i,n){const o=v(this,ti).createElementNS(dr,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",n),s.append(o)},Rg=function(s,i,n,o){const r=v(this,ti).createElementNS(dr,"feComponentTransfer");o.append(r),M(this,Te,Sg).call(this,r,"feFuncR",s),M(this,Te,Sg).call(this,r,"feFuncG",i),M(this,Te,Sg).call(this,r,"feFuncB",n)},ZR=function(s,i){const n=v(this,ti).createElementNS(dr,"feComponentTransfer");i.append(n),M(this,Te,Sg).call(this,n,"feFuncA",s)},xg=function(s){return v(this,Te,yd).style.color=s,oE(getComputedStyle(v(this,Te,yd)).getPropertyValue("color"))};class RI{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${t}`;return this._fetch(s).catch(i=>{throw new Error(`Unable to load font data at: ${s}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class xI extends RI{async _fetch(t){const s=await Bw(t,"arraybuffer");return new Uint8Array(s)}}if(ri){var JR=Promise.withResolvers(),Ng=null;(async()=>{const t=await oC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await oC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await oC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await oC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,r;return new Map(Object.entries({fs:t,http:s,https:i,url:n,canvas:o,path2d:r}))})().then(t=>{Ng=t,JR.resolve()},t=>{ut(`loadPackages: ${t}`),Ng=new Map,JR.resolve()})}class vl{static get promise(){return JR.promise}static get(t){return Ng==null?void 0:Ng.get(t)}}async function AI(e){const s=await vl.get("fs").promises.readFile(e);return new Uint8Array(s)}class s5 extends yI{}class i5 extends CI{_createCanvas(t,s){return vl.get("canvas").createCanvas(t,s)}}class n5 extends bI{async _fetch(t){return AI(t)}}class o5 extends RI{async _fetch(t){return AI(t)}}const mi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ex(e,t){if(!t)return;const s=t[2]-t[0],i=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],s,i),e.clip(n)}class aE{getPattern(){Wt("Abstract method `getPattern` called.")}}class r5 extends aE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let s;this._type==="axial"?s=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)s.addColorStop(i[0],i[1]);return s}getPattern(t,s,i,n){let o;if(n===mi.STROKE||n===mi.FILL){const r=s.current.getClippedPathBoundingBox(n,es(t))||[0,0,0,0],l=Math.ceil(r[2]-r[0])||1,u=Math.ceil(r[3]-r[1])||1,d=s.cachedCanvases.getCanvas("pattern",l,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-r[0],-r[1]),i=He.transform(i,[1,0,0,1,r[0],r[1]]),f.transform(...s.baseTransform),this.matrix&&f.transform(...this.matrix),ex(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),o=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(i);o.setTransform(p)}else ex(t,this._bbox),o=this._createGradient(t);return o}}function H0(e,t,s,i,n,o,r,l){const u=t.coords,d=t.colors,f=e.data,p=e.width*4;let m;u[s+1]>u[i+1]&&(m=s,s=i,i=m,m=o,o=r,r=m),u[i+1]>u[n+1]&&(m=i,i=n,n=m,m=r,r=l,l=m),u[s+1]>u[i+1]&&(m=s,s=i,i=m,m=o,o=r,r=m);const C=(u[s]+t.offsetX)*t.scaleX,w=(u[s+1]+t.offsetY)*t.scaleY,S=(u[i]+t.offsetX)*t.scaleX,R=(u[i+1]+t.offsetY)*t.scaleY,A=(u[n]+t.offsetX)*t.scaleX,D=(u[n+1]+t.offsetY)*t.scaleY;if(w>=D)return;const E=d[o],F=d[o+1],L=d[o+2],k=d[r],H=d[r+1],G=d[r+2],W=d[l],q=d[l+1],K=d[l+2],Z=Math.round(w),Y=Math.round(D);let re,ne,B,z,U,ue,_,$;for(let X=Z;X<=Y;X++){if(X<R){const Ae=X<w?0:(w-X)/(w-R);re=C-(C-S)*Ae,ne=E-(E-k)*Ae,B=F-(F-H)*Ae,z=L-(L-G)*Ae}else{let Ae;X>D?Ae=1:R===D?Ae=0:Ae=(R-X)/(R-D),re=S-(S-A)*Ae,ne=k-(k-W)*Ae,B=H-(H-q)*Ae,z=G-(G-K)*Ae}let J;X<w?J=0:X>D?J=1:J=(w-X)/(w-D),U=C-(C-A)*J,ue=E-(E-W)*J,_=F-(F-q)*J,$=L-(L-K)*J;const le=Math.round(Math.min(re,U)),ge=Math.round(Math.max(re,U));let me=p*X+le*4;for(let Ae=le;Ae<=ge;Ae++)J=(re-Ae)/(re-U),J<0?J=0:J>1&&(J=1),f[me++]=ne-(ne-ue)*J|0,f[me++]=B-(B-_)*J|0,f[me++]=z-(z-$)*J|0,f[me++]=255}}function a5(e,t,s){const i=t.coords,n=t.colors;let o,r;switch(t.type){case"lattice":const l=t.verticesPerRow,u=Math.floor(i.length/l)-1,d=l-1;for(o=0;o<u;o++){let f=o*l;for(let p=0;p<d;p++,f++)H0(e,s,i[f],i[f+1],i[f+l],n[f],n[f+1],n[f+l]),H0(e,s,i[f+l+1],i[f+1],i[f+l],n[f+l+1],n[f+1],n[f+l])}break;case"triangles":for(o=0,r=i.length;o<r;o+=3)H0(e,s,i[o],i[o+1],i[o+2],n[o],n[o+1],n[o+2]);break;default:throw new Error("illegal figure")}}class l5 extends aE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,s,i){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),C=d/p,w=f/m,S={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/C,scaleY:1/w},R=p+2*2,A=m+2*2,D=i.getCanvas("mesh",R,A),E=D.context,F=E.createImageData(p,m);if(s){const k=F.data;for(let H=0,G=k.length;H<G;H+=4)k[H]=s[0],k[H+1]=s[1],k[H+2]=s[2],k[H+3]=255}for(const k of this._figures)a5(F,k,S);return E.putImageData(F,2,2),{canvas:D.canvas,offsetX:l-2*C,offsetY:u-2*w,scaleX:C,scaleY:w}}getPattern(t,s,i,n){ex(t,this._bbox);let o;if(n===mi.SHADING)o=He.singularValueDecompose2dScale(es(t));else if(o=He.singularValueDecompose2dScale(s.baseTransform),this.matrix){const l=He.singularValueDecompose2dScale(this.matrix);o=[o[0]*l[0],o[1]*l[1]]}const r=this._createMeshCanvas(o,n===mi.SHADING?null:this._background,s.cachedCanvases);return n!==mi.SHADING&&(t.setTransform(...s.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class c5 extends aE{getPattern(){return"hotpink"}}function u5(e){switch(e[0]){case"RadialAxial":return new r5(e);case"Mesh":return new l5(e);case"Dummy":return new c5}throw new Error(`Unknown IR type: ${e[0]}`)}const PM={COLORED:1,UNCOLORED:2},Xb=class Xb{constructor(t,s,i,n,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=s,this.ctx=i,this.canvasGraphicsFactory=n,this.baseTransform=o}createPatternCanvas(t){const{bbox:s,operatorList:i,paintType:n,tilingType:o,color:r,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),Nw("TilingType: "+o);const f=s[0],p=s[1],m=s[2],C=s[3],w=m-f,S=C-p,R=He.singularValueDecompose2dScale(this.matrix),A=He.singularValueDecompose2dScale(this.baseTransform),D=R[0]*A[0],E=R[1]*A[1];let F=w,L=S,k=!1,H=!1;const G=Math.ceil(u*D),W=Math.ceil(d*E),q=Math.ceil(w*D),K=Math.ceil(S*E);G>=q?F=u:k=!0,W>=K?L=d:H=!0;const Z=this.getSizeAndScale(F,this.ctx.canvas.width,D),Y=this.getSizeAndScale(L,this.ctx.canvas.height,E),re=t.cachedCanvases.getCanvas("pattern",Z.size,Y.size),ne=re.context,B=l.createCanvasGraphics(ne);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,n,r),ne.translate(-Z.scale*f,-Y.scale*p),B.transform(Z.scale,0,0,Y.scale,0,0),ne.save(),this.clipBbox(B,f,p,m,C),B.baseTransform=es(B.ctx),B.executeOperatorList(i),B.endDrawing(),ne.restore(),k||H){const z=re.canvas;k&&(F=u),H&&(L=d);const U=this.getSizeAndScale(F,this.ctx.canvas.width,D),ue=this.getSizeAndScale(L,this.ctx.canvas.height,E),_=U.size,$=ue.size,X=t.cachedCanvases.getCanvas("pattern-workaround",_,$),J=X.context,le=k?Math.floor(w/u):0,ge=H?Math.floor(S/d):0;for(let me=0;me<=le;me++)for(let Ae=0;Ae<=ge;Ae++)J.drawImage(z,_*me,$*Ae,_,$,0,0,_,$);return{canvas:X.canvas,scaleX:U.scale,scaleY:ue.scale,offsetX:f,offsetY:p}}return{canvas:re.canvas,scaleX:Z.scale,scaleY:Y.scale,offsetX:f,offsetY:p}}getSizeAndScale(t,s,i){const n=Math.max(Xb.MAX_PATTERN_SIZE,s);let o=Math.ceil(t*i);return o>=n?o=n:i=o/t,{scale:i,size:o}}clipBbox(t,s,i,n,o){const r=n-s,l=o-i;t.ctx.rect(s,i,r,l),t.current.updateRectMinMax(es(t.ctx),[s,i,n,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,s,i){const n=t.ctx,o=t.current;switch(s){case PM.COLORED:const r=this.ctx;n.fillStyle=r.fillStyle,n.strokeStyle=r.strokeStyle,o.fillColor=r.fillStyle,o.strokeColor=r.strokeStyle;break;case PM.UNCOLORED:const l=He.makeHexColor(i[0],i[1],i[2]);n.fillStyle=l,n.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new OU(`Unsupported paint type: ${s}`)}}getPattern(t,s,i,n){let o=i;n!==mi.SHADING&&(o=He.transform(o,s.baseTransform),this.matrix&&(o=He.transform(o,this.matrix)));const r=this.createPatternCanvas(s);let l=new DOMMatrix(o);l=l.translate(r.offsetX,r.offsetY),l=l.scale(1/r.scaleX,1/r.scaleY);const u=t.createPattern(r.canvas,"repeat");return u.setTransform(l),u}};Je(Xb,"MAX_PATTERN_SIZE",3e3);let tx=Xb;function d5({src:e,srcPos:t=0,dest:s,width:i,height:n,nonBlackColor:o=4294967295,inverseDecode:r=!1}){const l=Ci.isLittleEndian?4278190080:255,[u,d]=r?[o,l]:[l,o],f=i>>3,p=i&7,m=e.length;s=new Uint32Array(s.buffer);let C=0;for(let w=0;w<n;w++){for(const R=t+f;t<R;t++){const A=t<m?e[t]:255;s[C++]=A&128?d:u,s[C++]=A&64?d:u,s[C++]=A&32?d:u,s[C++]=A&16?d:u,s[C++]=A&8?d:u,s[C++]=A&4?d:u,s[C++]=A&2?d:u,s[C++]=A&1?d:u}if(p===0)continue;const S=t<m?e[t++]:255;for(let R=0;R<p;R++)s[C++]=S&1<<7-R?d:u}return{srcPos:t,destPos:C}}const MM=16,LM=100,h5=15,kM=10,IM=1e3,ki=16;function f5(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(i,n){t.translate(i,n),this.__originalTranslate(i,n)},e.scale=function(i,n){t.scale(i,n),this.__originalScale(i,n)},e.transform=function(i,n,o,r,l,u){t.transform(i,n,o,r,l,u),this.__originalTransform(i,n,o,r,l,u)},e.setTransform=function(i,n,o,r,l,u){t.setTransform(i,n,o,r,l,u),this.__originalSetTransform(i,n,o,r,l,u)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(i){t.rotate(i),this.__originalRotate(i)},e.clip=function(i){t.clip(i),this.__originalClip(i)},e.moveTo=function(s,i){t.moveTo(s,i),this.__originalMoveTo(s,i)},e.lineTo=function(s,i){t.lineTo(s,i),this.__originalLineTo(s,i)},e.bezierCurveTo=function(s,i,n,o,r,l){t.bezierCurveTo(s,i,n,o,r,l),this.__originalBezierCurveTo(s,i,n,o,r,l)},e.rect=function(s,i,n,o){t.rect(s,i,n,o),this.__originalRect(s,i,n,o)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class g5{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,s,i){let n;return this.cache[t]!==void 0?(n=this.cache[t],this.canvasFactory.reset(n,s,i)):(n=this.canvasFactory.create(s,i),this.cache[t]=n),n}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const s=this.cache[t];this.canvasFactory.destroy(s),delete this.cache[t]}}}function rC(e,t,s,i,n,o,r,l,u,d){const[f,p,m,C,w,S]=es(e);if(p===0&&m===0){const D=r*f+w,E=Math.round(D),F=l*C+S,L=Math.round(F),k=(r+u)*f+w,H=Math.abs(Math.round(k)-E)||1,G=(l+d)*C+S,W=Math.abs(Math.round(G)-L)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(C),E,L),e.drawImage(t,s,i,n,o,0,0,H,W),e.setTransform(f,p,m,C,w,S),[H,W]}if(f===0&&C===0){const D=l*m+w,E=Math.round(D),F=r*p+S,L=Math.round(F),k=(l+d)*m+w,H=Math.abs(Math.round(k)-E)||1,G=(r+u)*p+S,W=Math.abs(Math.round(G)-L)||1;return e.setTransform(0,Math.sign(p),Math.sign(m),0,E,L),e.drawImage(t,s,i,n,o,0,0,W,H),e.setTransform(f,p,m,C,w,S),[W,H]}e.drawImage(t,s,i,n,o,r,l,u,d);const R=Math.hypot(f,p),A=Math.hypot(m,C);return[R*u,A*d]}function p5(e){const{width:t,height:s}=e;if(t>IM||s>IM)return null;const i=1e3,n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let r=new Uint8Array(o*(s+1)),l,u,d;const f=t+7&-8;let p=new Uint8Array(f*s),m=0;for(const A of e.data){let D=128;for(;D>0;)p[m++]=A&D?0:255,D>>=1}let C=0;for(m=0,p[m]!==0&&(r[0]=1,++C),u=1;u<t;u++)p[m]!==p[m+1]&&(r[u]=p[m]?2:1,++C),m++;for(p[m]!==0&&(r[u]=2,++C),l=1;l<s;l++){m=l*f,d=l*o,p[m-f]!==p[m]&&(r[d]=p[m]?1:8,++C);let A=(p[m]?4:0)+(p[m-f]?8:0);for(u=1;u<t;u++)A=(A>>2)+(p[m+1]?4:0)+(p[m-f+1]?8:0),n[A]&&(r[d+u]=n[A],++C),m++;if(p[m-f]!==p[m]&&(r[d+u]=p[m]?2:4,++C),C>i)return null}for(m=f*(s-1),d=l*o,p[m]!==0&&(r[d]=8,++C),u=1;u<t;u++)p[m]!==p[m+1]&&(r[d+u]=p[m]?4:8,++C),m++;if(p[m]!==0&&(r[d+u]=4,++C),C>i)return null;const w=new Int32Array([0,o,-1,0,-o,0,0,0,1]),S=new Path2D;for(l=0;C&&l<=s;l++){let A=l*o;const D=A+t;for(;A<D&&!r[A];)A++;if(A===D)continue;S.moveTo(A%o,l);const E=A;let F=r[A];do{const L=w[F];do A+=L;while(!r[A]);const k=r[A];k!==5&&k!==10?(F=k,r[A]=0):(F=k&51*F>>4,r[A]&=F>>2|F<<2),S.lineTo(A%o,A/o|0),r[A]||--C}while(E!==A);--l}return p=null,r=null,function(A){A.save(),A.scale(1/t,-1/s),A.translate(0,-s),A.fill(S),A.beginPath(),A.restore()}}class OM{constructor(t,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=zk,this.textMatrixScale=1,this.fontMatrix=DR,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Zs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,s])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,s){this.x=t,this.y=s}updatePathMinMax(t,s,i){[s,i]=He.applyTransform([s,i],t),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,s){const i=He.applyTransform(s,t),n=He.applyTransform(s.slice(2),t),o=He.applyTransform([s[0],s[3]],t),r=He.applyTransform([s[2],s[1]],t);this.minX=Math.min(this.minX,i[0],n[0],o[0],r[0]),this.minY=Math.min(this.minY,i[1],n[1],o[1],r[1]),this.maxX=Math.max(this.maxX,i[0],n[0],o[0],r[0]),this.maxY=Math.max(this.maxY,i[1],n[1],o[1],r[1])}updateScalingPathMinMax(t,s){He.scaleMinMax(t,s),this.minX=Math.min(this.minX,s[0]),this.minY=Math.min(this.minY,s[1]),this.maxX=Math.max(this.maxX,s[2]),this.maxY=Math.max(this.maxY,s[3])}updateCurvePathMinMax(t,s,i,n,o,r,l,u,d,f){const p=He.bezierBoundingBox(s,i,n,o,r,l,u,d,f);f||this.updateRectMinMax(t,p)}getPathBoundingBox(t=mi.FILL,s=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===mi.STROKE){s||Wt("Stroke bounding box must include transform.");const n=He.singularValueDecompose2dScale(s),o=n[0]*this.lineWidth/2,r=n[1]*this.lineWidth/2;i[0]-=o,i[1]-=r,i[2]+=o,i[3]+=r}return i}updateClipFromPath(){const t=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=mi.FILL,s=null){return He.intersect(this.clipBox,this.getPathBoundingBox(t,s))}}function _M(e,t){if(typeof ImageData<"u"&&t instanceof ImageData){e.putImageData(t,0,0);return}const s=t.height,i=t.width,n=s%ki,o=(s-n)/ki,r=n===0?o:o+1,l=e.createImageData(i,ki);let u=0,d;const f=t.data,p=l.data;let m,C,w,S;if(t.kind===RC.GRAYSCALE_1BPP){const R=f.byteLength,A=new Uint32Array(p.buffer,0,p.byteLength>>2),D=A.length,E=i+7>>3,F=4294967295,L=Ci.isLittleEndian?4278190080:255;for(m=0;m<r;m++){for(w=m<o?ki:n,d=0,C=0;C<w;C++){const k=R-u;let H=0;const G=k>E?i:k*8-7,W=G&-8;let q=0,K=0;for(;H<W;H+=8)K=f[u++],A[d++]=K&128?F:L,A[d++]=K&64?F:L,A[d++]=K&32?F:L,A[d++]=K&16?F:L,A[d++]=K&8?F:L,A[d++]=K&4?F:L,A[d++]=K&2?F:L,A[d++]=K&1?F:L;for(;H<G;H++)q===0&&(K=f[u++],q=128),A[d++]=K&q?F:L,q>>=1}for(;d<D;)A[d++]=0;e.putImageData(l,0,m*ki)}}else if(t.kind===RC.RGBA_32BPP){for(C=0,S=i*ki*4,m=0;m<o;m++)p.set(f.subarray(u,u+S)),u+=S,e.putImageData(l,0,C),C+=ki;m<r&&(S=i*n*4,p.set(f.subarray(u,u+S)),e.putImageData(l,0,C))}else if(t.kind===RC.RGB_24BPP)for(w=ki,S=i*w,m=0;m<r;m++){for(m>=o&&(w=n,S=i*w),d=0,C=S;C--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;e.putImageData(l,0,m*ki)}else throw new Error(`bad image kind: ${t.kind}`)}function NM(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const s=t.height,i=t.width,n=s%ki,o=(s-n)/ki,r=n===0?o:o+1,l=e.createImageData(i,ki);let u=0;const d=t.data,f=l.data;for(let p=0;p<r;p++){const m=p<o?ki:n;({srcPos:u}=d5({src:d,srcPos:u,dest:f,width:i,height:m,nonBlackColor:0})),e.putImageData(l,0,p*ki)}}function hg(e,t){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of s)e[i]!==void 0&&(t[i]=e[i]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function aC(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0),!ri){const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}}function HM(e,t){if(t)return!0;const s=He.singularValueDecompose2dScale(e);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*ml.PDF_TO_CSS_UNITS);return s[0]<=i&&s[1]<=i}const m5=["butt","round","square"],v5=["miter","round","bevel"],C5={},GM={};var Sl,sx,ix;const KE=class KE{constructor(t,s,i,n,o,{optionalContentConfig:r,markedContentStack:l=null},u,d){O(this,Sl);this.ctx=t,this.current=new OM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=i,this.canvasFactory=n,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=r,this.cachedCanvases=new g5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,s=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):s}beginDrawing({transform:t,viewport:s,transparency:i=!1,background:n=null}){const o=this.ctx.canvas.width,r=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=n||"#ffffff",this.ctx.fillRect(0,0,o,r),this.ctx.fillStyle=l,i){const u=this.cachedCanvases.getCanvas("transparent",o,r);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...es(this.compositeCtx))}this.ctx.save(),aC(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=es(this.ctx)}executeOperatorList(t,s,i,n){const o=t.argsArray,r=t.fnArray;let l=s||0;const u=o.length;if(u===l)return l;const d=u-l>kM&&typeof i=="function",f=d?Date.now()+h5:0;let p=0;const m=this.commonObjs,C=this.objs;let w;for(;;){if(n!==void 0&&l===n.nextBreakPoint)return n.breakIt(l,i),l;if(w=r[l],w!==Vn.dependency)this[w].apply(this,o[l]);else for(const S of o[l]){const R=S.startsWith("g_")?m:C;if(!R.has(S))return R.get(S,i),l}if(l++,l===u)return l;if(d&&++p>kM){if(Date.now()>f)return i(),l;p=0}}}endDrawing(){M(this,Sl,sx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const s of t.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);t.clear()}this._cachedBitmapsMap.clear(),M(this,Sl,ix).call(this)}_scaleImage(t,s){const i=t.width??t.displayWidth,n=t.height??t.displayHeight;let o=Math.max(Math.hypot(s[0],s[1]),1),r=Math.max(Math.hypot(s[2],s[3]),1),l=i,u=n,d="prescale1",f,p;for(;o>2&&l>1||r>2&&u>1;){let m=l,C=u;o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),o/=l/m),r>2&&u>1&&(C=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,r/=u/C),f=this.cachedCanvases.getCanvas(d,m,C),p=f.context,p.clearRect(0,0,m,C),p.drawImage(t,0,0,l,u,0,0,m,C),t=f.canvas,l=m,u=C,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}_createMaskCanvas(t){const s=this.ctx,{width:i,height:n}=t,o=this.current.fillColor,r=this.current.patternFill,l=es(s);let u,d,f,p;if((t.bitmap||t.data)&&t.count>1){const G=t.bitmap||t.data.buffer;d=JSON.stringify(r?l:[l.slice(0,4),o]),u=this._cachedBitmapsMap.get(G),u||(u=new Map,this._cachedBitmapsMap.set(G,u));const W=u.get(d);if(W&&!r){const q=Math.round(Math.min(l[0],l[2])+l[4]),K=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:W,offsetX:q,offsetY:K}}f=W}f||(p=this.cachedCanvases.getCanvas("maskCanvas",i,n),NM(p.context,t));let m=He.transform(l,[1/i,0,0,-1/n,0,0]);m=He.transform(m,[1,0,0,1,0,-n]);const[C,w,S,R]=He.getAxialAlignedBoundingBox([0,0,i,n],m),A=Math.round(S-C)||1,D=Math.round(R-w)||1,E=this.cachedCanvases.getCanvas("fillCanvas",A,D),F=E.context,L=C,k=w;F.translate(-L,-k),F.transform(...m),f||(f=this._scaleImage(p.canvas,ur(F)),f=f.img,u&&r&&u.set(d,f)),F.imageSmoothingEnabled=HM(es(F),t.interpolate),rC(F,f,0,0,f.width,f.height,0,0,i,n),F.globalCompositeOperation="source-in";const H=He.transform(ur(F),[1,0,0,1,-L,-k]);return F.fillStyle=r?o.getPattern(s,this,H,mi.FILL):o,F.fillRect(0,0,i,n),u&&!r&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,E.canvas)),{canvas:E.canvas,offsetX:Math.round(L),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=m5[t]}setLineJoin(t){this.ctx.lineJoin=v5[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,s){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=s)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,i]of t)switch(s){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(i,t,s);this.suspendedCtx=this.ctx,this.ctx=n.context;const o=this.ctx;o.setTransform(...es(this.suspendedCtx)),hg(this.suspendedCtx,o),f5(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),hg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,s,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,s,i,n){const o=n[0],r=n[1],l=n[2]-o,u=n[3]-r;l===0||u===0||(this.genericComposeSMask(s.context,i,l,u,s.subtype,s.backdrop,s.transferMap,o,r,s.offsetX,s.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,s,i,n,o,r,l,u,d,f,p){let m=t.canvas,C=u-f,w=d-p;if(r){const R=He.makeHexColor(...r);if(C<0||w<0||C+i>m.width||w+n>m.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,n),D=A.context;D.drawImage(m,-C,-w),D.globalCompositeOperation="destination-atop",D.fillStyle=R,D.fillRect(0,0,i,n),D.globalCompositeOperation="source-over",m=A.canvas,C=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(C,w,i,n),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=R,t.fillRect(C,w,i,n),t.restore()}}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),o==="Alpha"&&l?s.filter=this.filterFactory.addAlphaFilter(l):o==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter(l));const S=new Path2D;S.rect(u,d,i,n),s.clip(S),s.globalCompositeOperation="destination-in",s.drawImage(m,C,w,i,n,u,d,i,n),s.restore()}save(){this.inSMaskMode?(hg(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),hg(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,s,i,n,o,r){this.ctx.transform(t,s,i,n,o,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,s,i){const n=this.ctx,o=this.current;let r=o.x,l=o.y,u,d;const f=es(n),p=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,m=p?i.slice(0):null;for(let C=0,w=0,S=t.length;C<S;C++)switch(t[C]|0){case Vn.rectangle:r=s[w++],l=s[w++];const R=s[w++],A=s[w++],D=r+R,E=l+A;n.moveTo(r,l),R===0||A===0?n.lineTo(D,E):(n.lineTo(D,l),n.lineTo(D,E),n.lineTo(r,E)),p||o.updateRectMinMax(f,[r,l,D,E]),n.closePath();break;case Vn.moveTo:r=s[w++],l=s[w++],n.moveTo(r,l),p||o.updatePathMinMax(f,r,l);break;case Vn.lineTo:r=s[w++],l=s[w++],n.lineTo(r,l),p||o.updatePathMinMax(f,r,l);break;case Vn.curveTo:u=r,d=l,r=s[w+4],l=s[w+5],n.bezierCurveTo(s[w],s[w+1],s[w+2],s[w+3],r,l),o.updateCurvePathMinMax(f,u,d,s[w],s[w+1],s[w+2],s[w+3],r,l,m),w+=6;break;case Vn.curveTo2:u=r,d=l,n.bezierCurveTo(r,l,s[w],s[w+1],s[w+2],s[w+3]),o.updateCurvePathMinMax(f,u,d,r,l,s[w],s[w+1],s[w+2],s[w+3],m),r=s[w+2],l=s[w+3],w+=4;break;case Vn.curveTo3:u=r,d=l,r=s[w+2],l=s[w+3],n.bezierCurveTo(s[w],s[w+1],r,l,r,l),o.updateCurvePathMinMax(f,u,d,s[w],s[w+1],r,l,r,l,m),w+=4;break;case Vn.closePath:n.closePath();break}p&&o.updateScalingPathMinMax(f,m),o.setCurrentPoint(r,l)}closePath(){this.ctx.closePath()}stroke(t=!0){const s=this.ctx,i=this.current.strokeColor;s.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(s.save(),s.strokeStyle=i.getPattern(s,this,ur(s),mi.STROKE),this.rescaleAndStroke(!1),s.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const s=this.ctx,i=this.current.fillColor,n=this.current.patternFill;let o=!1;n&&(s.save(),s.fillStyle=i.getPattern(s,this,ur(s),mi.FILL),o=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&r!==null&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),o&&s.restore(),t&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=C5}eoClip(){this.pendingClip=GM}beginText(){this.current.textMatrix=zk,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,s=this.ctx;if(t===void 0){s.beginPath();return}s.save(),s.beginPath();for(const i of t)s.setTransform(...i.transform),s.translate(i.x,i.y),i.addToPath(s,i.fontSize);s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,s){var f;const i=this.commonObjs.get(t),n=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(n.fontMatrix=i.fontMatrix||DR,(n.fontMatrix[0]===0||n.fontMatrix[3]===0)&&ut("Invalid font matrix for font "+t),s<0?(s=-s,n.fontDirection=-1):n.fontDirection=1,this.current.font=i,this.current.fontSize=s,i.isType3Font)return;const o=i.loadedName||"sans-serif",r=((f=i.systemFontInfo)==null?void 0:f.css)||`"${o}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let d=s;s<MM?d=MM:s>LM&&(d=LM),this.current.fontSizeScale=s/d,this.ctx.font=`${u} ${l} ${d}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,s){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}setTextMatrix(t,s,i,n,o,r){this.current.textMatrix=[t,s,i,n,o,r],this.current.textMatrixScale=Math.hypot(t,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,s,i,n){const o=this.ctx,r=this.current,l=r.font,u=r.textRenderingMode,d=r.fontSize/r.fontSizeScale,f=u&Zs.FILL_STROKE_MASK,p=!!(u&Zs.ADD_TO_PATH_FLAG),m=r.patternFill&&!l.missingFile;let C;(l.disableFontFace||p||m)&&(C=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||m?(o.save(),o.translate(s,i),o.beginPath(),C(o,d),n&&o.setTransform(...n),(f===Zs.FILL||f===Zs.FILL_STROKE)&&o.fill(),(f===Zs.STROKE||f===Zs.FILL_STROKE)&&o.stroke(),o.restore()):((f===Zs.FILL||f===Zs.FILL_STROKE)&&o.fillText(t,s,i),(f===Zs.STROKE||f===Zs.FILL_STROKE)&&o.strokeText(t,s,i)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:es(o),x:s,y:i,fontSize:d,addToPath:C})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const s=t.getImageData(0,0,10,10).data;let i=!1;for(let n=3;n<s.length;n+=4)if(s[n]>0&&s[n]<255){i=!0;break}return vt(this,"isFontSubpixelAAEnabled",i)}showText(t){const s=this.current,i=s.font;if(i.isType3Font)return this.showType3Text(t);const n=s.fontSize;if(n===0)return;const o=this.ctx,r=s.fontSizeScale,l=s.charSpacing,u=s.wordSpacing,d=s.fontDirection,f=s.textHScale*d,p=t.length,m=i.vertical,C=m?1:-1,w=i.defaultVMetrics,S=n*s.fontMatrix[0],R=s.textRenderingMode===Zs.FILL&&!i.disableFontFace&&!s.patternFill;o.save(),o.transform(...s.textMatrix),o.translate(s.x,s.y+s.textRise),d>0?o.scale(f,-1):o.scale(f,1);let A;if(s.patternFill){o.save();const k=s.fillColor.getPattern(o,this,ur(o),mi.FILL);A=es(o),o.restore(),o.fillStyle=k}let D=s.lineWidth;const E=s.textMatrixScale;if(E===0||D===0){const k=s.textRenderingMode&Zs.FILL_STROKE_MASK;(k===Zs.STROKE||k===Zs.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=E;if(r!==1&&(o.scale(r,r),D/=r),o.lineWidth=D,i.isInvalidPDFjsFont){const k=[];let H=0;for(const G of t)k.push(G.unicode),H+=G.width;o.fillText(k.join(""),0,0),s.x+=H*S*f,o.restore(),this.compose();return}let F=0,L;for(L=0;L<p;++L){const k=t[L];if(typeof k=="number"){F+=C*k*n/1e3;continue}let H=!1;const G=(k.isSpace?u:0)+l,W=k.fontChar,q=k.accent;let K,Z,Y=k.width;if(m){const ne=k.vmetric||w,B=-(k.vmetric?ne[1]:Y*.5)*S,z=ne[2]*S;Y=ne?-ne[0]:Y,K=B/r,Z=(F+z)/r}else K=F/r,Z=0;if(i.remeasure&&Y>0){const ne=o.measureText(W).width*1e3/n*r;if(Y<ne&&this.isFontSubpixelAAEnabled){const B=Y/ne;H=!0,o.save(),o.scale(B,1),K/=B}else Y!==ne&&(K+=(Y-ne)/2e3*n/r)}if(this.contentVisible&&(k.isInFont||i.missingFile)){if(R&&!q)o.fillText(W,K,Z);else if(this.paintChar(W,K,Z,A),q){const ne=K+n*q.offset.x/r,B=Z-n*q.offset.y/r;this.paintChar(q.fontChar,ne,B,A)}}const re=m?Y*S-G*d:Y*S+G*d;F+=re,H&&o.restore()}m?s.y-=F:s.x+=F*f,o.restore(),this.compose()}showType3Text(t){const s=this.ctx,i=this.current,n=i.font,o=i.fontSize,r=i.fontDirection,l=n.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,f=i.textHScale*r,p=i.fontMatrix||DR,m=t.length,C=i.textRenderingMode===Zs.INVISIBLE;let w,S,R,A;if(!(C||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),s.transform(...i.textMatrix),s.translate(i.x,i.y),s.scale(f,r),w=0;w<m;++w){if(S=t[w],typeof S=="number"){A=l*S*o/1e3,this.ctx.translate(A,0),i.x+=A*f;continue}const D=(S.isSpace?d:0)+u,E=n.charProcOperatorList[S.operatorListId];if(!E){ut(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),s.scale(o,o),s.transform(...p),this.executeOperatorList(E),this.restore()),R=He.applyTransform([S.width,0],p)[0]*o+D,s.translate(R,0),i.x+=R*f}s.restore(),this.processingType3=null}}setCharWidth(t,s){}setCharWidthAndBounds(t,s,i,n,o,r){this.ctx.rect(i,n,o-i,r-n),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let s;if(t[0]==="TilingPattern"){const i=t[1],n=this.baseTransform||es(this.ctx),o={createCanvasGraphics:r=>new KE(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new tx(t,i,this.ctx,o,n)}else s=this._getPattern(t[1],t[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,s,i){this.ctx.strokeStyle=this.current.strokeColor=He.makeHexColor(t,s,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,s,i){this.ctx.fillStyle=this.current.fillColor=He.makeHexColor(t,s,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,s=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=u5(this.getObject(t)),this.cachedPatterns.set(t,i)),s&&(i.matrix=s),i}shadingFill(t){if(!this.contentVisible)return;const s=this.ctx;this.save();const i=this._getPattern(t);s.fillStyle=i.getPattern(s,this,ur(s),mi.SHADING);const n=ur(s);if(n){const{width:o,height:r}=s.canvas,[l,u,d,f]=He.getAxialAlignedBoundingBox([0,0,o,r],n);this.ctx.fillRect(l,u,d-l,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=es(this.ctx),s)){const i=s[2]-s[0],n=s[3]-s[1];this.ctx.rect(s[0],s[1],i,n),this.current.updateRectMinMax(es(this.ctx),s),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||Nw("TODO: Support non-isolated groups."),t.knockout&&ut("Knockout groups not supported.");const i=es(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let n=He.getAxialAlignedBoundingBox(t.bbox,es(s));const o=[0,0,s.canvas.width,s.canvas.height];n=He.intersect(n,o)||[0,0,0,0];const r=Math.floor(n[0]),l=Math.floor(n[1]),u=Math.max(Math.ceil(n[2])-r,1),d=Math.max(Math.ceil(n[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,u,d),m=p.context;m.translate(-r,-l),m.transform(...i),t.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:r,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(r,l),s.save()),hg(s,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const n=es(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...n);const o=He.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],n);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,s,i,n,o){if(M(this,Sl,sx).call(this),aC(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const r=s[2]-s[0],l=s[3]-s[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=s[0],i[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=r,s[3]=l;const[u,d]=He.singularValueDecompose2dScale(es(this.ctx)),{viewportScale:f}=this,p=Math.ceil(r*this.outputScaleX*f),m=Math.ceil(l*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:C,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,C),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),aC(this.ctx)}else aC(this.ctx),this.endPath(),this.ctx.rect(s[0],s[1],r,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new OM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...n)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,Sl,ix).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(t.data,t),t.count=s;const i=this.ctx,n=this.processingType3;if(n&&(n.compiled===void 0&&(n.compiled=p5(t)),n.compiled)){n.compiled(i);return}const o=this._createMaskCanvas(t),r=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,s,i=0,n=0,o,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const u=es(l);l.transform(s,i,n,o,0,0);const d=this._createMaskCanvas(t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,p=r.length;f<p;f+=2){const m=He.transform(u,[s,i,n,o,r[f],r[f+1]]),[C,w]=He.applyTransform([0,0],m);l.drawImage(d.canvas,C,w)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const s=this.ctx,i=this.current.fillColor,n=this.current.patternFill;for(const o of t){const{data:r,width:l,height:u,transform:d}=o,f=this.cachedCanvases.getCanvas("maskCanvas",l,u),p=f.context;p.save();const m=this.getObject(r,o);NM(p,m),p.globalCompositeOperation="source-in",p.fillStyle=n?i.getPattern(p,this,ur(s),mi.FILL):i,p.fillRect(0,0,l,u),p.restore(),s.save(),s.transform(...d),s.scale(1,-1),rC(s,f.canvas,0,0,l,u,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){ut("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(t,s,i,n){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){ut("Dependent image isn't ready yet");return}const r=o.width,l=o.height,u=[];for(let d=0,f=n.length;d<f;d+=2)u.push({transform:[s,0,0,i,n[d],n[d+1]],x:0,y:0,w:r,h:l});this.paintInlineImageXObjectGroup(o,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:s,width:i,height:n}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,n),r=o.context;return r.filter=this.current.transferMaps,r.drawImage(s,0,0),r.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const s=t.width,i=t.height,n=this.ctx;if(this.save(),!ri){const{filter:l}=n;l!=="none"&&l!==""&&(n.filter="none")}n.scale(1/s,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",s,i).context;_M(u,t),o=this.applyTransferMapsToCanvas(u)}const r=this._scaleImage(o,ur(n));n.imageSmoothingEnabled=HM(es(n),t.interpolate),rC(n,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,s,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,s){if(!this.contentVisible)return;const i=this.ctx;let n;if(t.bitmap)n=t.bitmap;else{const o=t.width,r=t.height,u=this.cachedCanvases.getCanvas("inlineImage",o,r).context;_M(u,t),n=this.applyTransferMapsToCanvas(u)}for(const o of s)i.save(),i.transform(...o.transform),i.scale(1,-1),rC(i,n,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,s){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,s){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(s||(this.pendingClip===GM?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=es(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const s=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),n=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,n)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:s,b:i,c:n,d:o}=this.ctx.getTransform();let r,l;if(i===0&&n===0){const u=Math.abs(s),d=Math.abs(o);if(u===d)if(t===0)r=l=1/u;else{const f=u*t;r=l=f<1?1/f:1}else if(t===0)r=1/u,l=1/d;else{const f=u*t,p=d*t;r=f<1?1/f:1,l=p<1?1/p:1}}else{const u=Math.abs(s*o-i*n),d=Math.hypot(s,i),f=Math.hypot(n,o);if(t===0)r=f/u,l=d/u;else{const p=t*u;r=f>p?f/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:s}=this,{lineWidth:i}=this.current,[n,o]=this.getScaleForStroking();if(s.lineWidth=i||1,n===1&&o===1){s.stroke();return}const r=s.getLineDash();if(t&&s.save(),s.scale(n,o),r.length>0){const l=Math.max(n,o);s.setLineDash(r.map(u=>u/l)),s.lineDashOffset/=l}s.stroke(),t&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Sl=new WeakSet,sx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ix=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const s=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}};let Od=KE;for(const e in Vn)Od.prototype[e]!==void 0&&(Od.prototype[Vn[e]]=Od.prototype[e]);var Pp,Mp;class Br{static get workerPort(){return v(this,Pp)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");P(this,Pp,t)}static get workerSrc(){return v(this,Mp)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");P(this,Mp,t)}}Pp=new WeakMap,Mp=new WeakMap,O(Br,Pp,null),O(Br,Mp,"");const lC={DATA:1,ERROR:2},gs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Wi(e){switch(e instanceof Error||typeof e=="object"&&e!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new yu(e.message);case"MissingPDFException":return new wu(e.message);case"PasswordException":return new TR(e.message,e.code);case"UnexpectedResponseException":return new Hw(e.message,e.status);case"UnknownErrorException":return new FR(e.message,e.details);default:return new FR(e.message,e.toString())}}var rh,Fn,EI,DI,TI,MC;class Ag{constructor(t,s,i){O(this,Fn);O(this,rh,new AbortController);this.sourceName=t,this.targetName=s,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",M(this,Fn,EI).bind(this),{signal:v(this,rh).signal})}on(t,s){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=s}send(t,s,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:s},i)}sendWithPromise(t,s,i){const n=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[n]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:n,data:s},i)}catch(r){o.reject(r)}return o.promise}sendWithStream(t,s,i,n){const o=this.streamId++,r=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:r,targetName:l,action:t,streamId:o,data:s,desiredSize:d.desiredSize},n),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[o].pullCall=f,u.postMessage({sourceName:r,targetName:l,stream:gs.PULL,streamId:o,desiredSize:d.desiredSize}),f.promise},cancel:d=>{xs(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[o].cancelCall=f,this.streamControllers[o].isClosed=!0,u.postMessage({sourceName:r,targetName:l,stream:gs.CANCEL,streamId:o,reason:Wi(d)}),f.promise}},i)}destroy(){var t;(t=v(this,rh))==null||t.abort(),P(this,rh,null)}}rh=new WeakMap,Fn=new WeakSet,EI=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){M(this,Fn,TI).call(this,t);return}if(t.callback){const i=t.callbackId,n=this.callbackCapabilities[i];if(!n)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===lC.DATA)n.resolve(t.data);else if(t.callback===lC.ERROR)n.reject(Wi(t.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[t.action];if(!s)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,n=t.sourceName,o=this.comObj;new Promise(function(r){r(s(t.data))}).then(function(r){o.postMessage({sourceName:i,targetName:n,callback:lC.DATA,callbackId:t.callbackId,data:r})},function(r){o.postMessage({sourceName:i,targetName:n,callback:lC.ERROR,callbackId:t.callbackId,reason:Wi(r)})});return}if(t.streamId){M(this,Fn,DI).call(this,t);return}s(t.data)},DI=function(t){const s=t.streamId,i=this.sourceName,n=t.sourceName,o=this.comObj,r=this,l=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:n,stream:gs.ENQUEUE,streamId:s,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:n,stream:gs.CLOSE,streamId:s}),delete r.streamSinks[s])},error(d){xs(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:n,stream:gs.ERROR,streamId:s,reason:Wi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[s]=u,new Promise(function(d){d(l(t.data,u))}).then(function(){o.postMessage({sourceName:i,targetName:n,stream:gs.START_COMPLETE,streamId:s,success:!0})},function(d){o.postMessage({sourceName:i,targetName:n,stream:gs.START_COMPLETE,streamId:s,reason:Wi(d)})})},TI=function(t){const s=t.streamId,i=this.sourceName,n=t.sourceName,o=this.comObj,r=this.streamControllers[s],l=this.streamSinks[s];switch(t.stream){case gs.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Wi(t.reason));break;case gs.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Wi(t.reason));break;case gs.PULL:if(!l){o.postMessage({sourceName:i,targetName:n,stream:gs.PULL_COMPLETE,streamId:s,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){o.postMessage({sourceName:i,targetName:n,stream:gs.PULL_COMPLETE,streamId:s,success:!0})},function(u){o.postMessage({sourceName:i,targetName:n,stream:gs.PULL_COMPLETE,streamId:s,reason:Wi(u)})});break;case gs.ENQUEUE:if(xs(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case gs.CLOSE:if(xs(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),M(this,Fn,MC).call(this,r,s);break;case gs.ERROR:xs(r,"error should have stream controller"),r.controller.error(Wi(t.reason)),M(this,Fn,MC).call(this,r,s);break;case gs.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Wi(t.reason)),M(this,Fn,MC).call(this,r,s);break;case gs.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,Wi(t.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:n,stream:gs.CANCEL_COMPLETE,streamId:s,success:!0})},function(u){o.postMessage({sourceName:i,targetName:n,stream:gs.CANCEL_COMPLETE,streamId:s,reason:Wi(u)})}),l.sinkCapability.reject(Wi(t.reason)),l.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}},MC=async function(t,s){var i,n,o;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(n=t.pullCall)==null?void 0:n.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[s]};var yc,Lp;class b5{constructor({parsedData:t,rawData:s}){O(this,yc);O(this,Lp);P(this,yc,t),P(this,Lp,s)}getRaw(){return v(this,Lp)}get(t){return v(this,yc).get(t)??null}getAll(){return eE(v(this,yc))}has(t){return v(this,yc).has(t)}}yc=new WeakMap,Lp=new WeakMap;const xd=Symbol("INTERNAL");var kp,Ip,Op,ah;class w5{constructor(t,{name:s,intent:i,usage:n,rbGroups:o}){O(this,kp,!1);O(this,Ip,!1);O(this,Op,!1);O(this,ah,!0);P(this,kp,!!(t&Zi.DISPLAY)),P(this,Ip,!!(t&Zi.PRINT)),this.name=s,this.intent=i,this.usage=n,this.rbGroups=o}get visible(){if(v(this,Op))return v(this,ah);if(!v(this,ah))return!1;const{print:t,view:s}=this.usage;return v(this,kp)?(s==null?void 0:s.viewState)!=="OFF":v(this,Ip)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,s,i=!1){t!==xd&&Wt("Internal method `_setVisible` called."),P(this,Op,i),P(this,ah,s)}}kp=new WeakMap,Ip=new WeakMap,Op=new WeakMap,ah=new WeakMap;var Ya,Pt,lh,ch,_p,nx;class y5{constructor(t,s=Zi.DISPLAY){O(this,_p);O(this,Ya,null);O(this,Pt,new Map);O(this,lh,null);O(this,ch,null);if(this.renderingIntent=s,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,P(this,ch,t.order);for(const i of t.groups)v(this,Pt).set(i.id,new w5(s,i));if(t.baseState==="OFF")for(const i of v(this,Pt).values())i._setVisible(xd,!1);for(const i of t.on)v(this,Pt).get(i)._setVisible(xd,!0);for(const i of t.off)v(this,Pt).get(i)._setVisible(xd,!1);P(this,lh,this.getHash())}}isVisible(t){if(v(this,Pt).size===0)return!0;if(!t)return Nw("Optional content group not defined."),!0;if(t.type==="OCG")return v(this,Pt).has(t.id)?v(this,Pt).get(t.id).visible:(ut(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return M(this,_p,nx).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const s of t.ids){if(!v(this,Pt).has(s))return ut(`Optional content group not found: ${s}`),!0;if(v(this,Pt).get(s).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const s of t.ids){if(!v(this,Pt).has(s))return ut(`Optional content group not found: ${s}`),!0;if(!v(this,Pt).get(s).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const s of t.ids){if(!v(this,Pt).has(s))return ut(`Optional content group not found: ${s}`),!0;if(!v(this,Pt).get(s).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const s of t.ids){if(!v(this,Pt).has(s))return ut(`Optional content group not found: ${s}`),!0;if(v(this,Pt).get(s).visible)return!1}return!0}return ut(`Unknown optional content policy ${t.policy}.`),!0}return ut(`Unknown group type ${t.type}.`),!0}setVisibility(t,s=!0,i=!0){var o;const n=v(this,Pt).get(t);if(!n){ut(`Optional content group not found: ${t}`);return}if(i&&s&&n.rbGroups.length)for(const r of n.rbGroups)for(const l of r)l!==t&&((o=v(this,Pt).get(l))==null||o._setVisible(xd,!1,!0));n._setVisible(xd,!!s,!0),P(this,Ya,null)}setOCGState({state:t,preserveRB:s}){let i;for(const n of t){switch(n){case"ON":case"OFF":case"Toggle":i=n;continue}const o=v(this,Pt).get(n);if(o)switch(i){case"ON":this.setVisibility(n,!0,s);break;case"OFF":this.setVisibility(n,!1,s);break;case"Toggle":this.setVisibility(n,!o.visible,s);break}}P(this,Ya,null)}get hasInitialVisibility(){return v(this,lh)===null||this.getHash()===v(this,lh)}getOrder(){return v(this,Pt).size?v(this,ch)?v(this,ch).slice():[...v(this,Pt).keys()]:null}getGroups(){return v(this,Pt).size>0?eE(v(this,Pt)):null}getGroup(t){return v(this,Pt).get(t)||null}getHash(){if(v(this,Ya)!==null)return v(this,Ya);const t=new pI;for(const[s,i]of v(this,Pt))t.update(`${s}:${i.visible}`);return P(this,Ya,t.hexdigest())}}Ya=new WeakMap,Pt=new WeakMap,lh=new WeakMap,ch=new WeakMap,_p=new WeakSet,nx=function(t){const s=t.length;if(s<2)return!0;const i=t[0];for(let n=1;n<s;n++){const o=t[n];let r;if(Array.isArray(o))r=M(this,_p,nx).call(this,o);else if(v(this,Pt).has(o))r=v(this,Pt).get(o).visible;else return ut(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"};class S5{constructor(t,{disableRange:s=!1,disableStream:i=!1}){xs(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:n,initialData:o,progressiveDone:r,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=l,(o==null?void 0:o.length)>0){const u=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!s,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:s}){const i=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const n=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});xs(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var s,i,n,o;t.total===void 0?(i=(s=this._rangeReaders[0])==null?void 0:s.onProgress)==null||i.call(s,{loaded:t.loaded}):(o=(n=this._fullRequestReader)==null?void 0:n.onProgress)==null||o.call(n,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const s=this._rangeReaders.indexOf(t);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){xs(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new R5(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const i=new x5(this,t,s);return this._pdfDataRangeTransport.requestDataRange(t,s),this._rangeReaders.push(i),i}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class R5{constructor(t,s,i=!1,n=null){this._stream=t,this._done=i||!1,this._filename=iE(n)?n:null,this._queuedChunks=s||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x5{constructor(t,s,i){this._stream=t,this._begin=s,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function A5(e){let t=!0,s=i("filename\\*","i").exec(e);if(s){s=s[1];let f=l(s);return f=unescape(f),f=u(f),f=d(f),o(f)}if(s=r(e),s){const f=d(s);return o(f)}if(s=i("filename","i").exec(e),s){s=s[1];let f=l(s);return f=d(f),o(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function n(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),C=Gw(p);p=m.decode(C),t=!1}catch{}}return p}function o(f){return t&&/[\x80-\xff]/.test(f)&&(f=n("utf-8",f),t&&(f=n("iso-8859-1",f))),f}function r(f){const p=[];let m;const C=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=C.exec(f))!==null;){let[,S,R,A]=m;if(S=parseInt(S,10),S in p){if(S===0)break;continue}p[S]=[R,A]}const w=[];for(let S=0;S<p.length&&S in p;++S){let[R,A]=p[S];A=l(A),R&&(A=unescape(A),S===0&&(A=u(A))),w.push(A)}return w.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const C=p[m].indexOf('"');C!==-1&&(p[m]=p[m].slice(0,C),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),w=f.slice(p+1).replace(/^[^']*'/,"");return n(m,w)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,C,w){if(C==="q"||C==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,R){return String.fromCharCode(parseInt(R,16))}),n(m,w);try{w=atob(w)}catch{}return n(m,w)})}return""}function lE(e,t){const s=new Headers;if(!e||!t||typeof t!="object")return s;for(const i in t){const n=t[i];n!==void 0&&s.append(i,n)}return s}function cE({responseHeaders:e,isHttp:t,rangeChunkSize:s,disableRange:i}){const n={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e.get("Content-Length"),10);return!Number.isInteger(o)||(n.suggestedLength=o,o<=2*s)||i||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(n.allowRangeRequests=!0),n}function uE(e){const t=e.get("Content-Disposition");if(t){let s=A5(t);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(iE(s))return s}return null}function zw(e,t){return e===404||e===0&&t.startsWith("file:")?new wu('Missing PDF "'+t+'".'):new Hw(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function FI(e){return e===200||e===206}function PI(e,t,s){return{method:"GET",headers:e,signal:s.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function MI(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ut(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class BM{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=lE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return xs(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new E5(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const i=new D5(this,t,s);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class E5{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange;const i=new Headers(t.headers),n=s.url;fetch(n,PI(i,this._withCredentials,this._abortController)).then(o=>{if(!FI(o.status))throw zw(o.status,n);this._reader=o.body.getReader(),this._headersCapability.resolve();const r=o.headers,{allowRangeRequests:l,suggestedLength:u}=cE({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=uE(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:MI(t),done:!1})}cancel(t){var s;(s=this._reader)==null||s.cancel(t),this._abortController.abort()}}class D5{constructor(t,s,i){this._stream=t,this._reader=null,this._loaded=0;const n=t.source;this._withCredentials=n.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${s}-${i-1}`);const r=n.url;fetch(r,PI(o,this._withCredentials,this._abortController)).then(l=>{if(!FI(l.status))throw zw(l.status,r);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:MI(t),done:!1})}cancel(t){var s;(s=this._reader)==null||s.cancel(t),this._abortController.abort()}}const G0=200,B0=206;function T5(e){const t=e.response;return typeof t!="string"?t:Gw(t).buffer}class F5{constructor({url:t,httpHeaders:s,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=lE(this.isHttp,s),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,s,i){const n={begin:t,end:s};for(const o in i)n[o]=i[o];return this.request(n)}requestFull(t){return this.request(t)}request(t){const s=new XMLHttpRequest,i=this.currXhrId++,n=this.pendingRequests[i]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const[o,r]of this.headers)s.setRequestHeader(o,r);return this.isHttp&&"begin"in t&&"end"in t?(s.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),n.expectedStatus=B0):n.expectedStatus=G0,s.responseType="arraybuffer",t.onError&&(s.onerror=function(o){t.onError(s.status)}),s.onreadystatechange=this.onStateChange.bind(this,i),s.onprogress=this.onProgress.bind(this,i),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,s.send(null),i}onProgress(t,s){var n;const i=this.pendingRequests[t];i&&((n=i.onProgress)==null||n.call(i,s))}onStateChange(t,s){var u,d,f;const i=this.pendingRequests[t];if(!i)return;const n=i.xhr;if(n.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),n.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],n.status===0&&this.isHttp){(u=i.onError)==null||u.call(i,n.status);return}const o=n.status||G0;if(!(o===G0&&i.expectedStatus===B0)&&o!==i.expectedStatus){(d=i.onError)==null||d.call(i,n.status);return}const l=T5(n);if(o===B0){const p=n.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);i.onDone({begin:parseInt(m[1],10),chunk:l})}else l?i.onDone({begin:0,chunk:l}):(f=i.onError)==null||f.call(i,n.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const s=this.pendingRequests[t].xhr;delete this.pendingRequests[t],s.abort()}}class P5{constructor(t){this._source=t,this._manager=new F5(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const s=this._rangeRequestReaders.indexOf(t);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return xs(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new M5(this._manager,this._source),this._fullRequestReader}getRangeReader(t,s){const i=new L5(this._manager,t,s);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class M5{constructor(t,s){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,s=this._manager.getRequestXhr(t),i=new Headers(s.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{const[l,...u]=r.split(": ");return[l,u.join(": ")]})),{allowRangeRequests:n,suggestedLength:o}=cE({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=uE(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=zw(t,this._url),this._headersCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var s;(s=this.onProgress)==null||s.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class L5{constructor(t,s,i){this._manager=t;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(s,i,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const s=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=zw(t,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const k5=/^[a-z][a-z0-9\-+.]+:/i;function I5(e){if(k5.test(e))return new URL(e);const t=vl.get("url");return new URL(t.pathToFileURL(e))}function LI(e,t,s){return e.protocol==="http:"?vl.get("http").request(e,{headers:t},s):vl.get("https").request(e,{headers:t},s)}class O5{constructor(t){this.source=t,this.url=I5(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=lE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return xs(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new H5(this):new _5(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const i=this.isFsUrl?new G5(this,t,s):new N5(this,t,s);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class kI{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=t.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class II{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class _5 extends kI{constructor(t){super(t);const s=Object.fromEntries(t.headers),i=n=>{if(n.statusCode===404){const u=new wu(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(n);const o=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:l}=cE({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=l||this._contentLength,this._filename=uE(o)};this._request=LI(this._url,s,i),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class N5 extends II{constructor(t,s,i){super(t);const n=Object.fromEntries(t.headers);n.Range=`bytes=${s}-${i-1}`;const o=r=>{if(r.statusCode===404){const l=new wu(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(r)};this._request=LI(this._url,n,o),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class H5 extends kI{constructor(t){super(t);const s=vl.get("fs");s.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new wu(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class G5 extends II{constructor(t,s,i){super(t);const n=vl.get("fs");this._setReadableStream(n.createReadStream(this._url,{start:s,end:i-1}))}}const B5=1e5,Di=30,V5=.8;var tL,Xa,Mi,Np,Hp,Sc,Sr,Gp,Bp,Rc,uh,dh,Qa,hh,Vp,fh,xc,zp,Wp,rs,Ac,Ec,Up,Za,gh,Qr,OI,_I,rx,nn,LC,ax,NI,HI;let ox=(rs=class{constructor({textContentSource:t,container:s,viewport:i}){O(this,Qr);O(this,Xa,Promise.withResolvers());O(this,Mi,null);O(this,Np,!1);O(this,Hp,!!((tL=globalThis.FontInspector)!=null&&tL.enabled));O(this,Sc,null);O(this,Sr,null);O(this,Gp,0);O(this,Bp,0);O(this,Rc,null);O(this,uh,null);O(this,dh,0);O(this,Qa,0);O(this,hh,Object.create(null));O(this,Vp,[]);O(this,fh,null);O(this,xc,[]);O(this,zp,new WeakMap);O(this,Wp,null);var u;if(t instanceof ReadableStream)P(this,fh,t);else if(typeof t=="object")P(this,fh,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,Mi,P(this,uh,s)),P(this,Qa,i.scale*(globalThis.devicePixelRatio||1)),P(this,dh,i.rotation),P(this,Sr,{div:null,properties:null,ctx:null});const{pageWidth:n,pageHeight:o,pageX:r,pageY:l}=i.rawDims;P(this,Wp,[1,0,0,-1,-r,l+o]),P(this,Bp,n),P(this,Gp,o),M(u=rs,nn,NI).call(u),lu(s,i),v(this,Xa).promise.finally(()=>{v(rs,gh).delete(this),P(this,Sr,null),P(this,hh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:s}=Ci.platform;return vt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&s?"Calibri, ":""}sans-serif`],["monospace",`${t&&s?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{v(this,Rc).read().then(({value:s,done:i})=>{if(i){v(this,Xa).resolve();return}v(this,Sc)??P(this,Sc,s.lang),Object.assign(v(this,hh),s.styles),M(this,Qr,OI).call(this,s.items),t()},v(this,Xa).reject)};return P(this,Rc,v(this,fh).getReader()),v(rs,gh).add(this),t(),v(this,Xa).promise}update({viewport:t,onBefore:s=null}){var o;const i=t.scale*(globalThis.devicePixelRatio||1),n=t.rotation;if(n!==v(this,dh)&&(s==null||s(),P(this,dh,n),lu(v(this,uh),{rotation:n})),i!==v(this,Qa)){s==null||s(),P(this,Qa,i);const r={div:null,properties:null,ctx:M(o=rs,nn,LC).call(o,v(this,Sc))};for(const l of v(this,xc))r.properties=v(this,zp).get(l),r.div=l,M(this,Qr,rx).call(this,r)}}cancel(){var s;const t=new yu("TextLayer task cancelled.");(s=v(this,Rc))==null||s.cancel(t).catch(()=>{}),P(this,Rc,null),v(this,Xa).reject(t)}get textDivs(){return v(this,xc)}get textContentItemsStr(){return v(this,Vp)}static cleanup(){if(!(v(this,gh).size>0)){v(this,Ac).clear();for(const{canvas:t}of v(this,Ec).values())t.remove();v(this,Ec).clear()}}},Xa=new WeakMap,Mi=new WeakMap,Np=new WeakMap,Hp=new WeakMap,Sc=new WeakMap,Sr=new WeakMap,Gp=new WeakMap,Bp=new WeakMap,Rc=new WeakMap,uh=new WeakMap,dh=new WeakMap,Qa=new WeakMap,hh=new WeakMap,Vp=new WeakMap,fh=new WeakMap,xc=new WeakMap,zp=new WeakMap,Wp=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Up=new WeakMap,Za=new WeakMap,gh=new WeakMap,Qr=new WeakSet,OI=function(t){var n,o;if(v(this,Np))return;(o=v(this,Sr)).ctx??(o.ctx=M(n=rs,nn,LC).call(n,v(this,Sc)));const s=v(this,xc),i=v(this,Vp);for(const r of t){if(s.length>B5){ut("Ignoring additional textDivs for performance reasons."),P(this,Np,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=v(this,Mi);P(this,Mi,document.createElement("span")),v(this,Mi).classList.add("markedContent"),r.id!==null&&v(this,Mi).setAttribute("id",`${r.id}`),l.append(v(this,Mi))}else r.type==="endMarkedContent"&&P(this,Mi,v(this,Mi).parentNode);continue}i.push(r.str),M(this,Qr,_I).call(this,r)}},_I=function(t){var S;const s=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};v(this,xc).push(s);const n=He.transform(v(this,Wp),t.transform);let o=Math.atan2(n[1],n[0]);const r=v(this,hh)[t.fontName];r.vertical&&(o+=Math.PI/2);let l=v(this,Hp)&&r.fontSubstitution||r.fontFamily;l=rs.fontFamilyMap.get(l)||l;const u=Math.hypot(n[2],n[3]),d=u*M(S=rs,nn,HI).call(S,l,v(this,Sc));let f,p;o===0?(f=n[4],p=n[5]-d):(f=n[4]+d*Math.sin(o),p=n[5]-d*Math.cos(o));const m="calc(var(--scale-factor)*",C=s.style;v(this,Mi)===v(this,uh)?(C.left=`${(100*f/v(this,Bp)).toFixed(2)}%`,C.top=`${(100*p/v(this,Gp)).toFixed(2)}%`):(C.left=`${m}${f.toFixed(2)}px)`,C.top=`${m}${p.toFixed(2)}px)`),C.fontSize=`${m}${(v(rs,Za)*u).toFixed(2)}px)`,C.fontFamily=l,i.fontSize=u,s.setAttribute("role","presentation"),s.textContent=t.str,s.dir=t.dir,v(this,Hp)&&(s.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const R=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);R!==A&&Math.max(R,A)/Math.min(R,A)>1.5&&(w=!0)}if(w&&(i.canvasWidth=r.vertical?t.height:t.width),v(this,zp).set(s,i),v(this,Sr).div=s,v(this,Sr).properties=i,M(this,Qr,rx).call(this,v(this,Sr)),i.hasText&&v(this,Mi).append(s),i.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),v(this,Mi).append(R)}},rx=function(t){var l;const{div:s,properties:i,ctx:n}=t,{style:o}=s;let r="";if(v(rs,Za)>1&&(r=`scale(${1/v(rs,Za)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=i;M(l=rs,nn,ax).call(l,n,f*v(this,Qa),u);const{width:p}=n.measureText(s.textContent);p>0&&(r=`scaleX(${d*v(this,Qa)/p}) ${r}`)}i.angle!==0&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(o.transform=r)},nn=new WeakSet,LC=function(t=null){let s=v(this,Ec).get(t||(t=""));if(!s){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),s=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),v(this,Ec).set(t,s),v(this,Up).set(s,{size:0,family:""})}return s},ax=function(t,s,i){const n=v(this,Up).get(t);s===n.size&&i===n.family||(t.font=`${s}px ${i}`,n.size=s,n.family=i)},NI=function(){if(v(this,Za)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),P(this,Za,t.getBoundingClientRect().height),t.remove()},HI=function(t,s){const i=v(this,Ac).get(t);if(i)return i;const n=M(this,nn,LC).call(this,s);n.canvas.width=n.canvas.height=Di,M(this,nn,ax).call(this,n,Di,t);const o=n.measureText("");let r=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(r){const f=r/(r+l);return v(this,Ac).set(t,f),n.canvas.width=n.canvas.height=0,f}n.strokeStyle="red",n.clearRect(0,0,Di,Di),n.strokeText("g",0,0);let u=n.getImageData(0,0,Di,Di).data;l=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){l=Math.ceil(f/4/Di);break}n.clearRect(0,0,Di,Di),n.strokeText("A",0,Di),u=n.getImageData(0,0,Di,Di).data,r=0;for(let f=0,p=u.length;f<p;f+=4)if(u[f]>0){r=Di-Math.floor(f/4/Di);break}n.canvas.width=n.canvas.height=0;const d=r?r/(r+l):V5;return v(this,Ac).set(t,d),d},O(rs,nn),O(rs,Ac,new Map),O(rs,Ec,new Map),O(rs,Up,new WeakMap),O(rs,Za,null),O(rs,gh,new Set),rs);class Zg{static textContent(t){const s=[],i={items:s,styles:Object.create(null)};function n(o){var u;if(!o)return;let r=null;const l=o.name;if(l==="#text")r=o.value;else if(Zg.shouldBuildText(l))(u=o==null?void 0:o.attributes)!=null&&u.textContent?r=o.attributes.textContent:o.value&&(r=o.value);else return;if(r!==null&&s.push({str:r}),!!o.children)for(const d of o.children)n(d)}return n(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const z5=65536,W5=100,U5=5e3,j5=ri?i5:e5,$5=ri?n5:wI,q5=ri?s5:t5,K5=ri?o5:xI;function Y5(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new lx,{docId:s}=t,i=e.url?X5(e.url):null,n=e.data?Q5(e.data):null,o=e.httpHeaders||null,r=e.withCredentials===!0,l=e.password??null,u=e.range instanceof GI?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:z5;let f=e.worker instanceof _d?e.worker:null;const p=e.verbosity,m=typeof e.docBaseUrl=="string"&&!Vw(e.docBaseUrl)?e.docBaseUrl:null,C=typeof e.cMapUrl=="string"?e.cMapUrl:null,w=e.cMapPacked!==!1,S=e.CMapReaderFactory||$5,R=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,A=e.StandardFontDataFactory||K5,D=e.stopAtErrors!==!0,E=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,F=e.isEvalSupported!==!1,L=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!ri,k=typeof e.isChrome=="boolean"?e.isChrome:!Ci.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),H=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,G=typeof e.disableFontFace=="boolean"?e.disableFontFace:ri,W=e.fontExtraProperties===!0,q=e.enableXfa===!0,K=e.ownerDocument||globalThis.document,Z=e.disableRange===!0,Y=e.disableStream===!0,re=e.disableAutoFetch===!0,ne=e.pdfBug===!0,B=e.CanvasFactory||j5,z=e.FilterFactory||q5,U=e.enableHWA===!0,ue=u?u.length:e.length??NaN,_=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!ri&&!G,$=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:S===wI&&A===xI&&C&&R&&Cg(C,document.baseURI)&&Cg(R,document.baseURI);e.canvasFactory&&TM("`canvasFactory`-instance option, please use `CanvasFactory` instead."),e.filterFactory&&TM("`filterFactory`-instance option, please use `FilterFactory` instead.");const X=null;MU(p);const J={canvasFactory:new B({ownerDocument:K,enableHWA:U}),filterFactory:new z({docId:s,ownerDocument:K}),cMapReaderFactory:$?null:new S({baseUrl:C,isCompressed:w}),standardFontDataFactory:$?null:new A({baseUrl:R})};if(!f){const me={verbosity:p,port:Br.workerPort};f=me.port?_d.fromPort(me):new _d(me),t._worker=f}const le={docId:s,apiVersion:"4.8.69",data:n,password:l,disableAutoFetch:re,rangeChunkSize:d,length:ue,docBaseUrl:m,enableXfa:q,evaluatorOptions:{maxImageSize:E,disableFontFace:G,ignoreErrors:D,isEvalSupported:F,isOffscreenCanvasSupported:L,isChrome:k,canvasMaxAreaInBytes:H,fontExtraProperties:W,useSystemFonts:_,cMapUrl:$?C:null,standardFontDataUrl:$?R:null}},ge={disableFontFace:G,fontExtraProperties:W,ownerDocument:K,pdfBug:ne,styleElement:X,loadingParams:{disableAutoFetch:re,enableXfa:q}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const me=f.messageHandler.sendWithPromise("GetDocRequest",le,n?[n.buffer]:null);let Ae;if(u)Ae=new S5(u,{disableRange:Z,disableStream:Y});else if(!n){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Ie;ri?Ie=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Cg(i)?BM:O5:Ie=Cg(i)?BM:P5,Ae=new Ie({url:i,length:ue,httpHeaders:o,withCredentials:r,rangeChunkSize:d,disableRange:Z,disableStream:Y})}return me.then(Ie=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const it=new Ag(s,Ie,f.port),De=new t4(it,t,Ae,ge,J);t._transport=De,it.send("Ready",null)})}).catch(t._capability.reject),t}function X5(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(ri&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Q5(e){if(ri&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Gw(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e==null?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function VM(e){return typeof e=="object"&&Number.isInteger(e==null?void 0:e.num)&&e.num>=0&&Number.isInteger(e==null?void 0:e.gen)&&e.gen>=0}var Qb;const Zb=class Zb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${di(Zb,Qb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,s,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((s=this._transport)==null?void 0:s.destroy())}catch(n){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,n}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Qb=new WeakMap,O(Zb,Qb,0);let lx=Zb,GI=class{constructor(t,s,i=!1,n=null){this.length=t,this.initialData=s,this.progressiveDone=i,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,s){for(const i of this._rangeListeners)i(t,s)}onDataProgress(t,s){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,s)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,s){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Z5{constructor(t,s){this._pdfInfo=t,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return vt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ja,Rr,Rn,Ad,kC;class J5{constructor(t,s,i,n=!1){O(this,Rn);O(this,Ja,null);O(this,Rr,!1);this._pageIndex=t,this._pageInfo=s,this._transport=i,this._stats=n?new DM:null,this._pdfBug=n,this.commonObjs=i.commonObjs,this.objs=new BI,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:s=this.rotate,offsetX:i=0,offsetY:n=0,dontFlip:o=!1}={}){return new km({viewBox:this.view,scale:t,rotation:s,offsetX:i,offsetY:n,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return vt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:s,intent:i="display",annotationMode:n=_a.ENABLE,transform:o=null,background:r=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:p=!1}){var F,L;(F=this._stats)==null||F.time("Overall");const m=this._transport.getRenderingIntent(i,n,f,p),{renderingIntent:C,cacheKey:w}=m;P(this,Rr,!1),M(this,Rn,kC).call(this),l||(l=this._transport.getOptionalContentConfig(C));let S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const R=!!(C&Zi.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(m));const A=k=>{var H;S.renderTasks.delete(D),(this._maybeCleanupAfterRender||R)&&P(this,Rr,!0),M(this,Rn,Ad).call(this,!R),k?(D.capability.reject(k),this._abortOperatorList({intentState:S,reason:k instanceof Error?k:new Error(k)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(H=globalThis.Stats)!=null&&H.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new ux({callback:A,params:{canvasContext:t,viewport:s,transform:o,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(D);const E=D.task;return Promise.all([S.displayReadyCapability.promise,l]).then(([k,H])=>{var G;if(this.destroyed){A();return}if((G=this._stats)==null||G.time("Rendering"),!(H.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:k,optionalContentConfig:H}),D.operatorListChanged()}).catch(A),E}getOperatorList({intent:t="display",annotationMode:s=_a.ENABLE,printAnnotationStorage:i=null,isEditing:n=!1}={}){var d;function o(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const r=this._transport.getRenderingIntent(t,s,i,n,!0);let l=this._intentStates.get(r.cacheKey);l||(l=Object.create(null),this._intentStates.set(r.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=o,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(r)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:s===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Zg.textContent(i));const s=this.streamTextContent(t);return new Promise(function(i,n){function o(){r.read().then(function({value:u,done:d}){if(d){i(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),o()},n)}const r=s.getReader(),l={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const i of s.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),P(this,Rr,!1),M(this,Rn,kC).call(this),Promise.all(t)}cleanup(t=!1){P(this,Rr,!0);const s=M(this,Rn,Ad).call(this,!1);return t&&s&&this._stats&&(this._stats=new DM),s}_startRenderPage(t,s){var n,o;const i=this._intentStates.get(s);i&&((n=this._stats)==null||n.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,s){for(let i=0,n=t.length;i<n;i++)s.operatorList.fnArray.push(t.fnArray[i]),s.operatorList.argsArray.push(t.argsArray[i]);s.operatorList.lastChunk=t.lastChunk,s.operatorList.separateAnnots=t.separateAnnots;for(const i of s.renderTasks)i.operatorListChanged();t.lastChunk&&M(this,Rn,Ad).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:s,annotationStorageSerializable:i,modifiedIds:n}){const{map:o,transfer:r}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:s,annotationStorage:o,modifiedIds:n},r).getReader(),d=this._intentStates.get(s);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();M(this,Rn,Ad).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:s,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(s instanceof sE){let n=W5;s.extraDelay>0&&s.extraDelay<1e3&&(n+=s.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:s,force:!0})},n);return}}if(t.streamReader.cancel(new yu(s.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[n,o]of this._intentStates)if(o===t){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}Ja=new WeakMap,Rr=new WeakMap,Rn=new WeakSet,Ad=function(t=!1){if(M(this,Rn,kC).call(this),!v(this,Rr)||this.destroyed)return!1;if(t)return P(this,Ja,setTimeout(()=>{P(this,Ja,null),M(this,Rn,Ad).call(this,!1)},U5)),!1;for(const{renderTasks:s,operatorList:i}of this._intentStates.values())if(s.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,Rr,!1),!0},kC=function(){v(this,Ja)&&(clearTimeout(v(this,Ja)),P(this,Ja,null))};var xr,Jb;class e4{constructor(){O(this,xr,new Map);O(this,Jb,Promise.resolve())}postMessage(t,s){const i={data:structuredClone(t,s?{transfer:s}:null)};v(this,Jb).then(()=>{for(const[n]of v(this,xr))n.call(this,i)})}addEventListener(t,s,i=null){let n=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){ut("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(t,s);n=()=>o.removeEventListener("abort",r),o.addEventListener("abort",r)}v(this,xr).set(s,n)}removeEventListener(t,s){const i=v(this,xr).get(s);i==null||i(),v(this,xr).delete(s)}terminate(){for(const[,t]of v(this,xr))t==null||t();v(this,xr).clear()}}xr=new WeakMap,Jb=new WeakMap;var ew,Dc,Tc,ph,IC,mh,OC;const Kt=class Kt{constructor({name:t=null,port:s=null,verbosity:i=LU()}={}){O(this,ph);var n;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,s){if((n=v(Kt,Tc))!=null&&n.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(v(Kt,Tc)||P(Kt,Tc,new WeakMap)).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return ri?Promise.all([vl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ag("main","worker",t),this._messageHandler.on("ready",function(){}),M(this,ph,IC).call(this)}_initialize(){if(v(Kt,Dc)||v(Kt,mh,OC)){this._setupFakeWorker();return}let{workerSrc:t}=Kt;try{Kt._isSameOrigin(window.location.href,t)||(t=Kt._createCDNWrapper(new URL(t,window.location).href));const s=new Worker(t,{type:"module"}),i=new Ag("main","worker",s),n=()=>{o.abort(),i.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;s.addEventListener("error",()=>{this._webWorker||n()},{signal:o.signal}),i.on("test",l=>{if(o.abort(),this.destroyed||!l){n();return}this._messageHandler=i,this._port=s,this._webWorker=s,M(this,ph,IC).call(this)}),i.on("ready",l=>{if(o.abort(),this.destroyed){n();return}try{r()}catch{this._setupFakeWorker()}});const r=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};r();return}catch{Nw("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){v(Kt,Dc)||(ut("Setting up fake worker."),P(Kt,Dc,!0)),Kt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new e4;this._port=s;const i=`fake${di(Kt,ew)._++}`,n=new Ag(i+"_worker",i,s);t.setup(n,s),this._messageHandler=new Ag(i,i+"_worker",s),M(this,ph,IC).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=v(Kt,Tc))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const s=(i=v(this,Tc))==null?void 0:i.get(t.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new Kt(t)}static get workerSrc(){if(Br.workerSrc)return Br.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return vt(this,"_setupFakeWorkerGlobal",(async()=>v(this,mh,OC)?v(this,mh,OC):(await import(this.workerSrc)).WorkerMessageHandler)())}};ew=new WeakMap,Dc=new WeakMap,Tc=new WeakMap,ph=new WeakSet,IC=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},mh=new WeakSet,OC=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(Kt,mh),O(Kt,ew,0),O(Kt,Dc,!1),O(Kt,Tc),ri&&(P(Kt,Dc,!0),Br.workerSrc||(Br.workerSrc="./pdf.worker.mjs")),Kt._isSameOrigin=(t,s)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const n=new URL(s,i);return i.origin===n.origin},Kt._createCDNWrapper=t=>{const s=`await import("${t}");`;return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};let _d=Kt;var Ar,Po,vh,Ch,Mo,Fc,Eg;class t4{constructor(t,s,i,n,o){O(this,Fc);O(this,Ar,new Map);O(this,Po,new Map);O(this,vh,new Map);O(this,Ch,new Map);O(this,Mo,null);this.messageHandler=t,this.loadingTask=s,this.commonObjs=new BI,this.fontLoader=new ZU({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this.loadingParams=n.loadingParams,this._params=n,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return vt(this,"annotationStorage",new rE)}getRenderingIntent(t,s=_a.ENABLE,i=null,n=!1,o=!1){let r=Zi.DISPLAY,l=XR;switch(t){case"any":r=Zi.ANY;break;case"display":break;case"print":r=Zi.PRINT;break;default:ut(`getRenderingIntent - invalid intent: ${t}`)}const u=r&Zi.PRINT&&i instanceof vI?i:this.annotationStorage;switch(s){case _a.DISABLE:r+=Zi.ANNOTATIONS_DISABLE;break;case _a.ENABLE:break;case _a.ENABLE_FORMS:r+=Zi.ANNOTATIONS_FORMS;break;case _a.ENABLE_STORAGE:r+=Zi.ANNOTATIONS_STORAGE,l=u.serializable;break;default:ut(`getRenderingIntent - invalid annotationMode: ${s}`)}n&&(r+=Zi.IS_EDITING),o&&(r+=Zi.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[r,l.hash,f];return{renderingIntent:r,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=v(this,Mo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of v(this,Po).values())t.push(n._destroy());v(this,Po).clear(),v(this,vh).clear(),v(this,Ch).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return t.push(s),Promise.all(t).then(()=>{var n;this.commonObjs.clear(),this.fontLoader.clear(),v(this,Ar).clear(),this.filterFactory.destroy(),ox.cleanup(),(n=this._networkStream)==null||n.cancelAllRequests(new yu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:s}=this;t.on("GetReader",(i,n)=>{xs(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},n.onPull=()=>{this._fullReader.read().then(function({value:o,done:r}){if(r){n.close();return}xs(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{n.error(o)})},n.onCancel=o=>{this._fullReader.cancel(o),n.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:o,contentLength:r}=this._fullReader;return(!n||!o)&&(this._lastProgress&&((l=s.onProgress)==null||l.call(s,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=s.onProgress)==null||d.call(s,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:n,isRangeSupported:o,contentLength:r}}),t.on("GetRangeReader",(i,n)=>{xs(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){n.close();return}n.onPull=()=>{o.read().then(function({value:r,done:l}){if(l){n.close();return}xs(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{n.error(r)})},n.onCancel=r=>{o.cancel(r),n.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,s._capability.resolve(new Z5(i,this))}),t.on("DocException",function(i){let n;switch(i.name){case"PasswordException":n=new TR(i.message,i.code);break;case"InvalidPDFException":n=new Wk(i.message);break;case"MissingPDFException":n=new wu(i.message);break;case"UnexpectedResponseException":n=new Hw(i.message,i.status);break;case"UnknownErrorException":n=new FR(i.message,i.details);break;default:Wt("DocException - expected a valid Error.")}s._capability.reject(n)}),t.on("PasswordRequest",i=>{if(P(this,Mo,Promise.withResolvers()),s.onPassword){const n=o=>{o instanceof Error?v(this,Mo).reject(o):v(this,Mo).resolve({password:o})};try{s.onPassword(n,i.code)}catch(o){v(this,Mo).reject(o)}}else v(this,Mo).reject(new TR(i.message,i.code));return v(this,Mo).promise}),t.on("DataLoaded",i=>{var n;(n=s.onProgress)==null||n.call(s,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;v(this,Po).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,n,o])=>{var r;if(this.destroyed||this.commonObjs.has(i))return null;switch(n){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in o){const C=o.error;ut(`Error during font loading: ${C}`),this.commonObjs.resolve(i,C);break}const f=d&&((r=globalThis.FontInspector)!=null&&r.enabled)?(C,w)=>globalThis.FontInspector.fontAdded(C,w):null,p=new JU(o,{disableFontFace:l,inspectFont:f});this.fontLoader.bind(p).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u&&p.data&&(p.data=null),this.commonObjs.resolve(i,p)});break;case"CopyLocalImage":const{imageRef:m}=o;xs(m,"The imageRef must be defined.");for(const C of v(this,Po).values())for(const[,w]of C.objs)if((w==null?void 0:w.ref)===m)return w.dataLen?(this.commonObjs.resolve(i,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${n}`)}return null}),t.on("obj",([i,n,o,r])=>{var u;if(this.destroyed)return;const l=v(this,Po).get(n);if(!l.objs.has(i)){if(l._intentStates.size===0){(u=r==null?void 0:r.bitmap)==null||u.close();return}switch(o){case"Image":l.objs.resolve(i,r),(r==null?void 0:r.dataLen)>DU&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{var n;this.destroyed||(n=s.onProgress)==null||n.call(s,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ut("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=t-1,i=v(this,vh).get(s);if(i)return i;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&v(this,Ch).set(o.refStr,t);const r=new J5(s,o,this,this._params.pdfBug);return v(this,Po).set(s,r),r});return v(this,vh).set(s,n),n}getPageIndex(t){return VM(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:s})}getFieldObjects(){return M(this,Fc,Eg).call(this,"GetFieldObjects")}hasJSActions(){return M(this,Fc,Eg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,Fc,Eg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return M(this,Fc,Eg).call(this,"GetOptionalContentConfig").then(s=>new y5(s,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",s=v(this,Ar).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise(t,null).then(n=>{var o,r;return{info:n[0],metadata:n[1]?new b5(n[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return v(this,Ar).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of v(this,Po).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),v(this,Ar).clear(),this.filterFactory.destroy(!0),ox.cleanup()}}cachedPageNumber(t){if(!VM(t))return null;const s=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return v(this,Ch).get(s)??null}}Ar=new WeakMap,Po=new WeakMap,vh=new WeakMap,Ch=new WeakMap,Mo=new WeakMap,Fc=new WeakSet,Eg=function(t,s=null){const i=v(this,Ar).get(t);if(i)return i;const n=this.messageHandler.sendWithPromise(t,s);return v(this,Ar).set(t,n),n};const cC=Symbol("INITIAL_DATA");var qn,jp,cx;class BI{constructor(){O(this,jp);O(this,qn,Object.create(null))}get(t,s=null){if(s){const n=M(this,jp,cx).call(this,t);return n.promise.then(()=>s(n.data)),null}const i=v(this,qn)[t];if(!i||i.data===cC)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const s=v(this,qn)[t];return!!s&&s.data!==cC}resolve(t,s=null){const i=M(this,jp,cx).call(this,t);i.data=s,i.resolve()}clear(){var t;for(const s in v(this,qn)){const{data:i}=v(this,qn)[s];(t=i==null?void 0:i.bitmap)==null||t.close()}P(this,qn,Object.create(null))}*[Symbol.iterator](){for(const t in v(this,qn)){const{data:s}=v(this,qn)[t];s!==cC&&(yield[t,s])}}}qn=new WeakMap,jp=new WeakSet,cx=function(t){var s;return(s=v(this,qn))[t]||(s[t]={...Promise.withResolvers(),data:cC})};var el;class s4{constructor(t){O(this,el,null);P(this,el,t),this.onContinue=null}get promise(){return v(this,el).capability.promise}cancel(t=0){v(this,el).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=v(this,el).operatorList;if(!t)return!1;const{annotationCanvasMap:s}=v(this,el);return t.form||t.canvas&&(s==null?void 0:s.size)>0}}el=new WeakMap;var tl,Pc;const ec=class ec{constructor({callback:t,params:s,objs:i,commonObjs:n,annotationCanvasMap:o,operatorList:r,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null}){O(this,tl,null);this.callback=t,this.params=s,this.objs=i,this.commonObjs=n,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new s4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:s}){var l,u;if(this.cancelled)return;if(this._canvas){if(v(ec,Pc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");v(ec,Pc).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:n,transform:o,background:r}=this.params;this.gfx=new Od(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:n,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(t=null,s=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),v(this,tl)&&(window.cancelAnimationFrame(v(this,tl)),P(this,tl,null)),v(ec,Pc).delete(this._canvas),this.callback(t||new sE(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,tl,window.requestAnimationFrame(()=>{P(this,tl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),v(ec,Pc).delete(this._canvas),this.callback())))}};tl=new WeakMap,Pc=new WeakMap,O(ec,Pc,new WeakSet);let ux=ec;const i4="4.8.69",n4="3634dab10";function zM(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function fg(e){return Math.max(0,Math.min(255,255*e))}class WM{static CMYK_G([t,s,i,n]){return["G",1-Math.min(1,.3*t+.59*i+.11*s+n)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=fg(t),[t,t,t]}static G_HTML([t]){const s=zM(t);return`#${s}${s}${s}`}static RGB_G([t,s,i]){return["G",.3*t+.59*s+.11*i]}static RGB_rgb(t){return t.map(fg)}static RGB_HTML(t){return`#${t.map(zM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,s,i,n]){return["RGB",1-Math.min(1,t+n),1-Math.min(1,i+n),1-Math.min(1,s+n)]}static CMYK_rgb([t,s,i,n]){return[fg(1-Math.min(1,t+n)),fg(1-Math.min(1,i+n)),fg(1-Math.min(1,s+n))]}static CMYK_HTML(t){const s=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([t,s,i]){const n=1-t,o=1-s,r=1-i,l=Math.min(n,o,r);return["CMYK",n,o,r,l]}}class o4{create(t,s,i=!1){if(t<=0||s<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),i||(n.setAttribute("width",`${t}px`),n.setAttribute("height",`${s}px`)),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox",`0 0 ${t} ${s}`),n}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class dE extends o4{_createSVG(t){return document.createElementNS(dr,t)}}class VI{static setupStorage(t,s,i,n,o){const r=n.getValue(s,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),o==="print")break;t.addEventListener("input",l=>{n.setValue(s,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?t.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",l=>{n.setValue(s,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),o==="print")break;t.addEventListener("input",l=>{n.setValue(s,{value:l.target.value})})}break;case"select":if(r.value!==null){t.setAttribute("value",r.value);for(const l of i.children)l.attributes.value===r.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;n.setValue(s,{value:d})});break}}static setAttributes({html:t,element:s,storage:i=null,intent:n,linkService:o}){const{attributes:r}=s,l=t instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${n}`);for(const[u,d]of Object.entries(r))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}l&&o.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,s,i)}static render(t){var p,m;const s=t.annotationStorage,i=t.linkService,n=t.xfaHtml,o=t.intent||"display",r=document.createElement(n.name);n.attributes&&this.setAttributes({html:r,element:n,intent:o,linkService:i});const l=o!=="richText",u=t.div;if(u.append(r),t.viewport){const C=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=C}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(n.children.length===0){if(n.value){const C=document.createTextNode(n.value);r.append(C),l&&Zg.shouldBuildText(n.name)&&d.push(C)}return{textDivs:d}}const f=[[n,-1,r]];for(;f.length>0;){const[C,w,S]=f.at(-1);if(w+1===C.children.length){f.pop();continue}const R=C.children[++f.at(-1)[1]];if(R===null)continue;const{name:A}=R;if(A==="#text"){const E=document.createTextNode(R.value);d.push(E),S.append(E);continue}const D=(p=R==null?void 0:R.attributes)!=null&&p.xmlns?document.createElementNS(R.attributes.xmlns,A):document.createElement(A);if(S.append(D),R.attributes&&this.setAttributes({html:D,element:R,storage:s,intent:o,linkService:i}),((m=R.children)==null?void 0:m.length)>0)f.push([R,-1,D]);else if(R.value){const E=document.createTextNode(R.value);l&&Zg.shouldBuildText(A)&&d.push(E),D.append(E)}}for(const C of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))C.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const s=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=s,t.div.hidden=!1}}const Om=1e3,r4=9,uu=new WeakSet;function Vr(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class a4{static create(t){switch(t.data.annotationType){case ws.LINK:return new zI(t);case ws.TEXT:return new l4(t);case ws.WIDGET:switch(t.data.fieldType){case"Tx":return new c4(t);case"Btn":return t.data.radioButton?new jI(t):t.data.checkBox?new d4(t):new h4(t);case"Ch":return new f4(t);case"Sig":return new u4(t)}return new Su(t);case ws.POPUP:return new hx(t);case ws.FREETEXT:return new XI(t);case ws.LINE:return new p4(t);case ws.SQUARE:return new m4(t);case ws.CIRCLE:return new v4(t);case ws.POLYLINE:return new QI(t);case ws.CARET:return new b4(t);case ws.INK:return new hE(t);case ws.POLYGON:return new C4(t);case ws.HIGHLIGHT:return new ZI(t);case ws.UNDERLINE:return new w4(t);case ws.SQUIGGLY:return new y4(t);case ws.STRIKEOUT:return new S4(t);case ws.STAMP:return new JI(t);case ws.FILEATTACHMENT:return new R4(t);default:return new ds(t)}}}var Mc,bh,wh,$p,dx;const YE=class YE{constructor(t,{isRenderable:s=!1,ignoreBorder:i=!1,createQuadrilaterals:n=!1}={}){O(this,$p);O(this,Mc,null);O(this,bh,!1);O(this,wh,null);this.isRenderable=s,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,s&&(this.container=this._createContainer(i)),n&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:s,richText:i}){return!!(t!=null&&t.str||s!=null&&s.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return YE._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;v(this,Mc)||P(this,Mc,{rect:this.data.rect.slice(0)});const{rect:s}=t;s&&M(this,$p,dx).call(this,s),(i=v(this,wh))==null||i.popup.updateEdited(t)}resetEdited(){var t;v(this,Mc)&&(M(this,$p,dx).call(this,v(this,Mc).rect),(t=v(this,wh))==null||t.popup.resetEdited(),P(this,Mc,null))}_createContainer(t){const{data:s,parent:{page:i,viewport:n}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",s.id),this instanceof Su||(o.tabIndex=Om);const{style:r}=o;if(r.zIndex=this.parent.zIndex++,s.alternativeText&&(o.title=s.alternativeText),s.noRotate&&o.classList.add("norotate"),!s.rect||this instanceof hx){const{rotation:S}=s;return!s.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:l,height:u}=Vr(s.rect);if(!t&&s.borderStyle.width>0){r.borderWidth=`${s.borderStyle.width}px`;const S=s.borderStyle.horizontalCornerRadius,R=s.borderStyle.verticalCornerRadius;if(S>0||R>0){const D=`calc(${S}px * var(--scale-factor)) / calc(${R}px * var(--scale-factor))`;r.borderRadius=D}else if(this instanceof jI){const D=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;r.borderRadius=D}switch(s.borderStyle.style){case dg.SOLID:r.borderStyle="solid";break;case dg.DASHED:r.borderStyle="dashed";break;case dg.BEVELED:ut("Unimplemented border style: beveled");break;case dg.INSET:ut("Unimplemented border style: inset");break;case dg.UNDERLINE:r.borderBottomStyle="solid";break}const A=s.borderColor||null;A?(P(this,bh,!0),r.borderColor=He.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):r.borderWidth=0}const d=He.normalizeRect([s.rect[0],i.view[3]-s.rect[1]+i.view[1],s.rect[2],i.view[3]-s.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:C}=n.rawDims;r.left=`${100*(d[0]-m)/f}%`,r.top=`${100*(d[1]-C)/p}%`;const{rotation:w}=s;return s.hasOwnCanvas||w===0?(r.width=`${100*l/f}%`,r.height=`${100*u/p}%`):this.setRotation(w,o),o}setRotation(t,s=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:n}=this.parent.viewport.rawDims,{width:o,height:r}=Vr(this.data.rect);let l,u;t%180===0?(l=100*o/i,u=100*r/n):(l=100*r/i,u=100*o/n),s.style.width=`${l}%`,s.style.height=`${u}%`,s.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(s,i,n)=>{const o=n.detail[s],r=o[0],l=o.slice(1);n.target.style[i]=WM[`${r}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:WM[`${r}_rgb`](l)})};return vt(this,"_commonActions",{display:s=>{const{display:i}=s.detail,n=i%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:i===1||i===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:i}=s.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{t("bgColor","backgroundColor",s)},fillColor:s=>{t("fillColor","backgroundColor",s)},fgColor:s=>{t("fgColor","color",s)},textColor:s=>{t("textColor","color",s)},borderColor:s=>{t("borderColor","borderColor",s)},strokeColor:s=>{t("strokeColor","borderColor",s)},rotation:s=>{const i=s.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,s){const i=this._commonActions;for(const n of Object.keys(s.detail)){const o=t[n]||i[n];o==null||o(s)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const i=this._commonActions;for(const[n,o]of Object.entries(s)){const r=i[n];if(r){const l={detail:{[n]:o},target:t};r(l),delete s[n]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[s,i,n,o]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,R,A,D]=t.subarray(2,6);if(n===S&&o===R&&s===A&&i===D)return}const{style:r}=this.container;let l;if(v(this,bh)){const{borderColor:S,borderWidth:R}=r;r.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${R}">`],this.container.classList.add("hasBorder")}const u=n-s,d=o-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const m=f.createElement("defs");p.append(m);const C=f.createElement("clipPath"),w=`clippath_${this.data.id}`;C.setAttribute("id",w),C.setAttribute("clipPathUnits","objectBoundingBox"),m.append(C);for(let S=2,R=t.length;S<R;S+=8){const A=t[S],D=t[S+1],E=t[S+2],F=t[S+3],L=f.createElement("rect"),k=(E-s)/u,H=(o-D)/d,G=(A-E)/u,W=(D-F)/d;L.setAttribute("x",k),L.setAttribute("y",H),L.setAttribute("width",G),L.setAttribute("height",W),C.append(L),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${H}" width="${G}" height="${W}"/>`)}v(this,bh)&&(l.push("</g></svg>')"),r.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,s=P(this,wh,new hx({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,s=null){const i=[];if(this._fieldObjects){const n=this._fieldObjects[t];if(n)for(const{page:o,id:r,exportValues:l}of n){if(o===-1||r===s)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${r}"]`);if(d&&!uu.has(d)){ut(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:u,domElement:d})}return i}for(const n of document.getElementsByName(t)){const{exportValue:o}=n,r=n.getAttribute("data-element-id");r!==s&&uu.has(n)&&i.push({id:r,exportValue:o,domElement:n})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const s of t)s.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:s})})}};Mc=new WeakMap,bh=new WeakMap,wh=new WeakMap,$p=new WeakSet,dx=function(t){const{container:{style:s},data:{rect:i,rotation:n},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:r,pageX:l,pageY:u}}}}=this;i==null||i.splice(0,4,...t);const{width:d,height:f}=Vr(t);s.left=`${100*(t[0]-l)/o}%`,s.top=`${100*(r-t[3]+u)/r}%`,n===0?(s.width=`${100*d/o}%`,s.height=`${100*f/r}%`):this.setRotation(n)};let ds=YE;var Ji,jl,WI,UI;class zI extends ds{constructor(s,i=null){super(s,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});O(this,Ji);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:i}=this,n=document.createElement("a");n.setAttribute("data-element-id",s.id);let o=!1;return s.url?(i.addLinkAttributes(n,s.url,s.newWindow),o=!0):s.action?(this._bindNamedAction(n,s.action),o=!0):s.attachment?(M(this,Ji,WI).call(this,n,s.attachment,s.attachmentDest),o=!0):s.setOCGState?(M(this,Ji,UI).call(this,n,s.setOCGState),o=!0):s.dest?(this._bindLink(n,s.dest),o=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,s),o=!0),s.resetForm?(this._bindResetFormAction(n,s.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(n,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(n),this.container}_bindLink(s,i){s.href=this.linkService.getDestinationHash(i),s.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&M(this,Ji,jl).call(this)}_bindNamedAction(s,i){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(i),!1),M(this,Ji,jl).call(this)}_bindJSAction(s,i){s.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const r=n.get(o);r&&(s[r]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}s.onclick||(s.onclick=()=>!1),M(this,Ji,jl).call(this)}_bindResetFormAction(s,i){const n=s.onclick;if(n||(s.href=this.linkService.getAnchorUrl("")),M(this,Ji,jl).call(this),!this._fieldObjects){ut('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(s.onclick=()=>!1);return}s.onclick=()=>{var p;n==null||n();const{fields:o,refs:r,include:l}=i,u=[];if(o.length!==0||r.length!==0){const m=new Set(r);for(const C of o){const w=this._fieldObjects[C]||[];for(const{id:S}of w)m.add(S)}for(const C of Object.values(this._fieldObjects))for(const w of C)m.has(w.id)===l&&u.push(w)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:C}=m;switch(f.push(C),m.type){case"text":{const S=m.defaultValue||"";d.setValue(C,{value:S});break}case"checkbox":case"radiobutton":{const S=m.defaultValue===m.exportValues;d.setValue(C,{value:S});break}case"combobox":case"listbox":{const S=m.defaultValue||"";d.setValue(C,{value:S});break}default:continue}const w=document.querySelector(`[data-element-id="${C}"]`);if(w){if(!uu.has(w)){ut(`_bindResetFormAction - element not allowed: ${C}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Ji=new WeakSet,jl=function(){this.container.setAttribute("data-internal-link","")},WI=function(s,i,n=null){s.href=this.linkService.getAnchorUrl(""),i.description&&(s.title=i.description),s.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,n),!1},M(this,Ji,jl).call(this)},UI=function(s,i){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(i),!1),M(this,Ji,jl).call(this)};class l4 extends ds{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Su extends ds{render(){return this.container}showElementAndHideCanvas(t){var s;this.data.hasOwnCanvas&&(((s=t.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ci.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,s,i,n,o){i.includes("mouse")?t.addEventListener(i,r=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:o(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):t.addEventListener(i,r=>{var l;if(i==="blur"){if(!s.focused||!r.relatedTarget)return;s.focused=!1}else if(i==="focus"){if(s.focused)return;s.focused=!0}o&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:o(r)}}))})}_setEventListeners(t,s,i,n){var o,r,l;for(const[u,d]of i)(d==="Action"||(o=this.data.actions)!=null&&o[d])&&((d==="Focus"||d==="Blur")&&(s||(s={focused:!1})),this._setEventListener(t,s,u,d,n),d==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(t,s,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(t,s,"focus","Focus",null))}_setBackgroundColor(t){const s=this.data.backgroundColor||null;t.style.backgroundColor=s===null?"transparent":He.makeHexColor(s[0],s[1],s[2])}_setTextStyle(t){const s=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||r4,o=t.style;let r;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(d/(O0*n))||1,p=d/f;r=Math.min(n,u(p/O0))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);r=Math.min(n,u(d/O0))}o.fontSize=`calc(${r}px * var(--scale-factor))`,o.color=He.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=s[this.data.textAlignment])}_setRequired(t,s){s?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",s)}}class c4 extends Su{constructor(t){const s=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:s})}setPropertyOnSiblings(t,s,i,n){const o=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[s]=i),o.setValue(r.id,{[n]:i})}render(){var n,o;const t=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(s,{value:this.data.fieldValue});let l=r.value||"";const u=t.getValue(s,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=r.formattedValue||((n=this.data.textContent)==null?void 0:n.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",d??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),uu.add(i),i.setAttribute("data-element-id",s),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Om,this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",m=>{t.setValue(s,{value:m.target.value}),this.setPropertyOnSiblings(i,"value",m.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",m=>{const C=this.data.defaultFieldValue??"";i.value=f.userValue=C,f.formattedValue=null});let p=m=>{const{formattedValue:C}=f;C!=null&&(m.target.value=C),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",C=>{var S;if(f.focused)return;const{target:w}=C;f.userValue&&(w.value=f.userValue),f.lastCommittedValue=w.value,f.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",C=>{this.showElementAndHideCanvas(C.target);const w={value(S){f.userValue=S.detail.value??"",t.setValue(s,{value:f.userValue.toString()}),S.target.value=f.userValue},formattedValue(S){const{formattedValue:R}=S.detail;f.formattedValue=R,R!=null&&S.target!==document.activeElement&&(S.target.value=R),t.setValue(s,{formattedValue:R})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var E;const{charLimit:R}=S.detail,{target:A}=S;if(R===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",R);let D=f.userValue;!D||D.length<=R||(D=D.slice(0,R),A.value=f.userValue=D,t.setValue(s,{value:D}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,C)}),i.addEventListener("keydown",C=>{var R;f.commitKey=1;let w=-1;if(C.key==="Escape"?w=0:C.key==="Enter"&&!this.data.multiLine?w=2:C.key==="Tab"&&(f.commitKey=3),w===-1)return;const{value:S}=C.target;f.lastCommittedValue!==S&&(f.lastCommittedValue=S,f.userValue=S,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:S,willCommit:!0,commitKey:w,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}}))});const m=p;p=null,i.addEventListener("blur",C=>{var S,R;if(!f.focused||!C.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(f.focused=!1);const{value:w}=C.target;f.userValue=w,f.lastCommittedValue!==w&&((R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:w,willCommit:!0,commitKey:f.commitKey,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}})),m(C)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",C=>{var L;f.lastCommittedValue=null;const{data:w,target:S}=C,{value:R,selectionStart:A,selectionEnd:D}=S;let E=A,F=D;switch(C.inputType){case"deleteWordBackward":{const k=R.substring(0,A).match(/\w*[^\w]*$/);k&&(E-=k[0].length);break}case"deleteWordForward":{const k=R.substring(A).match(/^[^\w]*\w*/);k&&(F+=k[0].length);break}case"deleteContentBackward":A===D&&(E-=1);break;case"deleteContentForward":A===D&&(F+=1);break}C.preventDefault(),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:R,change:w||"",willCommit:!1,selStart:E,selEnd:F}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],C=>C.target.value)}if(p&&i.addEventListener("blur",p),this.data.comb){const C=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${C}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class u4 extends Su{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class d4 extends Su{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,s=this.data,i=s.id;let n=t.getValue(i,{value:s.exportValue===s.fieldValue}).value;typeof n=="string"&&(n=n!=="Off",t.setValue(i,{value:n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return uu.add(o),o.setAttribute("data-element-id",i),o.disabled=s.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=s.fieldName,n&&o.setAttribute("checked",!0),o.setAttribute("exportValue",s.exportValue),o.tabIndex=Om,o.addEventListener("change",r=>{const{name:l,checked:u}=r.target;for(const d of this._getElementsByName(l,i)){const f=u&&d.exportValue===s.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:u})}),o.addEventListener("resetform",r=>{const l=s.defaultFieldValue||"Off";r.target.checked=l===s.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",r=>{const l={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,r)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jI extends Su{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,s=this.data,i=s.id;let n=t.getValue(i,{value:s.fieldValue===s.buttonValue}).value;if(typeof n=="string"&&(n=n!==s.buttonValue,t.setValue(i,{value:n})),n)for(const r of this._getElementsByName(s.fieldName,i))t.setValue(r.id,{value:!1});const o=document.createElement("input");if(uu.add(o),o.setAttribute("data-element-id",i),o.disabled=s.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=s.fieldName,n&&o.setAttribute("checked",!0),o.tabIndex=Om,o.addEventListener("change",r=>{const{name:l,checked:u}=r.target;for(const d of this._getElementsByName(l,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:u})}),o.addEventListener("resetform",r=>{const l=s.defaultFieldValue;r.target.checked=l!=null&&l===s.buttonValue}),this.enableScripting&&this.hasJSActions){const r=s.buttonValue;o.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const f=r===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=f&&p.id===i;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class h4 extends zI{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const s=t.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class f4 extends Su{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,s=this.data.id,i=t.getValue(s,{value:this.data.fieldValue}),n=document.createElement("select");uu.add(n),n.setAttribute("data-element-id",s),n.disabled=this.data.readOnly,this._setRequired(n,this.data.required),n.name=this.data.fieldName,n.tabIndex=Om;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0)),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of n.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),o=!1),n.append(p)}let r=null;if(o){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),n.prepend(f),r=()=>{f.remove(),n.removeEventListener("input",r),r=null},n.addEventListener("input",r)}const l=f=>{const p=f?"value":"textContent",{options:m,multiple:C}=n;return C?Array.prototype.filter.call(m,w=>w.selected).map(w=>w[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=l(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",f=>{const p={value(m){r==null||r();const C=m.detail.value,w=new Set(Array.isArray(C)?C:[C]);for(const S of n.options)S.selected=w.has(S.value);t.setValue(s,{value:l(!0)}),u=l(!1)},multipleSelection(m){n.multiple=!0},remove(m){const C=n.options,w=m.detail.remove;C[w].selected=!1,n.remove(w),C.length>0&&Array.prototype.findIndex.call(C,R=>R.selected)===-1&&(C[0].selected=!0),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},clear(m){for(;n.length!==0;)n.remove(0);t.setValue(s,{value:null,items:[]}),u=l(!1)},insert(m){const{index:C,displayValue:w,exportValue:S}=m.detail.insert,R=n.children[C],A=document.createElement("option");A.textContent=w,A.value=S,R?R.before(A):n.append(A),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},items(m){const{items:C}=m.detail;for(;n.length!==0;)n.remove(0);for(const w of C){const{displayValue:S,exportValue:R}=w,A=document.createElement("option");A.textContent=S,A.value=R,n.append(A)}n.options.length>0&&(n.options[0].selected=!0),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},indices(m){const C=new Set(m.detail.indices);for(const w of m.target.options)w.selected=C.has(w.index);t.setValue(s,{value:l(!0)}),u=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),n.addEventListener("input",f=>{var C;const p=l(!0),m=l(!1);t.setValue(s,{value:p}),f.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):n.addEventListener("input",function(f){t.setValue(s,{value:l(!0)})}),this.data.combo&&this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class hx extends ds{constructor(t){const{data:s,elements:i}=t;super(t,{isRenderable:ds._hasPopupData(s)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new g4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",s.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(i=>`${tE}${i}`).join(",")),this.container}}var yh,tw,sw,Sh,Lc,os,Er,Rh,qp,Kp,xh,Dr,Kn,Tr,Yp,Fr,Xp,kc,Ic,_t,_C,fx,$I,qI,KI,YI,NC,HC,gx;class g4{constructor({container:t,color:s,elements:i,titleObj:n,modificationDate:o,contentsObj:r,richText:l,parent:u,rect:d,parentRect:f,open:p}){O(this,_t);O(this,yh,M(this,_t,KI).bind(this));O(this,tw,M(this,_t,gx).bind(this));O(this,sw,M(this,_t,HC).bind(this));O(this,Sh,M(this,_t,NC).bind(this));O(this,Lc,null);O(this,os,null);O(this,Er,null);O(this,Rh,null);O(this,qp,null);O(this,Kp,null);O(this,xh,null);O(this,Dr,!1);O(this,Kn,null);O(this,Tr,null);O(this,Yp,null);O(this,Fr,null);O(this,Xp,null);O(this,kc,null);O(this,Ic,!1);var m;P(this,os,t),P(this,Xp,n),P(this,Er,r),P(this,Fr,l),P(this,Kp,u),P(this,Lc,s),P(this,Yp,d),P(this,xh,f),P(this,qp,i),P(this,Rh,nE.toDateObject(o)),this.trigger=i.flatMap(C=>C.getElementsToTriggerPopup());for(const C of this.trigger)C.addEventListener("click",v(this,Sh)),C.addEventListener("mouseenter",v(this,sw)),C.addEventListener("mouseleave",v(this,tw)),C.classList.add("popupTriggerArea");for(const C of i)(m=C.container)==null||m.addEventListener("keydown",v(this,yh));v(this,os).hidden=!0,p&&M(this,_t,NC).call(this)}render(){if(v(this,Kn))return;const t=P(this,Kn,document.createElement("div"));if(t.className="popup",v(this,Lc)){const o=t.style.outlineColor=He.makeHexColor(...v(this,Lc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=He.makeHexColor(...v(this,Lc).map(l=>Math.floor(.7*(255-l)+l)))}const s=document.createElement("span");s.className="header";const i=document.createElement("h1");if(s.append(i),{dir:i.dir,str:i.textContent}=v(this,Xp),t.append(s),v(this,Rh)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:v(this,Rh).valueOf()})),s.append(o)}const n=v(this,_t,_C);if(n)VI.render({xfaHtml:n,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(v(this,Er));t.append(o)}v(this,os).append(t)}_formatContents({str:t,dir:s}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=s;const n=t.split(/(?:\r\n?|\n)/);for(let o=0,r=n.length;o<r;++o){const l=n[o];i.append(document.createTextNode(l)),o<r-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:s}){var i;v(this,kc)||P(this,kc,{contentsObj:v(this,Er),richText:v(this,Fr)}),t&&P(this,Tr,null),s&&(P(this,Fr,M(this,_t,qI).call(this,s)),P(this,Er,null)),(i=v(this,Kn))==null||i.remove(),P(this,Kn,null)}resetEdited(){var t;v(this,kc)&&({contentsObj:di(this,Er)._,richText:di(this,Fr)._}=v(this,kc),P(this,kc,null),(t=v(this,Kn))==null||t.remove(),P(this,Kn,null),P(this,Tr,null))}forceHide(){P(this,Ic,this.isVisible),v(this,Ic)&&(v(this,os).hidden=!0)}maybeShow(){v(this,Ic)&&(v(this,Kn)||M(this,_t,HC).call(this),P(this,Ic,!1),v(this,os).hidden=!1)}get isVisible(){return v(this,os).hidden===!1}}yh=new WeakMap,tw=new WeakMap,sw=new WeakMap,Sh=new WeakMap,Lc=new WeakMap,os=new WeakMap,Er=new WeakMap,Rh=new WeakMap,qp=new WeakMap,Kp=new WeakMap,xh=new WeakMap,Dr=new WeakMap,Kn=new WeakMap,Tr=new WeakMap,Yp=new WeakMap,Fr=new WeakMap,Xp=new WeakMap,kc=new WeakMap,Ic=new WeakMap,_t=new WeakSet,_C=function(){const t=v(this,Fr),s=v(this,Er);return t!=null&&t.str&&(!(s!=null&&s.str)||s.str===t.str)&&v(this,Fr).html||null},fx=function(){var t,s,i;return((i=(s=(t=v(this,_t,_C))==null?void 0:t.attributes)==null?void 0:s.style)==null?void 0:i.fontSize)||0},$I=function(){var t,s,i;return((i=(s=(t=v(this,_t,_C))==null?void 0:t.attributes)==null?void 0:s.style)==null?void 0:i.color)||null},qI=function(t){const s=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},n={style:{color:v(this,_t,$I),fontSize:v(this,_t,fx)?`calc(${v(this,_t,fx)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))s.push({name:"span",value:o,attributes:n});return i},KI=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&v(this,Dr))&&M(this,_t,NC).call(this)},YI=function(){if(v(this,Tr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:n,pageY:o}}}=v(this,Kp);let r=!!v(this,xh),l=r?v(this,xh):v(this,Yp);for(const w of v(this,qp))if(!l||He.intersect(w.data.rect,l)!==null){l=w.data.rect,r=!0;break}const u=He.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),f=r?l[2]-l[0]+5:0,p=u[0]+f,m=u[1];P(this,Tr,[100*(p-n)/s,100*(m-o)/i]);const{style:C}=v(this,os);C.left=`${v(this,Tr)[0]}%`,C.top=`${v(this,Tr)[1]}%`},NC=function(){P(this,Dr,!v(this,Dr)),v(this,Dr)?(M(this,_t,HC).call(this),v(this,os).addEventListener("click",v(this,Sh)),v(this,os).addEventListener("keydown",v(this,yh))):(M(this,_t,gx).call(this),v(this,os).removeEventListener("click",v(this,Sh)),v(this,os).removeEventListener("keydown",v(this,yh)))},HC=function(){v(this,Kn)||this.render(),this.isVisible?v(this,Dr)&&v(this,os).classList.add("focused"):(M(this,_t,YI).call(this),v(this,os).hidden=!1,v(this,os).style.zIndex=parseInt(v(this,os).style.zIndex)+1e3)},gx=function(){v(this,os).classList.remove("focused"),!(v(this,Dr)||!this.isVisible)&&(v(this,os).hidden=!0,v(this,os).style.zIndex=parseInt(v(this,os).style.zIndex)-1e3)};class XI extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=at.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const s of this.textContent){const i=document.createElement("span");i.textContent=s,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qp;class p4 extends ds{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Qp,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:i,height:n}=Vr(s.rect),o=this.svgFactory.create(i,n,!0),r=P(this,Qp,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),r.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),r.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),r.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),r.setAttribute("stroke-width",s.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Qp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qp=new WeakMap;var Zp;class m4 extends ds{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Zp,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:i,height:n}=Vr(s.rect),o=this.svgFactory.create(i,n,!0),r=s.borderStyle.width,l=P(this,Zp,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",r/2),l.setAttribute("y",r/2),l.setAttribute("width",i-r),l.setAttribute("height",n-r),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Zp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zp=new WeakMap;var Jp;class v4 extends ds{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Jp,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:i,height:n}=Vr(s.rect),o=this.svgFactory.create(i,n,!0),r=s.borderStyle.width,l=P(this,Jp,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",n/2),l.setAttribute("rx",i/2-r/2),l.setAttribute("ry",n/2-r/2),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Jp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jp=new WeakMap;var em;class QI extends ds{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,em,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,vertices:i,borderStyle:n,popupRef:o}}=this;if(!i)return this.container;const{width:r,height:l}=Vr(s),u=this.svgFactory.create(r,l,!0);let d=[];for(let p=0,m=i.length;p<m;p+=2){const C=i[p]-s[0],w=s[3]-i[p+1];d.push(`${C},${w}`)}d=d.join(" ");const f=P(this,em,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,em)}addHighlightArea(){this.container.classList.add("highlightArea")}}em=new WeakMap;class C4 extends QI{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class b4 extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var tm;class hE extends ds{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,tm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?at.HIGHLIGHT:at.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,inkLists:i,borderStyle:n,popupRef:o}}=this,{width:r,height:l}=Vr(s),u=this.svgFactory.create(r,l,!0);for(const d of i){let f=[];for(let m=0,C=d.length;m<C;m+=2){const w=d[m]-s[0],S=s[3]-d[m+1];f.push(`${w},${S}`)}f=f.join(" ");const p=this.svgFactory.createElement(this.svgElementName);v(this,tm).push(p),p.setAttribute("points",f),p.setAttribute("stroke-width",n.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),u.append(p)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return v(this,tm)}addHighlightArea(){this.container.classList.add("highlightArea")}}tm=new WeakMap;class ZI extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=at.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class w4 extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class y4 extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class S4 extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class JI extends ds{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=at.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sm,im,px;class R4 extends ds{constructor(s){var n;super(s,{isRenderable:!0});O(this,im);O(this,sm,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(n=this.linkService.eventBus)==null||n.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:i}=this;let n;i.hasAppearance||i.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),n.addEventListener("dblclick",M(this,im,px).bind(this)),P(this,sm,n);const{isMac:o}=Ci.platform;return s.addEventListener("keydown",r=>{r.key==="Enter"&&(o?r.metaKey:r.ctrlKey)&&M(this,im,px).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),s.append(n),s}getElementsToTriggerPopup(){return v(this,sm)}addHighlightArea(){this.container.classList.add("highlightArea")}}sm=new WeakMap,im=new WeakSet,px=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.content,this.filename)};var nm,Oc,_c,om,mu,eO,mx,sL;let x4=(sL=class{constructor({div:t,accessibilityManager:s,annotationCanvasMap:i,annotationEditorUIManager:n,page:o,viewport:r,structTreeLayer:l}){O(this,mu);O(this,nm,null);O(this,Oc,null);O(this,_c,new Map);O(this,om,null);this.div=t,P(this,nm,s),P(this,Oc,i),P(this,om,l||null),this.page=o,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=n}hasEditableAnnotations(){return v(this,_c).size>0}async render(t){var r;const{annotations:s}=t,i=this.div;lu(i,this.viewport);const n=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new dE,annotationStorage:t.annotationStorage||new rE,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of s){if(l.noHTML)continue;const u=l.annotationType===ws.POPUP;if(u){const p=n.get(l.id);if(!p)continue;o.elements=p}else{const{width:p,height:m}=Vr(l.rect);if(p<=0||m<=0)continue}o.data=l;const d=a4.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=n.get(l.popupRef);p?p.push(d):n.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await M(this,mu,eO).call(this,f,l.id),d._isEditable&&(v(this,_c).set(d.data.id,d),(r=this._annotationEditorUIManager)==null||r.renderAnnotationElement(d))}M(this,mu,mx).call(this)}update({viewport:t}){const s=this.div;this.viewport=t,lu(s,{rotation:t.rotation}),M(this,mu,mx).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(v(this,_c).values())}getEditableAnnotation(t){return v(this,_c).get(t)}},nm=new WeakMap,Oc=new WeakMap,_c=new WeakMap,om=new WeakMap,mu=new WeakSet,eO=async function(t,s){var r,l;const i=t.firstChild||t,n=i.id=`${tE}${s}`,o=await((r=v(this,om))==null?void 0:r.getAriaAttributes(n));if(o)for(const[u,d]of o)i.setAttribute(u,d);this.div.append(t),(l=v(this,nm))==null||l.moveElementInDOM(this.div,t,i,!1)},mx=function(){if(!v(this,Oc))return;const t=this.div;for(const[s,i]of v(this,Oc)){const n=t.querySelector(`[data-annotation-id="${s}"]`);if(!n)continue;i.className="annotationContent";const{firstChild:o}=n;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):n.append(i)}v(this,Oc).clear()},sL);const uC=/\r\n?|\n/g;var Yn,$i,rm,Nc,qi,ms,tO,sO,iO,GC,qr,BC,VC,nO,Cx,oO;const zt=class zt extends Mt{constructor(s){super({...s,name:"freeTextEditor"});O(this,ms);O(this,Yn);O(this,$i,"");O(this,rm,`${this.id}-editor`);O(this,Nc,null);O(this,qi);P(this,Yn,s.color||zt._defaultColor||Mt._defaultLineColor),P(this,qi,s.fontSize||zt._defaultFontSize)}static get _keyboardManager(){const s=zt.prototype,i=r=>r.isEmpty(),n=cu.TRANSLATE_SMALL,o=cu.TRANSLATE_BIG;return vt(this,"_keyboardManager",new Im([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-n,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[n,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-n],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,n],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(s,i){Mt.initialize(s,i);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,i){switch(s){case et.FREETEXT_SIZE:zt._defaultFontSize=i;break;case et.FREETEXT_COLOR:zt._defaultColor=i;break}}updateParams(s,i){switch(s){case et.FREETEXT_SIZE:M(this,ms,tO).call(this,i);break;case et.FREETEXT_COLOR:M(this,ms,sO).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[et.FREETEXT_SIZE,zt._defaultFontSize],[et.FREETEXT_COLOR,zt._defaultColor||Mt._defaultLineColor]]}get propertiesToUpdate(){return[[et.FREETEXT_SIZE,v(this,qi)],[et.FREETEXT_COLOR,v(this,Yn)]]}_translateEmpty(s,i){this._uiManager.translateSelectedEditors(s,i,!0)}getInitialTranslation(){const s=this.parentScale;return[-zt._internalPadding*s,-(zt._internalPadding+v(this,qi))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(at.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),P(this,Nc,new AbortController);const s=this._uiManager.combinedSignal(v(this,Nc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:s}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:s}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:s}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:s}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:s})}disableEditMode(){var s;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",v(this,rm)),this._isDraggable=!0,(s=v(this,Nc))==null||s.abort(),P(this,Nc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var s;this.width||(this.enableEditMode(),this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=v(this,$i),i=P(this,$i,M(this,ms,iO).call(this).trimEnd());if(s===i)return;const n=o=>{if(P(this,$i,o),!o){this.remove();return}M(this,ms,VC).call(this),this._uiManager.rebuild(this),M(this,ms,GC).call(this)};this.addCommands({cmd:()=>{n(i)},undo:()=>{n(s)},mustExec:!1}),M(this,ms,GC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){zt._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,i;this.width&&(s=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",v(this,rm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${v(this,qi)}px * var(--scale-factor))`,n.color=v(this,Yn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),hb(this,this.div,["dblclick","keydown"]),this.width){const[o,r]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,C]=this.pageTranslation;let w,S;switch(this.rotation){case 0:w=s+(l[0]-m)/f,S=i+this.height-(l[1]-C)/p;break;case 90:w=s+(l[0]-m)/f,S=i-(l[1]-C)/p,[u,d]=[d,-u];break;case 180:w=s-this.width+(l[0]-m)/f,S=i-(l[1]-C)/p,[u,d]=[-u,-d];break;case 270:w=s+(l[0]-m-this.height*p)/f,S=i+(l[1]-C-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(w*o,S*r,u,d)}else this.setAt(s*o,i*r,this.width*o,this.height*r);M(this,ms,VC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(s){var w,S,R;const i=s.clipboardData||window.clipboardData,{types:n}=i;if(n.length===1&&n[0]==="text/plain")return;s.preventDefault();const o=M(w=zt,qr,Cx).call(w,i.getData("text")||"").replaceAll(uC,`
`);if(!o)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const l=r.getRangeAt(0);if(!o.includes(`
`)){l.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const A=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(uC,"")),A!==this.editorDiv){let D=f;for(const E of this.editorDiv.childNodes){if(E===A){D=p;continue}D.push(M(S=zt,qr,BC).call(S,E))}}f.push(u.nodeValue.slice(0,d).replaceAll(uC,""))}else if(u===this.editorDiv){let A=f,D=0;for(const E of this.editorDiv.childNodes)D++===d&&(A=p),A.push(M(R=zt,qr,BC).call(R,E))}P(this,$i,`${f.join(`
`)}${o}${p.join(`
`)}`),M(this,ms,VC).call(this);const m=new Range;let C=f.reduce((A,D)=>A+D.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const D=A.nodeValue.length;if(C<=D){m.setStart(A,C),m.setEnd(A,C);break}C-=D}r.removeAllRanges(),r.addRange(m)}get contentDiv(){return this.editorDiv}static async deserialize(s,i,n){var l;let o=null;if(s instanceof XI){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:p,id:m,popupRef:C},textContent:w,textPosition:S,parent:{page:{pageNumber:R}}}=s;if(!w||w.length===0)return null;o=s={annotationType:at.FREETEXT,color:Array.from(d),fontSize:u,value:w.join(`
`),position:S,pageIndex:R-1,rect:f.slice(0),rotation:p,id:m,deleted:!1,popupRef:C}}const r=await super.deserialize(s,i,n);return P(r,qi,s.fontSize),P(r,Yn,He.makeHexColor(...s.color)),P(r,$i,M(l=zt,qr,Cx).call(l,s.value)),r.annotationElementId=s.id||null,r._initialData=o,r}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=zt._internalPadding*this.parentScale,n=this.getRect(i,i),o=Mt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:v(this,Yn)),r={annotationType:at.FREETEXT,color:o,fontSize:v(this,qi),value:M(this,ms,nO).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?r:this.annotationElementId&&!M(this,ms,oO).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(s){const i=super.renderAnnotationElement(s);if(this.deleted)return i;const{style:n}=i;n.fontSize=`calc(${v(this,qi)}px * var(--scale-factor))`,n.color=v(this,Yn),i.replaceChildren();for(const r of v(this,$i).split(`
`)){const l=document.createElement("div");l.append(r?document.createTextNode(r):document.createElement("br")),i.append(l)}const o=zt._internalPadding*this.parentScale;return s.updateEdited({rect:this.getRect(o,o),popupContent:v(this,$i)}),i}resetAnnotationElement(s){super.resetAnnotationElement(s),s.resetEdited()}};Yn=new WeakMap,$i=new WeakMap,rm=new WeakMap,Nc=new WeakMap,qi=new WeakMap,ms=new WeakSet,tO=function(s){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-v(this,qi))*this.parentScale),P(this,qi,o),M(this,ms,GC).call(this)},n=v(this,qi);this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},sO=function(s){const i=o=>{P(this,Yn,this.editorDiv.style.color=o)},n=v(this,Yn);this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iO=function(){var n;const s=[];this.editorDiv.normalize();let i=null;for(const o of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(s.push(M(n=zt,qr,BC).call(n,o)),i=o);return s.join(`
`)},GC=function(){const[s,i]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:o,div:r}=this,l=r.style.display,u=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",o.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=l,r.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/s,this.height=n.height/i):(this.width=n.height/s,this.height=n.width/i),this.fixAndSetPosition()},qr=new WeakSet,BC=function(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(uC,"")},VC=function(){if(this.editorDiv.replaceChildren(),!!v(this,$i))for(const s of v(this,$i).split(`
`)){const i=document.createElement("div");i.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(i)}},nO=function(){return v(this,$i).replaceAll(""," ")},Cx=function(s){return s.replaceAll(" ","")},oO=function(s){const{value:i,fontSize:n,color:o,pageIndex:r}=this._initialData;return this._hasBeenMoved||s.value!==i||s.fontSize!==n||s.color.some((l,u)=>l!==o[u])||s.pageIndex!==r},O(zt,qr),Je(zt,"_freeTextDefaultContent",""),Je(zt,"_internalPadding",0),Je(zt,"_defaultColor",null),Je(zt,"_defaultFontSize",10),Je(zt,"_type","freetext"),Je(zt,"_editorType",at.FREETEXT);let vx=zt;class rO{toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,s){Wt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Wt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Wt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ki,Xn,Ah,Eh,Lo,ht,Hc,Gc,am,lm,Dh,Th,sl,cm,iw,nw,As,Dg,aO,lO,cO,uO,dO,hO;const gr=class gr{constructor({x:t,y:s},i,n,o,r,l=0){O(this,As);O(this,Ki);O(this,Xn,[]);O(this,Ah);O(this,Eh);O(this,Lo,[]);O(this,ht,new Float64Array(18));O(this,Hc);O(this,Gc);O(this,am);O(this,lm);O(this,Dh);O(this,Th);O(this,sl,[]);P(this,Ki,i),P(this,Th,o*n),P(this,Eh,r),v(this,ht).set([NaN,NaN,NaN,NaN,t,s],6),P(this,Ah,l),P(this,lm,v(gr,cm)*n),P(this,am,v(gr,nw)*n),P(this,Dh,n),v(this,sl).push(t,s)}isEmpty(){return isNaN(v(this,ht)[8])}add({x:t,y:s}){var W;P(this,Hc,t),P(this,Gc,s);const[i,n,o,r]=v(this,Ki);let[l,u,d,f]=v(this,ht).subarray(8,12);const p=t-d,m=s-f,C=Math.hypot(p,m);if(C<v(this,am))return!1;const w=C-v(this,lm),S=w/C,R=S*p,A=S*m;let D=l,E=u;l=d,u=f,d+=R,f+=A,(W=v(this,sl))==null||W.push(t,s);const F=-A/w,L=R/w,k=F*v(this,Th),H=L*v(this,Th);return v(this,ht).set(v(this,ht).subarray(2,8),0),v(this,ht).set([d+k,f+H],4),v(this,ht).set(v(this,ht).subarray(14,18),12),v(this,ht).set([d-k,f-H],16),isNaN(v(this,ht)[6])?(v(this,Lo).length===0&&(v(this,ht).set([l+k,u+H],2),v(this,Lo).push(NaN,NaN,NaN,NaN,(l+k-i)/o,(u+H-n)/r),v(this,ht).set([l-k,u-H],14),v(this,Xn).push(NaN,NaN,NaN,NaN,(l-k-i)/o,(u-H-n)/r)),v(this,ht).set([D,E,l,u,d,f],6),!this.isEmpty()):(v(this,ht).set([D,E,l,u,d,f],6),Math.abs(Math.atan2(E-u,D-l)-Math.atan2(A,R))<Math.PI/2?([l,u,d,f]=v(this,ht).subarray(2,6),v(this,Lo).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/o,((u+f)/2-n)/r),[l,u,D,E]=v(this,ht).subarray(14,18),v(this,Xn).push(NaN,NaN,NaN,NaN,((D+l)/2-i)/o,((E+u)/2-n)/r),!0):([D,E,l,u,d,f]=v(this,ht).subarray(0,6),v(this,Lo).push(((D+5*l)/6-i)/o,((E+5*u)/6-n)/r,((5*l+d)/6-i)/o,((5*u+f)/6-n)/r,((l+d)/2-i)/o,((u+f)/2-n)/r),[d,f,l,u,D,E]=v(this,ht).subarray(12,18),v(this,Xn).push(((D+5*l)/6-i)/o,((E+5*u)/6-n)/r,((5*l+d)/6-i)/o,((5*u+f)/6-n)/r,((l+d)/2-i)/o,((u+f)/2-n)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const t=v(this,Lo),s=v(this,Xn);if(isNaN(v(this,ht)[6])&&!this.isEmpty())return M(this,As,aO).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let n=6;n<t.length;n+=6)isNaN(t[n])?i.push(`L${t[n+4]} ${t[n+5]}`):i.push(`C${t[n]} ${t[n+1]} ${t[n+2]} ${t[n+3]} ${t[n+4]} ${t[n+5]}`);M(this,As,cO).call(this,i);for(let n=s.length-6;n>=6;n-=6)isNaN(s[n])?i.push(`L${s[n+4]} ${s[n+5]}`):i.push(`C${s[n]} ${s[n+1]} ${s[n+2]} ${s[n+3]} ${s[n+4]} ${s[n+5]}`);return M(this,As,lO).call(this,i),i.join(" ")}newFreeDrawOutline(t,s,i,n,o,r){return new fO(t,s,i,n,o,r)}getOutlines(){var p;const t=v(this,Lo),s=v(this,Xn),i=v(this,ht),[n,o,r,l]=v(this,Ki),u=new Float64Array((((p=v(this,sl))==null?void 0:p.length)??0)+2);for(let m=0,C=u.length-2;m<C;m+=2)u[m]=(v(this,sl)[m]-n)/r,u[m+1]=(v(this,sl)[m+1]-o)/l;if(u[u.length-2]=(v(this,Hc)-n)/r,u[u.length-1]=(v(this,Gc)-o)/l,isNaN(i[6])&&!this.isEmpty())return M(this,As,uO).call(this,u);const d=new Float64Array(v(this,Lo).length+24+v(this,Xn).length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=M(this,As,hO).call(this,d,f);for(let m=s.length-6;m>=6;m-=6)for(let C=0;C<6;C+=2){if(isNaN(s[m+C])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=s[m+C],d[f+1]=s[m+C+1],f+=2}return M(this,As,dO).call(this,d,f),this.newFreeDrawOutline(d,u,v(this,Ki),v(this,Dh),v(this,Ah),v(this,Eh))}};Ki=new WeakMap,Xn=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Lo=new WeakMap,ht=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,am=new WeakMap,lm=new WeakMap,Dh=new WeakMap,Th=new WeakMap,sl=new WeakMap,cm=new WeakMap,iw=new WeakMap,nw=new WeakMap,As=new WeakSet,Dg=function(){const t=v(this,ht).subarray(4,6),s=v(this,ht).subarray(16,18),[i,n,o,r]=v(this,Ki);return[(v(this,Hc)+(t[0]-s[0])/2-i)/o,(v(this,Gc)+(t[1]-s[1])/2-n)/r,(v(this,Hc)+(s[0]-t[0])/2-i)/o,(v(this,Gc)+(s[1]-t[1])/2-n)/r]},aO=function(){const[t,s,i,n]=v(this,Ki),[o,r,l,u]=M(this,As,Dg).call(this);return`M${(v(this,ht)[2]-t)/i} ${(v(this,ht)[3]-s)/n} L${(v(this,ht)[4]-t)/i} ${(v(this,ht)[5]-s)/n} L${o} ${r} L${l} ${u} L${(v(this,ht)[16]-t)/i} ${(v(this,ht)[17]-s)/n} L${(v(this,ht)[14]-t)/i} ${(v(this,ht)[15]-s)/n} Z`},lO=function(t){const s=v(this,Xn);t.push(`L${s[4]} ${s[5]} Z`)},cO=function(t){const[s,i,n,o]=v(this,Ki),r=v(this,ht).subarray(4,6),l=v(this,ht).subarray(16,18),[u,d,f,p]=M(this,As,Dg).call(this);t.push(`L${(r[0]-s)/n} ${(r[1]-i)/o} L${u} ${d} L${f} ${p} L${(l[0]-s)/n} ${(l[1]-i)/o}`)},uO=function(t){const s=v(this,ht),[i,n,o,r]=v(this,Ki),[l,u,d,f]=M(this,As,Dg).call(this),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(s[2]-i)/o,(s[3]-n)/r,NaN,NaN,NaN,NaN,(s[4]-i)/o,(s[5]-n)/r,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[16]-i)/o,(s[17]-n)/r,NaN,NaN,NaN,NaN,(s[14]-i)/o,(s[15]-n)/r],0),this.newFreeDrawOutline(p,t,v(this,Ki),v(this,Dh),v(this,Ah),v(this,Eh))},dO=function(t,s){const i=v(this,Xn);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],s),s+=6},hO=function(t,s){const i=v(this,ht).subarray(4,6),n=v(this,ht).subarray(16,18),[o,r,l,u]=v(this,Ki),[d,f,p,m]=M(this,As,Dg).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(n[0]-o)/l,(n[1]-r)/u],s),s+=24},O(gr,cm,8),O(gr,iw,2),O(gr,nw,v(gr,cm)+v(gr,iw));let gb=gr;var Fh,Bc,Pr,um,Yi,dm,cs,Oi,Tg,Fg,gO;class fO extends rO{constructor(s,i,n,o,r,l){super();O(this,Oi);O(this,Fh);O(this,Bc,null);O(this,Pr);O(this,um);O(this,Yi);O(this,dm);O(this,cs);P(this,cs,s),P(this,Yi,i),P(this,Fh,n),P(this,dm,o),P(this,Pr,r),P(this,um,l),M(this,Oi,gO).call(this,l);const{x:u,y:d,width:f,height:p}=v(this,Bc);for(let m=0,C=s.length;m<C;m+=2)s[m]=(s[m]-u)/f,s[m+1]=(s[m+1]-d)/p;for(let m=0,C=i.length;m<C;m+=2)i[m]=(i[m]-u)/f,i[m+1]=(i[m+1]-d)/p}toSVGPath(){const s=[`M${v(this,cs)[4]} ${v(this,cs)[5]}`];for(let i=6,n=v(this,cs).length;i<n;i+=6){if(isNaN(v(this,cs)[i])){s.push(`L${v(this,cs)[i+4]} ${v(this,cs)[i+5]}`);continue}s.push(`C${v(this,cs)[i]} ${v(this,cs)[i+1]} ${v(this,cs)[i+2]} ${v(this,cs)[i+3]} ${v(this,cs)[i+4]} ${v(this,cs)[i+5]}`)}return s.push("Z"),s.join(" ")}serialize([s,i,n,o],r){const l=n-s,u=o-i;let d,f;switch(r){case 0:d=M(this,Oi,Tg).call(this,v(this,cs),s,o,l,-u),f=M(this,Oi,Tg).call(this,v(this,Yi),s,o,l,-u);break;case 90:d=M(this,Oi,Fg).call(this,v(this,cs),s,i,l,u),f=M(this,Oi,Fg).call(this,v(this,Yi),s,i,l,u);break;case 180:d=M(this,Oi,Tg).call(this,v(this,cs),n,i,-l,u),f=M(this,Oi,Tg).call(this,v(this,Yi),n,i,-l,u);break;case 270:d=M(this,Oi,Fg).call(this,v(this,cs),n,o,-l,-u),f=M(this,Oi,Fg).call(this,v(this,Yi),n,o,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return v(this,Bc)}newOutliner(s,i,n,o,r,l=0){return new gb(s,i,n,o,r,l)}getNewOutline(s,i){const{x:n,y:o,width:r,height:l}=v(this,Bc),[u,d,f,p]=v(this,Fh),m=r*f,C=l*p,w=n*f+u,S=o*p+d,R=this.newOutliner({x:v(this,Yi)[0]*m+w,y:v(this,Yi)[1]*C+S},v(this,Fh),v(this,dm),s,v(this,um),i??v(this,Pr));for(let A=2;A<v(this,Yi).length;A+=2)R.add({x:v(this,Yi)[A]*m+w,y:v(this,Yi)[A+1]*C+S});return R.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Fh=new WeakMap,Bc=new WeakMap,Pr=new WeakMap,um=new WeakMap,Yi=new WeakMap,dm=new WeakMap,cs=new WeakMap,Oi=new WeakSet,Tg=function(s,i,n,o,r){const l=new Float64Array(s.length);for(let u=0,d=s.length;u<d;u+=2)l[u]=i+s[u]*o,l[u+1]=n+s[u+1]*r;return l},Fg=function(s,i,n,o,r){const l=new Float64Array(s.length);for(let u=0,d=s.length;u<d;u+=2)l[u]=i+s[u+1]*o,l[u+1]=n+s[u]*r;return l},gO=function(s){const i=v(this,cs);let n=i[4],o=i[5],r=n,l=o,u=n,d=o,f=n,p=o;const m=s?Math.max:Math.min;for(let A=6,D=i.length;A<D;A+=6){if(isNaN(i[A]))r=Math.min(r,i[A+4]),l=Math.min(l,i[A+5]),u=Math.max(u,i[A+4]),d=Math.max(d,i[A+5]),p<i[A+5]?(f=i[A+4],p=i[A+5]):p===i[A+5]&&(f=m(f,i[A+4]));else{const E=He.bezierBoundingBox(n,o,...i.slice(A,A+6));r=Math.min(r,E[0]),l=Math.min(l,E[1]),u=Math.max(u,E[2]),d=Math.max(d,E[3]),p<E[3]?(f=E[2],p=E[3]):p===E[3]&&(f=m(f,E[2]))}n=i[A+4],o=i[A+5]}const C=r-v(this,Pr),w=l-v(this,Pr),S=u-r+2*v(this,Pr),R=d-l+2*v(this,Pr);P(this,Bc,{x:C,y:w,width:S,height:R,lastPoint:[f,p]})};var hm,il,Qn,yi,pO,zC,mO,vO,bx;class UM{constructor(t,s=0,i=0,n=!0){O(this,yi);O(this,hm);O(this,il,[]);O(this,Qn,[]);let o=1/0,r=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:R,y:A,width:D,height:E}of t){const F=Math.floor((R-s)/d)*d,L=Math.ceil((R+D+s)/d)*d,k=Math.floor((A-s)/d)*d,H=Math.ceil((A+E+s)/d)*d,G=[F,k,H,!0],W=[L,k,H,!1];v(this,il).push(G,W),o=Math.min(o,F),r=Math.max(r,L),l=Math.min(l,k),u=Math.max(u,H)}const f=r-o+2*i,p=u-l+2*i,m=o-i,C=l-i,w=v(this,il).at(n?-1:-2),S=[w[0],w[2]];for(const R of v(this,il)){const[A,D,E]=R;R[0]=(A-m)/f,R[1]=(D-C)/p,R[2]=(E-C)/p}P(this,hm,{x:m,y:C,width:f,height:p,lastPoint:S})}getOutlines(){v(this,il).sort((s,i)=>s[0]-i[0]||s[1]-i[1]||s[2]-i[2]);const t=[];for(const s of v(this,il))s[3]?(t.push(...M(this,yi,bx).call(this,s)),M(this,yi,mO).call(this,s)):(M(this,yi,vO).call(this,s),t.push(...M(this,yi,bx).call(this,s)));return M(this,yi,pO).call(this,t)}}hm=new WeakMap,il=new WeakMap,Qn=new WeakMap,yi=new WeakSet,pO=function(t){const s=[],i=new Set;for(const r of t){const[l,u,d]=r;s.push([l,u,r],[l,d,r])}s.sort((r,l)=>r[1]-l[1]||r[0]-l[0]);for(let r=0,l=s.length;r<l;r+=2){const u=s[r][2],d=s[r+1][2];u.push(d),d.push(u),i.add(u),i.add(d)}const n=[];let o;for(;i.size>0;){const r=i.values().next().value;let[l,u,d,f,p]=r;i.delete(r);let m=l,C=u;for(o=[l,d],n.push(o);;){let w;if(i.has(f))w=f;else if(i.has(p))w=p;else break;i.delete(w),[l,u,d,f,p]=w,m!==l&&(o.push(m,C,l,C===u?u:d),m=l),C=C===u?d:u}o.push(m,C)}return new A4(n,v(this,hm))},zC=function(t){const s=v(this,Qn);let i=0,n=s.length-1;for(;i<=n;){const o=i+n>>1,r=s[o][0];if(r===t)return o;r<t?i=o+1:n=o-1}return n+1},mO=function([,t,s]){const i=M(this,yi,zC).call(this,t);v(this,Qn).splice(i,0,[t,s])},vO=function([,t,s]){const i=M(this,yi,zC).call(this,t);for(let n=i;n<v(this,Qn).length;n++){const[o,r]=v(this,Qn)[n];if(o!==t)break;if(o===t&&r===s){v(this,Qn).splice(n,1);return}}for(let n=i-1;n>=0;n--){const[o,r]=v(this,Qn)[n];if(o!==t)break;if(o===t&&r===s){v(this,Qn).splice(n,1);return}}},bx=function(t){const[s,i,n]=t,o=[[s,i,n]],r=M(this,yi,zC).call(this,n);for(let l=0;l<r;l++){const[u,d]=v(this,Qn)[l];for(let f=0,p=o.length;f<p;f++){const[,m,C]=o[f];if(!(d<=m||C<=u)){if(m>=u){if(C>d)o[f][1]=d;else{if(p===1)return[];o.splice(f,1),f--,p--}continue}o[f][2]=u,C>d&&o.push([s,d,C])}}}return o};var fm,Ph;class A4 extends rO{constructor(s,i){super();O(this,fm);O(this,Ph);P(this,Ph,s),P(this,fm,i)}toSVGPath(){const s=[];for(const i of v(this,Ph)){let[n,o]=i;s.push(`M${n} ${o}`);for(let r=2;r<i.length;r+=2){const l=i[r],u=i[r+1];l===n?(s.push(`V${u}`),o=u):u===o&&(s.push(`H${l}`),n=l)}s.push("Z")}return s.join(" ")}serialize([s,i,n,o],r){const l=[],u=n-s,d=o-i;for(const f of v(this,Ph)){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=s+f[m]*u,p[m+1]=o-f[m+1]*d;l.push(p)}return l}get box(){return v(this,fm)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}fm=new WeakMap,Ph=new WeakMap;class wx extends gb{newFreeDrawOutline(t,s,i,n,o,r){return new E4(t,s,i,n,o,r)}get classNamesForDrawing(){return["highlight","free"]}}class E4 extends fO{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,s,i,n,o,r=0){return new wx(t,s,i,n,o,r)}}var Zn,Vc,Mh,Ss,gm,Lh,pm,mm,nl,Jn,kh,vm,Ot,yx,Sx,Rx,$l,CO,ka;const Fi=class Fi{constructor({editor:t=null,uiManager:s=null}){O(this,Ot);O(this,Zn,null);O(this,Vc,null);O(this,Mh);O(this,Ss,null);O(this,gm,!1);O(this,Lh,!1);O(this,pm,null);O(this,mm);O(this,nl,null);O(this,Jn,null);O(this,kh);var i;t?(P(this,Lh,!1),P(this,kh,et.HIGHLIGHT_COLOR),P(this,pm,t)):(P(this,Lh,!0),P(this,kh,et.HIGHLIGHT_DEFAULT_COLOR)),P(this,Jn,(t==null?void 0:t._uiManager)||s),P(this,mm,v(this,Jn)._eventBus),P(this,Mh,(t==null?void 0:t.color)||((i=v(this,Jn))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),v(Fi,vm)||P(Fi,vm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return vt(this,"_keyboardManager",new Im([[["Escape","mac+Escape"],Fi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Fi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Fi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Fi.prototype._moveToPrevious],[["Home","mac+Home"],Fi.prototype._moveToBeginning],[["End","mac+End"],Fi.prototype._moveToEnd]]))}renderButton(){const t=P(this,Zn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const s=v(this,Jn)._signal;t.addEventListener("click",M(this,Ot,$l).bind(this),{signal:s}),t.addEventListener("keydown",M(this,Ot,Rx).bind(this),{signal:s});const i=P(this,Vc,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=v(this,Mh),t.append(i),t}renderMainDropdown(){const t=P(this,Ss,M(this,Ot,yx).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===v(this,Zn)){M(this,Ot,$l).call(this,t);return}const s=t.target.getAttribute("data-color");s&&M(this,Ot,Sx).call(this,s,t)}_moveToNext(t){var s,i;if(!v(this,Ot,ka)){M(this,Ot,$l).call(this,t);return}if(t.target===v(this,Zn)){(s=v(this,Ss).firstChild)==null||s.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var s,i;if(t.target===((s=v(this,Ss))==null?void 0:s.firstChild)||t.target===v(this,Zn)){v(this,Ot,ka)&&this._hideDropdownFromKeyboard();return}v(this,Ot,ka)||M(this,Ot,$l).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var s;if(!v(this,Ot,ka)){M(this,Ot,$l).call(this,t);return}(s=v(this,Ss).firstChild)==null||s.focus()}_moveToEnd(t){var s;if(!v(this,Ot,ka)){M(this,Ot,$l).call(this,t);return}(s=v(this,Ss).lastChild)==null||s.focus()}hideDropdown(){var t,s;(t=v(this,Ss))==null||t.classList.add("hidden"),(s=v(this,nl))==null||s.abort(),P(this,nl,null)}_hideDropdownFromKeyboard(){var t;if(!v(this,Lh)){if(!v(this,Ot,ka)){(t=v(this,pm))==null||t.unselect();return}this.hideDropdown(),v(this,Zn).focus({preventScroll:!0,focusVisible:v(this,gm)})}}updateColor(t){if(v(this,Vc)&&(v(this,Vc).style.backgroundColor=t),!v(this,Ss))return;const s=v(this,Jn).highlightColors.values();for(const i of v(this,Ss).children)i.setAttribute("aria-selected",s.next().value===t)}destroy(){var t,s;(t=v(this,Zn))==null||t.remove(),P(this,Zn,null),P(this,Vc,null),(s=v(this,Ss))==null||s.remove(),P(this,Ss,null)}};Zn=new WeakMap,Vc=new WeakMap,Mh=new WeakMap,Ss=new WeakMap,gm=new WeakMap,Lh=new WeakMap,pm=new WeakMap,mm=new WeakMap,nl=new WeakMap,Jn=new WeakMap,kh=new WeakMap,vm=new WeakMap,Ot=new WeakSet,yx=function(){const t=document.createElement("div"),s=v(this,Jn)._signal;t.addEventListener("contextmenu",Pn,{signal:s}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,n]of v(this,Jn).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",n),o.title=i,o.setAttribute("data-l10n-id",v(Fi,vm)[i]);const r=document.createElement("span");o.append(r),r.className="swatch",r.style.backgroundColor=n,o.setAttribute("aria-selected",n===v(this,Mh)),o.addEventListener("click",M(this,Ot,Sx).bind(this,n),{signal:s}),t.append(o)}return t.addEventListener("keydown",M(this,Ot,Rx).bind(this),{signal:s}),t},Sx=function(t,s){s.stopPropagation(),v(this,mm).dispatch("switchannotationeditorparams",{source:this,type:v(this,kh),value:t})},Rx=function(t){Fi._keyboardManager.exec(this,t)},$l=function(t){if(v(this,Ot,ka)){this.hideDropdown();return}if(P(this,gm,t.detail===0),v(this,nl)||(P(this,nl,new AbortController),window.addEventListener("pointerdown",M(this,Ot,CO).bind(this),{signal:v(this,Jn).combinedSignal(v(this,nl))})),v(this,Ss)){v(this,Ss).classList.remove("hidden");return}const s=P(this,Ss,M(this,Ot,yx).call(this));v(this,Zn).append(s)},CO=function(t){var s;(s=v(this,Ss))!=null&&s.contains(t.target)||this.hideDropdown()},ka=function(){return v(this,Ss)&&!v(this,Ss).classList.contains("hidden")},O(Fi,vm,null);let pb=Fi;var Ih,Cm,Mr,zc,Oh,bn,bm,wm,Wc,eo,si,Li,_h,Lr,Rs,Nh,wn,ym,st,xx,WC,bO,wO,yO,Ax,ql,xn,Ed,SO,UC,Pg,RO,xO,AO,EO,DO;const yt=class yt extends Mt{constructor(s){super({...s,name:"highlightEditor"});O(this,st);O(this,Ih,null);O(this,Cm,0);O(this,Mr);O(this,zc,null);O(this,Oh,null);O(this,bn,null);O(this,bm,null);O(this,wm,0);O(this,Wc,null);O(this,eo,null);O(this,si,null);O(this,Li,!1);O(this,_h,null);O(this,Lr);O(this,Rs,null);O(this,Nh,"");O(this,wn);O(this,ym,"");this.color=s.color||yt._defaultColor,P(this,wn,s.thickness||yt._defaultThickness),P(this,Lr,s.opacity||yt._defaultOpacity),P(this,Mr,s.boxes||null),P(this,ym,s.methodOfCreation||""),P(this,Nh,s.text||""),this._isDraggable=!1,s.highlightId>-1?(P(this,Li,!0),M(this,st,WC).call(this,s),M(this,st,ql).call(this)):v(this,Mr)&&(P(this,Ih,s.anchorNode),P(this,Cm,s.anchorOffset),P(this,bm,s.focusNode),P(this,wm,s.focusOffset),M(this,st,xx).call(this),M(this,st,ql).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const s=yt.prototype;return vt(this,"_keyboardManager",new Im([[["ArrowLeft","mac+ArrowLeft"],s._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],s._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],s._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],s._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:v(this,Li)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:v(this,wn),methodOfCreation:v(this,ym)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(s){return{numberOfColors:s.get("color").size}}static initialize(s,i){var n;Mt.initialize(s,i),yt._defaultColor||(yt._defaultColor=((n=i.highlightColors)==null?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(s,i){switch(s){case et.HIGHLIGHT_DEFAULT_COLOR:yt._defaultColor=i;break;case et.HIGHLIGHT_THICKNESS:yt._defaultThickness=i;break}}translateInPage(s,i){}get toolbarPosition(){return v(this,_h)}updateParams(s,i){switch(s){case et.HIGHLIGHT_COLOR:M(this,st,bO).call(this,i);break;case et.HIGHLIGHT_THICKNESS:M(this,st,wO).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[et.HIGHLIGHT_DEFAULT_COLOR,yt._defaultColor],[et.HIGHLIGHT_THICKNESS,yt._defaultThickness]]}get propertiesToUpdate(){return[[et.HIGHLIGHT_COLOR,this.color||yt._defaultColor],[et.HIGHLIGHT_THICKNESS,v(this,wn)||yt._defaultThickness],[et.HIGHLIGHT_FREE,v(this,Li)]]}async addEditToolbar(){const s=await super.addEditToolbar();return s?(this._uiManager.highlightColors&&(P(this,Oh,new pb({editor:this})),s.addColorPicker(v(this,Oh))),s):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,st,Pg).call(this))}getBaseTranslation(){return[0,0]}getRect(s,i){return super.getRect(s,i,M(this,st,Pg).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){M(this,st,Ax).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,st,ql).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var n;let i=!1;this.parent&&!s?M(this,st,Ax).call(this):s&&(M(this,st,ql).call(this,s),i=!this.parent&&((n=this.div)==null?void 0:n.classList.contains("selectedEditor"))),super.setParent(s),this.show(this._isVisible),i&&this.select()}rotate(s){var o,r,l;const{drawLayer:i}=this.parent;let n;v(this,Li)?(s=(s-this.rotation+360)%360,n=M(o=yt,xn,Ed).call(o,v(this,eo).box,s)):n=M(r=yt,xn,Ed).call(r,this,s),i.rotate(v(this,si),s),i.rotate(v(this,Rs),s),i.updateBox(v(this,si),n),i.updateBox(v(this,Rs),M(l=yt,xn,Ed).call(l,v(this,bn).box,s))}render(){if(this.div)return this.div;const s=super.render();v(this,Nh)&&(s.setAttribute("aria-label",v(this,Nh)),s.setAttribute("role","mark")),v(this,Li)?s.classList.add("free"):this.div.addEventListener("keydown",M(this,st,SO).bind(this),{signal:this._uiManager._signal});const i=P(this,Wc,document.createElement("div"));s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=v(this,zc);const[n,o]=this.parentDimensions;return this.setDims(this.width*n,this.height*o),hb(this,v(this,Wc),["pointerover","pointerleave"]),this.enableEditing(),s}pointerover(){this.isSelected||this.parent.drawLayer.addClass(v(this,Rs),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(v(this,Rs),"hovered")}_moveCaret(s){switch(this.parent.unselect(this),s){case 0:case 2:M(this,st,UC).call(this,!0);break;case 1:case 3:M(this,st,UC).call(this,!1);break}}select(){var s,i;super.select(),v(this,Rs)&&((s=this.parent)==null||s.drawLayer.removeClass(v(this,Rs),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(v(this,Rs),"selected"))}unselect(){var s;super.unselect(),v(this,Rs)&&((s=this.parent)==null||s.drawLayer.removeClass(v(this,Rs),"selected"),v(this,Li)||M(this,st,UC).call(this,!1))}get _mustFixPosition(){return!v(this,Li)}show(s=this._isVisible){super.show(s),this.parent&&(this.parent.drawLayer.show(v(this,si),s),this.parent.drawLayer.show(v(this,Rs),s))}static startHighlighting(s,i,{target:n,x:o,y:r}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,m=s.combinedSignal(p),C=S=>{S.preventDefault(),S.stopPropagation()},w=S=>{p.abort(),M(this,xn,EO).call(this,s,S)};window.addEventListener("blur",w,{signal:m}),window.addEventListener("pointerup",w,{signal:m}),window.addEventListener("pointerdown",C,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Pn,{signal:m}),n.addEventListener("pointermove",M(this,xn,AO).bind(this,s),{signal:m}),this._freeHighlight=new wx({x:o,y:r},[l,u,d,f],s.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=s.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(s,i,n){var S,R,A,D;let o=null;if(s instanceof ZI){const{data:{quadPoints:E,rect:F,rotation:L,id:k,color:H,opacity:G,popupRef:W},parent:{page:{pageNumber:q}}}=s;o=s={annotationType:at.HIGHLIGHT,color:Array.from(H),opacity:G,quadPoints:E,boxes:null,pageIndex:q-1,rect:F.slice(0),rotation:L,id:k,deleted:!1,popupRef:W}}else if(s instanceof hE){const{data:{inkLists:E,rect:F,rotation:L,id:k,color:H,borderStyle:{rawWidth:G},popupRef:W},parent:{page:{pageNumber:q}}}=s;o=s={annotationType:at.HIGHLIGHT,color:Array.from(H),thickness:G,inkLists:E,boxes:null,pageIndex:q-1,rect:F.slice(0),rotation:L,id:k,deleted:!1,popupRef:W}}const{color:r,quadPoints:l,inkLists:u,opacity:d}=s,f=await super.deserialize(s,i,n);f.color=He.makeHexColor(...r),P(f,Lr,d||1),u&&P(f,wn,s.thickness),f.annotationElementId=s.id||null,f._initialData=o;const[p,m]=f.pageDimensions,[C,w]=f.pageTranslation;if(l){const E=P(f,Mr,[]);for(let F=0;F<l.length;F+=8)E.push({x:(l[F]-C)/p,y:1-(l[F+1]-w)/m,width:(l[F+2]-l[F])/p,height:(l[F+1]-l[F+5])/m});M(S=f,st,xx).call(S),M(R=f,st,ql).call(R),f.rotate(f.rotation)}else if(u){P(f,Li,!0);const E=u[0],F={x:E[0]-C,y:m-(E[1]-w)},L=new wx(F,[0,0,p,m],1,v(f,wn)/2,!0,.001);for(let G=0,W=E.length;G<W;G+=2)F.x=E[G]-C,F.y=m-(E[G+1]-w),L.add(F);const{id:k,clipPathId:H}=i.drawLayer.draw(L,f.color,f._defaultOpacity,!0);M(A=f,st,WC).call(A,{highlightOutlines:L.getOutlines(),highlightId:k,clipPathId:H}),M(D=f,st,ql).call(D)}return f}serialize(s=!1){if(this.isEmpty()||s)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),n=Mt._colorManager.convert(this.color),o={annotationType:at.HIGHLIGHT,color:n,opacity:v(this,Lr),thickness:v(this,wn),quadPoints:M(this,st,RO).call(this),outlines:M(this,st,xO).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:M(this,st,Pg).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!M(this,st,DO).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ih=new WeakMap,Cm=new WeakMap,Mr=new WeakMap,zc=new WeakMap,Oh=new WeakMap,bn=new WeakMap,bm=new WeakMap,wm=new WeakMap,Wc=new WeakMap,eo=new WeakMap,si=new WeakMap,Li=new WeakMap,_h=new WeakMap,Lr=new WeakMap,Rs=new WeakMap,Nh=new WeakMap,wn=new WeakMap,ym=new WeakMap,st=new WeakSet,xx=function(){const s=new UM(v(this,Mr),.001);P(this,eo,s.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=v(this,eo).box;const i=new UM(v(this,Mr),.0025,.001,this._uiManager.direction==="ltr");P(this,bn,i.getOutlines());const{lastPoint:n}=v(this,bn).box;P(this,_h,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])},WC=function({highlightOutlines:s,highlightId:i,clipPathId:n}){var p,m;if(P(this,eo,s),P(this,bn,s.getNewOutline(v(this,wn)/2+1.5,.0025)),i>=0)P(this,si,i),P(this,zc,n),this.parent.drawLayer.finalizeLine(i,s),P(this,Rs,this.parent.drawLayer.drawOutline(v(this,bn)));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(v(this,si),s),this.parent.drawLayer.updateBox(v(this,si),M(p=yt,xn,Ed).call(p,v(this,eo).box,(C-this.rotation+360)%360)),this.parent.drawLayer.updateLine(v(this,Rs),v(this,bn)),this.parent.drawLayer.updateBox(v(this,Rs),M(m=yt,xn,Ed).call(m,v(this,bn).box,C))}const{x:r,y:l,width:u,height:d}=s.box;switch(this.rotation){case 0:this.x=r,this.y=l,this.width=u,this.height=d;break;case 90:{const[C,w]=this.parentDimensions;this.x=l,this.y=1-r,this.width=u*w/C,this.height=d*C/w;break}case 180:this.x=1-r,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[C,w]=this.parentDimensions;this.x=1-l,this.y=r,this.width=u*w/C,this.height=d*C/w;break}}const{lastPoint:f}=v(this,bn).box;P(this,_h,[(f[0]-r)/u,(f[1]-l)/d])},bO=function(s){const i=(r,l)=>{var u,d,f;this.color=r,(u=this.parent)==null||u.drawLayer.changeColor(v(this,si),r),(d=v(this,Oh))==null||d.updateColor(r),P(this,Lr,l),(f=this.parent)==null||f.drawLayer.changeOpacity(v(this,si),l)},n=this.color,o=v(this,Lr);this.addCommands({cmd:i.bind(this,s,yt._defaultOpacity),undo:i.bind(this,n,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)},wO=function(s){const i=v(this,wn),n=o=>{P(this,wn,o),M(this,st,yO).call(this,o)};this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)},yO=function(s){if(!v(this,Li))return;M(this,st,WC).call(this,{highlightOutlines:v(this,eo).getNewOutline(s/2)}),this.fixAndSetPosition();const[i,n]=this.parentDimensions;this.setDims(this.width*i,this.height*n)},Ax=function(){v(this,si)===null||!this.parent||(this.parent.drawLayer.remove(v(this,si)),P(this,si,null),this.parent.drawLayer.remove(v(this,Rs)),P(this,Rs,null))},ql=function(s=this.parent){v(this,si)===null&&({id:di(this,si)._,clipPathId:di(this,zc)._}=s.drawLayer.draw(v(this,eo),this.color,v(this,Lr)),P(this,Rs,s.drawLayer.drawOutline(v(this,bn))),v(this,Wc)&&(v(this,Wc).style.clipPath=v(this,zc)))},xn=new WeakSet,Ed=function({x:s,y:i,width:n,height:o},r){switch(r){case 90:return{x:1-i-o,y:s,width:o,height:n};case 180:return{x:1-s-n,y:1-i-o,width:n,height:o};case 270:return{x:i,y:1-s-n,width:o,height:n}}return{x:s,y:i,width:n,height:o}},SO=function(s){yt._keyboardManager.exec(this,s)},UC=function(s){if(!v(this,Ih))return;const i=window.getSelection();s?i.setPosition(v(this,Ih),v(this,Cm)):i.setPosition(v(this,bm),v(this,wm))},Pg=function(){return v(this,Li)?this.rotation:0},RO=function(){if(v(this,Li))return null;const[s,i]=this.pageDimensions,[n,o]=this.pageTranslation,r=v(this,Mr),l=new Float32Array(r.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of r){const C=d*s+n,w=(1-f-m)*i+o;l[u]=l[u+4]=C,l[u+1]=l[u+3]=w,l[u+2]=l[u+6]=C+p*s,l[u+5]=l[u+7]=w+m*i,u+=8}return l},xO=function(s){return v(this,eo).serialize(s,M(this,st,Pg).call(this))},AO=function(s,i){this._freeHighlight.add(i)&&s.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},EO=function(s,i){this._freeHighlight.isEmpty()?s.drawLayer.remove(this._freeHighlightId):s.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},DO=function(s){const{color:i}=this._initialData;return s.color.some((n,o)=>n!==i[o])},O(yt,xn),Je(yt,"_defaultColor",null),Je(yt,"_defaultOpacity",1),Je(yt,"_defaultThickness",12),Je(yt,"_type","highlight"),Je(yt,"_editorType",at.HIGHLIGHT),Je(yt,"_freeHighlightId",-1),Je(yt,"_freeHighlight",null),Je(yt,"_freeHighlightClipId","");let mb=yt;var Uc,jc,ko,kr,yn,$c,qc,Kc,Ir,Hh,Yc,Xc,ol,Re,TO,FO,PO,MO,Dx,LO,Tx,kO,IO,OO,_O,NO,Kl,Fx,Px,Mx,jC,$C,Dd,Lx,qC,Zr,HO,kx,GO,BO,Ix,KC,Mg;const Qt=class Qt extends Mt{constructor(s){super({...s,name:"inkEditor"});O(this,Re);O(this,Uc,0);O(this,jc,0);O(this,ko,null);O(this,kr,new Path2D);O(this,yn,!1);O(this,$c,null);O(this,qc,!1);O(this,Kc,!1);O(this,Ir,null);O(this,Hh,null);O(this,Yc,0);O(this,Xc,0);O(this,ol,null);this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s,i){Mt.initialize(s,i)}static updateDefaultParams(s,i){switch(s){case et.INK_THICKNESS:Qt._defaultThickness=i;break;case et.INK_COLOR:Qt._defaultColor=i;break;case et.INK_OPACITY:Qt._defaultOpacity=i/100;break}}updateParams(s,i){switch(s){case et.INK_THICKNESS:M(this,Re,TO).call(this,i);break;case et.INK_COLOR:M(this,Re,FO).call(this,i);break;case et.INK_OPACITY:M(this,Re,PO).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[et.INK_THICKNESS,Qt._defaultThickness],[et.INK_COLOR,Qt._defaultColor||Mt._defaultLineColor],[et.INK_OPACITY,Math.round(Qt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[et.INK_THICKNESS,this.thickness||Qt._defaultThickness],[et.INK_COLOR,this.color||Qt._defaultColor||Mt._defaultLineColor],[et.INK_OPACITY,Math.round(100*(this.opacity??Qt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(M(this,Re,jC).call(this),M(this,Re,$C).call(this)),this.isAttachedToDOM||(this.parent.add(this),M(this,Re,Dd).call(this)),M(this,Re,Mg).call(this)))}remove(){var s;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,v(this,ko)&&(clearTimeout(v(this,ko)),P(this,ko,null)),(s=v(this,Ir))==null||s.disconnect(),P(this,Ir,null),super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,i]=this.parentDimensions,n=this.width*s,o=this.height*i;this.setDimensions(n,o)}enableEditMode(){v(this,yn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,M(this,Re,Fx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),M(this,Re,Px).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){v(this,yn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),P(this,yn,!0),this.div.classList.add("disabled"),M(this,Re,Mg).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||v(this,yn)||(this.setInForeground(),s.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),M(this,Re,LO).call(this,s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),M(this,Re,Tx).call(this,s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),M(this,Re,Mx).call(this,s)}canvasPointerleave(s){M(this,Re,Mx).call(this,s)}get isResizable(){return!this.isEmpty()&&v(this,yn)}render(){if(this.div)return this.div;let s,i;this.width&&(s=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,o,r,l]=M(this,Re,MO).call(this);if(this.setAt(n,o,0,0),this.setDims(r,l),M(this,Re,jC).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(s*u,i*d,this.width*u,this.height*d),P(this,Kc,!0),M(this,Re,Dd).call(this),this.setDims(this.width*u,this.height*d),M(this,Re,Kl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return M(this,Re,$C).call(this),this.div}setDimensions(s,i){const n=Math.round(s),o=Math.round(i);if(v(this,Yc)===n&&v(this,Xc)===o)return;P(this,Yc,n),P(this,Xc,o),this.canvas.style.visibility="hidden";const[r,l]=this.parentDimensions;this.width=s/r,this.height=i/l,this.fixAndSetPosition(),v(this,yn)&&M(this,Re,Lx).call(this,s,i),M(this,Re,Dd).call(this),M(this,Re,Kl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(s,i,n){var R,A,D;if(s instanceof hE)return null;const o=await super.deserialize(s,i,n);o.thickness=s.thickness,o.color=He.makeHexColor(...s.color),o.opacity=s.opacity;const[r,l]=o.pageDimensions,u=o.width*r,d=o.height*l,f=o.parentScale,p=s.thickness/2;P(o,yn,!0),P(o,Yc,Math.round(u)),P(o,Xc,Math.round(d));const{paths:m,rect:C,rotation:w}=s;for(let{bezier:E}of m){E=M(R=Qt,Zr,GO).call(R,E,C,w);const F=[];o.paths.push(F);let L=f*(E[0]-p),k=f*(E[1]-p);for(let G=2,W=E.length;G<W;G+=6){const q=f*(E[G]-p),K=f*(E[G+1]-p),Z=f*(E[G+2]-p),Y=f*(E[G+3]-p),re=f*(E[G+4]-p),ne=f*(E[G+5]-p);F.push([[L,k],[q,K],[Z,Y],[re,ne]]),L=re,k=ne}const H=M(this,Zr,HO).call(this,F);o.bezierPath2D.push(H)}const S=M(A=o,Re,Ix).call(A);return P(o,jc,Math.max(Mt.MIN_SIZE,S[2]-S[0])),P(o,Uc,Math.max(Mt.MIN_SIZE,S[3]-S[1])),M(D=o,Re,Lx).call(D,u,d),o}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),i=Mt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:at.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:M(this,Re,BO).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Uc=new WeakMap,jc=new WeakMap,ko=new WeakMap,kr=new WeakMap,yn=new WeakMap,$c=new WeakMap,qc=new WeakMap,Kc=new WeakMap,Ir=new WeakMap,Hh=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,ol=new WeakMap,Re=new WeakSet,TO=function(s){const i=o=>{this.thickness=o,M(this,Re,Mg).call(this)},n=this.thickness;this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},FO=function(s){const i=o=>{this.color=o,M(this,Re,Kl).call(this)},n=this.color;this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},PO=function(s){const i=o=>{this.opacity=o,M(this,Re,Kl).call(this)};s/=100;const n=this.opacity;this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},MO=function(){const{parentRotation:s,parentDimensions:[i,n]}=this;switch(s){case 90:return[0,n,n,i];case 180:return[i,n,i,n];case 270:return[i,0,n,i];default:return[0,0,i,n]}},Dx=function(){const{ctx:s,color:i,opacity:n,thickness:o,parentScale:r,scaleFactor:l}=this;s.lineWidth=o*r/l,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${i}${KU(n)}`},LO=function(s,i){this.canvas.addEventListener("contextmenu",Pn,{signal:this._uiManager._signal}),M(this,Re,Px).call(this),P(this,$c,new AbortController);const n=this._uiManager.combinedSignal(v(this,$c));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,v(this,Kc)||(P(this,Kc,!0),M(this,Re,Dd).call(this),this.thickness||(this.thickness=Qt._defaultThickness),this.color||(this.color=Qt._defaultColor||Mt._defaultLineColor),this.opacity??(this.opacity=Qt._defaultOpacity)),this.currentPath.push([s,i]),P(this,qc,!1),M(this,Re,Dx).call(this),P(this,ol,()=>{M(this,Re,OO).call(this),v(this,ol)&&window.requestAnimationFrame(v(this,ol))}),window.requestAnimationFrame(v(this,ol))},Tx=function(s,i){const[n,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===n&&i===o)return;const r=this.currentPath;let l=v(this,kr);if(r.push([s,i]),P(this,qc,!0),r.length<=2){l.moveTo(...r[0]),l.lineTo(s,i);return}r.length===3&&(P(this,kr,l=new Path2D),l.moveTo(...r[0])),M(this,Re,_O).call(this,l,...r.at(-3),...r.at(-2),s,i)},kO=function(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);v(this,kr).lineTo(...s)},IO=function(s,i){P(this,ol,null),s=Math.min(Math.max(s,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),M(this,Re,Tx).call(this,s,i),M(this,Re,kO).call(this);let n;if(this.currentPath.length!==1)n=M(this,Re,NO).call(this);else{const d=[s,i];n=[[d,d.slice(),d.slice(),d]]}const o=v(this,kr),r=this.currentPath;this.currentPath=[],P(this,kr,new Path2D);const l=()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(M(this,Re,jC).call(this),M(this,Re,$C).call(this)),M(this,Re,Mg).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},OO=function(){if(!v(this,qc))return;P(this,qc,!1);const s=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),n=i.map(l=>l[0]),o=i.map(l=>l[1]);Math.min(...n)-s,Math.max(...n)+s,Math.min(...o)-s,Math.max(...o)+s;const{ctx:r}=this;r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)r.stroke(l);r.stroke(v(this,kr)),r.restore()},_O=function(s,i,n,o,r,l,u){const d=(i+o)/2,f=(n+r)/2,p=(o+l)/2,m=(r+u)/2;s.bezierCurveTo(d+2*(o-d)/3,f+2*(r-f)/3,p+2*(o-p)/3,m+2*(r-m)/3,p,m)},NO=function(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const i=[];let n,[o,r]=s[0];for(n=1;n<s.length-2;n++){const[C,w]=s[n],[S,R]=s[n+1],A=(C+S)/2,D=(w+R)/2,E=[o+2*(C-o)/3,r+2*(w-r)/3],F=[A+2*(C-A)/3,D+2*(w-D)/3];i.push([[o,r],E,F,[A,D]]),[o,r]=[A,D]}const[l,u]=s[n],[d,f]=s[n+1],p=[o+2*(l-o)/3,r+2*(u-r)/3],m=[d+2*(l-d)/3,f+2*(u-f)/3];return i.push([[o,r],p,m,[d,f]]),i},Kl=function(){if(this.isEmpty()){M(this,Re,qC).call(this);return}M(this,Re,Dx).call(this);const{canvas:s,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,s.width,s.height),M(this,Re,qC).call(this);for(const n of this.bezierPath2D)i.stroke(n)},Fx=function(){if(v(this,Hh))return;P(this,Hh,new AbortController);const s=this._uiManager.combinedSignal(v(this,Hh));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:s})},Px=function(){var s;(s=this.pointerdownAC)==null||s.abort(),this.pointerdownAC=null},Mx=function(s){var i;(i=v(this,$c))==null||i.abort(),P(this,$c,null),M(this,Re,Fx).call(this),v(this,ko)&&clearTimeout(v(this,ko)),P(this,ko,setTimeout(()=>{P(this,ko,null),this.canvas.removeEventListener("contextmenu",Pn)},10)),M(this,Re,IO).call(this,s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()},jC=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},$C=function(){P(this,Ir,new ResizeObserver(s=>{const i=s[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),v(this,Ir).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=v(this,Ir))==null||s.disconnect(),P(this,Ir,null)},{once:!0})},Dd=function(){if(!v(this,Kc))return;const[s,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*i),M(this,Re,qC).call(this)},Lx=function(s,i){const n=M(this,Re,KC).call(this),o=(s-n)/v(this,jc),r=(i-n)/v(this,Uc);this.scaleFactor=Math.min(o,r)},qC=function(){const s=M(this,Re,KC).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)},Zr=new WeakSet,HO=function(s){const i=new Path2D;for(let n=0,o=s.length;n<o;n++){const[r,l,u,d]=s[n];n===0&&i.moveTo(...r),i.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return i},kx=function(s,i,n){const[o,r,l,u]=i;switch(n){case 0:for(let d=0,f=s.length;d<f;d+=2)s[d]+=o,s[d+1]=u-s[d+1];break;case 90:for(let d=0,f=s.length;d<f;d+=2){const p=s[d];s[d]=s[d+1]+o,s[d+1]=p+r}break;case 180:for(let d=0,f=s.length;d<f;d+=2)s[d]=l-s[d],s[d+1]+=r;break;case 270:for(let d=0,f=s.length;d<f;d+=2){const p=s[d];s[d]=l-s[d+1],s[d+1]=u-p}break;default:throw new Error("Invalid rotation")}return s},GO=function(s,i,n){const[o,r,l,u]=i;switch(n){case 0:for(let d=0,f=s.length;d<f;d+=2)s[d]-=o,s[d+1]=u-s[d+1];break;case 90:for(let d=0,f=s.length;d<f;d+=2){const p=s[d];s[d]=s[d+1]-r,s[d+1]=p-o}break;case 180:for(let d=0,f=s.length;d<f;d+=2)s[d]=l-s[d],s[d+1]-=r;break;case 270:for(let d=0,f=s.length;d<f;d+=2){const p=s[d];s[d]=u-s[d+1],s[d+1]=l-p}break;default:throw new Error("Invalid rotation")}return s},BO=function(s,i,n,o){var f,p;const r=[],l=this.thickness/2,u=s*i+l,d=s*n+l;for(const m of this.paths){const C=[],w=[];for(let S=0,R=m.length;S<R;S++){const[A,D,E,F]=m[S];if(A[0]===F[0]&&A[1]===F[1]&&R===1){const Y=s*A[0]+u,re=s*A[1]+d;C.push(Y,re),w.push(Y,re);break}const L=s*A[0]+u,k=s*A[1]+d,H=s*D[0]+u,G=s*D[1]+d,W=s*E[0]+u,q=s*E[1]+d,K=s*F[0]+u,Z=s*F[1]+d;S===0&&(C.push(L,k),w.push(L,k)),C.push(H,G,W,q,K,Z),w.push(H,G),S===R-1&&w.push(K,Z)}r.push({bezier:M(f=Qt,Zr,kx).call(f,C,o,this.rotation),points:M(p=Qt,Zr,kx).call(p,w,o,this.rotation)})}return r},Ix=function(){let s=1/0,i=-1/0,n=1/0,o=-1/0;for(const r of this.paths)for(const[l,u,d,f]of r){const p=He.bezierBoundingBox(...l,...u,...d,...f);s=Math.min(s,p[0]),n=Math.min(n,p[1]),i=Math.max(i,p[2]),o=Math.max(o,p[3])}return[s,n,i,o]},KC=function(){return v(this,yn)?Math.ceil(this.thickness*this.parentScale):0},Mg=function(s=!1){if(this.isEmpty())return;if(!v(this,yn)){M(this,Re,Kl).call(this);return}const i=M(this,Re,Ix).call(this),n=M(this,Re,KC).call(this);P(this,jc,Math.max(Mt.MIN_SIZE,i[2]-i[0])),P(this,Uc,Math.max(Mt.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(n+v(this,jc)*this.scaleFactor),r=Math.ceil(n+v(this,Uc)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=o/l,this.height=r/u,this.setAspectRatio(o,r);const d=this.translationX,f=this.translationY;this.translationX=-i[0],this.translationY=-i[1],M(this,Re,Dd).call(this),M(this,Re,Kl).call(this),P(this,Yc,o),P(this,Xc,r),this.setDims(o,r);const p=s?n/this.scaleFactor/2:0;this.translate(d-this.translationX-p,f-this.translationY-p)},O(Qt,Zr),Je(Qt,"_defaultColor",null),Je(Qt,"_defaultOpacity",1),Je(Qt,"_defaultThickness",1),Je(Qt,"_type","ink"),Je(Qt,"_editorType",at.INK);let Ex=Qt;var Jt,Ws,rl,Or,al,Gh,Io,_r,Oo,Xi,Bh,mt,Lg,kg,YC,_x,VO,XC,Nx,QC,zO,WO;const qg=class qg extends Mt{constructor(s){super({...s,name:"stampEditor"});O(this,mt);O(this,Jt,null);O(this,Ws,null);O(this,rl,null);O(this,Or,null);O(this,al,null);O(this,Gh,"");O(this,Io,null);O(this,_r,null);O(this,Oo,null);O(this,Xi,!1);O(this,Bh,!1);P(this,Or,s.bitmapUrl),P(this,al,s.bitmapFile)}static initialize(s,i){Mt.initialize(s,i)}static get supportedTypes(){return vt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return vt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(s){return this.supportedTypes.includes(s)}static paste(s,i){i.pasteEditor(at.STAMP,{bitmapFile:s.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var s;return{type:"stamp",hasAltText:!!((s=this.altTextData)!=null&&s.altText)}}static computeTelemetryFinalData(s){const i=s.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(s=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:r,height:l}=s||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:o,width:r,height:l,channels:o.length/(r*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var s,i;v(this,Ws)&&(P(this,Jt,null),this._uiManager.imageManager.deleteId(v(this,Ws)),(s=v(this,Io))==null||s.remove(),P(this,Io,null),(i=v(this,_r))==null||i.disconnect(),P(this,_r,null),v(this,Oo)&&(clearTimeout(v(this,Oo)),P(this,Oo,null))),super.remove()}rebuild(){if(!this.parent){v(this,Ws)&&M(this,mt,YC).call(this);return}super.rebuild(),this.div!==null&&(v(this,Ws)&&v(this,Io)===null&&M(this,mt,YC).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(v(this,rl)||v(this,Jt)||v(this,Or)||v(this,al)||v(this,Ws))}get isResizable(){return!0}render(){if(this.div)return this.div;let s,i;if(this.width&&(s=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),v(this,Jt)?M(this,mt,_x).call(this):M(this,mt,YC).call(this),this.width&&!this.annotationElementId){const[n,o]=this.parentDimensions;this.setAt(s*n,i*o,this.width*n,this.height*o)}return this.div}copyCanvas(s,i,n=!1){var C;s||(s=224);const{width:o,height:r}=v(this,Jt),l=new MR;let u=v(this,Jt),d=o,f=r,p=null;if(i){if(o>i||r>i){const G=Math.min(i/o,i/r);d=Math.floor(o*G),f=Math.floor(r*G)}p=document.createElement("canvas");const w=p.width=Math.ceil(d*l.sx),S=p.height=Math.ceil(f*l.sy);v(this,Xi)||(u=M(this,mt,XC).call(this,w,S));const R=p.getContext("2d");R.filter=this._uiManager.hcmFilter;let A="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(C=window.matchMedia)!=null&&C.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",D="#42414d");const E=15,F=E*l.sx,L=E*l.sy,k=new OffscreenCanvas(F*2,L*2),H=k.getContext("2d");H.fillStyle=A,H.fillRect(0,0,F*2,L*2),H.fillStyle=D,H.fillRect(0,0,F,L),H.fillRect(F,L,F,L),R.fillStyle=R.createPattern(k,"repeat"),R.fillRect(0,0,w,S),R.drawImage(u,0,0,u.width,u.height,0,0,w,S)}let m=null;if(n){let w,S;if(l.symmetric&&u.width<s&&u.height<s)w=u.width,S=u.height;else if(u=v(this,Jt),o>s||r>s){const D=Math.min(s/o,s/r);w=Math.floor(o*D),S=Math.floor(r*D),v(this,Xi)||(u=M(this,mt,XC).call(this,w,S))}const A=new OffscreenCanvas(w,S).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,w,S),m={width:w,height:S,data:A.getImageData(0,0,w,S).data}}return{canvas:p,width:d,height:f,imageData:m}}getImageForAltText(){return v(this,Io)}static async deserialize(s,i,n){var S;let o=null;if(s instanceof JI){const{data:{rect:R,rotation:A,id:D,structParent:E,popupRef:F},container:L,parent:{page:{pageNumber:k}}}=s,H=L.querySelector("canvas"),G=n.imageManager.getFromCanvas(L.id,H);H.remove();const W=((S=await i._structTree.getAriaAttributes(`${tE}${D}`))==null?void 0:S.get("aria-label"))||"";o=s={annotationType:at.STAMP,bitmapId:G.id,bitmap:G.bitmap,pageIndex:k-1,rect:R.slice(0),rotation:A,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:E,popupRef:F}}const r=await super.deserialize(s,i,n),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:m}=s;f&&n.imageManager.isValidId(f)?(P(r,Ws,f),u&&P(r,Jt,u)):P(r,Or,d),P(r,Xi,p);const[C,w]=r.pageDimensions;return r.width=(l[2]-l[0])/C,r.height=(l[3]-l[1])/w,r.annotationElementId=s.id||null,m&&(r.altTextData=m),r._initialData=o,P(r,Bh,!!o),r}serialize(s=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:at.STAMP,bitmapId:v(this,Ws),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:v(this,Xi),structTreeParentId:this._structTreeParentId};if(s)return n.bitmapUrl=M(this,mt,QC).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:o,altText:r}=this.serializeAltText(!1);if(!o&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const u=M(this,mt,WO).call(this,n);if(u.isSame)return null;u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,i===null)return n;i.stamps||(i.stamps=new Map);const l=v(this,Xi)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!i.stamps.has(v(this,Ws)))i.stamps.set(v(this,Ws),{area:l,serialized:n}),n.bitmap=M(this,mt,QC).call(this,!1);else if(v(this,Xi)){const u=i.stamps.get(v(this,Ws));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=M(this,mt,QC).call(this,!1))}return n}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}};Jt=new WeakMap,Ws=new WeakMap,rl=new WeakMap,Or=new WeakMap,al=new WeakMap,Gh=new WeakMap,Io=new WeakMap,_r=new WeakMap,Oo=new WeakMap,Xi=new WeakMap,Bh=new WeakMap,mt=new WeakSet,Lg=function(s,i=!1){if(!s){this.remove();return}P(this,Jt,s.bitmap),i||(P(this,Ws,s.id),P(this,Xi,s.isSvg)),s.file&&P(this,Gh,s.file.name),M(this,mt,_x).call(this)},kg=function(){if(P(this,rl,null),this._uiManager.enableWaiting(!1),!!v(this,Io)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Jt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Jt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},YC=function(){if(v(this,Ws)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(v(this,Ws)).then(n=>M(this,mt,Lg).call(this,n,!0)).finally(()=>M(this,mt,kg).call(this));return}if(v(this,Or)){const n=v(this,Or);P(this,Or,null),this._uiManager.enableWaiting(!0),P(this,rl,this._uiManager.imageManager.getFromUrl(n).then(o=>M(this,mt,Lg).call(this,o)).finally(()=>M(this,mt,kg).call(this)));return}if(v(this,al)){const n=v(this,al);P(this,al,null),this._uiManager.enableWaiting(!0),P(this,rl,this._uiManager.imageManager.getFromFile(n).then(o=>M(this,mt,Lg).call(this,o)).finally(()=>M(this,mt,kg).call(this)));return}const s=document.createElement("input");s.type="file",s.accept=qg.supportedTypesStr;const i=this._uiManager._signal;P(this,rl,new Promise(n=>{s.addEventListener("change",async()=>{if(!s.files||s.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(s.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,mt,Lg).call(this,o)}n()},{signal:i}),s.addEventListener("cancel",()=>{this.remove(),n()},{signal:i})}).finally(()=>M(this,mt,kg).call(this))),s.click()},_x=function(){const{div:s}=this;let{width:i,height:n}=v(this,Jt);const[o,r]=this.pageDimensions,l=.75;if(this.width)i=this.width*o,n=this.height*r;else if(i>l*o||n>l*r){const p=Math.min(l*o/i,l*r/n);i*=p,n*=p}const[u,d]=this.parentDimensions;this.setDims(i*u/o,n*d/r),this._uiManager.enableWaiting(!1);const f=P(this,Io,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(s.hidden=!1),M(this,mt,Nx).call(this,i,n),M(this,mt,zO).call(this),v(this,Bh)||(this.parent.addUndoableEditor(this),P(this,Bh,!0)),this._reportTelemetry({action:"inserted_image"}),v(this,Gh)&&f.setAttribute("aria-label",v(this,Gh))},VO=function(s,i){var l;const[n,o]=this.parentDimensions;this.width=s/n,this.height=i/o,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,v(this,Oo)!==null&&clearTimeout(v(this,Oo)),P(this,Oo,setTimeout(()=>{P(this,Oo,null),M(this,mt,Nx).call(this,s,i)},200))},XC=function(s,i){const{width:n,height:o}=v(this,Jt);let r=n,l=o,u=v(this,Jt);for(;r>2*s||l>2*i;){const d=r,f=l;r>2*s&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(r,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,r,l),u=p.transferToImageBitmap()}return u},Nx=function(s,i){const n=new MR,o=Math.ceil(s*n.sx),r=Math.ceil(i*n.sy),l=v(this,Io);if(!l||l.width===o&&l.height===r)return;l.width=o,l.height=r;const u=v(this,Xi)?v(this,Jt):M(this,mt,XC).call(this,o,r),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,r)},QC=function(s){if(s){if(v(this,Xi)){const o=this._uiManager.imageManager.getSvgUrl(v(this,Ws));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=v(this,Jt),i.getContext("2d").drawImage(v(this,Jt),0,0),i.toDataURL()}if(v(this,Xi)){const[i,n]=this.pageDimensions,o=Math.round(this.width*i*ml.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*ml.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(o,r);return l.getContext("2d").drawImage(v(this,Jt),0,0,v(this,Jt).width,v(this,Jt).height,0,0,o,r),l.transferToImageBitmap()}return structuredClone(v(this,Jt))},zO=function(){this._uiManager._signal&&(P(this,_r,new ResizeObserver(s=>{const i=s[0].contentRect;i.width&&i.height&&M(this,mt,VO).call(this,i.width,i.height)})),v(this,_r).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=v(this,_r))==null||s.disconnect(),P(this,_r,null)},{once:!0}))},WO=function(s){var d;const{rect:i,pageIndex:n,accessibilityData:{altText:o}}=this._initialData,r=s.rect.every((f,p)=>Math.abs(f-i[p])<1),l=s.pageIndex===n,u=(((d=s.accessibilityData)==null?void 0:d.alt)||"")===o;return{isSame:r&&l&&u,isSameAltText:u}},Je(qg,"_type","stamp"),Je(qg,"_editorType",at.STAMP);let Ox=qg;var Qc,Vh,_o,ll,Nr,Qi,cl,zh,Wh,ii,Hr,Ve,ul,qs,UO,Gx,Bx,Vx,ZC;const Bn=class Bn{constructor({uiManager:t,pageIndex:s,div:i,structTreeLayer:n,accessibilityManager:o,annotationLayer:r,drawLayer:l,textLayer:u,viewport:d,l10n:f}){O(this,qs);O(this,Qc);O(this,Vh,!1);O(this,_o,null);O(this,ll,null);O(this,Nr,null);O(this,Qi,new Map);O(this,cl,!1);O(this,zh,!1);O(this,Wh,!1);O(this,ii,null);O(this,Hr,null);O(this,Ve);const p=[...v(Bn,ul).values()];if(!Bn._initialized){Bn._initialized=!0;for(const m of p)m.initialize(f,t)}t.registerEditorTypes(p),P(this,Ve,t),this.pageIndex=s,this.div=i,P(this,Qc,o),P(this,_o,r),this.viewport=d,P(this,ii,u),this.drawLayer=l,this._structTree=n,v(this,Ve).addLayer(this)}get isEmpty(){return v(this,Qi).size===0}get isInvisible(){return this.isEmpty&&v(this,Ve).getMode()===at.NONE}updateToolbar(t){v(this,Ve).updateToolbar(t)}updateMode(t=v(this,Ve).getMode()){switch(M(this,qs,ZC).call(this),t){case at.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case at.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case at.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const i of v(Bn,ul).values())s.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var s;return t===((s=v(this,ii))==null?void 0:s.div)}addInkEditorIfNeeded(t){if(v(this,Ve).getMode()!==at.INK)return;if(!t){for(const i of v(this,Qi).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){v(this,Ve).setEditingState(t)}addCommands(t){v(this,Ve).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var s;(s=v(this,_o))==null||s.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of v(this,Qi).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(v(this,Ve).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!v(this,_o))return;const s=v(this,_o).getEditableAnnotations();for(const i of s){if(i.hide(),v(this,Ve).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const n=await this.deserialize(i);n&&(this.addOrRebuild(n),n.enableEditing())}}disable(){var n;P(this,Wh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,s=new Map;for(const o of v(this,Qi).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);(n=this.getEditableAnnotation(o.annotationElementId))==null||n.show(),o.remove()}if(v(this,_o)){const o=v(this,_o).getEditableAnnotations();for(const r of o){const{id:l}=r.data;if(v(this,Ve).isDeletedAnnotationElement(l))continue;let u=s.get(l);if(u){u.resetAnnotationElement(r),u.show(!1),r.show();continue}u=t.get(l),u&&(v(this,Ve).addChangedExistingAnnotation(u),u.renderAnnotationElement(r)&&u.show(!1)),r.show()}}M(this,qs,ZC).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of v(Bn,ul).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,Wh,!1)}getEditableAnnotation(t){var s;return((s=v(this,_o))==null?void 0:s.getEditableAnnotation(t))||null}setActiveEditor(t){v(this,Ve).getActive()!==t&&v(this,Ve).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=v(this,ii))!=null&&t.div&&!v(this,Hr)){P(this,Hr,new AbortController);const s=v(this,Ve).combinedSignal(v(this,Hr));v(this,ii).div.addEventListener("pointerdown",M(this,qs,UO).bind(this),{signal:s}),v(this,ii).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=v(this,ii))!=null&&t.div&&v(this,Hr)&&(v(this,Hr).abort(),P(this,Hr,null),v(this,ii).div.classList.remove("highlighting"))}enableClick(){if(v(this,ll))return;P(this,ll,new AbortController);const t=v(this,Ve).combinedSignal(v(this,ll));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=v(this,ll))==null||t.abort(),P(this,ll,null)}attach(t){v(this,Qi).set(t.id,t);const{annotationElementId:s}=t;s&&v(this,Ve).isDeletedAnnotationElement(s)&&v(this,Ve).removeDeletedAnnotationElement(t)}detach(t){var s;v(this,Qi).delete(t.id),(s=v(this,Qc))==null||s.removePointerInTextLayer(t.contentDiv),!v(this,Wh)&&t.annotationElementId&&v(this,Ve).addDeletedAnnotationElement(t)}remove(t){this.detach(t),v(this,Ve).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,v(this,zh)||this.addInkEditorIfNeeded(!1)}changeParent(t){var s;t.parent!==this&&(t.parent&&t.annotationElementId&&(v(this,Ve).addDeletedAnnotationElement(t.annotationElementId),Mt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(s=t.parent)==null||s.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),v(this,Ve).addEditor(t),this.attach(t),!t.isAttachedToDOM){const s=t.render();this.div.append(s),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),v(this,Ve).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:s}=document;t.div.contains(s)&&!v(this,Nr)&&(t._focusEventsAllowed=!1,P(this,Nr,setTimeout(()=>{P(this,Nr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:v(this,Ve)._signal}),s.focus())},0))),t._structTreeParentId=(i=v(this,Qc))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const s=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:s,undo:i,mustExec:!1})}getNextId(){return v(this,Ve).getId()}combinedSignal(t){return v(this,Ve).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=v(this,qs,Gx))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,s){v(this,Ve).updateToolbar(t),v(this,Ve).updateMode(t);const{offsetX:i,offsetY:n}=M(this,qs,Vx).call(this),o=this.getNextId(),r=M(this,qs,Bx).call(this,{parent:this,id:o,x:i,y:n,uiManager:v(this,Ve),isCentered:!0,...s});r&&this.add(r)}async deserialize(t){var s;return await((s=v(Bn,ul).get(t.annotationType??t.annotationEditorType))==null?void 0:s.deserialize(t,this,v(this,Ve)))||null}createAndAddNewEditor(t,s,i={}){const n=this.getNextId(),o=M(this,qs,Bx).call(this,{parent:this,id:n,x:t.offsetX,y:t.offsetY,uiManager:v(this,Ve),isCentered:s,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(M(this,qs,Vx).call(this),!0)}setSelected(t){v(this,Ve).setSelected(t)}toggleSelected(t){v(this,Ve).toggleSelected(t)}unselect(t){v(this,Ve).unselect(t)}pointerup(t){const{isMac:s}=Ci.platform;if(!(t.button!==0||t.ctrlKey&&s)&&t.target===this.div&&v(this,cl)){if(P(this,cl,!1),!v(this,Vh)){P(this,Vh,!0);return}if(v(this,Ve).getMode()===at.STAMP){v(this,Ve).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(v(this,Ve).getMode()===at.HIGHLIGHT&&this.enableTextSelection(),v(this,cl)){P(this,cl,!1);return}const{isMac:s}=Ci.platform;if(t.button!==0||t.ctrlKey&&s||t.target!==this.div)return;P(this,cl,!0);const i=v(this,Ve).getActive();P(this,Vh,!i||i.isEmpty())}findNewParent(t,s,i){const n=v(this,Ve).findParent(s,i);return n===null||n===this?!1:(n.changeParent(t),!0)}destroy(){var t,s;((t=v(this,Ve).getActive())==null?void 0:t.parent)===this&&(v(this,Ve).commitOrRemove(),v(this,Ve).setActiveEditor(null)),v(this,Nr)&&(clearTimeout(v(this,Nr)),P(this,Nr,null));for(const i of v(this,Qi).values())(s=v(this,Qc))==null||s.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,v(this,Qi).clear(),v(this,Ve).removeLayer(this)}render({viewport:t}){this.viewport=t,lu(this.div,t);for(const s of v(this,Ve).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:t}){v(this,Ve).commitOrRemove(),M(this,qs,ZC).call(this);const s=this.viewport.rotation,i=t.rotation;if(this.viewport=t,lu(this.div,{rotation:i}),s!==i)for(const n of v(this,Qi).values())n.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:s}=this.viewport.rawDims;return[t,s]}get scale(){return v(this,Ve).viewParameters.realScale}};Qc=new WeakMap,Vh=new WeakMap,_o=new WeakMap,ll=new WeakMap,Nr=new WeakMap,Qi=new WeakMap,cl=new WeakMap,zh=new WeakMap,Wh=new WeakMap,ii=new WeakMap,Hr=new WeakMap,Ve=new WeakMap,ul=new WeakMap,qs=new WeakSet,UO=function(t){v(this,Ve).unselectAll();const{target:s}=t;if(s===v(this,ii).div||(s.getAttribute("role")==="img"||s.classList.contains("endOfContent"))&&v(this,ii).div.contains(s)){const{isMac:i}=Ci.platform;if(t.button!==0||t.ctrlKey&&i)return;v(this,Ve).showAllEditors("highlight",!0,!0),v(this,ii).div.classList.add("free"),this.toggleDrawing(),mb.startHighlighting(this,v(this,Ve).direction==="ltr",{target:v(this,ii).div,x:t.x,y:t.y}),v(this,ii).div.addEventListener("pointerup",()=>{v(this,ii).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:v(this,Ve)._signal}),t.preventDefault()}},Gx=function(){return v(Bn,ul).get(v(this,Ve).getMode())},Bx=function(t){const s=v(this,qs,Gx);return s?new s.prototype.constructor(t):null},Vx=function(){const{x:t,y:s,width:i,height:n}=this.div.getBoundingClientRect(),o=Math.max(0,t),r=Math.max(0,s),l=Math.min(window.innerWidth,t+i),u=Math.min(window.innerHeight,s+n),d=(o+l)/2-t,f=(r+u)/2-s,[p,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:m}},ZC=function(){P(this,zh,!0);for(const t of v(this,Qi).values())t.isEmpty()&&t.remove();P(this,zh,!1)},Je(Bn,"_initialized",!1),O(Bn,ul,new Map([vx,Ex,Ox,mb].map(t=>[t._editorType,t])));let Hx=Bn;var No,Sm,ps,Gr,Rm,Wx,vu,Ux,jO;const Bs=class Bs{constructor({pageIndex:t}){O(this,vu);O(this,No,null);O(this,Sm,0);O(this,ps,new Map);O(this,Gr,new Map);this.pageIndex=t}setParent(t){if(!v(this,No)){P(this,No,t);return}if(v(this,No)!==t){if(v(this,ps).size>0)for(const s of v(this,ps).values())s.remove(),t.append(s);P(this,No,t)}}static get _svgFactory(){return vt(this,"_svgFactory",new dE)}draw(t,s,i,n=!1){const o=di(this,Sm)._++,r=M(this,vu,Ux).call(this,t.box);r.classList.add(...t.classNamesForDrawing);const l=Bs._svgFactory.createElement("defs");r.append(l);const u=Bs._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",d),u.setAttribute("d",t.toSVGPath()),n&&v(this,Gr).set(o,u);const f=M(this,vu,jO).call(this,l,d),p=Bs._svgFactory.createElement("use");return r.append(p),r.setAttribute("fill",s),r.setAttribute("fill-opacity",i),p.setAttribute("href",`#${d}`),v(this,ps).set(o,r),{id:o,clipPathId:`url(#${f})`}}drawOutline(t){const s=di(this,Sm)._++,i=M(this,vu,Ux).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const n=Bs._svgFactory.createElement("defs");i.append(n);const o=Bs._svgFactory.createElement("path");n.append(o);const r=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",r),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t.mustRemoveSelfIntersections){const f=Bs._svgFactory.createElement("mask");n.append(f),l=`mask_p${this.pageIndex}_${s}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const p=Bs._svgFactory.createElement("rect");f.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=Bs._svgFactory.createElement("use");f.append(m),m.setAttribute("href",`#${r}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=Bs._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${r}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),v(this,ps).set(s,i),s}finalizeLine(t,s){const i=v(this,Gr).get(t);v(this,Gr).delete(t),this.updateBox(t,s.box),i.setAttribute("d",s.toSVGPath())}updateLine(t,s){v(this,ps).get(t).firstChild.firstChild.setAttribute("d",s.toSVGPath())}updatePath(t,s){v(this,Gr).get(t).setAttribute("d",s.toSVGPath())}updateBox(t,s){var i;M(i=Bs,Rm,Wx).call(i,v(this,ps).get(t),s)}show(t,s){v(this,ps).get(t).classList.toggle("hidden",!s)}rotate(t,s){v(this,ps).get(t).setAttribute("data-main-rotation",s)}changeColor(t,s){v(this,ps).get(t).setAttribute("fill",s)}changeOpacity(t,s){v(this,ps).get(t).setAttribute("fill-opacity",s)}addClass(t,s){v(this,ps).get(t).classList.add(s)}removeClass(t,s){v(this,ps).get(t).classList.remove(s)}getSVGRoot(t){return v(this,ps).get(t)}remove(t){v(this,Gr).delete(t),v(this,No)!==null&&(v(this,ps).get(t).remove(),v(this,ps).delete(t))}destroy(){P(this,No,null);for(const t of v(this,ps).values())t.remove();v(this,ps).clear(),v(this,Gr).clear()}};No=new WeakMap,Sm=new WeakMap,ps=new WeakMap,Gr=new WeakMap,Rm=new WeakSet,Wx=function(t,{x:s=0,y:i=0,width:n=1,height:o=1}={}){const{style:r}=t;r.top=`${100*i}%`,r.left=`${100*s}%`,r.width=`${100*n}%`,r.height=`${100*o}%`},vu=new WeakSet,Ux=function(t){var i;const s=Bs._svgFactory.create(1,1,!0);return v(this,No).append(s),s.setAttribute("aria-hidden",!0),M(i=Bs,Rm,Wx).call(i,s,t),s},jO=function(t,s){const i=Bs._svgFactory.createElement("clipPath");t.append(i);const n=`clip_${s}`;i.setAttribute("id",n),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Bs._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${s}`),o.classList.add("clip"),n},O(Bs,Rm);let zx=Bs;var D4=tt.AbortException,T4=tt.AnnotationEditorLayer,F4=tt.AnnotationEditorParamsType,P4=tt.AnnotationEditorType,M4=tt.AnnotationEditorUIManager,$O=tt.AnnotationLayer,qO=tt.AnnotationMode,L4=tt.ColorPicker,k4=tt.DOMSVGFactory,I4=tt.DrawLayer,O4=tt.FeatureTest,fE=tt.GlobalWorkerOptions,_4=tt.ImageKind,N4=tt.InvalidPDFException,H4=tt.MissingPDFException,G4=tt.OPS,B4=tt.OutputScale,V4=tt.PDFDataRangeTransport,z4=tt.PDFDateString,W4=tt.PDFWorker,U4=tt.PasswordResponses,j4=tt.PermissionFlag,$4=tt.PixelsPerInch,q4=tt.RenderingCancelledException,KO=tt.TextLayer,K4=tt.UnexpectedResponseException,Y4=tt.Util,X4=tt.VerbosityLevel,Q4=tt.XfaLayer,Z4=tt.build,J4=tt.createValidAbsoluteUrl,e6=tt.fetchData,YO=tt.getDocument,t6=tt.getFilenameFromUrl,s6=tt.getPdfFilenameFromUrl,i6=tt.getXfaPageViewport,n6=tt.isDataScheme,o6=tt.isPdfFile,r6=tt.noContextMenu,a6=tt.normalizeUnicode,l6=tt.setLayerDimensions,c6=tt.shadow,u6=tt.version;const d6=Object.freeze(Object.defineProperty({__proto__:null,AbortException:D4,AnnotationEditorLayer:T4,AnnotationEditorParamsType:F4,AnnotationEditorType:P4,AnnotationEditorUIManager:M4,AnnotationLayer:$O,AnnotationMode:qO,ColorPicker:L4,DOMSVGFactory:k4,DrawLayer:I4,FeatureTest:O4,GlobalWorkerOptions:fE,ImageKind:_4,InvalidPDFException:N4,MissingPDFException:H4,OPS:G4,OutputScale:B4,PDFDataRangeTransport:V4,PDFDateString:z4,PDFWorker:W4,PasswordResponses:U4,PermissionFlag:j4,PixelsPerInch:$4,RenderingCancelledException:q4,TextLayer:KO,UnexpectedResponseException:K4,Util:Y4,VerbosityLevel:X4,XfaLayer:Q4,build:Z4,createValidAbsoluteUrl:J4,fetchData:e6,getDocument:YO,getFilenameFromUrl:t6,getPdfFilenameFromUrl:s6,getXfaPageViewport:i6,isDataScheme:n6,isPdfFile:o6,noContextMenu:r6,normalizeUnicode:a6,setLayerDimensions:l6,shadow:c6,version:u6},Symbol.toStringTag,{value:"Module"}));var Ps=function(e,t,s){if(s||arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},h6=["onCopy","onCut","onPaste"],f6=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],g6=["onFocus","onBlur"],p6=["onInput","onInvalid","onReset","onSubmit"],m6=["onLoad","onError"],v6=["onKeyDown","onKeyPress","onKeyUp"],C6=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],b6=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],w6=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],y6=["onSelect"],S6=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],R6=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],x6=["onScroll"],A6=["onWheel"],E6=["onAnimationStart","onAnimationEnd","onAnimationIteration"],D6=["onTransitionEnd"],T6=["onToggle"],F6=["onChange"],P6=Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps(Ps([],h6,!0),f6,!0),g6,!0),p6,!0),m6,!0),v6,!0),C6,!0),b6,!0),w6,!0),y6,!0),S6,!0),R6,!0),x6,!0),A6,!0),E6,!0),D6,!0),F6,!0),T6,!0);function XO(e,t){var s={};return P6.forEach(function(i){var n=e[i];n&&(t?s[i]=function(o){return n(o,t(i))}:s[i]=n)}),s}function _m(e){var t=!1,s=new Promise(function(i,n){e.then(function(o){return!t&&i(o)}).catch(function(o){return!t&&n(o)})});return{promise:s,cancel:function(){t=!0}}}var M6="Invariant failed";function Gt(e,t){if(!e)throw new Error(M6)}var V0,jM;function L6(){if(jM)return V0;jM=1;var e=function(){};return V0=e,V0}var k6=L6();const oi=RA(k6);var $M=Object.prototype.hasOwnProperty;function qM(e,t,s){for(s of e.keys())if(Nd(s,t))return s}function Nd(e,t){var s,i,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((i=e.length)===t.length)for(;i--&&Nd(e[i],t[i]););return i===-1}if(s===Set){if(e.size!==t.size)return!1;for(i of e)if(n=i,n&&typeof n=="object"&&(n=qM(t,n),!n)||!t.has(n))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(i of e)if(n=i[0],n&&typeof n=="object"&&(n=qM(t,n),!n)||!Nd(i[1],t.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}if(!s||typeof e=="object"){i=0;for(s in e)if($M.call(e,s)&&++i&&!$M.call(t,s)||!(s in t)||!Nd(e[s],t[s]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}const QO=x.createContext(null);function Hd({children:e,type:t}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}const I6="noopener noreferrer nofollow";class O6{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Gt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Gt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(s=>{Gt(this.pdfDocument),Gt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(s):Array.isArray(t)?s(t):t.then(s)}).then(s=>{Gt(Array.isArray(s));const i=s[0];new Promise(n=>{Gt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{n(o)}).catch(()=>{Gt(!1)}):typeof i=="number"?n(i):Gt(!1)}).then(n=>{const o=n+1;Gt(this.pdfViewer),Gt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:n,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const s=t-1;Gt(this.pdfViewer),Gt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:t})}addLinkAttributes(t,s,i){t.href=s,t.rel=this.externalLinkRel||I6,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const KM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ww=typeof window<"u",ZO=Ww&&window.location.protocol==="file:";function _6(e){return typeof e<"u"}function Ul(e){return _6(e)&&e!==null}function N6(e){return typeof e=="string"}function H6(e){return e instanceof ArrayBuffer}function G6(e){return Gt(Ww),e instanceof Blob}function jx(e){return N6(e)&&/^data:/.test(e)}function YM(e){Gt(jx(e));const[t="",s=""]=e.split(",");return t.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function B6(){return Ww&&window.devicePixelRatio||1}const JO="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function XM(){oi(!ZO,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${JO}`)}function V6(){oi(!ZO,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${JO}`)}function du(e){e!=null&&e.cancel&&e.cancel()}function $x(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function z6(e){return e.name==="RenderingCancelledException"}function W6(e){return new Promise((t,s)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return s(new Error("Error while reading a file."));t(i.result)},i.onerror=n=>{if(!n.target)return s(new Error("Error while reading a file."));const{error:o}=n.target;if(!o)return s(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)})}function U6(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function $h(){return x.useReducer(U6,{value:void 0,error:void 0})}var j6=function(e,t,s,i){function n(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function l(f){try{d(i.next(f))}catch(p){r(p)}}function u(f){try{d(i.throw(f))}catch(p){r(p)}}function d(f){f.done?o(f.value):n(f.value).then(l,u)}d((i=i.apply(e,t||[])).next())})},QM=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const{PDFDataRangeTransport:$6}=d6,q6=(e,t)=>{switch(t){case KM.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case KM.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}};function ZM(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const K6=x.forwardRef(function(t,s){var{children:i,className:n,error:o="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:l,file:u,inputRef:d,imageResourcesPath:f,loading:p="Loading PDF",noData:m="No PDF file specified.",onItemClick:C,onLoadError:w,onLoadProgress:S,onLoadSuccess:R,onPassword:A=q6,onSourceError:D,onSourceSuccess:E,options:F,renderMode:L,rotate:k}=t,H=QM(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[G,W]=$h(),{value:q,error:K}=G,[Z,Y]=$h(),{value:re,error:ne}=Z,B=x.useRef(new O6),z=x.useRef([]),U=x.useRef(void 0),ue=x.useRef(void 0);u&&u!==U.current&&ZM(u)&&(oi(!Nd(u,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=u),F&&F!==ue.current&&(oi(!Nd(F,ue.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ue.current=F);const _=x.useRef({scrollPageIntoView:Me=>{const{dest:Ne,pageNumber:$e,pageIndex:nt=$e-1}=Me;if(C){C({dest:Ne,pageIndex:nt,pageNumber:$e});return}const he=z.current[nt];if(he){he.scrollIntoView();return}oi(!1,`An internal link leading to page ${$e} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});x.useImperativeHandle(s,()=>({linkService:B,pages:z,viewer:_}),[]);function $(){E&&E()}function X(){K&&(oi(!1,K.toString()),D&&D(K))}function J(){W({type:"RESET"})}x.useEffect(J,[u,W]);const le=x.useCallback(()=>j6(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return jx(u)?{data:YM(u)}:(XM(),{url:u});if(u instanceof $6)return{range:u};if(H6(u))return{data:u};if(Ww&&G6(u))return{data:yield W6(u)};if(Gt(typeof u=="object"),Gt(ZM(u)),"url"in u&&typeof u.url=="string"){if(jx(u.url)){const{url:Me}=u,Ne=QM(u,["url"]),$e=YM(Me);return Object.assign({data:$e},Ne)}XM()}return u}),[u]);x.useEffect(()=>{const Me=_m(le());return Me.promise.then(Ne=>{W({type:"RESOLVE",value:Ne})}).catch(Ne=>{W({type:"REJECT",error:Ne})}),()=>{du(Me)}},[le,W]),x.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){X();return}$()}},[q]);function ge(){re&&(R&&R(re),z.current=new Array(re.numPages),B.current.setDocument(re))}function me(){ne&&(oi(!1,ne.toString()),w&&w(ne))}x.useEffect(function(){Y({type:"RESET"})},[Y,q]),x.useEffect(function(){if(!q)return;const Ne=F?Object.assign(Object.assign({},q),F):q,$e=YO(Ne);S&&($e.onProgress=S),A&&($e.onPassword=A);const nt=$e,he=nt.promise.then(we=>{Y({type:"RESOLVE",value:we})}).catch(we=>{nt.destroyed||Y({type:"REJECT",error:we})});return()=>{he.finally(()=>nt.destroy())}},[F,Y,q]),x.useEffect(()=>{if(!(typeof re>"u")){if(re===!1){me();return}ge()}},[re]),x.useEffect(function(){B.current.setViewer(_.current),B.current.setExternalLinkRel(r),B.current.setExternalLinkTarget(l)},[r,l]);const Ae=x.useCallback((Me,Ne)=>{z.current[Me]=Ne},[]),Ie=x.useCallback(Me=>{delete z.current[Me]},[]),it=x.useMemo(()=>({imageResourcesPath:f,linkService:B.current,onItemClick:C,pdf:re,registerPage:Ae,renderMode:L,rotate:k,unregisterPage:Ie}),[f,C,re,Ae,L,k,Ie]),De=x.useMemo(()=>XO(H,()=>re),[H,re]);function Nt(){return N.jsx(QO.Provider,{value:it,children:i})}function Bt(){return u?re==null?N.jsx(Hd,{type:"loading",children:typeof p=="function"?p():p}):re===!1?N.jsx(Hd,{type:"error",children:typeof o=="function"?o():o}):Nt():N.jsx(Hd,{type:"no-data",children:typeof m=="function"?m():m})}return N.jsx("div",Object.assign({className:_s("react-pdf__Document",n),ref:d,style:{"--scale-factor":"1"}},De,{children:Bt()}))});function e_(){return x.useContext(QO)}function t_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e.filter(Boolean);if(s.length<=1){var i=s[0];return i||null}return function(o){s.forEach(function(r){typeof r=="function"?r(o):r&&(r.current=o)})}}const s_=x.createContext(null),i_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Y6=/^H(\d+)$/;function X6(e){return e in i_}function Uw(e){return"children"in e}function n_(e){return Uw(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function Q6(e){const t={};if(Uw(e)){const{role:s}=e,i=s.match(Y6);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(X6(s)){const n=i_[s];n&&(t.role=n)}}return t}function o_(e){const t={};if(Uw(e)){if(e.alt!==void 0&&(t["aria-label"]=e.alt),e.lang!==void 0&&(t.lang=e.lang),n_(e)){const[s]=e.children;if(s){const i=o_(s);return Object.assign(Object.assign({},t),i)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Z6(e){return e?Object.assign(Object.assign({},Q6(e)),o_(e)):null}function r_({className:e,node:t}){const s=x.useMemo(()=>Z6(t),[t]),i=x.useMemo(()=>!Uw(t)||n_(t)?null:t.children.map((n,o)=>N.jsx(r_,{node:n},o)),[t]);return N.jsx("span",Object.assign({className:e},s,{children:i}))}function jw(){return x.useContext(s_)}function J6(){const e=jw();Gt(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:s}=e,[i,n]=$h(),{value:o,error:r}=i,{customTextRenderer:l,page:u}=e;function d(){o&&s&&s(o)}function f(){r&&(oi(!1,r.toString()),t&&t(r))}return x.useEffect(function(){n({type:"RESET"})},[n,u]),x.useEffect(function(){if(l||!u)return;const m=_m(u.getStructTree()),C=m;return m.promise.then(w=>{n({type:"RESOLVE",value:w})}).catch(w=>{n({type:"REJECT",error:w})}),()=>du(C)},[l,u,n]),x.useEffect(()=>{if(o!==void 0){if(o===!1){f();return}d()}},[o]),o?N.jsx(r_,{className:"react-pdf__Page__structTree structTree",node:o}):null}const JM=qO;function ej(e){const t=jw();Gt(t);const s=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:n,devicePixelRatio:o=B6(),onRenderError:r,onRenderSuccess:l,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:m}=s,{canvasRef:C}=e;Gt(u);const w=x.useRef(null);function S(){u&&l&&l($x(u,m))}function R(F){z6(F)||(oi(!1,F.toString()),r&&r(F))}const A=x.useMemo(()=>u.getViewport({scale:m*o,rotation:p}),[o,u,p,m]),D=x.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);x.useEffect(function(){if(!u)return;u.cleanup();const{current:L}=w;if(!L)return;L.width=A.width,L.height=A.height,L.style.width=`${Math.floor(D.width)}px`,L.style.height=`${Math.floor(D.height)}px`,L.style.visibility="hidden";const k={annotationMode:d?JM.ENABLE_FORMS:JM.ENABLE,canvasContext:L.getContext("2d",{alpha:!1}),viewport:A};n&&(k.background=n);const H=u.render(k),G=H;return H.promise.then(()=>{L.style.visibility="",S()}).catch(R),()=>du(G)},[n,u,d,A,D]);const E=x.useCallback(()=>{const{current:F}=w;F&&(F.width=0,F.height=0)},[]);return x.useEffect(()=>E,[E]),N.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:t_(C,w),style:{display:"block",userSelect:"none"},children:f?N.jsx(J6,{}):null})}function tj(e){return"str"in e}function sj(){const e=jw();Gt(e);const{customTextRenderer:t,onGetTextError:s,onGetTextSuccess:i,onRenderTextLayerError:n,onRenderTextLayerSuccess:o,page:r,pageIndex:l,pageNumber:u,rotate:d,scale:f}=e;Gt(r);const[p,m]=$h(),{value:C,error:w}=p,S=x.useRef(null);oi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function R(){C&&i&&i(C)}function A(){w&&(oi(!1,w.toString()),s&&s(w))}x.useEffect(function(){m({type:"RESET"})},[r,m]),x.useEffect(function(){if(!r)return;const G=_m(r.getTextContent()),W=G;return G.promise.then(q=>{m({type:"RESOLVE",value:q})}).catch(q=>{m({type:"REJECT",error:q})}),()=>du(W)},[r,m]),x.useEffect(()=>{if(C!==void 0){if(C===!1){A();return}R()}},[C]);const D=x.useCallback(()=>{o&&o()},[o]),E=x.useCallback(H=>{oi(!1,H.toString()),n&&n(H)},[n]);function F(){const H=S.current;H&&H.classList.add("selecting")}function L(){const H=S.current;H&&H.classList.remove("selecting")}const k=x.useMemo(()=>r.getViewport({scale:f,rotation:d}),[r,d,f]);return x.useLayoutEffect(function(){if(!r||!C)return;const{current:G}=S;if(!G)return;G.innerHTML="";const W=r.streamTextContent({includeMarkedContent:!0}),q={container:G,textContentSource:W,viewport:k},K=new KO(q),Z=K;return K.render().then(()=>{const Y=document.createElement("div");Y.className="endOfContent",G.append(Y);const re=G.querySelectorAll('[role="presentation"]');if(t){let ne=0;C.items.forEach((B,z)=>{if(!tj(B))return;const U=re[ne];if(!U)return;const ue=t(Object.assign({pageIndex:l,pageNumber:u,itemIndex:z},B));U.innerHTML=ue,ne+=B.str&&B.hasEOL?2:1})}D()}).catch(E),()=>du(Z)},[t,E,D,r,l,u,C,k]),N.jsx("div",{className:_s("react-pdf__Page__textContent","textLayer"),onMouseUp:L,onMouseDown:F,ref:S})}function ij(){const e=e_(),t=jw();Gt(t);const s=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:n,onGetAnnotationsError:o,onGetAnnotationsSuccess:r,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:p,rotate:m,scale:C=1}=s;Gt(f),Gt(d),Gt(n);const[w,S]=$h(),{value:R,error:A}=w,D=x.useRef(null);oi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){R&&r&&r(R)}function F(){A&&(oi(!1,A.toString()),o&&o(A))}x.useEffect(function(){S({type:"RESET"})},[S,d]),x.useEffect(function(){if(!d)return;const W=_m(d.getAnnotations()),q=W;return W.promise.then(K=>{S({type:"RESOLVE",value:K})}).catch(K=>{S({type:"REJECT",error:K})}),()=>{du(q)}},[S,d]),x.useEffect(()=>{if(R!==void 0){if(R===!1){F();return}E()}},[R]);function L(){u&&u()}function k(G){oi(!1,`${G}`),l&&l(G)}const H=x.useMemo(()=>d.getViewport({scale:C,rotation:m}),[d,m,C]);return x.useEffect(function(){if(!f||!d||!n||!R)return;const{current:W}=D;if(!W)return;const q=H.clone({dontFlip:!0}),K={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:d,structTreeLayer:null,viewport:q},Z={annotations:R,annotationStorage:f.annotationStorage,div:W,imageResourcesPath:i,linkService:n,page:d,renderForms:p,viewport:q};W.innerHTML="";try{new $O(K).render(Z),L()}catch(Y){k(Y)}return()=>{}},[R,i,n,d,f,p,H]),N.jsx("div",{className:_s("react-pdf__Page__annotations","annotationLayer"),ref:D})}var nj=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const e1=1;function oj(e){const t=e_(),s=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:n=!0,canvasBackground:o,canvasRef:r,children:l,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:m="Failed to load the page.",height:C,inputRef:w,loading:S="Loading page",noData:R="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:D,onGetStructTreeError:E,onGetStructTreeSuccess:F,onGetTextError:L,onGetTextSuccess:k,onLoadError:H,onLoadSuccess:G,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:q,onRenderError:K,onRenderSuccess:Z,onRenderTextLayerError:Y,onRenderTextLayerSuccess:re,pageIndex:ne,pageNumber:B,pdf:z,registerPage:U,renderAnnotationLayer:ue=!0,renderForms:_=!1,renderMode:$="canvas",renderTextLayer:X=!0,rotate:J,scale:le=e1,unregisterPage:ge,width:me}=s,Ae=nj(s,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ie,it]=$h(),{value:De,error:Nt}=Ie,Bt=x.useRef(null);Gt(z);const Me=Ul(B)?B-1:ne??null,Ne=B??(Ul(ne)?ne+1:null),$e=J??(De?De.rotate:null),nt=x.useMemo(()=>{if(!De)return null;let Le=1;const Pe=le??e1;if(me||C){const Oe=De.getViewport({scale:1,rotation:$e});me?Le=me/Oe.width:C&&(Le=C/Oe.height)}return Pe*Le},[C,De,$e,le,me]);x.useEffect(function(){return()=>{Ul(Me)&&n&&ge&&ge(Me)}},[n,z,Me,ge]);function he(){if(G){if(!De||!nt)return;G($x(De,nt))}if(n&&U){if(!Ul(Me)||!Bt.current)return;U(Me,Bt.current)}}function we(){Nt&&(oi(!1,Nt.toString()),H&&H(Nt))}x.useEffect(function(){it({type:"RESET"})},[it,z,Me]),x.useEffect(function(){if(!z||!Ne)return;const Pe=_m(z.getPage(Ne)),Oe=Pe;return Pe.promise.then(Et=>{it({type:"RESOLVE",value:Et})}).catch(Et=>{it({type:"REJECT",error:Et})}),()=>du(Oe)},[it,z,Ne]),x.useEffect(()=>{if(De!==void 0){if(De===!1){we();return}he()}},[De,nt]);const Fe=x.useMemo(()=>De&&Ul(Me)&&Ne&&Ul($e)&&Ul(nt)?{_className:i,canvasBackground:o,customTextRenderer:f,devicePixelRatio:p,onGetAnnotationsError:A,onGetAnnotationsSuccess:D,onGetStructTreeError:E,onGetStructTreeSuccess:F,onGetTextError:L,onGetTextSuccess:k,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:q,onRenderError:K,onRenderSuccess:Z,onRenderTextLayerError:Y,onRenderTextLayerSuccess:re,page:De,pageIndex:Me,pageNumber:Ne,renderForms:_,renderTextLayer:X,rotate:$e,scale:nt}:null,[i,o,f,p,A,D,E,F,L,k,W,q,K,Z,Y,re,De,Me,Ne,_,X,$e,nt]),Be=x.useMemo(()=>XO(Ae,()=>De&&(nt?$x(De,nt):void 0)),[Ae,De,nt]),Ze=`${Me}@${nt}/${$e}`;function Xe(){switch($){case"custom":return Gt(d),N.jsx(d,{},`${Ze}_custom`);case"none":return null;case"canvas":default:return N.jsx(ej,{canvasRef:r},`${Ze}_canvas`)}}function ot(){return X?N.jsx(sj,{},`${Ze}_text`):null}function ce(){return ue?N.jsx(ij,{},`${Ze}_annotations`):null}function Ee(){return N.jsxs(s_.Provider,{value:Fe,children:[Xe(),ot(),ce(),l]})}function qe(){return Ne?z===null||De===void 0||De===null?N.jsx(Hd,{type:"loading",children:typeof S=="function"?S():S}):z===!1||De===!1?N.jsx(Hd,{type:"error",children:typeof m=="function"?m():m}):Ee():N.jsx(Hd,{type:"no-data",children:typeof R=="function"?R():R})}return N.jsx("div",Object.assign({className:_s(i,u),"data-page-number":Ne,ref:t_(w,Bt),style:{"--scale-factor":`${nt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Be,{children:qe()}))}V6();fE.workerSrc="pdf.worker.mjs";const rj=({template:e,data:t,rowIndex:s,templateOffset:i})=>{if(i!==-1)return i;const n=e,o=t[s];console.log("Current Row:",o);const r=Object.keys(o).find(d=>o[d]!==void 0&&d!=="apply-template"&&o[d].some(f=>f==null?void 0:f.index));if(console.log("Template Basis Key: ",r),r===void 0)return;const l=o[r];return!(l!=null&&l.length)&&i===-1?void 0:(console.log("Template Basis: ",l),i===-1?l[0].index-n[r][0].index:i)},aj=({template:e,data:t,rowIndex:s,currentTextObjects:i,templateRowIndex:n,templateOffset:o})=>{const r=rj({template:e,data:t,rowIndex:s,templateOffset:o}),l=e,u=[...t],d=u[s]??{};if(console.log("Current Row:",d),console.log(r),r===void 0)return;const f=r*(s-n);console.log("Offset: ",f);const p=d;return Object.keys(l).forEach(m=>{if(p[m]!==void 0)return;const C=[],w=l[m];if(w){console.log(m,w);for(const S of w){if($w(S)||S.manual){C.push(S);continue}const R=S.index+f;C.push(i.find(A=>A.index===R))}p[m]=C}}),console.log(p),u.splice(s,1,p),{data:u,offsetUsed:r}},a_=e=>{let t=0,s=[];if(!e)return[];for(;t<e.length;){const i=e[t];if(!i){t+=1;continue}if($w(i)&&t<e.length-1){const n=s.pop()??Number(e[t-1].str),o=i.apply(n,Number(e[t+1].str));s.push(o)}else if(i.manual)s.push(i.str);else if(isNaN(Number(i.str))){if(typeof i.str=="string"){const n=s.pop();s.push(n?n+" "+i.str:i.str)}}t+=1}return s},l_={rowIndex:0,colId:""},c_=x.createContext({activeCell:l_,setActiveCell:()=>{},templateRow:0,setTemplateRow:()=>{}}),JC="Manual Entry Mode",qx="Template Mode",$w=e=>Object.values(u_).some(t=>t===e),u_={ADD:{symbol:"+",apply:(e,t)=>e+t},SUBTRACT:{symbol:"-",apply:(e,t)=>e-t},MULTIPLY:{symbol:"x",apply:(e,t)=>e*t},DIVIDE:{symbol:"/",apply:(e,t)=>e/t}};var hu=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,s){const i=t?this.allAsyncListeners:this.allSyncListeners;let n=i.get(e);return!n&&s&&(n=new Set,i.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,s=!1){this.getListeners(e,s,!0).add(t)}removeEventListener(e,t,s=!1){const i=this.getListeners(e,s,!1);i&&(i.delete(t),i.size===0&&(s?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const s=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const i=(l,u)=>l.forEach(d=>{if(!u.has(d))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(f):f()}),n=this.getListeners(s,t,!1)??new Set,o=new Set(n);o.size>0&&i(o,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(s,e)):()=>l(s,e);t?this.dispatchAsync(u):u()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function lj(e,t){return t}function d_(e){return(e==null?void 0:e.getLocaleTextFunc())??lj}function sa(e,t,s){s==null||typeof s=="string"&&s==""?h_(e,t):lo(e,t,s)}function lo(e,t,s){e.setAttribute(f_(t),s.toString())}function h_(e,t){e.removeAttribute(f_(t))}function f_(e){return`aria-${e}`}function Cl(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function cj(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function uj(e){return e.getAttribute("aria-label")}function qw(e,t){sa(e,"label",t)}function Kx(e,t){sa(e,"labelledby",t)}function g_(e,t){sa(e,"live",t)}function dj(e,t){sa(e,"atomic",t)}function hj(e,t){sa(e,"relevant",t)}function fj(e,t){sa(e,"disabled",t)}function p_(e,t){sa(e,"hidden",t)}function Yx(e,t){lo(e,"expanded",t)}function gj(e,t){lo(e,"setsize",t)}function pj(e,t){lo(e,"posinset",t)}function mj(e,t){lo(e,"rowcount",t)}function m_(e,t){lo(e,"rowindex",t)}function vj(e,t){lo(e,"rowspan",t)}function Cj(e,t){lo(e,"colcount",t)}function v_(e,t){lo(e,"colindex",t)}function bj(e,t){lo(e,"colspan",t)}function wj(e,t){lo(e,"sort",t)}function yj(e){h_(e,"sort")}function Xx(e,t){sa(e,"selected",t)}function Sj(e,t){sa(e,"controls",t.id),Kx(t,e.id)}function gE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var z0,W0,U0,j0,Qx,Zx,$0;function Ru(){return z0===void 0&&(z0=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),z0}function C_(){return W0===void 0&&(W0=/(firefox)/i.test(navigator.userAgent)),W0}function b_(){return U0===void 0&&(U0=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),U0}function eu(){return j0===void 0&&(j0=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),j0}function Jx(e){if(!e)return null;const t=e.tabIndex,s=e.getAttribute("tabIndex");return t===-1&&(s===null||s===""&&!C_())?null:t.toString()}function Rj(){if($0!==void 0)return $0;if(!document.body)return-1;let e=1e6;const t=C_()?6e6:1e9,s=document.createElement("div");for(document.body.appendChild(s);;){const i=e*2;if(s.style.height=i+"px",i>t||s.clientHeight!==i)break;e=i}return document.body.removeChild(s),$0=e,e}function xj(){return Zx==null&&w_(),Zx}function w_(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;s===0&&t.clientWidth===0&&(s=null),t.parentNode&&t.parentNode.removeChild(t),s!=null&&(Zx=s,Qx=s===0)}function y_(){return Qx==null&&w_(),Qx}var Aj="[tabindex], input, select, button, textarea, [href]",S_="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function pE(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),n=t.call(e,S_),o=Uo(e);return i&&!n&&o}function ss(e,t,s={}){const{skipAriaHidden:i}=s;e.classList.toggle("ag-hidden",!t),i||p_(e,!t)}function Ej(e,t,s={}){const{skipAriaHidden:i}=s;e.classList.toggle("ag-invisible",!t),i||p_(e,!t)}function Jg(e,t){const s="disabled",i=t?o=>o.setAttribute(s,""):o=>o.removeAttribute(s);i(e);const n=e.querySelectorAll("input")??[];for(const o of n)i(o)}function tu(e,t,s){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof s=="number"){if(++i>s)break}else if(e===s)break}return!1}function xu(e){const{height:t,width:s,borderTopWidth:i,borderRightWidth:n,borderBottomWidth:o,borderLeftWidth:r,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:f,marginTop:p,marginRight:m,marginBottom:C,marginLeft:w,boxSizing:S}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(s||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(w||"0"),boxSizing:S}}function mE(e){const t=xu(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function ep(e){const t=xu(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function R_(e){const{height:t,marginBottom:s,marginTop:i}=xu(e);return Math.floor(t+s+i)}function vb(e){const{width:t,marginLeft:s,marginRight:i}=xu(e);return Math.floor(t+s+i)}function x_(e){const t=e.getBoundingClientRect(),{borderTopWidth:s,borderLeftWidth:i,borderRightWidth:n,borderBottomWidth:o}=xu(e);return{top:t.top+(s||0),left:t.left+(i||0),right:t.right+(n||0),bottom:t.bottom+(o||0)}}function Cb(e,t){let s=e.scrollLeft;return t&&(s=Math.abs(s)),s}function bb(e,t,s){s&&(t*=-1),e.scrollLeft=t}function on(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Kr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function A_(e){return!!e.offsetParent}function Uo(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!A_(e)||window.getComputedStyle(e).visibility!=="visible")}function Kw(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Dj(e){return e.clientWidth<e.scrollWidth}function Tj(e){return e.clientHeight<e.scrollHeight}function wb(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):zo(e,t)}function zo(e,t){t=vE(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Hg(e,t){t=vE(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function vE(e){return typeof e=="number"?`${e}px`:e}function CE(e){return e instanceof Node||e instanceof HTMLElement}function Dn(e,t,s){s==null||s===""?e.removeAttribute(t):e.setAttribute(t,s.toString())}function ia(e,t,s){const n=O_(e).ResizeObserver,o=n?new n(s):null;return o==null||o.observe(t),()=>o==null?void 0:o.disconnect()}function na(e,t){const s=O_(e);s.requestAnimationFrame?s.requestAnimationFrame(t):s.webkitRequestAnimationFrame?s.webkitRequestAnimationFrame(t):s.setTimeout(t,0)}var E_="data-ref",q0;function t1(){return q0??(q0=document.createTextNode(" ")),q0.cloneNode()}function ai(e){const{attrs:t,children:s,cls:i,ref:n,role:o,tag:r}=e,l=document.createElement(r);if(i&&(l.className=i),n&&l.setAttribute(E_,n),o&&l.setAttribute("role",o),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(s)if(typeof s=="string")l.textContent=s;else{let u=!0;for(const d of s)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):(u&&(l.appendChild(t1()),u=!1),l.append(ai(d)),l.appendChild(t1())))}return l}function zr(e){return e==null||e===""?null:e}function ye(e){return e!=null&&e!==""}function jt(e){return!ye(e)}function eA(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function tp(e,t){const s=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return s===i}function Fj(e,t,s=!1){const i=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function o(r,l){return r>l?1:r<l?-1:0}if(typeof e!="string"||!s)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var D_="https://www.ag-grid.com",s1={};function T_(e,t){s1[t]||(e(),s1[t]=!0)}function fu(e,t,...s){e.get("debug")&&console.log("AG Grid: "+t,...s)}function Gg(e,...t){T_(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Gd(e,...t){T_(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var Pj={pending:!1,funcs:[]},Mj={pending:!1,funcs:[]};function tA(e,t="setTimeout",s){const i=t==="raf"?Mj:Pj;if(i.funcs.push(e),i.pending)return;i.pending=!0;const n=()=>{const o=i.funcs.slice();i.funcs.length=0,i.pending=!1,o.forEach(r=>r())};t==="raf"?na(s,n):window.setTimeout(n,0)}function js(e,t,s){let i;return function(...n){const o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,n)},s)}}function i1(e,t){let s=0;return function(...i){const n=this,o=Date.now();o-s<t||(s=o,e.apply(n,i))}}function Lj(e,t,s=100,i){const n=Date.now();let o=null,r=!1;const l=()=>{const u=Date.now()-n>s;(e()||u)&&(t(),r=!0,o!=null&&(window.clearInterval(o),o=null))};l(),r||(o=window.setInterval(l,10))}var Se="33.2.4",n1=2e3,o1=100,F_="_version_",eb=null,su=`${D_}/javascript-data-grid`;function kj(e){eb=e}function Ij(e){su=e}function P_(e,t,s){return(eb==null?void 0:eb.getConsoleMessage(e,t))??[Hj(e,t,s)]}function bE(e,t,s,i){e(`error #${t}`,...P_(t,s,i))}function Oj(e){if(!e)return String(e);const t={};for(const s of Object.keys(e))typeof e[s]!="object"&&typeof e[s]!="function"&&(t[s]=e[s]);return JSON.stringify(t)}function _j(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Oj(e)),t}function yb(e){return e===void 0?"undefined":e===null?"null":e}function sA(e,t){return`${e}?${t.toString()}`}function Nj(e,t,s){const i=Array.from(t.entries()).sort((o,r)=>r[1].length-o[1].length);let n=sA(e,t);for(const[o,r]of i){if(o===F_)continue;const l=n.length-s;if(l<=0)break;const u="...",d=l+u.length,f=r.length-d>o1?r.slice(0,r.length-d)+u:r.slice(0,o1)+u;t.set(o,f),n=sA(e,t)}return n}function M_(e,t){const s=new URLSearchParams;if(s.append(F_,Se),t)for(const o of Object.keys(t))s.append(o,_j(t[o]));const i=`${su}/errors/${e}`,n=sA(i,s);return n.length<=n1?n:Nj(i,s,n1)}var Hj=(e,t,s)=>{const i=M_(e,t);return`${s?s+` 
`:""}Visit ${i}${s?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function be(...e){bE(Gg,e[0],e[1])}function xt(...e){bE(Gd,e[0],e[1])}function iA(e,t,s){bE(Gd,e,t,s)}function Gj(e,t){const s=t[0];return`error #${s} `+P_(s,t[1],e).join(" ")}function gl(...e){return Gj(void 0,e)}function L_(e,t){return e.get("rowModelType")===t}function ni(e,t){return L_(e,"clientSide")}function Au(e,t){return L_(e,"serverSide")}function $s(e,t){return e.get("domLayout")===t}function iu(e){return Rb(e)!==void 0}function k_(e){return typeof e.get("getRowHeight")=="function"}function Bj(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function qh(e,t,s=!1,i){const{gos:n,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),k_(n)){if(s)return{height:i,estimated:!0};const u={node:t,data:t.data},d=n.getCallback("getRowHeight")(u);if(nA(d))return d===0&&be(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&n.get("masterDetail"))return Vj(n);const r=n.get("rowHeight");return{height:r&&nA(r)?r:i,estimated:!1}}function Vj(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return nA(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function nu(e){const{environment:t,gos:s}=e,i=s.get("rowHeight");if(!i||jt(i))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(be(24),t.getDefaultRowHeight())}function nA(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function I_(e,t,s){const i=t[e.getDomDataKey()];return i?i[s]:void 0}function gu(e,t,s,i){const n=e.getDomDataKey();let o=t[n];jt(o)&&(o={},t[n]=o),o[s]=i}function us(e){const{gos:t,eGridDiv:s}=e;let i=null;const n=t.get("getDocument");return n&&ye(n)?i=n():s&&(i=s.ownerDocument),i&&ye(i)?i:document}function O_(e){return us(e).defaultView||window}function sp(e){return e.eGridDiv.getRootNode()}function Yt(e){return sp(e).activeElement}function wE(e){let t=null,s=null;try{t=us(e).fullscreenElement}catch{}finally{t||(t=sp(e));const i=t.querySelector("body");i?s=i:t instanceof ShadowRoot?s=t:t instanceof Document?s=t==null?void 0:t.documentElement:s=t}return s}function zj(e){const t=wE(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function Wj(e){const t=wE(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function Uj(e,t,s){const n=e.getBoundingClientRect().height,o=zj(s)-2,r=Wj(s)-2;if(!e.offsetParent)return;const u=x_(e.offsetParent),{clientY:d,clientX:f}=t;let p=d-u.top-n/2,m=f-u.left-10;const C=us(s),w=C.defaultView||window,S=w.pageYOffset||C.documentElement.scrollTop,R=w.pageXOffset||C.documentElement.scrollLeft;o>0&&m+e.clientWidth>o+R&&(m=o+R-e.clientWidth),m<0&&(m=0),r>0&&p+e.clientHeight>r+S&&(p=r+S-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}function __(e){const t=us(e),s=Yt(e);return s===null||s===t.body}function Bd(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function N_(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||$s(e,"print"))}function Go(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function oA(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function jj(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function yE(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Kh(e){const t=e.getCallback("getRowId");return t===void 0?t:s=>{let i=t(s);return typeof i!="string"&&(be(25,{id:i}),i=String(i)),i}}function $j(e,t){const s=e.get("groupHideParentOfSingleChild");return!!(s===!0||s==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function qj(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Vd(e){return(e==null?void 0:e.checkboxes)??!0}function tb(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function Sb(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function K0(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function Kj(e){return typeof e.get("rowSelection")!="string"}function bl(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function H_(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const s=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return s&&i?!1:s?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Yj(e){const t=H_(e);return t===!0||t==="enableSelection"}function Xj(e){const t=H_(e);return t===!0||t==="enableDeselection"}function rA(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Rb(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function xb(e){return Rb(e)==="multiRow"}function Qj(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Ab(e){const t=e.get("rowSelection");if(typeof t=="string"){const s=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return s&&i?"filteredDescendants":s?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function G_(e,t=!0){const s=e.get("rowSelection");return typeof s!="object"?t?"all":void 0:s.mode==="multiRow"?s.selectAll:"all"}function ip(e){const t=Ab(e);return t==="descendants"||t==="filteredDescendants"}function r1(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Y0(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function en(e){return e.get("columnMenu")==="legacy"}function Zj(e){return!en(e)}function B_(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Jj(e,t,s){typeof e!="object"&&(e={});const i={...e};return s.forEach(n=>{const o=t[n];typeof o<"u"&&(i[n]=o)}),i}function e$(e,t){if(!e)return;const s={};let i=!1;if(Object.keys(e).forEach(r=>{s[r]=e[r],i=!0}),!i)return;const n={type:"gridOptionsChanged",options:s};t.dispatchEvent(n);const o={type:"componentStateChanged",...s};t.dispatchEvent(o)}function ze(e,t){return e.addGridCommonParams(t)}function t$(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var V_="__ag_Grid_Stop_Propagation",s$=["touchstart","touchend","touchmove","touchcancel","scroll"],i$=["wheel"],X0={};function Yh(e){e[V_]=!0}function Wr(e){return e[V_]===!0}var z_=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return s=>{if(typeof X0[s]=="boolean")return X0[s];const i=document.createElement(e[s]||"div");return s="on"+s,X0[s]=s in i}})();function W_(e,t,s){let i=t;for(;i;){const n=I_(e,i,s);if(n)return n;i=i.parentElement}return null}function n$(e,t){return!t||!e?!1:r$(t).indexOf(e)>=0}function o$(e){const t=[];let s=e.target;for(;s;)t.push(s),s=s.parentElement;return t}function r$(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():o$(t)}function a$(e,t,s,i){const n=U_(s);let o;n!=null&&(o={passive:n}),e&&e.addEventListener&&e.addEventListener(t,s,i,o)}var U_=e=>{const t=s$.includes(e),s=i$.includes(e);if(t)return!0;if(s)return!1},ae=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,s){this.localEventService||(this.localEventService=new hu),this.localEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,s)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const s=[];for(const i of Object.keys(t)){const n=t[i];n&&s.push(this._setupListener(e,i,n))}return s}_setupListener(e,t,s){if(this.destroyed)return()=>null;let i;return l$(e)?(e.__addEventListener(t,s),i=()=>(e.__removeEventListener(t,s),null)):(e instanceof HTMLElement?a$(this.beans.frameworkOverrides,e,t,s):e.addEventListener(t,s),i=()=>(e.removeEventListener(t,s),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}setupGridOptionListener(e,t){const{gos:s}=this;s.addPropertyEventListener(e,t);const i=()=>(s.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const s=e.join("-")+this.propertyListenerId++,i=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[s])return;this.lastChangeSetIdLookup[s]=n.changeSet.id}const o={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(o)};e.forEach(n=>this.setupGridOptionListener(n,i))}getLocaleTextFunc(){return d_(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const s=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),s}createBean(e,t,s){return(t||this.stubContext).createBean(e,s)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function l$(e){return e.__addEventListener!==void 0}var j_=new Set(["__proto__","constructor","prototype"]);function c$(e,t){if(e!=null){if(Array.isArray(e)){for(let s=0;s<e.length;s++)t(s.toString(),e[s]);return}for(const s of Object.keys(e))t(s,e[s])}}function bi(e,t,s=!0,i=!1){ye(t)&&c$(t,(n,o)=>{if(j_.has(n))return;let r=e[n];r!==o&&(i&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[n]=r),a1(o)&&a1(r)&&!Array.isArray(r)?bi(r,o,s,i):(s||o!==void 0)&&(e[n]=o))})}function Bg(e,t,s){if(!t||!e)return;if(!s)return e[t];const i=t.split(".");let n=e;for(let o=0;o<i.length;o++){if(n==null)return;n=n[i[o]]}return n}function a1(e){return typeof e=="object"&&e!==null}var u$=/[&<>"']/g,d$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ur(e,t){if(e==null)return null;const s=e.toString().toString();return t?s:s.replace(u$,i=>d$[i])}var h$={resizable:!0,sortable:!0},f$=0;function $_(){return f$++}function wl(e){return e instanceof SE}var SE=class extends ae{constructor(e,t,s,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=s,this.primary=i,this.isColumn=!0,this.instanceId=$_(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new hu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Ur(s)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:s,colFlex:i}}=this;t==null||t.initCol(this);const n=e.hide;n!==void 0?this.visible=!n:this.visible=!e.initialHide,s==null||s.initCol(this),i==null||i.initCol(this)}setColDef(e,t,s){var n;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((n=this.beans.rowSpanSvc)==null||n.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",s)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:s}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ye(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ye(s)&&s.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const s=e.width,i=e.initialWidth;return s!=null?t=s:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,n,o;this.frameworkEventListenerService=(n=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:n.call(i,this.frameworkEventListenerService,this.colEventSvc);const s=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.colEventSvc.addEventListener(e,s)}removeEventListener(e,t){var i;const s=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.colEventSvc.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return ze(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??h$[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const s=this.createColumnFunctionCallbackParams(e);return t(s)}return!1}createColumnEvent(e,t){return ze(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return jt(this.sort)}isSorting(){return ye(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return be(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const s=e===!0;this.visible!==s&&(this.visible=s,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let s=!0;for(;e;){if(!e.isPadding()){s=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:s}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return ze(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(jt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.colSpan(t);return Math.max(s,1)}getRowSpan(e){if(jt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.rowSpan(t);return Math.max(s,1)}setActualWidth(e,t,s=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),s||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,s){const i=this.createColumnEvent(e,t);s&&bi(i,s),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function pi(e){return e instanceof sb}var sb=class extends ae{constructor(e,t,s,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=s,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=$_(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{wl(t)?e.push(t):pi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,s=!1;const i=this.findChildrenRemovingPadding();for(let o=0,r=i.length;o<r;o++){const l=i[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,s=!0):u==="closed"?(t=!0,s=!0):(e=!0,t=!0)}const n=e&&t&&s;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=s=>{s.forEach(i=>{pi(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},g$={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},p$=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=eA(e);let s=0;for(;;){let i=e??t;if(i?s!==0&&(i+="_"+s):i=s,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);s++}}},l1=Object.freeze([]);function Rt(e){if(e!=null&&e.length)return e[e.length-1]}function Eu(e,t,s){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,n)=>s?s(i,t[n]):t[n]===i)}function dC(e,t){if(e)for(const s of e)t(s)}function no(e,t){const s=e.indexOf(t);s>=0&&e.splice(s,1)}function c1(e,t,s){for(let i=0;i<t.length;i++)no(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(s,0,t[i])}var Yw="ag-Grid-AutoColumn",q_="ag-Grid-SelectionColumn",m$="ag-Grid-RowNumbersColumn";function K_(e){const t=[],s=i=>{for(let n=0;n<i.length;n++){const o=i[n];wl(o)?t.push(o):pi(o)&&s(o.getChildren())}};return s(e),t}function pr(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}function Eb(e,t,s){const i={};if(!t)return;jr(null,t,o=>{i[o.getInstanceId()]=o}),s&&jr(null,s,o=>{i[o.getInstanceId()]=null});const n=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(n)}function RE(e){return e.getId().startsWith(Yw)}function Yr(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(q_))??!1}function Xh(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(m$))??!1}function Db(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function v$(e,t){return Eu(e,t,(s,i)=>s.getColId()===i.getColId())}function C$(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function zd(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Y_(e,t){const s=e===t,i=e.getColDef()===t,n=e.getColId()==t;return s||i||n}var b$=(e,t)=>(s,i)=>{const n={value1:void 0,value2:void 0};let o=!1;return e&&(e[s]!==void 0&&(n.value1=e[s],o=!0),ye(i)&&e[i]!==void 0&&(n.value2=e[i],o=!0)),!o&&t&&(t[s]!==void 0&&(n.value1=t[s]),ye(i)&&t[i]!==void 0&&(n.value2=t[i])),n};function w$(e,t=null,s,i,n){const o=new p$,{existingCols:r,existingGroups:l,existingColKeys:u}=y$(i);o.addExistingKeys(u);const d=X_(e,t,0,s,r,o,l,n),{colGroupSvc:f}=e,p=(f==null?void 0:f.findMaxDepth(d,0))??0,m=f?f.balanceColumnTree(d,0,p,o):d;return jr(null,m,(w,S)=>{pi(w)&&w.setupExpandable(),w.originalParent=S}),{columnTree:m,treeDept:p}}function y$(e){const t=[],s=[],i=[];return e&&jr(null,e,n=>{if(pi(n)){const o=n;s.push(o)}else{const o=n;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:s,existingColKeys:i}}function X_(e,t,s,i,n,o,r,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const p=t[f];u&&D$(p)?d[f]=u.createProvidedColumnGroup(i,p,s,n,o,r,l):d[f]=S$(e,i,p,n,o,l)}return d}function S$(e,t,s,i,n,o){var u;const r=x$(s,i);r&&(i==null||i.splice(r.idx,1));let l=r==null?void 0:r.column;if(l){const d=aA(e,s,l.getColId());l.setColDef(d,s,o),R$(e,l,d,o)}else{const d=n.getUniqueKey(s.colId,s.field),f=aA(e,s,d);l=new SE(f,s,d,t),e.context.createBean(l)}return(u=e.dataTypeSvc)==null||u.addColumnListeners(l),l}function Q_(e,t,s,i,n,o,r,l){const{sortSvc:u,pinnedCols:d,colFlex:f}=e;s!==void 0&&t.setVisible(!s,l),u&&(u.updateColSort(t,i,l),n!==void 0&&u.setColSortIndex(t,n)),o!==void 0&&(d==null||d.setColPinned(t,o)),r!==void 0&&(f==null||f.setColFlex(t,r))}function R$(e,t,s,i){Q_(e,t,s.hide,s.sort,s.sortIndex,s.pinned,s.flex,i);const n=t.getFlex();if(!(n!=null&&n>0))if(s.width!=null)t.setActualWidth(s.width,i);else{const o=t.getActualWidth();t.setActualWidth(o,i)}}function x$(e,t){if(t)for(let s=0;s<t.length;s++){const i=t[s].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[s].getId()===e.colId)return{idx:s,column:t[s]};continue}if(e.field!=null){if(i.field===e.field)return{idx:s,column:t[s]};continue}if(i===e)return{idx:s,column:t[s]}}}function aA(e,t,s,i){const{gos:n,dataTypeSvc:o,validation:r}=e,l={},u=n.get("defaultColDef");bi(l,u,!1,!0);const d=A$(e,l,t,s);d&&E$(e,d,l),bi(l,t,!1,!0);const f=n.get("autoGroupColumnDef"),p=Go(n);return t.rowGroup&&f&&p&&bi(l,{sort:f.sort,initialSort:f.initialSort},!1,!0),o==null||o.validateColDef(l),r==null||r.validateColDef(l,s,i),l}function A$(e,t,s,i){var r;const n=(r=e.dataTypeSvc)==null?void 0:r.updateColDefAndGetColumnType(t,s,i),o=s.type??n??t.type;return t.type=o,o?Db(o):void 0}function E$(e,t,s){if(!t.length)return;const i=Object.assign({},g$),n=e.gos.get("columnTypes")||{};for(const o of Object.keys(n)){const r=n[o];o in i?be(34,{key:o}):(r.type&&be(35),i[o]=r)}t.forEach(o=>{const r=i[o.trim()];r?bi(s,r,!1,!0):be(36,{t:o})})}function D$(e){return e.children!==void 0}function jr(e,t,s){if(t)for(let i=0;i<t.length;i++){const n=t[i];pi(n)&&jr(n,n.getChildren(),s),s(n,e)}}function Z_(e,t){const s=[],i=[],n=[];return e.forEach(r=>{const l=r.getColDef().lockPosition;l==="right"?n.push(r):l==="left"||l===!0?s.push(r):i.push(r)}),t.get("enableRtl")?[...n,...i,...s]:[...s,...i,...n]}function J_(e,t){let s=!0;return jr(null,t,i=>{if(!pi(i))return;const n=i,o=n.getColGroupDef();if(!(o&&o.marryChildren))return;const l=[];n.getLeafColumns().forEach(m=>{const C=e.indexOf(m);l.push(C)});const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=u-d,p=n.getLeafColumns().length-1;f>p&&(s=!1)}),s}function eN(e,t){if(!e||e.length==0)return;const s=t(e[0]);for(let i=1;i<e.length;i++)if(s!==t(e[i]))return;return s}function tN(e,t,s){if(!t.length)return;const i=t.length===1?t[0]:null,n=eN(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:i,source:s})}function T$(e,t,s){if(!t.length)return;const i=t.length===1?t[0]:null,n=eN(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:i,source:s})}function F$(e,t,s,i){e.dispatchEvent({type:t,columns:s,column:s&&s.length==1?s[0]:null,source:i})}function Qh(e,t,s,i,n=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:s,source:i})}function sn(e,t,s){var F;const{colModel:i,rowGroupColsSvc:n,pivotColsSvc:o,autoColSvc:r,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:f,environment:p,valueColsSvc:m,eventSvc:C,gos:w}=e,S=i.getColDefCols()||[];if(!(S!=null&&S.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return be(32),!1;const R=(L,k,H,G,W)=>{if(!L)return;const q=b$(k,t.defaultState),K=q("flex").value1;if(Q_(e,L,q("hide").value1,q("sort").value1,q("sortIndex").value1,q("pinned").value1,K,s),K==null){const Z=q("width").value1;if(Z!=null){const Y=L.getColDef().minWidth??p.getDefaultColumnMinWidth();Y!=null&&Z>=Y&&L.setActualWidth(Z,s)}}W||!L.isPrimary()||(m==null||m.syncColumnWithState(L,s,q),n==null||n.syncColumnWithState(L,s,q,H),o==null||o.syncColumnWithState(L,s,q,G))},A=(L,k,H)=>{var _,$;const G=sN(e,s),W=k.slice(),q={},K={},Z=[],Y=[],re=[];let ne=0;const B=(n==null?void 0:n.columns.slice())??[],z=(o==null?void 0:o.columns.slice())??[];L.forEach(X=>{const J=X.colId;if(J.startsWith(Yw)){Z.push(X),re.push(X);return}if(Yr(J)){Y.push(X),re.push(X);return}const ge=H(J);ge?(R(ge,X,q,K,!1),no(W,ge)):(re.push(X),ne+=1)});const U=X=>R(X,null,q,K,!1);W.forEach(U),n==null||n.sortColumns(u1.bind(n,q,B)),o==null||o.sortColumns(u1.bind(o,K,z)),i.refreshCols(!1);const ue=(X,J,le=[])=>{J.forEach(ge=>{const me=X(ge.colId);no(le,me),R(me,ge,null,null,!0)}),le.forEach(U)};return ue(X=>(r==null?void 0:r.getColumn(X))??null,Z,(_=r==null?void 0:r.getColumns())==null?void 0:_.slice()),ue(X=>(l==null?void 0:l.getColumn(X))??null,Y,($=l==null?void 0:l.getColumns())==null?void 0:$.slice()),M$(t,i,w),d.refresh(s),C.dispatchEvent({type:"columnEverythingChanged",source:s}),G(),{unmatchedAndAutoStates:re,unmatchedCount:ne}};u==null||u.start();let{unmatchedAndAutoStates:D,unmatchedCount:E}=A(t.state||[],S,L=>i.getColDefCol(L));if(D.length>0||ye(t.defaultState)){const L=((F=f==null?void 0:f.getPivotResultCols())==null?void 0:F.list)??[];E=A(D,L,k=>(f==null?void 0:f.getPivotResultCol(k))??null).unmatchedCount}return u==null||u.finish(),E===0}function P$(e,t){var R,A;const{colModel:s,autoColSvc:i,selectionColSvc:n}=e,o=s.getColDefCols();if(!(o!=null&&o.length))return;const r=s.getColDefColTree(),l=K_(r),u=[];let d=1e3,f=1e3;const p=D=>{const E=iN(D);jt(E.rowGroupIndex)&&E.rowGroup&&(E.rowGroupIndex=d++),jt(E.pivotIndex)&&E.pivot&&(E.pivotIndex=f++),u.push(E)};(R=i==null?void 0:i.getColumns())==null||R.forEach(p),(A=n==null?void 0:n.getColumns())==null||A.forEach(p),l==null||l.forEach(p),sn(e,{state:u},t);const m=(i==null?void 0:i.getColumns())??[],S=[...(n==null?void 0:n.getColumns())??[],...m,...o].map(D=>({colId:D.colId}));sn(e,{state:S,applyOrder:!0},t)}function sN(e,t){const{rowGroupColsSvc:s,pivotColsSvc:i,valueColsSvc:n,colModel:o,sortSvc:r,eventSvc:l}=e,u={rowGroupColumns:(s==null?void 0:s.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(n==null?void 0:n.columns.slice())??[]},d=np(e),f={};return d.forEach(p=>{f[p.colId]=p}),()=>{const p=(k,H,G,W)=>{const q=H.map(W),K=G.map(W);if(Eu(q,K))return;const Y=new Set(H);G.forEach(ne=>{Y.delete(ne)||Y.add(ne)});const re=[...Y];l.dispatchEvent({type:k,columns:re,column:re.length===1?re[0]:null,source:t})},m=k=>{const H=[];return o.forAllCols(G=>{const W=f[G.getColId()];W&&k(W,G)&&H.push(G)}),H},C=k=>k.getColId();p("columnRowGroupChanged",u.rowGroupColumns,(s==null?void 0:s.columns)??[],C),p("columnPivotChanged",u.pivotColumns,(i==null?void 0:i.columns)??[],C);const S=m((k,H)=>{const G=k.aggFunc!=null,W=G!=H.isValueActive(),q=G&&k.aggFunc!=H.getAggFunc();return W||q});S.length>0&&F$(l,"columnValueChanged",S,t),Qh(l,m((k,H)=>k.width!=H.getActualWidth()),!0,t),tN(l,m((k,H)=>k.pinned!=H.getPinned()),t),T$(l,m((k,H)=>k.hide==H.isVisible()),t);const F=m((k,H)=>k.sort!=H.getSort()||k.sortIndex!=H.getSortIndex());F.length>0&&(r==null||r.dispatchSortChangedEvents(t,F));const L=np(e);k$(d,L,t,o,l)}}function np(e){const{colModel:t,rowGroupColsSvc:s,pivotColsSvc:i}=e,n=t.getColDefCols();if(jt(n)||!t.isAlive())return[];const o=s==null?void 0:s.columns,r=i==null?void 0:i.columns,l=[],u=f=>{const p=f.isRowGroupActive()&&o?o.indexOf(f):null,m=f.isPivotActive()&&r?r.indexOf(f):null,C=f.isValueActive()?f.getAggFunc():null,w=f.getSort()!=null?f.getSort():null,S=f.getSortIndex()!=null?f.getSortIndex():null;l.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:w,sortIndex:S,aggFunc:C,rowGroup:f.isRowGroupActive(),rowGroupIndex:p,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>u(f));const d=new Map(t.getCols().map((f,p)=>[f.getColId(),p]));return l.sort((f,p)=>{const m=d.has(f.colId)?d.get(f.colId):-1,C=d.has(p.colId)?d.get(p.colId):-1;return m-C}),l}function iN(e){const t=(w,S)=>w??S??null,s=e.getColDef(),i=t(s.sort,s.initialSort),n=t(s.sortIndex,s.initialSortIndex),o=t(s.hide,s.initialHide),r=t(s.pinned,s.initialPinned),l=t(s.width,s.initialWidth),u=t(s.flex,s.initialFlex);let d=t(s.rowGroupIndex,s.initialRowGroupIndex),f=t(s.rowGroup,s.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);let p=t(s.pivotIndex,s.initialPivotIndex),m=t(s.pivot,s.initialPivot);p==null&&(m==null||m==!1)&&(p=null,m=null);const C=t(s.aggFunc,s.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:n,hide:o,pinned:r,width:l,flex:u,rowGroup:f,rowGroupIndex:d,pivot:m,pivotIndex:p,aggFunc:C}}function M$(e,t,s){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(n=>{n.colId!=null&&i.push(n.colId)}),L$(t.cols,i,t,s)}function L$(e,t,s,i){if(e==null)return;let n=[];const o={};t.forEach(l=>{if(o[l])return;const u=e.map[l];u&&(n.push(u),o[l]=!0)});let r=0;if(e.list.forEach(l=>{const u=l.getColId();if(o[u]!=null)return;u.startsWith(Yw)?n.splice(r++,0,l):n.push(l)}),n=Z_(n,i),!J_(n,s.getColTree())){be(39);return}e.list=n}function k$(e,t,s,i,n){const o={};t.forEach(f=>o[f.colId]=f);const r={};e.forEach(f=>{o[f.colId]&&(r[f.colId]=!0)});const l=e.filter(f=>r[f.colId]),u=t.filter(f=>r[f.colId]),d=[];u.forEach((f,p)=>{const m=l&&l[p];if(m&&m.colId!==f.colId){const C=i.getCol(m.colId);C&&d.push(C)}}),d.length&&n.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:s})}var u1=(e,t,s,i)=>{const n=e[s.getId()],o=e[i.getId()],r=n!=null,l=o!=null;if(r&&l)return n-o;if(r)return-1;if(l)return 1;const u=t.indexOf(s),d=t.indexOf(i),f=u>=0,p=d>=0;return f&&p?u-d:f?-1:1},I$=class extends ae{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(zd(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),zd(e.source)))}createColsFromColDefs(e){var D,E,F;const{beans:t}=this,{valueCache:s,colAutosize:i,rowGroupColsSvc:n,pivotColsSvc:o,valueColsSvc:r,visibleCols:l,colViewport:u,eventSvc:d}=t,f=this.colDefs?sN(t,e):void 0;s==null||s.expire();const p=(D=this.colDefCols)==null?void 0:D.list,m=(E=this.colDefCols)==null?void 0:E.tree,C=w$(t,this.colDefs,!0,m,e);Eb(t,(F=this.colDefCols)==null?void 0:F.tree,C.columnTree);const w=C.columnTree,S=C.treeDept,R=K_(w),A={};R.forEach(L=>A[L.getId()]=L),this.colDefCols={tree:w,treeDepth:S,list:R,map:A},n==null||n.extractCols(e,p),o==null||o.extractCols(e,p),r==null||r.extractCols(e,p),this.ready=!0,this.refreshCols(!0),l.refresh(e),u.checkViewportColumns(),d.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var S;if(!this.colDefCols)return;const t=(S=this.cols)==null?void 0:S.tree;this.saveColOrder();const{autoColSvc:s,selectionColSvc:i,rowNumbersSvc:n,quickFilter:o,pivotResultCols:r,showRowGroupCols:l,rowAutoHeight:u,visibleCols:d,colViewport:f,eventSvc:p}=this.beans,m=this.selectCols(r,this.colDefCols);this.createColumnsForService([s,i,n],m);const C=Bj(this.gos,this.showingPivotResult);(!e||C)&&this.restoreColOrder(m),this.positionLockedCols(m),l==null||l.refresh(),o==null||o.refreshCols(),this.setColSpanActive(),u==null||u.setAutoHeightActive(m),d.clear(),f.clear(),!Eu(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const s of e)s&&(s.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),s.addColumns(t))}selectCols(e,t){const s=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=s!=null;const{map:i,list:n,tree:o,treeDepth:r}=s??t;return this.cols={list:n.slice(),map:{...i},tree:o.slice(),treeDepth:r},s&&(s.list.some(u=>{var d;return((d=this.cols)==null?void 0:d.map[u.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(n=>{const o=RE(n);if(e){const r=t==null?void 0:t.includes(n);return o||r}else return o||n.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,s){sn(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},s)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const s=new Map(t.map((d,f)=>[d,f]));if(!e.list.some(d=>s.has(d)))return;const n=new Map(e.list.map(d=>[d,!0])),o=t.filter(d=>n.has(d)),r=new Map(o.map(d=>[d,!0])),l=e.list.filter(d=>!r.has(d)),u=o.slice();l.forEach(d=>{let f=d.getOriginalParent();if(!f){u.push(d);return}const p=[];for(;!p.length&&f;)f.getLeafColumns().forEach(S=>{const R=u.indexOf(S)>=0,A=p.indexOf(S)<0;R&&A&&p.push(S)}),f=f.getOriginalParent();if(!p.length){u.push(d);return}const m=p.map(w=>u.indexOf(w)),C=Math.max(...m);u.splice(C+1,0,d)}),e.list=u}positionLockedCols(e){e.list=Z_(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:s,eventSvc:i}=this.beans;s.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var s;if(!this.cols)return;(s=this.beans.autoColSvc)==null||s.updateColumns(e);const t=zd(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;Eb(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var n,o,r,l;const{pivotResultCols:t,autoColSvc:s,selectionColSvc:i}=this.beans;dC((n=this.colDefCols)==null?void 0:n.list,e),dC((o=s==null?void 0:s.columns)==null?void 0:o.list,e),dC((r=i==null?void 0:i.columns)==null?void 0:r.list,e),dC((l=t==null?void 0:t.getPivotResultCols())==null?void 0:l.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var n,o;if(t==null)return null;const{map:s,list:i}=t;if(typeof e=="string"&&s[e])return s[e];for(let r=0;r<i.length;r++)if(Y_(i[r],e))return i[r];return((n=this.beans.autoColSvc)==null?void 0:n.getColumn(e))??((o=this.beans.selectionColSvc)==null?void 0:o.getColumn(e))??null}},nN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let s;return typeof t!="number"?s=0:s=t+1,this.existingIds[e]=s,s}},rf=class extends ae{};function Nm(e,t,s){return s&&e.addDestroyFunc(()=>t.destroyBean(s)),s??e}var Hm=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},O$=0,_e=null,$t=class extends ae{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=O$++,this.cssClassManager=new Hm(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(s=>[s.selector,s])),e&&this.setTemplate(e)}preConstruct(){var t,s,i;this.wireTemplate(this.getGui());const e="component-"+((s=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:s.name);(i=this.css)==null||i.forEach(n=>this.beans.environment.addGlobalCSS(n,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(E_):null}applyElementsToComponent(e,t,s,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const n=this[t];if(n===_e)this[t]=i??e;else{const o=s&&s[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){const s=[];for(const i of e.childNodes??[])s.push(i);s.forEach(i=>{if(!(i instanceof HTMLElement))return;const n=this.createComponentFromElement(i,o=>{const r=o.getGui();if(r)for(const l of i.attributes??[])r.setAttribute(l.name,l.value)},t);if(n){if(n.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const o=Array.prototype.slice.call(i.children);n.addItems(o)}this.swapComponentForNode(n,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,s){const i=e.nodeName,n=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,r=o?this.componentSelectors.get(i):null;let l=null;if(r){const u=s&&n?s[n]:void 0;l=new r.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,n,s,l),l}swapComponentForNode(e,t,s){const i=e.getGui();t.replaceChild(i,s),t.insertBefore(document.createComment(s.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(s=>s.setAttribute("tabindex",t.toString()))}setTemplate(e,t,s){let i;typeof e=="string"||e==null?i=Kw(e):i=ai(e),this.setTemplateFromElement(i,t,s)}setTemplateFromElement(e,t,s,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let n=0;n<t.length;n++){const o=t[n];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let s=t;return e==null?null:(s||(s=this.eGui),CE(e)?{element:e,parent:s}:{element:e.getGui(),parent:s})}prependChild(e,t){const{element:s,parent:i}=this.getContainerAndElement(e,t)||{};!s||!i||i.insertAdjacentElement("afterbegin",s)}appendChild(e,t){const{element:s,parent:i}=this.getContainerAndElement(e,t)||{};!s||!i||i.appendChild(s)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:s}=t;Ej(this.eGui,e,{skipAriaHidden:s})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:s}=t;ss(this.eGui,e,{skipAriaHidden:s});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,s){this.eGui.addEventListener(e,t,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Ut=class Ig{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(s=>this.onDone(s),s=>this.onReject(s))}static all(t){return t.length?new Ig(s=>{let i=t.length;const n=new Array(i);t.forEach((o,r)=>{o.then(l=>{n[r]=l,i--,i===0&&s(n)})})}):Ig.resolve()}static resolve(t=null){return new Ig(s=>s(t))}then(t){return new Ig(s=>{this.status===1?s(t(this.resolution)):this.waiters.push(i=>s(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(s=>s(t))}onReject(t){}};function _$(e){return e?e.prototype&&"getGui"in e.prototype:!1}function oN(e,t,s,i){const{name:n}=s;let o,r,l,u,d,f;if(t){const p=t,m=p[n+"Selector"],C=m?m(i):null,w=S=>{typeof S=="string"?o=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?l=S:r=S)};C?(w(C.component),u=C.params,d=C.popup,f=C.popupPosition):w(p[n])}return{compName:o,jsComp:r,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}}var N$=class extends ae{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,s,i=!1){return this.getCompDetails(this.gridOptions,e,t,s,i)}getCompDetails(e,t,s,i,n=!1){var D;const{name:o,cellRenderer:r}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=oN(this.beans.frameworkOverrides,e,t,i),C;const w=E=>{const F=this.registry.getUserComponent(o,E);F&&(u=F.componentFromFramework?void 0:F.component,d=F.componentFromFramework?F.component:void 0,C=F.params)};if(l!=null&&w(l),u==null&&d==null&&s!=null&&w(s),u&&r&&!_$(u)&&(u=(D=this.agCompUtils)==null?void 0:D.adaptFunction(t,u)),!u&&!d){const{validation:E}=this.beans;n&&(l!==s||!s)?l?E!=null&&E.isProvidedUserComp(l)||xt(50,{compName:l}):s?E||xt(260,{...this.gos.getModuleErrorParams(),propName:o,compName:s}):xt(216,{name:o}):s&&!E&&xt(146,{comp:s});return}const S=this.mergeParams(e,t,i,f,C),R=u==null,A=u??d;return{componentFromFramework:R,componentClass:A,params:S,type:t,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(A,R,S,t)}}newAgStackInstance(e,t,s,i){var l;const n=!t;let o;n?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);const r=(l=o.init)==null?void 0:l.call(o,s);return r==null?Ut.resolve(o):r.then(()=>o)}mergeParams(e,t,s,i=null,n){const o={...s,...n},r=e,l=r&&r[t.name+"Params"];if(typeof l=="function"){const u=l(s);bi(o,u)}else typeof l=="object"&&bi(o,l);return bi(o,i),o}},H$={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},G$={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},B$={name:"headerComponent",optionalMethods:["refresh"]},V$={name:"innerHeaderComponent"},z$={name:"innerHeaderGroupComponent"},W$={name:"headerGroupComponent"},U$={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},j$={name:"loadingCellRenderer",cellRenderer:!0},$$={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},q$={name:"loadingOverlayComponent",optionalMethods:["refresh"]},K$={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Y$={name:"tooltipComponent"},xE={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},X$={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Q$={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Z$={name:"loadingCellRenderer",cellRenderer:!0},J$={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},e8={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function t8(e,t){return e.getCompDetailsFromGridOptions(G$,"agDragAndDropImage",t,!0)}function s8(e,t,s){return e.getCompDetails(t,B$,"agColumnHeader",s)}function i8(e,t,s){return e.getCompDetails(t,V$,void 0,s)}function n8(e,t){const s=t.columnGroup.getColGroupDef();return e.getCompDetails(s,W$,"agColumnGroupHeader",t)}function o8(e,t,s){return e.getCompDetails(t,z$,void 0,s)}function r8(e,t){return e.getCompDetailsFromGridOptions(Q$,void 0,t,!0)}function a8(e,t){return e.getCompDetailsFromGridOptions(Z$,"agLoadingCellRenderer",t,!0)}function l8(e,t){return e.getCompDetailsFromGridOptions(J$,"agGroupRowRenderer",t,!0)}function c8(e,t){return e.getCompDetailsFromGridOptions(e8,"agDetailCellRenderer",t,!0)}function d1(e,t,s){return e.getCompDetails(t,U$,void 0,s)}function u8(e,t,s){return e.getCompDetails(t,j$,"agSkeletonCellRenderer",s,!0)}function h1(e,t,s){return e.getCompDetails(t,$$,"agCellEditor",s,!0)}function d8(e,t,s,i){return e.getCompDetails(t,xE,i,s,!0)}function h8(e,t,s){return e.getCompDetails(t,H$,"agDateInput",s,!0)}function f8(e,t){return e.getCompDetailsFromGridOptions(q$,"agLoadingOverlay",t,!0)}function g8(e,t){return e.getCompDetailsFromGridOptions(K$,"agNoRowsOverlay",t,!0)}function p8(e,t){return e.getCompDetails(t.colDef,Y$,"agTooltipComponent",t,!0)}function m8(e,t,s,i){return e.getCompDetails(t,X$,i,s)}function v8(e,t){return oN(e,t,xE)}function C8(e,t,s){return e.mergeParams(t,xE,s)}function op(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var rN=new Set,Tb={},ou={},ib,aN=!1,b8=!1;function w8(e){const[t,s]=e.version.split(".")||[],[i,n]=ib.split(".")||[];return t===i&&s===n}function y8(e){ib||(ib=e.version);const t=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(e.version?w8(e)||Gd(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${ib}.`)):Gd(t(`'${e.moduleName}' is incompatible.`)),e.validate){const s=e.validate();s.isValid||Gd(`${s.message}`)}}function rp(e,t){y8(e);const s=e.rowModels??["all"];rN.add(e);let i;t!==void 0?(aN=!0,ou[t]===void 0&&(ou[t]={}),i=ou[t]):i=Tb,s.forEach(n=>{i[n]===void 0&&(i[n]={}),i[n][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(n=>rp(n,t))}function S8(e){delete ou[e]}function lN(e,t,s){const i=n=>{var o,r,l;return!!((o=Tb[n])!=null&&o[e])||!!((l=(r=ou[t])==null?void 0:r[n])!=null&&l[e])};return i(s)||i("all")}function AE(){return aN}function R8(e,t){const s=ou[e]??{};return[...Object.values(Tb.all??{}),...Object.values(s.all??{}),...Object.values(Tb[t]??{}),...Object.values(s[t]??{})]}function x8(){return new Set(rN)}function A8(e,t){const s=ou[e]??{};return[...Object.values(s.all??{}),...Object.values(s[t]??{})]}function E8(){return b8}var D8=class{static register(e){rp(e,void 0)}static registerModules(e){e.forEach(t=>rp(t,void 0))}},T8=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const s of Object.keys(e.providedBeanInstances))this.beans[s]=e.providedBeanInstances[s];e.beanClasses.forEach(s=>{const i=new s;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${s.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(s=>{const{beanName:i,bean:n}=s(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(s=>{var i,n;(i=s.preWireBeans)==null||i.call(s,this.beans),(n=s.wireBeans)==null||n.call(s,this.beans)}),e.forEach(s=>{var i;return(i=s.preConstruct)==null?void 0:i.call(s)}),t&&e.forEach(t),e.forEach(s=>{var i;return(i=s.postConstruct)==null?void 0:i.call(s)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},F8=class extends T8{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),S8(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},P8="ag-column-first",M8="ag-column-last";function cN(e,t,s,i){return jt(e)?[]:k8(e.headerClass,e,t,s,i)}function uN(e,t,s){e.addOrRemoveCssClass(P8,s.isColAtEdge(t,"first")),e.addOrRemoveCssClass(M8,s.isColAtEdge(t,"last"))}function L8(e,t,s,i){return ze(t,{colDef:e,column:s,columnGroup:i})}function k8(e,t,s,i,n){if(jt(e))return[];let o;if(typeof e=="function"){const r=L8(t,s,i,n);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var oe={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},lA=!1,Fb=0;function I8(e){Fb>0||(e.addEventListener("keydown",Pb),e.addEventListener("mousedown",Pb))}function O8(e){Fb>0||(e.removeEventListener("keydown",Pb),e.removeEventListener("mousedown",Pb))}function Pb(e){const t=lA,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||t!==s&&(lA=s)}function _8(e){const t=us(e);return I8(t),Fb++,()=>{Fb--,O8(t)}}function N8(){return lA}function H8(e,t,s){t.addManagedElementListeners(s,{keydown:i=>{if(!i.defaultPrevented&&i.key===oe.TAB){const n=i.shiftKey;Du(e,s,!1,n)||Zh(e,n)&&i.preventDefault()}}})}function Wd(e,t,s=!1){const i=Aj;let n=S_;t&&(n+=", "+t),s&&(n+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>Uo(u)),r=Array.prototype.slice.apply(e.querySelectorAll(n));return r.length?((u,d)=>u.filter(f=>d.indexOf(f)===-1))(o,r):o}function pu(e,t=!1,s=!1,i=!1){const n=Wd(e,i?".ag-tab-guard":null,s),o=t?Rt(n):n[0];return o?(o.focus({preventScroll:!0}),!0):!1}function Du(e,t,s,i){const n=Wd(t,s?':not([tabindex="-1"])':null),o=Yt(e);let r;s?r=n.findIndex(u=>u.contains(o)):r=n.indexOf(o);const l=r+(i?-1:1);return l<0||l>=n.length?null:n[l]}function dN(e,t=5){let s=0;for(;e&&Jx(e)===null&&++s<=t;)e=e.parentElement;return Jx(e)===null?null:e}function G8(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function ru(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Xw(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Zh(e,t,s=!1){const i=e.ctrlsSvc.get("gridCtrl");return!s&&i.focusNextInnerContainer(t)?!0:((s||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function B8(e,t=!1){return e===oe.DELETE?!0:!t&&e===oe.BACKSPACE?b_():!1}var V8=class extends ae{constructor(e,t,s,i){super(),this.cellCtrl=e,this.rowNode=s,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case oe.ENTER:this.onEnterKeyDown(e);break;case oe.F2:this.onF2KeyDown(e);break;case oe.ESCAPE:this.onEscapeKeyDown(e);break;case oe.TAB:this.onTabKeyDown(e);break;case oe.BACKSPACE:case oe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case oe.DOWN:case oe.UP:case oe.RIGHT:case oe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var s;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(s=this.beans.navigation)==null||s.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:s}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(s==null||s.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var u;const{cellCtrl:s,beans:i,rowNode:n}=this,{gos:o,rangeSvc:r,eventSvc:l}=i;if(!s.editing){if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),B8(e,o.get("enableCellEditingOnBackspace"))){if(r&&bl(o))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(s.isCellEditable()){const{column:d}=s,f=this.beans.valueSvc.getDeleteValue(d,n);n.setDataValue(d,f,"cellClear")}}else(u=i.editSvc)==null||u.startRowOrCellEdit(s,e,t);l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,n,o;const{cellCtrl:t,beans:s}=this;if(t.editing||this.rowCtrl.editing)(i=this.beans.editSvc)==null||i.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(s.gos.get("enterNavigatesVertically")){const r=e.shiftKey?oe.UP:oe.DOWN;(n=s.navigation)==null||n.navigateToNextCell(null,r,t.cellPosition,!1)}else(o=s.editSvc)==null||o.startRowOrCellEdit(t,oe.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:s}=this;t.editing||(i=s.editSvc)==null||i.startRowOrCellEdit(t,oe.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:s}=this;t.editing&&((i=s.editSvc)==null||i.stopRowOrCellEdit(t,!0))}processCharacter(e){var n;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===oe.SPACE?this.onSpaceKeyDown(e):(n=this.beans.editSvc)!=null&&n.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var s;const{gos:t}=this.beans;!this.cellCtrl.editing&&iu(t)&&((s=this.beans.selectionSvc)==null||s.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},z8=class extends ae{constructor(e,t,s){super(),this.cellCtrl=e,this.column=s,this.beans=t}onMouseEvent(e,t){if(!Wr(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var d;if((d=this.beans.touchSvc)!=null&&d.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:s,gos:i,editSvc:n}=this.beans,o=e.ctrlKey||e.metaKey;s&&o&&s.getCellRangeCount(this.cellCtrl.cellPosition)>1&&s.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);const l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{l.onCellClicked(r)})},0),(i.get("singleClickEdit")||l.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(s==null?void 0:s.getCellRanges().length)!=0)&&(n==null||n.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:s,cellCtrl:i}=this,{eventSvc:n,frameworkOverrides:o,gos:r,editSvc:l}=s,u=t.getColDef(),d=i.createEvent(e,"cellDoubleClicked");n.dispatchEvent(d),typeof u.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&(l==null||l.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:s,shiftKey:i}=e,n=e.target,{cellCtrl:o,beans:r}=this,{eventSvc:l,rangeSvc:u,rowNumbersSvc:d,focusSvc:f,gos:p}=r;if(this.isRightClickInExistingRange(e))return;const m=u&&!u.isEmpty(),C=this.containsWidget(n),{cellPosition:w}=o,S=Xh(w.column);if(d&&S&&!d.handleMouseDownOnCell(w,e)){u&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!m){const A=p.get("enableCellTextSelection")&&e.defaultPrevented,D=(Ru()||A)&&!o.editing&&!pE(n)&&!C;o.focusCell(D)}if(i&&m&&!f.isCellFocused(w)){e.preventDefault();const R=f.getFocusedCell();if(R){const{column:A,rowIndex:D,rowPinned:E}=R,F=r.rowRenderer.getRowByPosition({rowIndex:D,rowPinned:E}),L=F==null?void 0:F.getCellCtrl(A);L!=null&&L.editing&&L.stopEditing(),f.setFocusedCell({column:A,rowIndex:D,rowPinned:E,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!C){if(u)if(S&&e.preventDefault(),i)u.extendLatestRangeToCell(w);else{const R=t||s;u.setRangeToCell(w,R)}l.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const s=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(s&&i)return!0}return!1}containsWidget(e){return tu(e,"ag-selection-checkbox",3)||tu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),s==null||s.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),s==null||s.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,s=t.contains(e.target),i=t.contains(e.relatedTarget);return s&&i}destroy(){super.destroy()}},W8=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Eu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,s=e.getColSpan(t),i=[];if(s===1)i.push(e);else{let n=e;const o=e.getPinned();for(let r=0;n&&r<s&&(i.push(n),n=this.beans.visibleCols.getColAfter(n),!(!n||jt(n)||o!==n.getPinned()));r++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Rt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,s=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return s+i+(e||0)}return s+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const s=nu(this.beans)*this.rowSpan;this.eContent.style.height=`${s}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},U8="ag-cell",j8="ag-cell-auto-height",$8="ag-cell-normal-height",q8="ag-cell-focus",K8="ag-cell-first-right-pinned",Y8="ag-cell-last-left-pinned",X8="ag-cell-not-inline-editing",Q8="ag-cell-wrap-text",Mb="cellCtrl";function hN(e,t){return W_(e,t,Mb)}var Z8=0,Vg=class extends ae{constructor(e,t,s,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=s;const{colId:n,colIdSanitised:o}=e;this.instanceId=n+"-"+Z8++,this.colIdSanitised=o,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new W8(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new z8(this,e,this.column),this.keyboardListener=new V8(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&bl(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,s,i,n,o,r){var l,u,d,f,p,m;this.comp=e,this.eGui=t,this.printLayout=n,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(l=this.positionFeature)==null||l.init(),(u=this.customStyleFeature)==null||u.setComp(e),(d=this.tooltipFeature)==null||d.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(p=this.rangeFeature)==null||p.setComp(e),o&&this.isCellEditable()?(m=this.beans.editSvc)==null||m.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(C=>C()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var s;this.isAutoHeight=((s=this.beans.rowAutoHeight)==null?void 0:s.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var p,m;const{beans:s,column:i,rowNode:n,rangeFeature:o}=this,{userCompFactory:r}=s,l=this.getValueToDisplay();let u;const d=n.stub&&((p=n.groupData)==null?void 0:p[i.getId()])==null,f=i.getColDef();if(d||this.isCellRenderer()){const C=this.createCellRendererParams();!d||Xh(i)?u=d1(r,f,C):u=u8(r,f,C)}if(!u&&!d&&((m=s.findSvc)!=null&&m.isMatch(n,i))){const C=this.createCellRendererParams();u=d1(r,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},C)}this.comp.setRenderDetails(u,l,e),!t&&o&&na(s,()=>o==null?void 0:o.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:s}=this.beans.gridOptions,i=Sb(t),n=Yr(this.column);return s==="custom"&&i!=="selectionColumn"&&n?!1:e.checkboxSelection||n&&typeof t=="object"&&Vd(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),s=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||s||i||n}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:s,rowNode:i,comp:n,eGui:o,beans:{valueSvc:r,gos:l}}=this;return ze(l,{value:e,valueFormatted:t,getValue:()=>r.getValueForDisplay(s,i),setValue:d=>r.setValue(i,s,d),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:s.getPinned(),colDef:s.getColDef(),column:s,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:n.getParentOfValue(),registerRowDragger:(d,f,p,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{var p;l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var d,f,p,m,C,w;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),s=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,n=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||n||s,r=!!this.comp,l=this.updateAndFormatValue(r),u=o||l;if(r){if(u){this.showValue(s,!1);const S=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!i&&!S&&t.enableCellChangeFlash&&((f=this.beans.cellFlashSvc)==null||f.flashCell(this)),(p=this.customStyleFeature)==null||p.applyUserStyles(),(m=this.customStyleFeature)==null||m.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshTooltip(),(w=this.customStyleFeature)==null||w.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,s=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(e,t){const s=this.column.getColDef();return s.equals?s.equals(e,t):e===t}addDomData(e){const t=this.eGui;gu(this.beans.gos,t,Mb,this),e.addDestroyFunc(()=>gu(this.beans.gos,t,Mb,null))}createEvent(e,t){const{rowNode:s,column:i,value:n,beans:o}=this;return ze(o.gos,{type:t,node:s,data:s.data,value:n,column:i,colDef:i.getColDef(),rowPinned:s.rowPinned,event:e,rowIndex:s.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var s;(s=this.mouseListener)==null||s.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:s}=this;uN(e,t,s.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);v_(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const s=this.comp.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Xh(this.column)&&(e=!0),Dn(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(K8,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(Y8,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var n;const{beans:t}=this;if(Xw(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const s=this.isCellFocused();if(this.comp.addOrRemoveCssClass(q8,s),s&&e&&e.forceBrowserFocus){let o=this.comp.getFocusableElement();if(this.editing){const r=Wd(o,null,!0);r.length&&(o=r[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!s&&!i&&this.editing&&((n=t.editSvc)==null||n.stopRowOrCellEdit(this)),s&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:zr(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(U8,!0),e.addOrRemoveCssClass(X8,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(j8,t),e.addOrRemoveCssClass($8,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(Q8,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),s=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(s),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(s)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Yt(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,s);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,s){var n;const i=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,s);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},fN="__ag_grid_instance";function gN(e,t){t[fN]=e.gridInstanceId}function ap(e,t){return pN(e,t.target)}function pN(e,t){let s=t;for(;s;){const i=s[fN];if(ye(i))return i===e.gridInstanceId;s=s.parentElement}return!1}function J8(e,t){var s;return((s=hN(e,t.target))==null?void 0:s.getFocusedCellPosition())??null}function Q0(e,t){const s=$s(e.gos,"normal"),i=t;let n,o;if(i.clientX!=null||i.clientY!=null?(n=i.clientX,o=i.clientY):(n=i.x,o=i.y),s){const r=e.ctrlsSvc.getScrollFeature(),l=r.getVScrollPosition(),u=r.getHScrollPosition();n+=u.left,o+=l.top}return{x:n,y:o}}var e7=class extends ae{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const s={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:s,dragSource:e}),this.dragSvc.addDragSource(s)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:s}=this,i=t.find(n=>n.dragSource===e);i&&(s.removeDragSource(i.params),no(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:s}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,s.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(s=e.onDragStarted)==null||s.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var s,i;(i=(s=this.dragSource)==null?void 0:s.onDragStopped)==null||i.call(s);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){var s;const{dragSource:e,lastDropTarget:t}=this;(s=e==null?void 0:e.onDragCancelled)==null||s.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var f,p;const s=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const n=this.dropTargets.filter(m=>this.isMouseOnDropTarget(e,m)),o=this.findCurrentDropTarget(e,n),{lastDropTarget:r,dragSource:l,dragAndDropImageComp:u,dragItem:d}=this;if(o!==r){if(this.leaveLastTargetIfExists(e,s,i,t),r!==null&&o===null&&((f=l==null?void 0:l.onGridExit)==null||f.call(l,d)),r===null&&o!==null&&((p=l==null?void 0:l.onGridEnter)==null||p.call(l,d)),this.enterDragTargetIfExists(o,e,s,i,t),o&&u){const{comp:m,promise:C}=u;m?m.setIcon(o.getIconName?o.getIconName():null,!1):C.then(w=>{w&&w.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){const m=this.createDropTargetEvent(o,e,s,i,t);o.onDragging(m)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,s=[[e.getContainer()]];return t?s.concat(t):s}isMouseOnDropTarget(e,t){const s=this.getAllContainersFromDropTarget(t);let i=!1;const n=(l,u)=>{for(const d of u){const{width:f,height:p,left:m,right:C,top:w,bottom:S}=d.getBoundingClientRect();if(f===0||p===0)return!1;const R=l.clientX>=m&&l.clientX<C,A=l.clientY>=w&&l.clientY<S;if(!R||!A)return!1}return!0};for(const l of s)if(n(e,l)){i=!0;break}const{eElement:o,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(r,o)}findCurrentDropTarget(e,t){const s=t.length;if(s===0)return null;if(s===1)return t[0];const n=sp(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of n)for(const r of t)if(this.getAllContainersFromDropTarget(r).flatMap(u=>u).indexOf(o)!==-1)return r;return null}enterDragTargetIfExists(e,t,s,i,n){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,s,i,n);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,s,i){const{lastDropTarget:n}=this;if(!n)return;if(n.onDragLeave){const r=this.createDropTargetEvent(n,e,t,s,i);n.onDragLeave(r)}const o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(s=>s.external).find(s=>s.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const s=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return s.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,s=e.clientX;return t===s?null:t>s?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,s=e.clientY;return t===s?null:t>s?"up":"down"}createDropTargetEvent(e,t,s,i,n){const o=e.getContainer(),r=o.getBoundingClientRect(),{dragItem:l,dragSource:u,gos:d}=this,f=t.clientX-r.left,p=t.clientY-r.top;return ze(d,{event:t,x:f,y:p,vDirection:i,hDirection:s,dragSource:u,fromNudge:n,dragItem:l,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Uj(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:s}=e;if(s){const i=s.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(s)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:s}=this;if(!e)return;const i=t8(s,ze(t,{dragSource:e}));if(!i)return;const n=i.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:s}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),gN(this.gos,i),s.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:n}=t;typeof n=="function"&&(n=n()),e.setLabel(n||""),i.style.top="20px",i.style.left="20px";const o=wE(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(i):be(54)}registerGridDropTarget(e,t){const s={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(s),t.addDestroyFunc(()=>this.removeDropTarget(s))}},t7=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const s=t||this.shouldSkipVerticalScroll();if(s&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!s,this.tickDown=e.clientY>i.bottom-n&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function s7(e){const{rowIndex:t,rowPinned:s,column:i}=e;return`${t}.${s??"null"}.${i.getId()}`}function mN(e,t){const s=e.column===t.column,i=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return s&&i&&n}function i7(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ye(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function n7(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function o7(e){let t=0,s;const{pinnedRowModel:i,rowModel:n,pageBounds:o}=e;return i!=null&&i.getPinnedTopRowCount()?s="top":n.getRowCount()?(s=null,t=o.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(s="bottom"),s===void 0?null:{rowIndex:t,rowPinned:s}}function r7(e){let t,s=null;const{pinnedRowModel:i,pageBounds:n}=e,o=i==null?void 0:i.getPinnedBottomRowCount(),r=i==null?void 0:i.getPinnedTopRowCount();return o?(s="bottom",t=o-1):e.rowModel.getRowCount()?(s=null,t=n.getLastRow()):r&&(s="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:s}}function Lb(e,t){var s,i;switch(t.rowPinned){case"top":return(s=e.pinnedRowModel)==null?void 0:s.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Fd(e,t){var n;const s=(n=e.spannedRowRenderer)==null?void 0:n.getCellByPosition(t);if(s)return s;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function kb(e,t){const{rowIndex:s,rowPinned:i}=t,{pageBounds:n,pinnedRowModel:o,rowModel:r}=e;if(s===0)return i==="top"?null:i==="bottom"&&r.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:o!=null&&o.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const l=i?void 0:r.getRow(s);return vN(e,l,!0)??{rowIndex:s-1,rowPinned:i}}function f1(e,t){const{rowIndex:s,rowPinned:i}=t,{pageBounds:n,pinnedRowModel:o,rowModel:r}=e;if(a7(e,t))return i==="bottom"?null:i==="top"&&r.isRowsToRender()?{rowIndex:n.getFirstRow(),rowPinned:null}:o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const l=i?void 0:r.getRow(s);return vN(e,l)??{rowIndex:s+1,rowPinned:i}}function vN(e,t,s){const{gos:i,rowRenderer:n}=e;if(!(t!=null&&t.sticky)||!N_(i))return;const o=s?n.getStickyTopRowCtrls():n.getStickyBottomRowCtrls();let r;for(let l=0;l<o.length;l++)if(o[l].rowNode.rowIndex===t.rowIndex){r=o[l+(s?-1:1)];break}return r?{rowIndex:r.rowNode.rowIndex,rowPinned:null}:void 0}function a7(e,t){const{rowPinned:s,rowIndex:i}=t,{pinnedRowModel:n,pageBounds:o}=e;return s==="top"?((n==null?void 0:n.getPinnedTopRowCount())??0)-1<=i:s==="bottom"?((n==null?void 0:n.getPinnedBottomRowCount())??0)-1<=i:o.getLastRow()<=i}var l7=class extends ae{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:s}=this.beans;ni(t)&&(this.clientSideRowModel=e),s.whenReady(this,i=>{const n=i.gridBodyCtrl;this.autoScrollService=new t7({scrollContainer:n.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>n.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>n.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:s}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(s==null?void 0:s.isSortActive()))}getRowNodes(e){var i;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[]].sort((o,r)=>o.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(r));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=Q0(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:s,gos:i}=this.beans,n=this.isFromThisGrid(e),o=i.get("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(i.get("suppressMoveWhenRowDragging")||!n?s.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Rt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,s=t.getLastHighlightedRowNode(),i=s&&s.highlighted==="Below",n=Q0(this.beans,e).y,o=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))o.forEach(l=>{l.rowTop<n&&(r-=1)}),this.moveRows(o,n,r);else{const l=Kh(this.gos);let u=t.getRowIndexAtPixel(n)+1;t.getHighlightPosition(n)==="Above"&&u--,t.updateRowData({add:o.filter(d=>!t.getRowNode((l==null?void 0:l({data:d.data,level:0,rowPinned:d.rowPinned}))??d.data.id)).map(d=>d.data),addIndex:u})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,s=0){const i=this.beans.focusSvc,n=i.getFocusedCell(),o=n&&Fd(this.beans,n);this.clientSideRowModel.ensureRowsAtPixel(e,t,s)&&(o?o.focusCell():i.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){be(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){be(56);return}let s={getContainer:e.getContainer};e.fromGrid?s=e:(e.onDragEnter&&(s.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(s.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(s.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(s.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(s.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const i={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...s};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),s=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),n=this.onDragging.bind(this),o=this.onDragStop.bind(this),r=this.onDragCancel.bind(this);let l;return e?l={getContainer:t,onDragEnter:e.onDragEnter?u=>{s(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:s,onDragLeave:e.onDragLeave?u=>{i(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:i,onDragging:e.onDragging?u=>{n(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:n,onDragStop:e.onDragStop?u=>{o(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:o,onDragCancel:e.onDragCancel?u=>{r(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:r,fromGrid:!0}:l={getContainer:t,onDragEnter:s,onDragLeave:i,onDragging:n,onDragStop:o,onDragCancel:r,fromGrid:!0},l}draggingToRowDragEvent(e,t){const s=this.beans,{pageBounds:i,rowModel:n,gos:o}=s,r=Q0(s,t).y,l=r>i.getCurrentPageHeight();let u=-1,d;return l||(u=n.getRowIndexAtPixel(r),d=n.getRow(u)),ze(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:u,overNode:d,y:r,vDirection:t.vDirection})}dispatchGridEvent(e,t){const s=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(s)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function CN(e,t,s){if(s===0)return!1;const i=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(i,n)<=s}var c7=class extends ae{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,s=e.mouseDownListener;if(t.removeEventListener("mousedown",s),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,s=t.find(i=>i.dragSource===e);s&&(this.removeListener(s),no(t,s))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:s,includeTouch:i,stopPropagationForTouch:n}=e;s.addEventListener("mousedown",t);let o=null;const r=this.gos.get("suppressTouch");i&&!r&&(o=l=>{pE(l.target)||(n&&l.stopPropagation(),this.onTouchStart(e,l))},s.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const s=t.touches[0];this.touchLastTime=s,this.touchStart=s;const i=u=>this.onTouchMove(u,e.eElement),n=u=>this.onTouchUp(u,e.eElement),o=u=>{u.cancelable&&u.preventDefault()},r=t.target,l=[{target:sp(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:r,type:"touchmove",listener:i,options:{passive:!0}},{target:r,type:"touchend",listener:n,options:{passive:!0}},{target:r,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(s,this.touchStart,e.eElement)}onMouseDown(e,t){const s=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=d=>this.onMouseMove(d,e.eElement),n=d=>this.onMouseUp(d,e.eElement),o=d=>d.preventDefault(),r=d=>{d.key===oe.ESCAPE&&this.cancelDrag(e.eElement)},l=sp(this.beans),u=[{target:l,type:"mousemove",listener:i},{target:l,type:"mouseup",listener:n},{target:l,type:"contextmenu",listener:o},{target:l,type:"keydown",listener:r}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:s,type:i,listener:n,options:o}=t;s.addEventListener(i,n,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:s,type:i,listener:n,options:o}=t;s.removeEventListener(i,n,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:s}=this.currentDragParams,i=ye(s)?s:4;return CN(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,s){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:s}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const s=this.getFirstActiveTouch(e.touches);s&&this.onCommonMove(s,this.touchStart,t)}onMouseMove(e,t){var s;Ru()&&((s=us(this.beans).getSelection())==null||s.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,s=t.get("enableCellTextSelection"),i=e.type==="mousemove",n=o=>{const r=o.target,l=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(l!=null&&l.match("^a$|textarea|input|select|button"))};return s&&i&&e.cancelable&&ap(t,e)&&!n(e)}onTouchUp(e,t){let s=this.getFirstActiveTouch(e.changedTouches);s||(s=this.touchLastTime),this.onUpCommon(s,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,s;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(s=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||s.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function bN(e,t){return e+"_"+t}function ts(e){return e instanceof wN}var wN=class extends ae{constructor(e,t,s,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=s,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return bN(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{ts(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Rt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(s=>{e+=s.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{wl(t)?e.push(t):ts(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{wl(t)?e.push(t):ts(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(s=>{if(ts(s)&&(!s.displayedChildren||!s.displayedChildren.length))return;switch(s.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(s);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},cA="row-group-",yN="t-",SN="b-",u7=0,Jh=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u7++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var l;const{valueCache:s,selectionSvc:i,eventSvc:n}=this.beans,o=this.data;this.data=e,s==null||s.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,o,t);(l=this.__localEventService)==null||l.dispatchEvent(r),n.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,s){return{type:"dataChanged",node:this,oldData:t,newData:e,update:s}}getRowIndexString(){return this.rowIndex==null?(xt(13),null):this.rowPinned==="top"?yN+this.rowIndex:this.rowPinned==="bottom"?SN+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var r,l;const{selectionSvc:s}=this.beans,i=(r=s==null?void 0:s.createDaemonNode)==null?void 0:r.call(s,this),n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),s&&(s.updateRowSelectable(this),s.syncInRowNode(this,i));const o=this.createDataChangedEvent(e,n,!1);(l=this.__localEventService)==null||l.dispatchEvent(o)}setId(e){var s;const t=Kh(this.beans.gos);if(t)if(this.data){const i=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(cA)&&xt(14,{groupPrefix:cA})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,s){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,s)}setDataValue(e,t,s){const{colModel:i,valueSvc:n,gos:o,selectionSvc:r}=this.beans,l=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!l)return!1;const u=n.getValueForDisplay(l,this);if(o.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:C}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:C,column:l,colDef:l.colDef,data:p,node:this,oldValue:u,newValue:t,value:t,source:s}),!1}const d=n.setValue(this,l,t,s);return this.dispatchCellChangedEvent(l,t,u),r==null||r.updateRowSelectable(this),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,s){var n;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:s};(n=this.__localEventService)==null||n.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(s=>s.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,s="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:s})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new hu),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,n,o,r;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new hu),this.frameworkEventListenerService=(o=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:o.call(n,this.frameworkEventListenerService,this.__localEventService);const s=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.__localEventService.addEventListener(e,s)}removeEventListener(e,t){var i;const s=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.removeLocalListener(e,s)}removeLocalListener(e,t){var s,i;(s=this.__localEventService)==null||s.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(be(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function d7(e,t,s){return ze(t,{type:s,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var h7={tag:"div",cls:"ag-filter"},f7=class extends $t{constructor(e,t){super(h7),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Ut.resolve()}afterGuiAttached(e){var t,s;(s=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||s.then(i=>{var n;(n=i==null?void 0:i.afterGuiAttached)==null||n.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(s=>{var i;(i=s==null?void 0:s.afterGuiDetached)==null||i.call(s)})}createFilter(e){var i,n;const{column:t,source:s}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(n=this.filterWrapper)!=null&&n.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const r=o.getGui();ye(r)||be(69,{guiFromFilter:r}),this.appendChild(r),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:s,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(on(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},RN="ag-resizer-wrapper",Pa=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),g7={tag:"div",cls:RN,children:[Pa("eTopLeft","topLeft"),Pa("eTop","top"),Pa("eTopRight","topRight"),Pa("eRight","right"),Pa("eBottomRight","bottomRight"),Pa("eBottom","bottom"),Pa("eBottomLeft","bottomLeft"),Pa("eLeft","left")]},p7=class extends ae{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,s=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(s,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:s,width:i,minHeight:n,height:o,x:r,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,d=0;const f=Uo(this.element);if(f){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const C=p.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-C}if(m.minHeight!=null){const C=p.offsetHeight-this.element.offsetHeight;u=parseInt(m.minHeight,10)-C}}if(this.minHeight=n||u,this.minWidth=s||d,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),e)this.center();else if(r||l)this.offsetElement(r,l);else if(f&&t){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const C=parseFloat(p.style.top),w=parseFloat(p.style.left);m?this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C):this.setPosition(w,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,n;if(!this.config.popup||e===this.movable)return;this.movable=e;const s=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(s),this.moveElementDragListener=s):((n=this.dragSvc)==null||n.removeDragSource(s),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var r;const i=!!e[t],n=this.getResizerElement(t),o={dragStartPixels:0,eElement:n,onDragStart:l=>this.onResizeStart(l,t),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,t)};(i||!this.isAlive()&&!i)&&(i?((r=this.dragSvc)==null||r.addDragSource(o),this.resizeListeners.push(o),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,s=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Hg(s,e),e=R_(s),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(i?(s.style.maxHeight="unset",s.style.minHeight="unset"):t?Hg(s,e):(s.style.height=`${e}px`,s.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:s}=this.offsetParent;if(!s)return null;const i=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,r=e?0:n.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-i.bottom}}return s+r-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:s}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)zo(t,e),e=vb(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:n}=this.offsetParent,o=s?this.position.x:this.element.getBoundingClientRect().left;n&&e+o>n&&(e=n-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?zo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var n;const{forcePopupParentAsOffsetParent:s}=this.config,i=s?this.boundaryEl:this.element;i&&((n=this.popupSvc)==null||n.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var s;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=ia(this.beans,(s=this.popupSvc)==null?void 0:s.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:s,isTop:i,anywhereWithin:n,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!s,!!n,r)?0:r,d=this.shouldSkipY(t,!!i,o,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,s,i){const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:n.left;let u=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return u?!0:(t?u=i<0&&e.clientX>l+o.left||i>0&&e.clientX<l+o.left:s?u=i<0&&e.clientX>r.right||i>0&&e.clientX<l+o.left:u=i<0&&e.clientX>r.right||i>0&&e.clientX<r.right,u)}shouldSkipY(e,t,s=0,i){const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:n.top;let u=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return u?!0:(t?u=i<0&&e.clientY>l+o.top+s||i>0&&e.clientY<l+o.top:u=i<0&&e.clientY>r.bottom||i>0&&e.clientY<r.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(ai(g7)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${RN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:s,forcePopupParentAsOffsetParent:i}=this.config;!s&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(s=>!s.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,s=0;for(let i=0;i<e.length;i++){const n=e[i],o=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let r=this.minHeight||0,l=this.minWidth||0;if(o){const u=window.getComputedStyle(n);u.minHeight&&(r=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else r=n.offsetHeight,l=n.offsetWidth;t+=r,s+=l}return{height:t,width:s}}applySizeToSiblings(e){let t=null;const s=this.getSiblings();if(s){for(let i=0;i<s.length;i++){const n=s[i];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=s[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:s}=this.config,{isTop:i,isRight:n,isBottom:o,isLeft:r}=this.currentResizer,l=n||r,u=o||i,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:r,isTop:i}),p=this.position.x,m=this.position.y;let C=0,w=0;if(l&&d){const S=r?-1:1,R=this.getWidth(),A=R+d*S;let D=!1;r&&(C=R-A,(p+C<=0||A<=this.minWidth)&&(D=!0,C=0)),D||this.setWidth(A)}if(u&&f){const S=i?-1:1,R=this.getHeight(),A=R+f*S;let D=!1;i?(w=R-A,(m+w<=0||A<=this.minHeight)&&(D=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<A&&this.getMinSizeOfSiblings().height+A>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(A)}this.updateDragStartPosition(e.clientX,e.clientY),((t||s)&&C||w)&&this.offsetElement(p+C,m+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:s}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:n,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+n,s+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},m7="ag-focus-managed",af=class extends ae{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const i=Du(this.beans,this.eFocusable,!1,s.shiftKey);i&&(i.focus(),s.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:s}}=this;e.classList.add(m7),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),s&&this.addManagedElementListeners(e,{focusout:s})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Wr(t))return;const{callbacks:s}=this;if(s.shouldStopEventPropagation(t)){Yh(t);return}t.key===oe.TAB?s.onTabKeyDown(t):s.handleKeyDown&&s.handleKeyDown(t)}})}},xN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function EE(e,t){const{debounceMs:s}=e;return Ib(e)?(s!=null&&be(71),0):s??t}function Ib(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var v7=class extends $t{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=_e,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new af(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new p7(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t==null||t.removeEventListener("submit",this.onFormSubmit);const s={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(s,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=Ib(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=Ib(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:s,readOnly:i}=t??{},{buttons:n,readOnly:o}=e;if(i===o&&tp(s,n))return;const r=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(on(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):r&&(this.eButtonsPanel=ai({tag:"div",cls:"ag-filter-apply-panel"})),!r){this.eButtonsPanel&&Kr(this.eButtonsPanel);return}const l=document.createDocumentFragment(),u=d=>{let f;const p=d?this.translate(`${d}Filter`):void 0;switch(d){case"apply":f=w=>this.onBtApply(!1,!1,w);break;case"clear":f=()=>this.onBtClear();break;case"reset":f=()=>this.onBtReset();break;case"cancel":f=w=>{this.onBtCancel(w)};break;default:be(75);return}const C=Kw(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:f})),l.append(C)};n.forEach(d=>u(d)),this.eButtonsPanel.append(l),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=EE(this.params,this.defaultDebounceMs),t=js(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const s=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(s):this.resetUiToDefaults().then(s)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const s=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(s,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,s){s&&s.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(s)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,s=t&&t.key;let i;(s==="Enter"||s==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const s=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&Jg(i,!s)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:s}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,xN[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function C7(e,t,s){if(t==null)return null;let i=null;const{compName:n,jsComp:o,fwComp:r}=v8(e,t);return n?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:o==null&&r==null&&t.filter===!0&&(i=s()),i}var nb={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},DE=class extends ae{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},s=t.autoHeight?nb.AUTO_HEIGHT:t.print?nb.PRINT:nb.NORMAL;this.view.updateLayoutClasses(s,t)}},Ma="Viewport",g1="fakeVScrollComp",p1=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],m1=100,Z0=150,b7=class extends ae{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=js(this,()=>this.lastScrollSource[1]=null,Z0),this.resetLastVScrollDebounced=js(this,()=>this.lastScrollSource[0]=null,Z0)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,s=>{this.centerRowsCtrl=s.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ma)});for(const e of p1){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),s=t?js(this,this.onVScroll.bind(this,Ma),m1):this.onVScroll.bind(this,Ma),i=t?js(this,this.onVScroll.bind(this,g1),m1):this.onVScroll.bind(this,g1);this.addManagedElementListeners(this.eBodyViewport,{scroll:s}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...p1,Ma]){if(this.lastScrollSource[1]===t)continue;const s=this.getViewportForSource(t);bb(s,e,this.enableRtl)}}getViewportForSource(e){return e===Ma?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:s}=t;if(this.shouldBlockScrollUpdate(1,s,!0))return;const i=Cb(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ma?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:s}=this;s==null||s.setScrollTop(t),this.nextScrollTop=t,e===Ma?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,s!=null&&s.active?s.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Z0)}shouldBlockScrollUpdate(e,t,s=!1){return s&&!eu()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=mE(this.eBodyViewport),{scrollHeight:s}=this.eBodyViewport;return e<0||e+t>s}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:s}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>s}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Ma)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),bb(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:s,lastScrollTop:i}=this;return{top:i,bottom:i+s}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:s}=this.beans,i=s.getRowCount();let n=-1;for(let o=0;o<i;o++){const r=s.getRow(o);if(typeof e=="function"){if(r&&e(r)){n=o;break}}else if(e===r||e===r.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if($s(this.gos,"print"))return;const{rowModel:s}=this.beans,i=s.getRowCount();if(typeof e!="number"||e<0||e>=i){be(88,{index:e});return}const{frameworkOverrides:n,pageBounds:o,rowContainerHeight:r,rowRenderer:l}=this.beans;n.wrapIncoming(()=>{var C;const u=this.ctrlsSvc.getGridBodyCtrl(),d=s.getRow(e);let f,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:w,stickyBottomHeight:S}=u,R=d.rowTop,A=d.rowHeight,D=o.getPixelOffset(),E=d.rowTop-D,F=E+d.rowHeight,L=this.getVScrollPosition(),k=r.divStretchOffset,H=L.top+k,G=L.bottom+k,W=G-H,q=r.getScrollPositionForPixel(E),K=r.getScrollPositionForPixel(F-W),Z=Math.min((q+K)/2,E),Y=H+w>E,re=G-S<F;let ne=null;t==="top"?ne=q-w:t==="bottom"?ne=K+S:t==="middle"?ne=Z:Y?ne=q-w:re&&(ne=K+S),ne!==null&&(this.setVerticalScrollPosition(ne),l.redraw({afterScroll:!0})),f=R!==d.rowTop||A!==d.rowHeight,p=w!==u.stickyTopHeight||S!==u.stickyBottomHeight,m++}while((f||p)&&m<10);(C=this.animationFrameSvc)==null||C.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:s,frameworkOverrides:i}=this.beans,n=s.getCol(e);if(!n||n.isPinned()||!this.visibleCols.isColDisplayed(n))return;const o=this.getPositionedHorizontalScroll(n,t);i.wrapIncoming(()=>{var r;o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),(r=this.animationFrameSvc)==null||r.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:s,columnAfterEnd:i}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl;let l=(r?s:i)||n,u=r?i:s;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:f,colMiddle:p,colRight:m}=this.getColumnBounds(e);return d?p-o/2:l?r?m:f:r?f-o:m-o}return null}isColumnOutsideViewport(e){const{start:t,end:s}=this.getViewportBounds(),{colLeft:i,colRight:n}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>n:s<n,l=o?s<i:t>i;return{columnBeforeStart:r,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,s=this.visibleCols.bodyWidth,i=e.getActualWidth(),n=e.getLeft(),o=t?-1:1,r=t?s-n:n,l=r+i*o,u=r+i/2*o;return{colLeft:r,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),s=t,i=e+t;return{start:s,end:i,width:e}}},TE=class extends ae{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=$s(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:s}=this.beans,i=t.bodyWidth,n=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let r;e?r=i+n+o:(r=i,this.addSpacer&&(this.gos.get("enableRtl")?n:o)===0&&s.verticalScrollShowing&&(r+=s.getScrollbarWidth())),this.callback(r)}},w7=class extends ae{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:s}=this,i=()=>{na(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),s.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const s=this.centerContainerCtrl.getCenterWidth();s!==this.centerWidth&&(this.centerWidth=s,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=mE(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function FE(e,t,s,i,n,o){if(s==null&&t==null)return;const r={},l={},u=(d,f)=>{d.split(" ").forEach(p=>{p.trim()!=""&&f(p)})};if(s){const d=Object.keys(s);for(let f=0;f<d.length;f++){const p=d[f],m=s[p];let C;typeof m=="string"?C=e?e.evaluate(m,i):!0:typeof m=="function"&&(C=m(i)),u(p,w=>{C?r[w]=!0:l[w]=!0})}}t&&o&&Object.keys(t).forEach(d=>u(d,f=>{r[f]||(l[f]=!0)})),o&&Object.keys(l).forEach(o),Object.keys(r).forEach(n)}function v1(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var y7=class extends ae{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const s=this.gos,i=r=>{typeof r=="string"?e.push(r):Array.isArray(r)&&r.forEach(l=>e.push(l))},n=s.get("rowClass");n&&i(n);const o=s.getCallback("getRowClass");if(o){const r={data:t.data,node:t,rowIndex:t.rowIndex},l=o(r);i(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,s=>{e.push(s)},()=>{})}processRowClassRules(e,t,s){const{gos:i,expressionSvc:n}=this.beans,o=ze(i,{data:e.data,node:e,rowIndex:e.rowIndex});FE(n,void 0,i.get("rowClassRules"),o,t,s)}processStylesFromGridOptions(e){const t=this.gos,s=t.get("rowStyle"),i=t.getCallback("getRowStyle");let n;if(i){const o={data:e.data,node:e,rowIndex:e.rowIndex};n=i(o)}if(n||s)return Object.assign({},s,n)}},S7=0,Ob="renderedRow",_b=class extends ae{constructor(e,t,s,i,n){var o;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=n,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((o=t.pagination)==null?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+S7++,this.rowId=Ur(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=v1(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Ur(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,s,i){var p;const{context:n,focusSvc:o}=this.beans;i=Nm(this,n,i);const r={rowComp:e,element:t,containerType:s,compBean:i};this.allRowGuis.push(r),this.updateGui(s,r),this.initialiseRowComp(r);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const f=(p=this.fullWidthGui)==null?void 0:p.element;f&&!this.editing&&o.isRowFocused(l.rowIndex,l.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>f.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),iu(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Yx(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),gu(t,e.element,Ob,this),e.compBean.addDestroyFunc(()=>gu(t,e.element,Ob,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Ur(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(tA(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(tA(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const s=this.createBean(t,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),s=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(s)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var i;return(i=s==null?void 0:s.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:s,beans:{visibleCols:i}}=this,n=!!e||!i.isPinningLeft(),o=!!t,r=!!s||!i.isPinningRight();return n&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&yE(this.gos,i);e?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:s}=this.beans;if(!(s!=null&&s.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(s.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var s;if(!((s=this.beans.rowSpanSvc)!=null&&s.isCellSpanning(e,this.rowNode)))return new Vg(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,s=null){const i={list:[],map:{}},n=(d,f,p)=>{p!=null?i.list.splice(p,0,f):i.list.push(f),i.map[d]=f},o=[];for(const d of t){const f=d.getInstanceId();let p=e.map[f];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(d)),p&&n(f,p)}for(const d of e.list){const f=d.column.getInstanceId();if(i.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(d,s)?o.push([f,d]):d.destroy()}if(o.length)for(const[d,f]of o){const p=i.list.findIndex(C=>C.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);n(d,f,m)}const{focusSvc:r,visibleCols:l}=this.beans,u=r.getFocusedCell();if(u&&u.column.getPinned()==s){const d=u.column.getInstanceId();if(!i.map[d]&&l.allCols.includes(u.column)){const p=this.createFocusedCellCtrl();if(p){const m=i.list.findIndex(w=>w.column.getLeft()>p.column.getLeft()),C=m===-1?void 0:Math.max(m-1,0);n(d,p,C)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,s=e.getFocusedCell();if(!s)return;const i=t==null?void 0:t.getCellSpan(s.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(s))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(s.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const s=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(s,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const{column:n}=e;if(n.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:o}=e,{visibleCols:r}=this.beans,l=e.isCellFocused();return o||l?!(r.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||$s(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ye(this.rowNode.oldRowTop),{visibleCols:s}=this.beans,i=s.isPinningLeft(),n=s.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=n}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=n}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(r,l)=>r?r.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(r.element,l).params):!0,t=e(this.fullWidthGui,null),s=e(this.centerGui,null),i=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&s&&i&&n}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(s=>{this.addRowDraggerToRow(s)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const s=e==="Above",i=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:zr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:s,column:i}=t;if(!(s.element===e.target))return;const r=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),f={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:(d==null?void 0:d.column)??i};u==null||u.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){var l;if(e.defaultPrevented||Wr(e))return;const t=this.allRowGuis.find(u=>u.element.contains(e.target)),s=t?t.element:null,i=s===e.target,n=Yt(this.beans);let o=!1;s&&n&&(o=s.contains(n)&&n.classList.contains("ag-cell"));let r=null;!i&&!o&&(r=Du(this.beans,s,!1,e.shiftKey)),(this.isFullWidth()&&i||!r)&&((l=this.beans.navigation)==null||l.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(s=>Uo(s.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(s=>{Dn(s.element,"tabindex",t)})}onFullWidthRowFocused(e){var n,o,r;const t=this.rowNode,s=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const l=this.beans.colModel.getCol(e==null?void 0:e.column),u=l==null?void 0:l.pinned;u?i=u==="right"?(n=this.rightGui)==null?void 0:n.element:(o=this.leftGui)==null?void 0:o.element:i=(r=this.centerGui)==null?void 0:r.element}i&&(i.classList.toggle("ag-full-width-focus",s),s&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const s={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(s.list.push(i),s.map[i.column.getInstanceId()]=i)}),s}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:s}=this;return ze(this.gos,{type:e,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned,event:t})}createRowEventWithSource(e,t){const s=this.createRowEvent(e,t);return s.source=this,s}onRowDblClick(e){Wr(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),s=this.getColumnForFullWidth(t);if(!(!t||!s))return{rowGui:t,column:s}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=tu(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:s,focusSvc:i}=this.beans;s==null||s.removeAllCellRanges();const n=this.findFullWidthInfoForEvent(e);if(!n)return;const{rowGui:o,column:r}=n,l=o.element,u=e.target;let d=e.defaultPrevented||Ru();l&&l.contains(u)&&pE(u)&&(d=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:r,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(Wr(e)||this.lastMouseDownOnDragger)return;const{eventSvc:s,selectionSvc:i}=this.beans;s.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:s,rowNode:i}=this,n=ze(s,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,l,u,d)=>this.addFullWidthRowDragging(r,l,u,d),setTooltip:(r,l)=>{s.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(r,l)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return c8(o,n);case"FullWidthGroup":return n.value=i.groupValue,n.valueFormatted=i.rowGroupColumn?this.beans.valueSvc.formatValue(i.rowGroupColumn,i,n.value):n.value,l8(o,n);case"FullWidthLoading":return a8(o,n);default:return r8(o,n)}}refreshRowTooltip(e,t){var s;this.fullWidthGui&&(this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,s="",i){const{rowDragSvc:n,context:o}=this.beans;if(!n||!this.isFullWidth())return;const r=n.createRowDragComp(()=>s,this.rowNode,void 0,e,t,i);this.createBean(r,o),this.addDestroyFunc(()=>{this.destroyBean(r,o)})}onUiLevelChanged(){const e=v1(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(s=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(s,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var l;const t=this.getPinnedForContainer(e),s=this.isFullWidth(),{rowNode:i,beans:n}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&o.push("ag-row-pinned"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),s&&o.push("ag-full-width-row"),(l=n.expansionSvc)==null||l.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:r}=n;return r&&(r.processClassesFromGridOptions(o,i),r.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),s&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,s=>{(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:s}=e,{rowNode:i,beans:n,gos:o}=this;s.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),s.addManagedListeners(i,{mouseEnter:()=>{var r;!((r=n.dragSvc)!=null&&r.dragging)&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(s=>s.element);for(const s of t)s.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(s,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=k_(this.gos)?qh(this.beans,this.rowNode).height:void 0,o=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(e,r=>{r.element.style.height=`${t}px`,o&&r.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){var i;this.active=!1;const{rowNode:t}=this;if(!e&&Bd(this.gos)&&!t.sticky)if(t.rowTop!=null){const o=this.roundRowTopToBounds(t.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));(i=this.fullWidthGui)!=null&&i.element.contains(Yt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const s=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(s),this.beans.eventSvc.dispatchEvent(s),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=s=>(s.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,s=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);s!==this.rowFocused&&(this.rowFocused=s,this.setFocusedClasses()),!s&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const s=this.beans.pageBounds.getPixelOffset();return e+s*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ye(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let s;if(t.sticky)s=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(i);s=t.isRowPinned()?n:this.beans.rowContainerHeight.getRealPixelPosition(n)}return s+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let s=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(s=i)}),s!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(s=i)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var o,r;const t=this.rowNode.getRowIndexString();if(t===null)return;const s=(((o=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:o.getRowCount())??0)+(((r=this.beans.filterManager)==null?void 0:r.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(e,l=>{l.rowComp.setRowIndex(t),l.rowComp.addOrRemoveCssClass("ag-row-even",i),l.rowComp.addOrRemoveCssClass("ag-row-odd",!i),m_(l.element,n)})}};function AN(e){var s;return e.altKey||e.ctrlKey||e.metaKey?!1:((s=e.key)==null?void 0:s.length)===1}function uA(e,t,s,i,n){const o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r=ze(e,{event:t,editing:n,column:i,node:s,data:s.data,colDef:i.getColDef()});return!!(o&&o(r))}function R7(e){const{pinnedRowModel:t,rowModel:s}=e,[i,n]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],o=i?null:"top";let r,l;n?(r=null,l=s.getRowCount()-1):(r="bottom",l=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:u,rangeSvc:d}=e,f=u.allCols;!d||!(f!=null&&f.length)||d.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:r})}var x7=65,A7=67,E7=86,D7=68,T7=90,F7=89;function P7(e){const{keyCode:t}=e;let s;switch(t){case x7:s=oe.A;break;case A7:s=oe.C;break;case E7:s=oe.V;break;case D7:s=oe.D;break;case T7:s=oe.Z;break;case F7:s=oe.Y;break;default:s=e.code}return s}var M7=class extends ae{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",z_("touchstart")?"touchstart":"mousedown"].forEach(s=>{const i=this.processMouseEvent.bind(this,s);this.addManagedElementListeners(this.element,{[s]:i})})}processMouseEvent(e,t){var n;if(!ap(this.gos,t)||Wr(t))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(s!=null&&s.column&&s.dispatchCellContextMenuEvent(t),(n=this.beans.contextMenuSvc)==null||n.handleContextMenuMouseEvent(t,void 0,i,s)):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:hN(t,e),rowCtrl:W_(t,e,Ob)}}processKeyboardEvent(e,t){const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(s?this.processCellKeyboardEvent(s,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,s){var l;const{rowNode:i,column:n,editing:o}=e;!uA(this.gos,s,i,n,o)&&t==="keydown"&&(!o&&((l=this.beans.navigation)!=null&&l.handlePageScrollingKey(s))||e.onKeyDown(s),this.doGridOperations(s,e.editing),AN(s)&&e.processCharacter(s)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(s,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,s){const{rowNode:i}=e,{focusSvc:n,navigation:o}=this.beans,r=n.getFocusedCell(),l=r&&r.column;if(!uA(this.gos,s,i,l,!1)){const d=s.key;if(t==="keydown")switch(d){case oe.PAGE_HOME:case oe.PAGE_END:case oe.PAGE_UP:case oe.PAGE_DOWN:o==null||o.handlePageScrollingKey(s,!0);break;case oe.LEFT:case oe.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case oe.UP:case oe.DOWN:e.onKeyboardNavigate(s);break;case oe.TAB:e.onTabKeyDown(s);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",s))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ap(this.gos,e))return;const s=P7(e),{clipboardSvc:i,undoRedo:n}=this.beans;if(s===oe.A)return this.onCtrlAndA(e);if(s===oe.C)return this.onCtrlAndC(i,e);if(s===oe.D)return this.onCtrlAndD(i,e);if(s===oe.V)return this.onCtrlAndV(i,e);if(s===oe.X)return this.onCtrlAndX(i,e);if(s===oe.Y)return this.onCtrlAndY(n);if(s===oe.Z)return this.onCtrlAndZ(n,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:s,selectionSvc:i},gos:n}=this;s&&bl(n)&&t.isRowsToRender()?R7(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:G_(n)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},EN=class extends ae{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,s=t!=null?`${t}px`:"";this.eContainer.style.height=s,this.eViewport&&(this.eViewport.style.height=s)}},hC=e=>e.topRowCtrls,fC=e=>e.getStickyTopRowCtrls(),gC=e=>e.getStickyBottomRowCtrls(),pC=e=>e.bottomRowCtrls,mC=e=>e.allRowCtrls,J0=e=>e.getCtrls("top"),eR=e=>e.getCtrls("center"),tR=e=>e.getCtrls("bottom"),L7={center:{type:"center",name:"center-cols",getRowCtrls:mC,getSpannedRowCtrls:eR},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:mC,getSpannedRowCtrls:eR},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:mC,getSpannedRowCtrls:eR},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:mC},topCenter:{type:"center",name:"floating-top",getRowCtrls:hC,getSpannedRowCtrls:J0},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:hC,getSpannedRowCtrls:J0},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:hC,getSpannedRowCtrls:J0},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:hC},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:fC},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:fC},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:fC},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:fC},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:gC},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:gC},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:gC},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:gC},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:pC,getSpannedRowCtrls:tR},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:pC,getSpannedRowCtrls:tR},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:pC,getSpannedRowCtrls:tR},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:pC}};function DN(e){return`ag-${Gm(e).name}-viewport`}function ob(e){const t=Gm(e);return t.container??`ag-${t.name}-container`}function k7(e){return`ag-${Gm(e).name}-spanned-cells-container`}function Gm(e){return L7[e]}var I7=["topCenter","topLeft","topRight"],O7=["bottomCenter","bottomLeft","bottomRight"],_7=["center","left","right"],N7=["center","left","right","fullWidth"],H7=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],G7=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],B7=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],TN=["stickyTopCenter","stickyTopLeft","stickyTopRight"],FN=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],V7=[...TN,"stickyTopFullWidth",...FN,"stickyBottomFullWidth"],z7=[...I7,...O7,..._7,...TN,...FN],W7=class extends ae{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Gm(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new w7(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,s,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=s,this.eViewport=i,this.createManagedBean(new M7(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:n,rangeSvc:o}=this.beans,r=()=>this.onPinnedWidthChanged();this.forContainers(G7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(B7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(N7,()=>this.createManagedBean(new EN(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(z7,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(H7,()=>this.createManagedBean(new TE(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:s=>this.onDisplayedRowsChanged(s.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const s=this.options.getSpannedRowCtrls(e);s&&this.comp.setSpannedRowCtrls(s,!1)}})}listenOnDomOrder(){if(V7.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const s=this.gos.get("ensureDomOrder"),i=$s(this.gos,"print");this.comp.setDomOrder(s||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=s=>{e.dragging&&s.cancelable&&s.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,s,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return ep(this.eViewport)}getCenterViewportScrollLeft(){return Cb(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=ia(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return A_(this.eViewport)}getViewportScrollLeft(){return Cb(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Dj(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){bb(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const s=$s(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||s,o=t.filter(r=>{const l=r.isFullWidth();return this.options.fullWidth?!n&&l:n||!l});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},U7="ag-force-vertical-scroll",j7="ag-selectable",$7="ag-column-moving",q7=class extends ae{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,s,i,n,o,r){var l,u;this.comp=e,this.eGridBody=t,this.eBodyViewport=s,this.eTop=i,this.eBottom=n,this.eStickyTop=o,this.eStickyBottom=r,this.eCenterColsViewport=s.querySelector(`.${DN("center")}`),this.eFullWidthContainer=s.querySelector(`.${ob("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${ob("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=r.querySelector(`.${ob("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new DE(this.comp)),this.scrollFeature=this.createManagedBean(new b7(this.eBodyViewport)),(l=this.beans.rowDragSvc)==null||l.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,s,n,o,r]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(u=this.filterManager)==null||u.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const s=t&&e.getScrollbarWidth()||0,i=y_()?16:0,n=`calc(100% + ${s+i}px)`;na(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let s=this.gos.get("treeData");if(!s){const i=t.isPivotMode();s=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(s?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:s=>{const{target:i}=s,n=tu(i,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:s=>{const{target:i,relatedTarget:n}=s,o=t.contains(n),r=tu(n,"ag-root",t);tu(i,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss($7,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(j7,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var n,o;const e=(((n=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:n.getRowCount())??0)+(((o=this.filterManager)==null?void 0:o.getHeaderRowCount())??0),{rowModel:t}=this.beans,s=t.isLastRowIndexKnown()?t.getRowCount():-1,i=s===-1?-1:e+s;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?U7:null,s=$s(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||s&&Tj(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let s=t.sizesMeasured;const i=()=>{const n=s&&Bd(this.gos)&&!e.stretching,o=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,n)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!s&&t.sizesMeasured&&(s=!0,i())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:s}),t==null||t.mockBodyContextMenu(this,s),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:s,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(s))&&ap(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:s,shiftKey:i}=e,n=i||Math.abs(t)>Math.abs(s),o=e.target;n?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(s))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:s}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||s})}onBodyViewportContextMenu(e,t,s){var n;if(!e&&!s)return;this.gos.get("preventDefaultOnContextMenu")&&(e||s).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((n=this.beans.contextMenuSvc)==null||n.showContextMenu({mouseEvent:e,touchEvent:s,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,s=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(s),this.comp.setTopInvisible(t<=0),this.comp.setBottomInvisible(s<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var n,o;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((n=this.filterManager)==null?void 0:n.getHeaderHeight())??0),s=((o=this.pinnedRowModel)==null?void 0:o.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),s>0&&(i+=s),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:s}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,r=i+o;s.setStickyBottomBottom(`${r}px`)}},PN=class extends $t{constructor(e,t){super(),this.direction=t,this.eViewport=_e,this.eContainer=_e,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",b_()||eu())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=y_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),s=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:s,touchend:s})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),na(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Lj(()=>Uo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},K7={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Y7=class extends PN{constructor(){super(K7,"horizontal"),this.eLeftSpacer=_e,this.eRightSpacer=_e,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new TE(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const s=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();s&&(t+=i),zo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let n=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(n+=i),zo(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,s=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=s?0:i===0&&t?16:i,r=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Hg(this.getGui(),o),Hg(this.eViewport,o),Hg(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return Cb(this.eViewport,this.enableRtl)}setScrollPosition(e){Uo(this.eViewport)||this.attemptSettingScrollPosition(e),bb(this.eViewport,e,this.enableRtl)}},X7={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Q7=class extends PN{constructor(){super(X7,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new EN(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,s=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,n=i===0&&s?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),zo(this.getGui(),n),zo(this.eViewport,n),zo(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const s=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),n=s.scrollTop;i!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Uo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Z7(e){return e.cols?e.cols.treeDepth+1:-1}function Bo(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function PE(e){const t=[],s=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of s){if(!i)continue;const n=i.getGroupRowCount()||0;for(let o=0;o<n;o++){const r=i.getGroupRowCtrlAtIndex(o),l=t[o];if(r){const u=J7(e,r);(l==null||u>l)&&(t[o]=u)}}}return t}function J7(e,t){let i=e.colModel.isPivotMode()?t9(e):LN(e);const n=t.getHeaderCellCtrls();for(const o of n){const{column:r}=o,l=r.getAutoHeaderHeight();l!=null&&l>i&&r.isAutoHeaderHeight()&&(i=l)}return i}function ME(e){let s=e.colModel.isPivotMode()?e9(e):Bm(e);return e.colModel.forAllCols(i=>{const n=i.getAutoHeaderHeight();n!=null&&n>s&&i.isAutoHeaderHeight()&&(s=n)}),s}function Bm(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function MN(e){return e.gos.get("floatingFiltersHeight")??Bm(e)}function LN(e){return e.gos.get("groupHeaderHeight")??Bm(e)}function e9(e){return e.gos.get("pivotHeaderHeight")??Bm(e)}function t9(e){return e.gos.get("pivotGroupHeaderHeight")??LN(e)}var s9=class extends ae{setComp(e,t,s){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:n,touchSvc:o,ctrlsSvc:r}=i;n&&this.createManagedBean(new af(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),o==null||o.mockHeaderContextMenu(this,l),r.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>na(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var o;const{beans:e}=this;let t=0;const s=PE(e).reduce((r,l)=>r+l,0),i=ME(e);if((o=e.filterManager)!=null&&o.hasFloatingFilters()&&(t+=MN(e)),t+=s,t+=i,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const s=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",s)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),s=e.shiftKey,i=s!==t?"LEFT":"RIGHT",{beans:n}=this,{headerNavigation:o,focusSvc:r}=n;(o.navigateHorizontally(i,!0,e)||!s&&r.focusOverlay(!1)||Zh(n,s,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:s}=this.beans;switch(e.key){case oe.LEFT:t="LEFT";case oe.RIGHT:{ye(t)||(t="RIGHT"),s.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case oe.UP:t="UP";case oe.DOWN:{ye(t)||(t="DOWN"),s.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:s,beans:i}=this;!t&&s.contains(Yt(i))||s.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,s){var r;const{menuSvc:i,ctrlsSvc:n}=this.beans;if(!e&&!s||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:o}=e??t;(o===this.eGui||o===((r=n.getHeaderRowContainerCtrl())==null?void 0:r.eViewport))&&i.showHeaderContextMenu(void 0,e,s)}},LE=class extends ae{constructor(e,t,s,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=s}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Rt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,s=e.get("suppressColumnMoveAnimation"),i=ye(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!s?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),s=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=s,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:s,visibleCols:i}=this.beans;if(!$s(s,"print")||e.getPinned()==="left")return t;const o=i.getColsLeftWidth();if(e.getPinned()==="right"){const r=i.bodyWidth;return o+r+t}return o+t}setLeft(e){if(ye(e)&&(this.eCell.style.left=`${e}px`),ts(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&bj(this.ariaEl,t.length)}}},i9=0,kN="headerCtrl",kE=class extends ae{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+i9++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:s}=this.beans.focusSvc.focusedHeader,i=s.getDefinition(),n=i&&i.suppressHeaderKeyboardEvent;if(!ye(n))return!1;const o=ze(this.gos,{colDef:i,column:s,headerRowIndex:t,event:e});return!!n(o)}getWrapperHasFocus(){return Yt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let s;if(typeof t=="function"){const i=this.getHeaderClassParams();s=t(i)}else s=t;s&&this.comp.setUserStyles(s)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:s,compBean:i}=e,{beans:n}=this,o=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:m,paddingBottom:C,borderBottomWidth:w,borderTopWidth:S}=xu(this.eGui),R=m+C+w+S,D=t.offsetHeight+R;if(p<5){const E=us(n),F=!E||!E.contains(t),L=D==0;if(F||L){tA(()=>o(p+1),"raf",n);return}}this.setColHeaderHeight(this.column,D)};let r=!1,l;const u=()=>{const p=this.column.isAutoHeaderHeight();p&&!r&&d(),!p&&r&&f()},d=()=>{r=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),l=ia(this.beans,t,()=>o(0))},f=()=>{r=!1,l&&l(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),l=void 0};u(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>r&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout(()=>o(0))}}),s&&s(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:s,eGui:i}=this;!e||!t||!i||(uN(e,t,s.visibleCols),v_(i,s.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=ru(this.beans);this.eGui&&Dn(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const t=Yt(this.beans),s=e.key===oe.LEFT||e.key===oe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const n=e.key===oe.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(n)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:s}=this.beans;return s?s.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:s}=this;let i=e.key===oe.LEFT!==t.get("enableRtl");const n=s.getPinned(),o=t.get("enableRtl");return n&&o!==(n==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case oe.PAGE_DOWN:case oe.PAGE_UP:case oe.PAGE_HOME:case oe.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=kN,{eGui:s,gos:i}=this;gu(i,s,t,this),e.addDestroyFunc(()=>gu(i,s,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,s){const i=e??t,{menuSvc:n,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),n!=null&&n.isHeaderContextMenuEnabled(s)&&n.showHeaderContextMenu(s,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:s}=this;e.isColumn?s.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):s.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},n9=class extends kE{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,s,i,n){this.comp=e;const{rowCtrl:o,column:r,beans:l}=this,{colResize:u,context:d,colHover:f,rangeSvc:p}=l,m=Nm(this,d,n);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:w=>this.setRefreshFunction("measuring",w),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(o.pinned,r,s,e,this)):ss(s,!1),f==null||f.createHoverFeature(m,[r],t),p==null||p.createRangeHighlightFeature(m,r,e),m.createManagedBean(new LE(r,t,l)),m.createManagedBean(new af(t,{shouldStopEventPropagation:w=>this.shouldStopEventPropagation(w),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(r,{colDefChanged:()=>this.refresh()}),m.addManagedListeners(r,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const C=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:C,columnRowGroupChanged:C,columnPivotChanged:C,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var s;(s=this.beans.colResize)==null||s.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.colDef;return ze(t.gos,{colDef:s,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return s8(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:s,gos:i}=this.beans;return ze(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!s&&(!this.openFilterEnabled||en(this.gos)),showColumnMenu:(o,r)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:r})},showColumnMenuAfterMouseClick:(o,r)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:r})},showFilter:o=>{e==null||e.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t==null||t.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,r)=>{t==null||t.setSortForColumn(this.column,o,!!r,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,r)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===oe.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===oe.ENTER&&this.onEnterKeyDown(e),e.key===oe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const s=this.comp.getUserCompInstance();C1(s)&&s.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),N8()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),s=cN(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(s),s.forEach(n=>{i.has(n)?i.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const s=this.column.getActualWidth();this.comp.setWidth(`${s}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var s;(s=this.comp)==null||s.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const s=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",s),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,s=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:s,beans:i}=this,n=PE(this.beans),o=n.reduce((f,p)=>f+=p,0)===0;if(s.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),s.addOrRemoveCssClass("ag-header-span-height",!1),s.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:r,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();s.addOrRemoveCssClass("ag-header-span-height",r>0);const u=ME(i);if(r===0){s.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}s.addOrRemoveCssClass("ag-header-span-total",l);let d=0;for(let f=0;f<r;f++)d+=n[n.length-1-f];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${u+d}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),s=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(cj(s)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!en(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Yt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((s,i)=>s==="filter"?-1:i.charCodeAt(0)-s.charCodeAt(0)).map(s=>this.ariaDescriptionProperties.get(s)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),s=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return C1(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function C1(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var o9=0,sR=class extends ae{constructor(e,t,s){super(),this.rowIndex=e,this.pinned=t,this.type=s,this.instanceId=o9++,this.allCtrls=[];const i=s=="group"?"ag-header-row-column-group":s=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=$s(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,s=!0){this.comp=e,t=Nm(this,this.beans.context,t),s&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),s=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:s,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",s),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=$s(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],s=PE(this.beans),i=ME(this.beans);t.push(...s),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(MN(this.beans));let n=0;for(let r=0;r<this.rowIndex;r++)n+=t[r];const o=t[this.rowIndex];return{topOffset:n,rowHeight:o}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),s=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,s,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const s=i=>{const{focusSvc:n,visibleCols:o}=this.beans;return n.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(const[i,n]of e)s(n)?this.ctrlsById.set(i,n):this.destroyBean(n);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,s){if(e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(s&&(n=s.get(i),s.delete(i)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new n9(e,this));break}t.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:s}=this.beans;return["left",null,"right"].forEach(i=>{const n=s.getHeadersToRender(i,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const s=this.allCtrls.find(n=>n.column==e);return s?s.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},r9=class extends ae{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:s,ctrlsSvc:i,colModel:n,colMoves:o,filterManager:r}=this.beans;this.setupCenterWidth(),s==null||s.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const l=this.onDisplayedColumnsChanged.bind(this,r);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:l,advancedFilterEnabledChanged:l});const u=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(u,this),n.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:s,filterManager:i}=this.beans;let n=0;const o=t.getFocusHeaderToUseAfterRefresh(),r=()=>{const f=Z7(s)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let p=0;p<f;p++){const m=this.createBean(new sR(n++,this.pinned,"group"));this.groupsRowCtrls.push(m)}},l=()=>{const f=n++,p=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==f);(p||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),p&&(this.columnsRowCtrl=this.createBean(new sR(f,this.pinned,"column")))},u=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}const p=n++;if(this.filtersRowCtrl){const m=this.filtersRowCtrl.rowIndex!==p;(!e||m)&&f()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new sR(p,this.pinned,"filter")))};r(),l(),u();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){const t=s=>s==null?void 0:s.getHeaderCellCtrls().find(i=>i.column===e);if(wl(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let s=0;s<this.groupsRowCtrls.length;s++){const i=t(this.groupsRowCtrls[s]);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,s){const n=this.getAllCtrls()[e];return n?n.focusHeader(t,s):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const s=e==null?void 0:e.createBodyDropTarget(this.pinned,t);s&&this.createManagedBean(s)}restoreFocusOnHeader(e,t){if(!t)return;const{column:s}=t;s.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new TE(e=>this.comp.setCenterWidth(`${e}px`),!0))}},a9=class extends ae{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:s}=this.beans,i=t&&en(this.gos)?t:s;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,s){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,s)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var s;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((s=this.activeMenuFactory)!=null&&s.isMenuEnabled(e))&&(en(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&wl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(eu()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!en(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!en(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return en(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,s,i){const{positionBy:n,onClosedCallback:o}=t,r=t.column;if(n==="button"){const{buttonElement:l}=t;e==null||e.showMenuAfterButtonClick(r,l,s,o,i)}else if(n==="mouse"){const{mouseEvent:l}=t;e==null||e.showMenuAfterMouseEvent(r,l,s,o,i)}else if(r){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(r,"auto"),na(l,()=>{var f;const d=(f=u.getHeaderRowContainerCtrl(r.getPinned()))==null?void 0:f.getHeaderCtrlForColumn(r);d&&(e==null||e.showMenuAfterButtonClick(r,d.getAnchorElementForMenu(i),s,o,!0))})}}};function b1(e,t,s){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",s))}var IN=class extends $t{constructor(){super()}},l9={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},c9=class extends IN{init(){var t;const e=zr((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??l9),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("loadingOoo","Loading...")})}}},u9={tag:"span",cls:"ag-overlay-no-rows-center"},d9=class extends IN{init(){var t;const e=zr((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??u9),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("noRowsToShow","No Rows To Show")})}}};function h9(e,t,s){const i=An(e,t,s);if(i){const{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}const n=ai({tag:"span"});return n.appendChild(i),n}function An(e,t,s){var o;let i=null;e==="smallDown"?be(262):e==="smallLeft"?be(263):e==="smallRight"&&be(264);const n=s&&s.getColDef().icons;if(n&&(i=n[e]),t.gos&&!i){const r=t.gos.get("icons");r&&(i=r[e])}if(i){let r;if(typeof i=="function")r=i();else if(typeof i=="string")r=i;else{be(38,{iconName:e});return}if(typeof r=="string")return Kw(r);if(CE(r))return r;be(133,{iconName:e});return}else{const r=t.registry.getIcon(e);return r||(o=t.validation)==null||o.validateIcon(e),ai({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var f9=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",g9={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},p9=class extends $t{constructor(){super(),this.dragSource=null,this.eIcon=_e,this.eLabel=_e,this.eGhost=_e,this.registerCSS(f9)}postConstruct(){const e=t=>h9(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(g9),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:s,dragSource:i,dropIconMap:n,gos:o}=this;on(s);let r=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),r=n[e],s.classList.toggle("ag-shake-left-to-right",t),!(r===n.hide&&o.get("suppressDragLeaveHidesColumns"))&&r&&s.appendChild(r)}setLabel(e){this.eLabel.textContent=e}},m9=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",v9=class extends $t{constructor(e,t,s){super(t,s),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(m9)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:s,labelAlignment:i,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),s!=null&&this.setLabelWidth(s),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;on(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(ss(t,!1),Cl(t,"presentation")):(ss(t,!0),Cl(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const s=this.getGui().classList;return s.toggle("ag-label-align-left",e==="left"),s.toggle("ag-label-align-right",e==="right"),s.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(wb(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Jg(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},ON=class extends v9{constructor(e,t,s,i){super(e,t,s),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:s}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),s!=null&&this.onValueChange(s),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),s=this.getLabel();s==null||s==""||uj(e)!==null?Kx(e,""):Kx(e,t??"")}setAriaLabel(e){return qw(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return zo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function C9(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var tc=class extends ON{constructor(e,t,s="text",i="input"){super(e,(e==null?void 0:e.template)??C9(i),[],t),this.inputType=s,this.displayFieldTag=i,this.eLabel=_e,this.eWrapper=_e,this.eInput=_e}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:s,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),s.classList.add(`${i}-input`),this.addCssClass("ag-input-field"),s.id=s.id||`ag-${this.getCompId()}-input`;const{inputName:n,inputWidth:o}=this.config;n!=null&&this.setInputName(n),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([s])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return wb(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Dn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return qw(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Jg(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Dn(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Dn(this.eInput,"autocomplete",t)}return this}},IE=class extends tc{constructor(e,t="ag-checkbox",s="checkbox"){super(e,t,s),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const s=this.eInput;s.checked=e,s.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,s){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:s});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),s=this.selected=e.target.checked;this.refreshSelectedClass(s),this.dispatchChange(s,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},OE={selector:"AG-CHECKBOX",component:IE},b9=".ag-checkbox-cell{height:100%}",w9={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},y9=class extends $t{constructor(){super(w9,[OE]),this.eCheckbox=_e,this.registerCSS(b9)}init(e){this.refresh(e);const{eCheckbox:t,beans:s}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),g_(i,"polite"),this.addManagedListeners(i,{click:n=>{if(Yh(n),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:n=>{Yh(n)}}),this.addManagedElementListeners(e.eGridCell,{keydown:n=>{if(n.key===oe.SPACE&&!t.isDisabled()){e.eGridCell===Yt(s)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,s=!0;const{value:i,column:n,node:o}=e;if(o.group&&n)if(typeof i=="boolean")t=i;else{const p=n.getColId();p.startsWith(Yw)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[p]!==void 0?t=i??void 0:s=!1}else t=i??void 0;const{eCheckbox:r}=this;if(!s){r.setDisplayed(!1);return}r.setValue(t);const l=e.disabled??!(n!=null&&n.isCellEditable(o));r.setDisabled(l);const u=this.getLocaleTextFunc(),d=gE(u,t),f=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;r.setInputAriaLabel(f)}onCheckboxChanged(e){const{eventSvc:t,params:s}=this,{column:i,node:n,value:o}=s,r={column:i,colDef:i.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:o};t.dispatchEvent({type:"cellEditingStarted",...r});const l=n.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...r,oldValue:o,newValue:e,valueChanged:l}),l||this.updateCheckbox(s)}},S9="ROOT_NODE_ID",R9=class extends ae{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(s=>s.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=S9,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,s)=>this.createRowNode(t,s)))??[]}setImmutableRowData(e,t){const s=Kh(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),n=e.changedRowNodes,o=new Set,r=this.rootNode,l=r.allLeafChildren,u=l.length;let d=!1,f=!1,p=!1,m=!1;for(let w=0,S=-1,R=t.length;w<R;w++){const A=t[w];let D=this.getRowNode(s({data:A,level:0}));if(!D)d=!0,D=this.createRowNode(A,-1),n.add(D);else{if(i){const E=D.sourceRowIndex;m||(m=E<=S||d),S=E}D.data!==A&&(p=!0,D.updateData(A),n.update(D))}o.add(D)}const C=[];for(let w=0;w<u;w++){const S=l[w];o.has(S)||(f=!0,S.isSelected()&&C.push(S),this.rowNodeDeleted(S),n.remove(S))}if(d||f||m){const w=new Array(o.size);let S=0;if(!i)for(let A=0;A<u;++A){const D=l[A];o.delete(D)&&(D.sourceRowIndex=S,w[S++]=D)}for(const A of o)A.sourceRowIndex=S,w[S++]=A;r.allLeafChildren=w;const R=r.sibling;R&&(R.allLeafChildren=w),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=m)}(d||f||m||p)&&(this.deselectNodes(C),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,s=this.allNodesMap;s[t]===e&&delete s[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const s={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],n=Kh(this.gos);return this.executeRemove(n,e,s,i),this.executeUpdate(n,e,s,i),this.executeAdd(e,s),this.deselectNodes(i),s}executeAdd(e,t){const s=e.add;if(!(s!=null&&s.length))return;let i=this.rootNode.allLeafChildren,n=i.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let p=0;p<i.length;p++){const m=i[p];if((m==null?void 0:m.rowIndex)==n-1){n=p+1;break}}const o=s.length,r=t.changedRowNodes,l=new Array(o);for(let f=0;f<o;f++){const p=this.createRowNode(s[f],n+f);r.add(p),l[f]=p}const u=this.rootNode;if(n<i.length){const f=i.slice(0,n),p=i.slice(n,i.length),m=f.length+l.length;for(let C=0,w=p.length;C<w;++C)p[C].sourceRowIndex=m+C;i=[...f,...l,...p],t.rowsInserted=!0}else i=i.concat(l);u.allLeafChildren=i;const d=u.sibling;d&&(d.allLeafChildren=i),t.rowNodeTransaction.add=l}executeRemove(e,t,{changedRowNodes:s,rowNodeTransaction:i},n){var d,f;const{remove:o}=t;if(!(o!=null&&o.length))return;const r={};o.forEach(p=>{const m=this.lookupRowNode(e,p);m&&(m.isSelected()&&n.push(m),m.clearRowTopAndRowIndex(),r[m.id]=!0,delete this.allNodesMap[m.id],i.remove.push(m),s.remove(m))});const l=this.rootNode;l.allLeafChildren=((d=l.allLeafChildren)==null?void 0:d.filter(p=>!r[p.id]))??null,(f=l.allLeafChildren)==null||f.forEach((p,m)=>{p.sourceRowIndex=m});const u=l.sibling;u&&(u.allLeafChildren=l.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:s,rowNodeTransaction:i},n){const{update:o}=t;o!=null&&o.length&&o.forEach(r=>{const l=this.lookupRowNode(e,r);l&&(l.updateData(r),!l.selectable&&l.isSelected()&&n.push(l),i.update.push(l),s.update(l))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var n;const t="rowDataChanged",s=this.beans.selectionSvc,i=e.length>0;i&&(s==null||s.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(n=s==null?void 0:s.updateGroupsFromChildrenSelections)==null||n.call(s,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(s==null?void 0:s.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var s;const t=((s=this.rootNode.allLeafChildren)==null?void 0:s.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const s=new Jh(this.beans);return s.parent=this.rootNode,s.level=0,s.group=!1,s.expanded=!1,s.sourceRowIndex=t,s.setDataAndId(e,String(this.nextId)),this.allNodesMap[s.id]&&be(2,{nodeId:s.id}),this.allNodesMap[s.id]=s,this.nextId++,s}lookupRowNode(e,t){var i,n;let s;if(e){const o=e({data:t,level:0});if(s=this.allNodesMap[o],!s)return xt(4,{id:o}),null}else if(s=(n=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:n.find(o=>o.data===t),!s)return xt(5,{data:t}),null;return s||null}},x9={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},A9=class extends $t{constructor(){super(x9,[OE]),this.eCheckbox=_e}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:s}=this,i=t.isSelected(),n=gE(e,i),[o,r]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(o,r);s.setValue(i,!0),s.setInputAriaLabel(`${l} (${n})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Yh,click:i=>{var n;Yh(i),(n=this.beans.selectionSvc)==null||n.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:n})=>{const o=typeof i=="object"?K0(i):void 0,r=typeof n=="object"?K0(n):void 0;o!==r&&this.onSelectableChanged()}),rA(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:s,gos:i}=this;let n=t.selectable;const o=this.getIsVisible();if(n)if(typeof o=="function"){const u=s==null?void 0:s.callbackParams;if(!e)n=o({...u,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);n=o({...u,...d})}}else n=o??!1;const r=i.get("rowSelection");if(r&&typeof r!="string"?!K0(r):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if(s!=null&&s.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var s,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Vd(t):(i=(s=this.column)==null?void 0:s.getColDef())==null?void 0:i.checkboxSelection}},E9=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const s=t[0].id===this.rootId,i=t.findIndex(n=>n.id===e.id);if(i>-1){const n=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),s?{keep:n,discard:o}:{keep:o,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){const s=this.getRoot();if(s==null){const n=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&n.push(o)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}const i=this.rowModel.getNodesInRangeForSelection(s,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(n=>n.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}},D9=class extends ae{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Yt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new IE);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Cl(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:i})=>{const n=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;n(s)!==n(i)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,s=this.cbSelectAll,i=t.getSelectAllState(e);s.setValue(i);const n=t.hasNodesToSelect(e);s.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:s,cbSelectAll:i,cbSelectAllVisible:n}=this,r=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");s.setAriaDescriptionProperty("selectAll",n?`${l} (${r})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||s.announceAriaDescription()}checkSelectionType(e){return xb(this.gos)?!0:(be(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:s}=this.beans;return ni(t)||Au(t)?!0:(be(129,{feature:e,rowModel:s.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let s="uiSelectAll";t==="currentPage"?s="uiSelectAllCurrentPage":t==="filtered"&&(s="uiSelectAllFiltered");const i={source:s,selectAll:t},n=this.beans.selectionSvc;e?n.selectAllRowNodes(i):n.deselectAllRowNodes(i)}isCheckboxSelection(){var d;const{column:e,gos:t,beans:s}=this,i=t.get("rowSelection"),n=e.getColDef(),{headerCheckboxSelection:o}=n;let r=!1;const l=typeof i=="object";if(l){const f=Yr(e),p=RE(e);(Sb(i)==="autoGroupColumn"&&p||f&&((d=s.selectionColSvc)!=null&&d.isSelectionColumnEnabled()))&&(r=tb(i))}else typeof o=="function"?r=o(ze(t,{column:e,colDef:n})):r=!!o;const u=l?"headerCheckbox":"headerCheckboxSelection";return r&&this.checkRightRowModelType(u)&&this.checkSelectionType(u)}getSelectAllMode(){const e=G_(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:s}=this.column.getColDef();return t?"currentPage":s?"filtered":"all"}},T9=class extends ae{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new E9(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const s=rA(e);s!==this.isRowSelectable&&(this.isRowSelectable=s,this.updateSelectable())}),this.isRowSelectable=rA(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new A9}createSelectAllFeature(e){return new D9(e)}isMultiSelect(){return xb(this.gos)}onRowCtrlSelected(e,t,s){const i=!!e.rowNode.isSelected();e.forEachGui(s,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i);const o=n.element;Xx(o,i),o.contains(Yt(this.beans))&&t(n)})}announceAriaRowSelection(e){var n;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(n=this.beans.ariaAnnounce)==null||n.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!iu(this.gos)}updateRowSelectable(e,t){var i;const s=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,s,t),s}setRowSelectable(e,t,s){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),s)return;if(ip(this.gos)){const n=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:n??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,s=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const o=e.childrenAfterGroup[n];let r=o.isSelected();if(!o.selectable){const l=this.calculateSelectedFromChildren(o);if(l===null)continue;r=l}switch(r){case!0:t=!0;break;case!1:s=!0;break;default:return}}if(!(t&&s))return t?!0:s?!1:e.selectable?e.__selected:null}selectRowNode(e,t,s,i="api"){const n=!e.selectable&&t,o=e.__selected===t;if(n||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const r=e.sibling;return r&&r.footer&&r.__localEventService&&r.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...d7(e,this.gos,"rowSelected"),event:s||null,source:i}),!0}isCellCheckboxSelection(e,t){const s=this.gos.get("rowSelection");if(s&&typeof s!="string"){const i=Yr(e)&&Vd(s);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,s,i){const{gos:n,selectionCtx:o}=this,r=e.isSelected(),l=ip(n),u=Yj(n),d=Xj(n),f=this.isMultiSelect(),p=i==="rowClicked";if(p&&l&&e.group||p&&!(u||d))return null;if(t&&s&&f){const m=o.getRoot();if(m)if(m.isSelected()){const C=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{deselect:C.discard,select:C.keep,reset:!1}}else{const C=o.extend(e,l);return{select:[],deselect:C.keep,reset:!1}}else return null}else if(t&&f){const m=o.selectAll?this.beans.rowModel.getRow(0):void 0,C=o.getRoot(m),w=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{select:w.keep,deselect:w.discard,reset:o.selectAll||!!(C&&!C.isSelected())}}else{if(s)return o.setRoot(e),p&&r&&!d?null:{node:e,newValue:!r,clearSelection:!f};{o.setRoot(e);const m=Qj(n),C=Ab(n)==="filteredDescendants",w=p&&(!m||!u);if(C&&r===void 0&&ni(n))return{node:e,newValue:!1,clearSelection:!f||w};if(p){const S=r?!m:u;return S===r&&!w||S&&!u||!S&&!d?null:{node:e,newValue:S,clearSelection:!f||w}}return{node:e,newValue:!r,clearSelection:!f||w}}}}},F9=class extends IE{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Tu=class extends tc{constructor(e,t="ag-text-field",s="text"){super(e,t,s)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const s=this.eInput;return s.value!==e&&(s.value=ye(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=s=>{AN(s)&&s.key&&!e.test(s.key)&&s.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:s=>{var n;const i=(n=s.clipboardData)==null?void 0:n.getData("text");i&&i.split("").some(o=>!e.test(o))&&s.preventDefault()}})}},Qw={selector:"AG-INPUT-TEXT-FIELD",component:Tu},P9=class extends tc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const s=super.setValue(e,t);return this.eInput.value=e,s}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},M9={selector:"AG-INPUT-TEXT-AREA",component:P9},_E=class extends Tu{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=parseFloat(e.value),r=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:s,max:i,step:n}=this.config;typeof t=="number"&&this.setPrecision(t),typeof s=="number"&&this.setMin(s),typeof i=="number"&&this.setMax(i),typeof n=="number"&&this.setStep(n)}onWheel(e){Yt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:s,max:i}=this;return s!=null&&t<s?e=s.toString():i!=null&&t>i&&(e=i.toString()),e}adjustPrecision(e,t){const s=this.precision;if(s==null)return e;if(t){const n=parseFloat(e).toFixed(s);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=s)return e;if(s>0)return`${i[0]}.${i[1].slice(0,s)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Dn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Dn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Dn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(s=>super.setValue(s,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,s){if(ye(s)){let i=this.isScientificNotation(s);if(i&&this.eInput.validity.valid)return e(s);if(!i){s=this.adjustPrecision(s);const n=this.normalizeValue(s);i=s!=n}if(i)return t(s)}return e(s)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},L9={selector:"AG-INPUT-NUMBER-FIELD",component:_E};function zg(e,t){return e.toString().padStart(t,"0")}function Tn(e,t=!0,s="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>zg(n,2)).join(s);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>zg(n,2)).join(":")),i}var iR=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Wg(e,t="YYYY-MM-DD"){const s=zg(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>s.slice(s.length-4,s.length),YY:()=>s.slice(s.length-2,s.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>zg(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${iR(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${iR(e.getDate())}`,DD:()=>zg(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${iR(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,l=>l in o?o[l]():l)}function Ii(e){if(!e)return null;const[t,s]=e.split(" ");if(!t)return null;const i=t.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[n,o,r]=i,l=new Date(n,o-1,r);if(l.getFullYear()!==n||l.getMonth()!==o-1||l.getDate()!==r)return null;if(!s||s==="00:00:00")return l;const[u,d,f]=s.split(":").map(p=>parseInt(p,10));return u>=0&&u<24&&l.setHours(u),d>=0&&d<60&&l.setMinutes(d),f>=0&&f<60&&l.setSeconds(f),l}var k9=class extends Tu{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Ru();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Yt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Tn(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Dn(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Tn(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Dn(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Dn(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Ii(this.getValue())??void 0}setDate(e,t){this.setValue(Tn(e??null,!1),t)}},_N={selector:"AG-INPUT-DATE-FIELD",component:k9},I9=1e3,O9=1e3,w1=100,y1,vC=!1,_9=class extends ae{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,s,i,n;return e==="show"?((s=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:s.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((n=(i=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:n.call(i))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!eu()&&(vC?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},w1):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var n;const t=e.relatedTarget,s=this.tooltipCtrl.getGui(),i=(n=this.tooltipComp)==null?void 0:n.getGui();this.isInteractingWithTooltip||s.contains(t)||this.interactionEnabled&&(i!=null&&i.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||vC)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-y1<I9}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var r,l,u,d,f,p,m;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ye(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const s=(r=t.getRowNode)==null?void 0:r.call(t),i=ze(this.gos,{location:((l=t.getLocation)==null?void 0:l.call(t))??"UNKNOWN",colDef:(u=t.getColDef)==null?void 0:u.call(t),column:(d=t.getColumn)==null?void 0:d.call(t),rowIndex:(f=t.getRowIndex)==null?void 0:f.call(t),node:s,data:s==null?void 0:s.data,value:e,valueFormatted:(p=t.getValueFormatted)==null?void 0:p.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((m=t.getAdditionalParams)==null?void 0:m.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=p8(this.userCompFactory,i);o==null||o.newAgStackInstance().then(n)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),y1=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var r;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const n=this.getLocaleTextFunc(),o=(r=this.popupSvc)==null?void 0:r.addPopup({eChild:i,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(us(this.beans),{keydown:l=>{i.contains(l==null?void 0:l.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const e=(s=this.tooltipComp)==null?void 0:s.getGui(),t=Yt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,s;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(s=this.popupSvc)==null||s.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,s=this.tooltipTrigger===0?O9:0;window.setTimeout(()=>{e(),this.destroyBean(t)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){vC=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},w1)}unlockService(){vC=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function nR(e){return e.get("tooltipShowMode")==="whenTruncated"}function rb(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var N9=class extends ae{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",s=this.ctrl.getGui();s&&(e!=null&&e!=""?s.setAttribute(t,e):s.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new _9(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},H9=class extends $t{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case oe.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case oe.DOWN:case oe.UP:e.preventDefault(),this.navigate(t);break;case oe.PAGE_DOWN:case oe.PAGE_UP:case oe.PAGE_HOME:case oe.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===oe.DOWN;let s;const{itemEls:i,highlightedEl:n}=this;if(!n)s=i[t?0:i.length-1];else{let r=i.indexOf(n)+(t?1:-1);r=Math.min(Math.max(r,0),i.length-1),s=i[r]}this.highlightItem(s)}navigateToPage(e){const{itemEls:t,highlightedEl:s}=this;if(!s||t.length===0)return;const i=t.indexOf(s),n=this.options.length-1,o=t[0].clientHeight,r=Math.floor(this.getGui().clientHeight/o);let l=-1;e===oe.PAGE_HOME?l=0:e===oe.PAGE_END?l=n:e===oe.PAGE_DOWN?l=Math.min(i+r,n):e===oe.PAGE_UP&&(l=Math.max(i-r,0)),l!==-1&&this.highlightItem(t[l])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:s}=e,i=s||t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Kr(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Cl(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,s)=>{pj(t,s+1),gj(t,e.length)})}renderOption(e,t){const s=us(this.beans),i=s.createElement("div");Cl(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=s.createElement("span");i.appendChild(n),n.textContent=t,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(i)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const s=this.options.findIndex(i=>i.value===e);if(s!==-1){const i=this.options[s];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[s]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Uo(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),Xx(e,!0);const t=this.getGui(),{scrollTop:s,clientHeight:i}=t,{offsetTop:n,offsetHeight:o}=e;(n+o>s+i||n<s)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Uo(e)||(e.classList.remove(this.activeClass),Xx(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},G9=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",B9={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},V9=class extends ON{constructor(e){if(super(e,(e==null?void 0:e.template)||B9,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=_e,this.eWrapper=_e,this.eDisplayField=_e,this.eIcon=_e,this.registerCSS(G9),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:s,variableWidth:i,minPickerWidth:n,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,s!=null&&this.setPickerMaxHeight(s),n!=null&&this.setPickerMinWidth(n),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:s,inputWidth:i}=this.config;if(s){const n=An(s,this.beans);n&&this.eIcon.appendChild(n)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Yx(e,!1),this.ariaRole&&Cl(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case oe.UP:case oe.DOWN:case oe.ENTER:case oe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case oe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:s,pickerAriaLabelValue:i,modalPicker:n=!0},maxPickerHeight:o,minPickerWidth:r,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:f}=this,p={modal:n,eChild:e,closeOnEsc:!0,closedCallback:()=>{const S=__(d);this.beforeHidePicker(),S&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(s,i),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,C=m.addPopup(p);u?(r&&(e.style.minWidth=r),e.style.width=vE(vb(f)),l&&(e.style.maxWidth=l)):wb(e,l??vb(f));const w=o??`${mE(m.getPopupParent())}px`;return e.style.setProperty("max-height",w),this.alignPickerToComponent(),C.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:s,gos:i},eWrapper:n,pickerComponent:o}=this,r=i.get("enableRtl")?"right":"left";s.positionPopupByComponent({type:t,eventSource:n,ePopup:o.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Yx(t,e);const s=this.eWrapper.classList;s.toggle("ag-picker-expanded",e),s.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return wb(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},z9=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",NE=class extends V9{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(z9)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:rb(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:s}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),s&&t==null&&(this.eDisplayField.textContent=s),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new H9("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),s=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",s),Sj(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i==null||i.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var s;const{key:t}=e;switch(t===oe.TAB&&this.hidePicker(),t){case oe.ENTER:case oe.UP:case oe.DOWN:case oe.PAGE_UP:case oe.PAGE_DOWN:case oe.PAGE_HOME:case oe.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(s=this.listComponent)==null||s.handleKeyDown(e):super.onKeyDown(e);break;case oe.ESCAPE:super.onKeyDown(e);break;case oe.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,s){const{listComponent:i,config:{placeholder:n},eDisplayField:o,tooltipFeature:r}=this;if(this.value===e||!i)return this;if(s||i.setValue(e,!0),i.getValue()===this.getValue())return this;let u=i.getDisplayValue();return u==null&&n&&(u=n),o.textContent=u,r==null||r.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},W9={selector:"AG-SELECT",component:NE},Ud={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},NN=class extends ae{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:s,eBottomGuard:i,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:r,focusInnerElement:l,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:m,isEmpty:C,eFocusableElement:w}=e;this.comp=t,this.eTopGuard=s,this.eBottomGuard=i,this.providedFocusInnerElement=l,this.eFocusableElement=w,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!r,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=m,this.providedIsEmpty=C}postConstruct(){this.createManagedBean(new af(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Wd(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var u;const t=us(this.beans),s=Wd(t.body,null,!0),i=s.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let n,o;e?(n=0,o=i):(n=i+1,o=s.length);const r=s.slice(n,o),l=this.gos.get("tabIndex");r.sort((d,f)=>{const p=parseInt(d.getAttribute("tabindex")||"0"),m=parseInt(f.getAttribute("tabindex")||"0");return m===l?1:p===l?-1:p===0?1:m===0?-1:p-m}),(u=r[e?r.length-1:0])==null||u.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const s=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),s&&(s.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Wd(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Du(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},U9=class extends ae{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:s,eFocusableElement:i}=this,n=[t,s],o={setTabIndex:R=>{n.forEach(A=>R!=null?A.setAttribute("tabindex",R):A.removeAttribute("tabindex"))}};this.addTabGuards(t,s);const{focusTrapActive:r=!1,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new NN({comp:o,focusTrapActive:r,eTopGuard:t,eBottomGuard:s,eFocusableElement:i,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=us(this.beans).createElement("div"),s=e==="top"?Ud.TAB_GUARD_TOP:Ud.TAB_GUARD_BOTTOM;return t.classList.add(Ud.TAB_GUARD,s),Cl(t,"presentation"),t}addTabGuards(e,t){const s=this.eFocusableElement;s.insertAdjacentElement("afterbegin",e),s.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];on(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,s){CE(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,s)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Kr(e),Kr(t),super.destroy()}},j9=class extends $t{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new U9(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,s){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,s)}},lf=class extends $t{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Td=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new hu,this.preventMouseClick=t;const s=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);e.addEventListener("touchstart",s,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",s,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const s=this.touchStart===t;if(this.touching&&s&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!CN(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const s={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(s),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},HN=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${D_}/${this.frameworkName}-data-grid`,Ij(this.baseDocLink)}setInterval(e,t){return new Ut(s=>{s(window.setInterval(e,t))})}addEventListener(e,t,s,i){let n={};if(typeof i=="object"?n=i:typeof i=="boolean"&&(n={capture:i}),n.passive==null){const o=U_(t);o!=null&&(n.passive=o)}e.addEventListener(t,s,n)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function $9(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var q9=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],S1=Object.fromEntries(q9.map((e,t)=>[e,t]));function K9(e,t){const s=(e.beanName?S1[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?S1[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return s-i}function Y9(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var X9=class extends ae{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,s){this.view=e,this.eGridHostDiv=t,this.eGui=s,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:n}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),gN(this.gos,t),this.createManagedBean(new DE(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=ia(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),n.register("gridCtrl",this)}isDetailGrid(){var t;const e=dN(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,s,i,n;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(s=e.sideBar)==null?void 0:s.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(n=e.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:s,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(s>0){const{visibleCols:n,focusSvc:o}=this.beans,r=n.allCols,l=Rt(r);if(o.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const s=this.getFocusableContainers(),{focusSvc:i,visibleCols:n}=this.beans,o=n.allCols;if(e){if(s.length>1)return this.focusContainer(Rt(s),e);const r=Rt(o);if(i.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||ru(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let r=1;r<s.length;r++)if(pu(s[r].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:s,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||s<0||s>=t.length)return;const n=t[s];(o=n.setAllowFocus)==null||o.call(n,!0),setTimeout(()=>{var r;(r=n.setAllowFocus)==null||r.call(n,!1)})}isFocusable(){var t,s;const e=this.beans;return!Xw(e)||!ru(e)||!!((s=(t=e.sideBar)==null?void 0:t.comp)!=null&&s.isDisplayed())}getNextFocusableIndex(e,t){const s=Yt(this.beans),i=e.findIndex(o=>o.getGui().contains(s)),n=i+(t?-1:1);return{indexWithFocus:i,nextIndex:n}}focusContainer(e,t){var i,n;(i=e.setAllowFocus)==null||i.call(e,!0);const s=pu(e.getGui(),t,!1,!0);return(n=e.setAllowFocus)==null||n.call(e,!1),s}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ye=(e,t)=>{for(const s of Object.keys(t))t[s]=e;return t},R1={dispatchEvent:"CommunityCore",...Ye("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...Ye("GridState",{getState:0}),...Ye("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ye("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ye("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ye("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ye("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ye("ValueCache",{expireValueCache:0}),...Ye("CellApi",{getCellValue:0}),...Ye("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ye("Sort",{onSortChanged:0}),...Ye("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...Ye("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ye("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ye("HighlightChanges",{flashCells:0}),...Ye("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Ye("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ye("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ye("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ye("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ye("ColumnResize",{setColumnWidths:0}),...Ye("ColumnHover",{isColumnHovered:0}),...Ye("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Ye("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ye("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ye("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Ye("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ye("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ye("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ye("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ye("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ye("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ye("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ye("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ye("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ye("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ye("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ye("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ye("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ye("ContextMenu",{showContextMenu:0}),...Ye("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ye("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ye("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ye("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ye("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ye("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ye("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ye("StatusBar",{getStatusPanel:0})},oR={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Q9=(e,t)=>e.eventSvc.dispatchEvent(t),GN=class{};Reflect.defineProperty(GN,"name",{value:"GridApi"});var Z9=class extends ae{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new GN,this.fns={...oR,dispatchEvent:Q9},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(R1))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var n;const{fns:s,beans:i}=this;s!==oR&&(s[e]=((n=i==null?void 0:i.validation)==null?void 0:n.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:s,fns:{[e]:i}}=this;return i?i(s,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:s,preDestroyLink:i}=this;if(!t)be(26,{fnName:e,preDestroyLink:i});else{const n=R1[e];s.assertModuleRegistered(n,`api.${e}`)&&be(27,{fnName:e,module:n})}}destroy(){super.destroy(),this.fns=oR,this.beans=null}};function J9(e){return e.context.getGridId()}function eq(e){e.gridDestroySvc.destroy()}function tq(e){return e.gridDestroySvc.destroyCalled}function sq(e,t){return e.gos.get(t)}function iq(e,t,s){BN(e,{[t]:s})}function BN(e,t){e.gos.updateGridOptions({options:t})}var nq={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},oq=class extends $t{constructor(e,t,s){super(nq),this.rowNode=e,this.column=t,this.eCell=s}postConstruct(){this.getGui().appendChild(An("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:s,eCell:i,gos:n}=this,o=s.getColDef().dndSourceOnRowDrag,r=e.dataTransfer;if(r.setDragImage(i,0,0),o){const l=ze(n,{rowNode:t,dragEvent:e});o(l)}else try{const l=JSON.stringify(t.data);r.setData("application/json",l),r.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function rq(e,t){var s,i;(i=(s=e.rowDragSvc)==null?void 0:s.rowDragFeature)==null||i.addRowDropZone(t)}function aq(e,t){var i,n;const s=(i=e.dragAndDrop)==null?void 0:i.findExternalZone(t);s&&((n=e.dragAndDrop)==null||n.removeDropTarget(s))}function lq(e,t){var s,i;return(i=(s=e.rowDragSvc)==null?void 0:s.rowDragFeature)==null?void 0:i.getRowDropZone(t)}var cq=class extends ae{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:s}=this.beans;return s.addDragSource(t),()=>s.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const s=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(s)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},uq={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},dq=class extends $t{constructor(e,t,s,i,n,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=s,this.customGui=i,this.dragStartPixels=n,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:s,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(uq),this.getGui().appendChild(An("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const n=i.get("rowDragManaged")?new fq(this,t,s):new hq(this,t,s);this.createManagedBean(n,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var i;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const s=((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[];return s.indexOf(e)!==-1?s:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const s=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var r;const i=this.getDragItem(),n=((r=i.rowNodes)==null?void 0:r.length)||1,o=this.getRowDragText(this.column);return o?o(i,n):n===1?this.cellValueFn():`${n} ${s("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VN=class extends ae{constructor(e,t,s){super(),this.parent=e,this.rowNode=t,this.column=s}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let s=!0,i=!1;const{column:n,rowNode:o,parent:r}=this;n&&(s=n.isRowDrag(o)||r.isCustomGui(),i=typeof n.getColDef().rowDrag=="function"),i?(r.setDisplayed(!0,t),r.setVisible(s,t)):(r.setDisplayed(s,t),r.setVisible(!0,t))}}},hq=class extends VN{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},fq=class extends VN{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:s}=this.beans,i=e.rowDragFeature,n=i&&i.shouldPreventRowMove(),o=s.get("suppressRowDrag"),r=t.hasExternalDropZones(),l=n&&!r||o;this.setDisplayedOrVisible(l)}},gq=class extends ae{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const s=t.createManagedBean(new l7(e)),i=this.beans.dragAndDrop;i.addDropTarget(s),t.addDestroyFunc(()=>i.removeDropTarget(s)),this.rowDragFeature=s}createRowDragComp(e,t,s,i,n,o){return new dq(e,t,s,i,n,o)}createRowDragCompForRow(e,t){if(bl(this.gos))return;const s=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${s("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,s,i,n,o){const r=this.gos;return r.get("rowDragManaged")&&(!ni(r)||r.get("pagination"))?void 0:this.createRowDragComp(s,e,t,i,n,o)}},zN={moduleName:"Drag",version:Se,beans:[c7]},pq={moduleName:"DragAndDrop",version:Se,dynamicBeans:{dndSourceComp:oq},icons:{rowDrag:"grip"}},WN={moduleName:"SharedDragAndDrop",version:Se,beans:[e7],dependsOn:[zN],userComponents:{agDragAndDropImage:p9},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},mq={moduleName:"RowDrag",version:Se,beans:[gq],apiFunctions:{addRowDropZone:rq,removeRowDropZone:aq,getRowDropZoneParams:lq},dependsOn:[WN]},vq={moduleName:"HorizontalResize",version:Se,beans:[cq],dependsOn:[zN]},Cq=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",bq=class extends ae{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:s,executeLaterFuncs:i}=this;if(s.length===0&&i.length===0){e(),t();return}const n=o=>{for(;o.length;){const r=o.pop();r&&r()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),n(s)},0),window.setTimeout(()=>{t(),n(i)},200)})}};function wq(e,t,s){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,s,"api")}function yq(e,t,s){var i;(i=e.colMoves)==null||i.moveColumns(t,s,"api")}var Sq=class extends ae{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(s=>{s.isPrimary()&&(s.isAnyFunctionActive()||(s.isAllowValue()?this.columnsToAggregate.push(s):s.isAllowRowGroup()?this.columnsToGroup.push(s):s.isAllowPivot()&&this.columnsToPivot.push(s)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:s,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(s==null||s.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function Rq(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,n)=>{const o=e.indexOf(i),r=e.indexOf(n);return o-r})}function UN(e){const{isFromHeader:t,fromLeft:s,xPosition:i,fromEnter:n,fakeEvent:o,pinned:r,gos:l,colModel:u,colMoves:d,visibleCols:f}=e;let{allMovingColumns:p}=e;if(t){const L=[];p.forEach(k=>{var W;let H=null,G=k.getParent();for(;G!=null&&G.getDisplayedLeafColumns().length===1;)H=G,G=G.getParent();H!=null?(!!((W=H.getColGroupDef())!=null&&W.marryChildren)?H.getProvidedColumnGroup().getLeafColumns():H.getLeafColumns()).forEach(Z=>{L.includes(Z)||L.push(Z)}):L.includes(k)||L.push(k)}),p=L}const m=p.slice();Rq(u.getCols(),m);const C=Dq({movingCols:m,draggingRight:s,xPosition:i,pinned:r,gos:l,colModel:u,visibleCols:f}),w=xq(m,u);if(C.length===0)return;const S=C[0];let R=w!==null&&!n;if(t&&(R=w!==null),R&&!o&&(!s&&S>=w||s&&S<=w))return;const A=f.allCols,D=[];let E=null;for(let L=0;L<C.length;L++){const k=C[L],H=d.getProposedColumnOrder(m,k);if(!d.doesOrderPassRules(H))continue;const G=H.filter(q=>A.includes(q));if(E===null)E=G;else if(!Eu(G,E))break;const W=Aq(H);D.push({move:k,fragCount:W})}if(D.length===0)return;D.sort((L,k)=>L.fragCount-k.fragCount);const F=D[0].move;if(!(F>u.getCols().length-p.length))return{columns:p,toIndex:F}}function jN(e){const{columns:t,toIndex:s}=UN(e)||{},{finished:i,colMoves:n}=e;return!t||s==null?null:(n.moveColumns(t,s,"uiColumnMoved",i),i?null:{columns:t,toIndex:s})}function xq(e,t){const s=t.getCols(),i=e.map(u=>s.indexOf(u)).sort((u,d)=>u-d),n=i[0];return Rt(i)-n!==i.length-1?null:n}function Aq(e){function t(i){const n=[];let o=i.getOriginalParent();for(;o!=null;)n.push(o),o=o.getOriginalParent();return n}let s=0;for(let i=0;i<e.length-1;i++){let n=t(e[i]),o=t(e[i+1]);[n,o]=n.length>o.length?[n,o]:[o,n],n.forEach(r=>{o.indexOf(r)===-1&&s++})}return s}function Eq(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Dq(e){const{movingCols:t,draggingRight:s,xPosition:i,pinned:n,gos:o,colModel:r,visibleCols:l}=e;if(o.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const d=Eq(l,n),f=r.getCols(),p=d.filter(E=>t.includes(E)),m=d.filter(E=>!t.includes(E)),C=f.filter(E=>!t.includes(E));let w=0,S=i;if(s){let E=0;p.forEach(F=>E+=F.getActualWidth()),S-=E}if(S>0){for(let E=0;E<m.length;E++){const F=m[E];if(S-=F.getActualWidth(),S<0)break;w++}s&&w++}let R;if(w>0){const E=m[w-1];R=C.indexOf(E)+1}else R=C.indexOf(m[0]),R===-1&&(R=0);const A=[R],D=(E,F)=>E-F;if(s){let E=R+1;const F=f.length-1;for(;E<=F;)A.push(E),E++;A.sort(D)}else{let E=R;const F=f.length-1;let L=f[E];for(;E<=F&&d.indexOf(L)<0;)E++,A.push(E),L=f[E];E=R-1;const k=0;for(;E>=k;)A.push(E),E--;A.sort(D).reverse()}return A}function dA(e){var d;const{pinned:t,fromKeyboard:s,gos:i,ctrlsSvc:n,useHeaderRow:o,skipScrollPadding:r}=e;let l=(d=n.getHeaderRowContainerCtrl(t))==null?void 0:d.eViewport,{x:u}=e;return l?(s&&(u-=l.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!r&&(u+=n.get("center").getCenterViewportScrollLeft()),u):0}function rR(e,t){for(const s of e)s.moving=t,s.dispatchColEvent("movingChanged","uiColumnMoved")}var x1=7,hA=100,CC=hA/2,Tq=5,Fq=100,Pq=class extends ae{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ye(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,s=(t==null?void 0:t.dragItem.columns)??[];for(const i of s){const n=i.getPinned();if(i.getColDef().lockPinned){if(n==e)return"move";continue}if(n===e||!e)return"move";if(!n&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,s=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(s,!0,"uiColumnDragged");else{const n=t.visibleState,o=(s||[]).filter(r=>n[r.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(s,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,s=!1,i=!1){const{gos:n,ctrlsSvc:o}=this.beans,r=n.get("suppressMoveWhenColumnDragging");if(i&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&jt(e.hDirection))return;const l=dA({x:e.x,pinned:this.pinned,gos:n,ctrlsSvc:o});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,s,l,i):this.handleColumnDragWhileAllowingMovement(e,t,s,l,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,s){if(!e)return;const i=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,s)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:s}=e;this.beans.colMoves.moveColumns(t,s,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,s,i,n){const o=this.getAllMovingColumns(e,!0);if(n){const r=this.isAttemptingToPin(o);r&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(o,r)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:u,fromEnter:t,fakeEvent:s,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,s,i,n){const o=this.getAllMovingColumns(e),r=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:l,xPosition:i,fromLeft:r,fromEnter:t,fakeEvent:s}),d=jN({...u,finished:n});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const s=e.dragSource.getDragItem();let i=null;t?(i=s.columnsInSplit,i||(i=s.columns)):i=s.columns;const n=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(n):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:s,xPosition:i,fromLeft:n,fromEnter:o,fakeEvent:r}=e,{gos:l,colModel:u,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:s,fromLeft:n,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:r,gos:l,colModel:u,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){var f;const{gos:s,colModel:i}=this.beans,n=s.get("enableRtl"),o=i.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let r=null,l=null,u=null;for(const p of o){if(l=p.getActualWidth(),r=this.getNormalisedColumnLeft(p,0,n),r!=null){const m=r+l;if(r<=t&&m>=t){u=p;break}}r=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let p=o.length-1;p>=0;p--){const m=o[p],C=o[p].getParent();if(!C){u=m;break}const w=C==null?void 0:C.getDisplayedLeafColumns();if(w.length){u=Rt(w);break}}if(!u)return;r=this.getNormalisedColumnLeft(u,0,n),l=u.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==u&&this.clearHighlighted(),u==null||r==null||l==null)return;let d;t-r<l/2!==n?d=0:d=1,A1(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:s,visibleCols:i}=this.beans,n=s.get("enableRtl"),{firstMovingCol:o,column:r,position:l}=this.getColumnMoveAndTargetInfo(e,t,n);if(!o||!r||l==null)return;const u=i.allCols,d=u.indexOf(o),f=u.indexOf(r),p=l===0!==n,m=d<f||d===f&&!p;let C=0;if(p?m&&(C-=1):m||(C+=1),f+C===d)return;const w=u[f+C];if(!w)return;const S=this.getNormalisedColumnLeft(w,20,n);return{fromLeft:m,xPosition:S}}getColumnMoveAndTargetInfo(e,t,s){const i=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:o}=Mq(e);if(!n||!o||i.column||!t)return{firstMovingCol:n,...i};const l=this.getPinDirection()==="left";return{firstMovingCol:n,position:l?1:0,column:l!==s?n:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,s){const{gos:i,ctrlsSvc:n}=this.beans,o=e.getLeft();if(o==null)return null;const r=e.getActualWidth();return dA({x:s?o+r-t:o+t,pinned:e.getPinned(),useHeaderRow:s,skipScrollPadding:!0,gos:i,ctrlsSvc:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,s=this.failedMoveAttempts>x1;return t&&s||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:s,fromEnter:i,fakeEvent:n,fromLeft:o}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:s,fromLeft:o,fromEnter:i,fakeEvent:n}),{columns:l,toIndex:u}=UN(r)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(A1(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),s=t.getCenterViewportScrollLeft(),i=s+t.getCenterWidth();let n,o;this.gos.get("enableRtl")?(n=e<s+CC,o=e>i-CC):(o=e<s+CC,n=e>i-CC),this.needToMoveRight=n,this.needToMoveLeft=o,o||n?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Fq),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,n;let e;this.intervalCount++,e=10+this.intervalCount*Tq,e>hA&&(e=hA);let t=null;const s=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=s.scrollHorizontally(-e):this.needToMoveRight&&(t=s.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:r,gos:l}=this.beans;if(this.failedMoveAttempts<=x1+1||!o)return;if((i=r.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!l.get("suppressMoveWhenColumnDragging")){const u=(n=this.lastDraggingEvent)==null?void 0:n.dragItem.columns;this.attemptToPinColumns(u,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,s=!1){const i=(e||[]).filter(r=>!r.getColDef().lockPinned);if(!i.length)return 0;s&&(t=this.getPinDirection());const{pinnedCols:n,dragAndDrop:o}=this.beans;return n==null||n.setColsPinned(i,t,"uiColumnDragged"),s&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function A1(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Mq(e){const t=e.length;let s,i;for(let n=0;n<t;n++){if(!s){const o=e[n];o.getLeft()!=null&&(s=o)}if(!i){const o=e[t-1-n];o.getLeft()!=null&&(i=o)}if(s&&i)break}return{firstMovingCol:s,lastMovingCol:i}}var Lq=class extends ae{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,s=this.pinned;e.whenReady(this,i=>{let n;const o=i.gridBodyCtrl.eBodyViewport;switch(s){case"left":n=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":n=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:n=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=n}),this.moveColumnFeature=this.createManagedBean(new Pq(s)),this.bodyDropPivotTarget=this.createManagedBean(new Sq(s)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},kq=class extends ae{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,s){const i=this.beans.colModel.getCols();if(!i)return;const n=i[e];this.moveColumns([n],t,s)}moveColumns(e,t,s,i=!0){const{colModel:n,colAnimation:o,visibleCols:r,eventSvc:l}=this.beans,u=n.getCols();if(!u)return;if(t>u.length-e.length){be(30,{toIndex:t});return}o==null||o.start();const d=n.getColsForKeys(e);this.doesMovePassRules(d,t)&&(c1(n.getCols(),d,t),r.refresh(s),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:s})),o==null||o.finish()}doesMovePassRules(e,t){const s=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(s)}doesOrderPassRules(e){const{colModel:t,gos:s}=this.beans;return!(!J_(e,t.getColTree())||!(n=>{const o=d=>d?d==="left"||d===!0?-1:1:0,r=s.get("enableRtl");let l=r?1:-1,u=!0;return n.forEach(d=>{const f=o(d.getColDef().lockPosition);r?f>l&&(u=!1):f<l&&(u=!1),l=f}),u})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return c1(i,e,t),i}createBodyDropTarget(e,t){return new Lq(e,t)}moveHeader(e,t,s,i,n){const{ctrlsSvc:o,gos:r,colModel:l,visibleCols:u,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),p=f.left,m=ts(s),C=m?f.width:s.getActualWidth(),w=e==="left"!==r.get("enableRtl"),S=dA({x:w?p-20:p+C+20,pinned:i,fromKeyboard:!0,gos:r,ctrlsSvc:o}),R=d.focusedHeader;jN({allMovingColumns:m?s.getLeafColumns():[s],isFromHeader:!0,fromLeft:e==="right",xPosition:S,pinned:i,fromEnter:!1,fakeEvent:!1,gos:r,colModel:l,colMoves:this,visibleCols:u,finished:!0});let A;if(m){const D=s.getDisplayedLeafColumns();A=w?D[0]:Rt(D)}else A=s;if(o.getScrollFeature().ensureColumnVisible(A,"auto"),(!n.isAlive()||r.get("ensureDomOrder"))&&R){let D;if(m){const E=s.getGroupId(),F=s.getLeafColumns();if(!F.length)return;const L=F[0].getParent();if(!L)return;D=Iq(L,E)}else D=s;D&&d.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,s){const{gos:i,colModel:n,dragAndDrop:o,visibleCols:r}=this.beans;let l=!i.get("suppressDragLeaveHidesColumns");const u=ts(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>_q(t,r.allCols):()=>Oq(t),dragItemName:s,onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),rR(d,!0)},onDragStopped:()=>rR(d,!1),onDragCancelled:()=>rR(d,!1),onGridEnter:m=>{if(l){const{columns:C=[],visibleState:w}=m??{},S=u?A=>!w||w[A.getColId()]:()=>!0,R=C.filter(A=>!A.getColDef().lockVisible&&S(A));n.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{var C;if(l){const w=((C=m==null?void 0:m.columns)==null?void 0:C.filter(S=>!S.getColDef().lockVisible))||[];n.setColsVisible(w,!1,"uiColumnMoved")}}};return o.addDragSource(p,!0),p}};function Iq(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Oq(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function _q(e,t){const s=e.getProvidedColumnGroup().getLeafColumns(),i={};s.forEach(l=>i[l.getId()]=l.isVisible());const n=[];t.forEach(l=>{s.indexOf(l)>=0&&(n.push(l),no(s,l))}),s.forEach(l=>n.push(l));const o=[],r=e.getLeafColumns();for(const l of n)r.indexOf(l)!==-1&&o.push(l);return{columns:n,columnsInSplit:o,visibleState:i}}var Nq={moduleName:"ColumnMove",version:Se,beans:[kq,bq],apiFunctions:{moveColumnByIndex:wq,moveColumns:yq},dependsOn:[WN],css:[Cq]},Hq=class extends ae{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const s=this.getHeaderCellForColumn(e);if(!s)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(s),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const s=document.createElement("form");s.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,s)),i.appendChild(s);const n=s.offsetWidth;return i.removeChild(s),t=t??this.gos.get("autoSizePadding"),n+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(s=>{const i=s.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const s=e.cloneNode(!0);s.style.width="",s.style.position="static",s.style.left="";const i=document.createElement("div"),n=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>s.classList.contains(l))?(n.add("ag-header","ag-header-row"),i.style.position="static"):n.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(u=>r.classList.contains(u))){for(let u=0;u<r.classList.length;u++){const d=r.classList[u];d!="ag-row-position-absolute"&&n.add(d)}break}r=r.parentElement}i.appendChild(s),t.appendChild(i)}},$N={moduleName:"AutoWidth",version:Se,beans:[Hq]};function Gq(e,t,s=!0,i="api"){var n;(n=e.colResize)==null||n.setColumnWidths(t,!1,s,i)}var Bq=class extends ae{constructor(e,t,s,i){super(),this.comp=e,this.eResize=t,this.pinned=s,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:s}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&s&&this.addDestroyFunc(s.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:s,resizeRatios:i,groupAfterColumns:n,groupAfterStartWidth:o,groupAfterRatios:r}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=s,this.resizeRatios=i,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r,this.toggleColumnResizing(!0)}onResizing(e,t,s="uiColumnResized"){const i=this.normaliseDragChange(t),n=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(n,s,e)}getInitialValues(e){var u;const t=d=>d.reduce((f,p)=>f+p.getActualWidth(),0),s=(d,f)=>d.map(p=>p.getActualWidth()/f),i=this.getColumnsToResize(),n=t(i),o=s(i,n),r={columnsToResize:i,resizeStartWidth:n,resizeRatios:o};let l=null;if(e&&(l=((u=this.beans.colGroupSvc)==null?void 0:u.getGroupAtDirection(this.columnGroup,"After"))??null),l){const d=l.getDisplayedLeafColumns(),f=r.groupAfterColumns=d.filter(m=>m.isResizable()),p=r.groupAfterStartWidth=t(f);r.groupAfterRatios=s(f,p)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),s=this.getInitialValues();t>s.resizeStartWidth&&this.resizeColumns(s,t,e,!0)}resizeColumnsFromLocalValues(e,t,s=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,s)}resizeColumns(e,t,s,i=!0){var p;const{columnsToResize:n,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,f=[];if(f.push({columns:n,ratios:r,width:t}),l){const m=t-o;f.push({columns:l,ratios:d,width:u-m})}(p=this.beans.colResize)==null||p.resizeColumnSets({resizeSets:f,finished:i,source:s}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},Vq=class extends ae{constructor(e,t,s,i,n){super(),this.pinned=e,this.column=t,this.eResize=s,this.comp=i,this.ctrl=n}postConstruct(){const e=[];let t,s;const i=()=>{if(ss(this.eResize,t),!t)return;const{horizontalResizeSvc:r,colAutosize:l}=this.beans,u=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),s&&l&&e.push(l.addColumnAutosize(this.eResize,this.column))},n=()=>{e.forEach(r=>r()),e.length=0},o=()=>{const r=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||l!==s)&&(t=r,s=l,n(),i())};o(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:s,lastResizeAmount:i,resizeStartWidth:n,beans:o}=this,r=this.normaliseResizeAmount(t),l=n+r,u=[{key:s,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:p}=o;if(this.column.getPinned()){const m=(d==null?void 0:d.leftWidth)??0,C=(d==null?void 0:d.rightWidth)??0,w=ep(f.getGridBodyCtrl().eBodyViewport)-50;if(m+C+(r-i)>w)return}this.lastResizeAmount=r,p==null||p.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const s=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?s&&(t*=-1):i&&(t*=-1),t}},zq=class extends ae{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,s,i){const n=[],{colModel:o,gos:r,visibleCols:l}=this.beans;e.forEach(u=>{const d=o.getColDefCol(u.key)||o.getCol(u.key);if(!d)return;if(n.push({width:u.newWidth,ratios:[1],columns:[d]}),r.get("colResizeDefault")==="shift"&&(t=!t),t){const p=l.getColAfter(d);if(!p)return;const m=d.getActualWidth()-u.newWidth,C=p.getActualWidth()+m;n.push({width:C,ratios:[1],columns:[p]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:s,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:s,source:i}=e;if(!(!t||t.every(f=>Wq(f)))){if(s){const f=t&&t.length>0?t[0].columns:null;Qh(this.eventSvc,f,s,i)}return}const o=[],r=[];t.forEach(f=>{const{width:p,columns:m,ratios:C}=f,w={},S={};m.forEach(D=>r.push(D));let R=!0,A=0;for(;R;){if(A++,A>1e3){xt(31);break}R=!1;const D=[];let E=0,F=p;m.forEach((k,H)=>{if(S[k.getId()])F-=w[k.getId()];else{D.push(k);const W=C[H];E+=W}});const L=1/E;D.forEach((k,H)=>{const G=H===D.length-1;let W;G?W=F:(W=Math.round(C[H]*p*L),F-=W);const q=k.getMinWidth(),K=k.getMaxWidth();W<q?(W=q,S[k.getId()]=!0,R=!0):K>0&&W>K&&(W=K,S[k.getId()]=!0,R=!0),w[k.getId()]=W})}m.forEach(D=>{const E=w[D.getId()];D.getActualWidth()!==E&&(D.setActualWidth(E,i),o.push(D))})});const l=o.length>0;let u=[];if(l){const{colFlex:f,visibleCols:p,colViewport:m}=this.beans;u=(f==null?void 0:f.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}))??[],p.setLeftValues(i),p.updateBodyWidths(),m.checkViewportColumns()}const d=r.concat(u);(l||s)&&Qh(this.eventSvc,d,s,i,u)}resizeHeader(e,t,s){if(!e.isResizable())return;const i=e.getActualWidth(),n=e.getMinWidth(),o=e.getMaxWidth(),r=Math.min(Math.max(i+t,n),o);this.setColumnWidths([{key:e,newWidth:r}],s,!0,"uiColumnResized")}createResizeFeature(e,t,s,i,n){return new Vq(e,t,s,i,n)}createGroupResizeFeature(e,t,s,i){return new Bq(e,t,s,i)}};function Wq(e){const{columns:t,width:s}=e;let i=0,n=0,o=!0;t.forEach(u=>{const d=u.getMinWidth();i+=d||0;const f=u.getMaxWidth();f>0?n+=f:o=!1});const r=s>=i,l=!o||s<=n;return r&&l}var Uq={moduleName:"ColumnResize",version:Se,beans:[zq],apiFunctions:{setColumnWidths:Gq},dependsOn:[vq,$N]},jq=class extends ae{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},$q=class extends kE{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,s,i,n){const{column:o,beans:r}=this,{context:l,colNames:u,colHover:d,rangeSvc:f,colResize:p}=r;this.comp=e,n=Nm(this,l,n),this.setGui(t,n),this.displayName=u.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:n}),this.setupUserComp(),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,C=o.getProvidedColumnGroup().getLeafColumns();d==null||d.createHoverFeature(n,C,t),f==null||f.createRangeHighlightFeature(n,o,e),n.createManagedBean(new LE(o,t,r)),n.createManagedBean(new jq(e,o)),p?this.resizeFeature=n.createManagedBean(p.createGroupResizeFeature(e,s,m,o)):e.setResizableDisplayed(!1),n.createManagedBean(new af(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,C),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.getDefinition();return ze(t.gos,{colDef:s,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,s=e.get("groupHeaderHeight");s!=null?s===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(s):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const s of t)e.addManagedListeners(s,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,s)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),s=t[0]===e,i=Rt(t)===e;if(!s&&!i)return;const n=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let r=!1,l=!1;if(o){const u=this.beans.gos.get("enableRtl"),d=n===1,f=n===0;s&&(u?l=d:r=f),i&&(u?r=f:l=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",r),this.comp.addOrRemoveCssClass("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:s}=this;if(!s)return;const i=s.getInitialValues(t);s.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:s}=this.beans,i=ze(s,{displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,r)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}}),n=n8(t,i);n&&this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),s=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const s=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:s,expandableChanged:s})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),s=cN(t,this.gos,null,e);e.isPadding()?(s.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&s.push("ag-header-span-height")):(s.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&s.push("ag-header-cell-wrap-text")),s.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:n})}),n()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===oe.ENTER){const s=this.column,i=!s.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function qq(e,t,s){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,s,"api")}function Kq(e,t,s){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,s))??null}function Yq(e,t){var s;return((s=e.colGroupSvc)==null?void 0:s.getProvidedColGroup(t))??null}function Xq(e,t,s){return e.colNames.getDisplayNameForColumnGroup(t,s)||""}function Qq(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Zq(e,t){var s;(s=e.colGroupSvc)==null||s.setColumnGroupState(t,"api")}function Jq(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function eK(e){return e.visibleCols.treeLeft}function tK(e){return e.visibleCols.treeCenter}function sK(e){return e.visibleCols.treeRight}function iK(e){return e.visibleCols.getAllTrees()}function nK(e,t){for(let s=0;s<t.length;s++){const i=e.indexOf(t[s]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var oK=class extends ae{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var l;const{colModel:s,colGroupSvc:i,colViewport:n}=this.beans;t||this.buildTrees(s,i),i==null||i.updateOpenClosedVisibility();const o=aR(this.treeLeft);this.leftCols=o,this.centerCols=aR(this.treeCenter);const r=aR(this.treeRight);this.rightCols=r,this.joinColsAriaOrder(s),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(u=>u.isAutoHeight()),(l=this.beans.colFlex)==null||l.refreshFlexedColumns(),this.updateBodyWidths(),n.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(s,o,r,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=pr(this.centerCols),t=pr(this.leftCols),s=pr(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==s)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=s,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,s,i){let n,o;this.gos.get("enableRtl")?(n=t?t[0]:null,o=s?Rt(s):null):(n=t?Rt(t):null,o=s?s[0]:null),e.getCols().forEach(r=>{r.setLastLeftPinned(r===n,i),r.setFirstRightPinned(r===o,i)})}buildTrees(e,t){const s=e.getColsToShow(),i=s.filter(u=>u.getPinned()=="left"),n=s.filter(u=>u.getPinned()=="right"),o=s.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),r=new nN,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:i,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:n,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),s=[],i=[],n=[];for(const o of t){const r=o.getPinned();r?r===!0||r==="left"?s.push(o):n.push(o):i.push(o)}this.ariaOrderColumns=s.concat(i).concat(n)}getAriaColIndex(e){let t;return ts(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{ts(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),n=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(n){let r=pr(o);o.forEach(l=>{r-=l.getActualWidth(),l.setLeft(r,e)})}else{let r=0;o.forEach(l=>{l.setLeft(r,e),r+=l.getActualWidth()})}nK(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,s,i){const n=[];let o=null;for(let r=0;r<t.length;r++){const l=t[r],u=t.length-r,d=Math.min(l.getColSpan(e),u),f=[l];if(d>1){const m=d-1;for(let C=1;C<=m;C++)f.push(t[r+C]);r+=m}let p;s?(p=!1,f.forEach(m=>{s(m)&&(p=!0)})):p=!0,p&&(n.length===0&&o&&(i&&i(l))&&n.push(o),n.push(l)),o=l}return n}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,s=t.indexOf(e);return s>0?t[s-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};au(this.treeCenter,!1,e),au(this.treeLeft,!1,e),au(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let s=0;s<t.length;s++){const i=this[t[s]];if(i.length)return e?Rt(i):i[0]}return null}getColAfter(e){const t=this.allCols,s=t.indexOf(e);return s<t.length-1?t[s+1]:null}getColsLeftWidth(){return pr(this.leftCols)}getDisplayedColumnsRightWidth(){return pr(this.rightCols)}isColAtEdge(e,t){const s=this.allCols;if(!s.length)return!1;const i=t==="first";let n;if(ts(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;n=i?o[0]:Rt(o)}else n=e;return(i?s[0]:Rt(s))===n}};function au(e,t,s){if(e)for(let i=0;i<e.length;i++){const n=e[i];if(ts(n)){const o=t?n.getDisplayedChildren():n.getChildren();au(o,t,s)}s(n)}}function aR(e){const t=[];return au(e,!0,s=>{wl(s)&&t.push(s)}),t}var rK=class extends ae{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return jr(null,t,s=>{pi(s)&&e.push({groupId:s.getGroupId(),open:s.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const s=[];jr(null,t,i=>{if(pi(i)){const n=i.getColGroupDef(),o={groupId:i.getGroupId(),open:n?n.openByDefault:void 0};s.push(o)}}),this.setColumnGroupState(s,e)}setColumnGroupState(e,t){const{colModel:s,colAnimation:i,visibleCols:n,eventSvc:o}=this.beans;if(!s.getColTree().length)return;i==null||i.start();const l=[];e.forEach(u=>{const d=u.groupId,f=u.open,p=this.getProvidedColGroup(d);p&&p.isExpanded()!==f&&(p.setExpanded(f),l.push(p))}),n.refresh(t,!0),l.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),i==null||i.finish()}setColumnGroupOpened(e,t,s){let i;pi(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],s)}getProvidedColGroup(e){let t=null;return jr(null,this.beans.colModel.getColTree(),s=>{pi(s)&&s.getId()===e&&(t=s)}),t}getGroupAtDirection(e,t){const s=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),n=t==="After"?Rt(i):i[0],o=`getCol${t}`;for(;;){const r=this.beans.visibleCols[o](n);if(!r)return null;const l=this.getColGroupAtLevel(r,s);if(l!==e)return l}}getColGroupAtLevel(e,t){let s=e.getParent(),i,n;for(;i=s.getProvidedColumnGroup().getLevel(),n=s.getPaddingLevel(),!(i+n<=t);)s=s.getParent();return s}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();au(e,!1,t=>{ts(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(ts(e))return e;const s=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let n=null;return au(s,!1,o=>{if(ts(o)){const r=o;let l;i?l=e===r.getGroupId()&&t===r.getPartId():l=e===r.getGroupId(),l&&(n=r)}}),n}createColumnGroups(e){const{columns:t,idCreator:s,pinned:i,oldDisplayedGroups:n,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(n),l=[];let u=t;for(;u.length;){const d=u;u=[];let f=0;const p=m=>{const C=f;f=m;const w=d[C],R=(ts(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(R==null){for(let D=C;D<m;D++)l.push(d[D]);return}const A=this.createColumnGroup(R,s,r,i,o);for(let D=C;D<m;D++)A.addChild(d[D]);u.push(A)};for(let m=1;m<d.length;m++){const C=d[m],S=(ts(C)?C.getProvidedColumnGroup():C).getOriginalParent(),R=d[f],D=(ts(R)?R.getProvidedColumnGroup():R).getOriginalParent();S!==D&&p(m)}f<d.length&&p(d.length)}return o||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,s,i,n,o,r){const l=n.getUniqueKey(t.groupId||null,null),u=this.createMergedColGroupDef(t,l),d=new sb(u,l,!1,s);this.createBean(d);const f=this.findExistingGroup(t,o);f&&o.splice(f.idx,1);const p=f==null?void 0:f.group;p&&d.setExpanded(p.isExpanded());const m=X_(this.beans,u.children,s+1,e,i,n,o,r);return d.setChildren(m),d}balanceColumnTree(e,t,s,i){const n=[];for(let o=0;o<e.length;o++){const r=e[o];if(pi(r)){const l=r,u=this.balanceColumnTree(l.getChildren(),t+1,s,i);l.setChildren(u),n.push(l)}else{let l,u;for(let d=s-1;d>=t;d--){const f=i.getUniqueKey(null,null),p=this.createMergedColGroupDef(null,f),m=new sb(p,f,!0,t);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(n.push(l),e.some(f=>pi(f))){u.setChildren([r]);continue}else{u.setChildren(e);break}n.push(r)}}return n}findDepth(e){let t=0,s=e;for(;s&&s[0]&&pi(s[0]);)t++,s=s[0].getChildren();return t}findMaxDepth(e,t){let s=t;for(let i=0;i<e.length;i++){const n=e[i];if(pi(n)){const o=n,r=this.findMaxDepth(o.getChildren(),t+1);s<r&&(s=r)}}return s}balanceTreeForAutoCols(e,t){const s=[];return e.forEach(i=>{let n=i;for(let o=t-1;o>=0;o--){const r=new sb(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(r),r.setChildren([n]),n.originalParent=r,n=r}t===0&&(i.originalParent=null),s.push(n)}),s}createMergedColGroupDef(e,t){const s={},{gos:i,validation:n}=this.beans;return Object.assign(s,i.get("defaultColGroupDef")),Object.assign(s,e),n==null||n.validateColDef(s,t),s}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const n=t[i];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:i,group:n}}}createColumnGroup(e,t,s,i,n){const o=e.getGroupId(),r=t.getInstanceIdForKey(o),l=bN(o,r);let u=s[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ye(u)?u.reset():(u=new wN(e,o,r,i),n||this.createBean(u)),u}mapOldGroupsById(e){const t={},s=i=>{i.forEach(n=>{if(ts(n)){const o=n;t[n.getUniqueId()]=o,s(o.getChildren())}})};return e&&s(e),t}setupParentsIntoCols(e,t){e.forEach(s=>{if(s.parent=t,ts(s)){const i=s;this.setupParentsIntoCols(i.getChildren(),i)}})}},aK={moduleName:"ColumnGroup",version:Se,dynamicBeans:{headerGroupCellCtrl:$q},beans:[rK],apiFunctions:{getAllDisplayedColumnGroups:iK,getCenterDisplayedColumnGroups:tK,getColumnGroup:Kq,getColumnGroupState:Qq,getDisplayNameForColumnGroup:Xq,getLeftDisplayedColumnGroups:eK,getProvidedColumnGroup:Yq,getRightDisplayedColumnGroups:sK,resetColumnGroupState:Jq,setColumnGroupOpened:qq,setColumnGroupState:Zq}},lK={moduleName:"CheckboxCellRenderer",version:Se,userComponents:{agCheckboxCellRenderer:y9}};function cK(e,t){const s=e.colModel.getColDefCol(t);return s?s.getColDef():null}function uK(e){return e.colModel.getColumnDefs()}function dK(e,t,s){return e.colNames.getDisplayNameForColumn(t,s)||""}function hK(e,t){return e.colModel.getColDefCol(t)}function fK(e){return e.colModel.getColDefCols()}function gK(e,t){return sn(e,t,"api")}function pK(e){return np(e)}function mK(e){P$(e,"api")}function vK(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function CK(e){return e.visibleCols.isPinningLeft()}function bK(e){return e.visibleCols.isPinningRight()}function wK(e,t){return e.visibleCols.getColAfter(t)}function yK(e,t){return e.visibleCols.getColBefore(t)}function SK(e,t,s){e.colModel.setColsVisible(t,s,"api")}function RK(e,t,s){var i;(i=e.pinnedCols)==null||i.setColsPinned(t,s,"api")}function xK(e){return e.colModel.getCols()}function AK(e){return e.visibleCols.leftCols}function EK(e){return e.visibleCols.centerCols}function DK(e){return e.visibleCols.rightCols}function TK(e){return e.visibleCols.allCols}function FK(e){return e.colViewport.getViewportColumns()}function fA(e,t){if(!e)return;const s=e,i={};return Object.keys(s).forEach(n=>{if(t&&t.indexOf(n)>=0||j_.has(n))return;const o=s[n];typeof o=="object"&&o!==null&&o.constructor===Object?i[n]=fA(o):i[n]=o}),i}var PK=class extends ae{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,s,i){var l,u;const n=e.slice();t?n.sort((d,f)=>s.indexOf(d)-s.indexOf(f)):s&&n.sort((d,f)=>i.indexOf(d)-i.indexOf(f));const o=(l=this.rowGroupColsSvc)==null?void 0:l.columns,r=(u=this.pivotColsSvc)==null?void 0:u.columns;return this.buildColumnDefs(n,o,r)}buildColumnDefs(e,t=[],s=[]){const i=[],n={};return e.forEach(o=>{const r=this.createDefFromColumn(o,t,s);let l=!0,u=r,d=o.getOriginalParent(),f=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=n[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[u],n[p.groupId]=p,u=p,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&i.push(u)}),i}createDefFromGroup(e){const t=fA(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,s){const i=fA(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?s.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},MK=class extends ae{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const s=this.flexViewportWidth;if(!s)return[];const{visibleCols:i}=this.beans,n=i.centerCols;let o=-1;if(e.resizingCols){const w=new Set(e.resizingCols);for(let S=n.length-1;S>=0;S--)if(w.has(n[S])){o=S;break}}let r=!1;const l=n.map((w,S)=>{const R=w.getFlex(),A=R!=null&&R>0&&S>o;return r||(r=A),{col:w,isFlex:A,flex:Math.max(0,R??0),initialSize:w.getActualWidth(),min:w.getMinWidth(),max:w.getMaxWidth(),targetSize:0}});if(!r)return[];let u=l.length,d=l.reduce((w,S)=>w+S.flex,0),f=s;const p=(w,S)=>{w.frozenSize=S,w.col.setActualWidth(S,t),f-=S,d-=w.flex,u-=1},m=w=>w.frozenSize!=null;for(const w of l)w.isFlex||p(w,w.initialSize);for(;u>0;){const w=Math.round(d<1?f*d:f);let S,R=0,A=0;for(const F of l){if(m(F))continue;S=F,A+=w*(F.flex/d);const L=A-R,k=Math.round(L);F.targetSize=k,R+=k}S&&(S.targetSize+=w-R);let D=0;for(const F of l){if(m(F))continue;const L=F.targetSize,k=Math.min(Math.max(L,F.min),F.max);D+=k-L,F.violationType=k===L?void 0:k<L?"max":"min",F.targetSize=k}const E=D===0?"all":D>0?"min":"max";for(const F of l)m(F)||(E==="all"||F.violationType===E)&&p(F,F.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const C=l.filter(w=>w.isFlex&&!w.violationType).map(w=>w.col);if(e.fireResizedEvent){const w=l.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),S=l.filter(R=>R.flex).map(R=>R.col);Qh(this.eventSvc,w,!0,t,S)}return C}initCol(e){const{flex:t,initialFlex:s}=e.colDef;t!==void 0?e.flex=t:s!==void 0&&(e.flex=s)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},LK=class extends ae{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const s={};this.formatValueFuncs=s;const i=r=>l=>{const{column:u,node:d,value:f}=l;let p=u.getColDef().valueFormatter;return p===r.groupSafeValueFormatter&&(p=r.valueFormatter),this.beans.valueSvc.formatValue(u,d,f,p)};for(const r of Object.keys(e)){const l=e[r],u={...l,groupSafeValueFormatter:T1(l,this.gos)};t[r]=u,s[r]=i(u)}const n=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o;for(const r of Object.keys(n)){const l=n[r],u=this.processDataTypeDefinition(l,n,[r],e);u&&(t[r]=u,l.dataTypeMatcher&&(o[r]=l.dataTypeMatcher),s[r]=i(u))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{const l=o[r];l&&delete o[r],o[r]=l??e[r].dataTypeMatcher})}processDataTypeDefinition(e,t,s,i){let n;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=i[o];const l=t[o];if(r&&l&&(r=l),!D1(e,r,o))return;n=E1(r,e)}else{if(s.includes(o)){be(44);return}const r=t[o];if(!D1(e,r,o))return;const l=this.processDataTypeDefinition(r,t,[...s,o],i);if(!l)return;n=E1(l,e)}return{...n,groupSafeValueFormatter:T1(n,this.gos)}}updateColDefAndGetColumnType(e,t,s){let{cellDataType:i}=t;const{field:n}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(n,s):!1),!i){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[i];if(!o){be(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,s),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const s=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",s),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",s))}canInferCellDataType(e,t){const{gos:s}=this;if(!ni(s))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(lR(t,i))return!1;const n=t.type===null?e.type:t.type;if(n){const o=s.get("columnTypes")??{};if(Db(n).some(l=>{const u=o[l.trim()];return u&&lR(u,i)}))return!1}return!lR(e,i)}inferCellDataType(e,t){if(!e)return;let s;const i=this.getInitialData();if(i){const n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");s=Bg(i,e,n)}else this.initWaitForRowData(t);if(s!=null)return Object.keys(this.dataTypeMatchers).find(n=>this.dataTypeMatchers[n](s))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const s=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(s!=null&&s.length)return s[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:s,eventSvc:i}=this.beans;t&&s&&(s.shouldQueueResizeOperations=!0);const[n]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:r}=o;r&&(n==null||n(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&(s==null||s.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const s=[];this.destroyColumnStateUpdateListeners();const i={},n={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const r=this.columnStateUpdatesPendingInference[o],l=this.colModel.getCol(o);if(!l)return;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))return;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const f=IK(l,r);f.rowGroup&&f.rowGroupIndex==null&&(i[o]=f),f.pivot&&f.pivotIndex==null&&(n[o]=f),s.push(f)}}t&&s.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,n)),s.length&&sn(this.beans,{state:s},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const s={},{rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;return i==null||i.restoreColumnOrder(s,e),n==null||n.restoreColumnOrder(s,t),Object.values(s)}resetColDefIntoCol(e,t){const s=e.getUserProvidedColDef();if(!s)return!1;const i=aA(this.beans,s,e.getColId());return e.setColDef(i,s,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,s=e.object;this.hasObjectValueParser=t.valueParser!==s.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==s.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const s=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return s?s(t):!0}validateColDef(e){const t=s=>be(48,{property:s});if(e.cellDataType==="object"){const{object:s}=this.dataTypeDefinitions;e.valueFormatter===s.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===s.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,s,i){var o;const n=this.formatValueFuncs[t];switch(s.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=r=>!!r.colDef.editable&&r.event.key===oe.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(r,l)=>{const u=this.colModel.getColDefCol(i),d=u==null?void 0:u.getColDef();if(!u||!d)return 0;const f=r==null?"":n({column:u,node:null,value:r}),p=l==null?"":n({column:u,node:null,value:l});return f===p?0:f>p?1:-1},e.keyCreator=n;break}}(o=this.beans.filterManager)==null||o.setColDefPropertiesForDataType(e,s,n)}getDefaultDataTypes(){const e=s=>!!s.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:s=>{var i,n;return((n=(i=s.newValue)==null?void 0:i.trim)==null?void 0:n.call(i))===""?null:Number(s.newValue)},valueFormatter:s=>s.value==null?"":typeof s.value!="number"||isNaN(s.value)?t("invalidNumber","Invalid Number"):String(s.value),dataTypeMatcher:s=>typeof s=="number"},text:{baseDataType:"text",valueParser:s=>s.newValue===""?null:eA(s.newValue),dataTypeMatcher:s=>typeof s=="string"},boolean:{baseDataType:"boolean",valueParser:s=>{var i,n;return s.newValue==null?s.newValue:((n=(i=s.newValue)==null?void 0:i.trim)==null?void 0:n.call(i))===""?null:String(s.newValue).toLowerCase()==="true"},valueFormatter:s=>s.value==null?"":String(s.value),dataTypeMatcher:s=>typeof s=="boolean"},date:{baseDataType:"date",valueParser:s=>Ii(s.newValue==null?null:String(s.newValue)),valueFormatter:s=>s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):Tn(s.value,!1)??"",dataTypeMatcher:s=>s instanceof Date},dateString:{baseDataType:"dateString",dateParser:s=>Ii(s)??void 0,dateFormatter:s=>Tn(s??null,!1)??void 0,valueParser:s=>e(String(s.newValue))?s.newValue:null,valueFormatter:s=>e(String(s.value))?s.value:"",dataTypeMatcher:s=>typeof s=="string"&&e(s)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:s=>eA(s.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function E1(e,t){const s={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(s.columnTypes=[...Db(e.columnTypes),...Db(t.columnTypes)]),s}function D1(e,t,s){return t?t.baseDataType!==e.baseDataType?(be(46),!1):!0:(be(45,{parentCellDataType:s}),!1)}function T1(e,t){if(e.valueFormatter)return s=>{var i,n;if((i=s.node)!=null&&i.group){const o=(s.colDef.pivotValueColumn??s.column).getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(s);if(e.baseDataType==="number"&&o!=="count"){if(typeof s.value=="number")return e.valueFormatter(s);if(typeof s.value=="object"){if(!s.value)return;if("toNumber"in s.value)return e.valueFormatter({...s,value:s.value.toNumber()});if("value"in s.value)return e.valueFormatter({...s,value:s.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&s.column.isRowGroupActive()&&typeof s.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,s.value)))return;return e.valueFormatter(s)}}function kK(e,t,s,i){if(!t[s])return!1;const n=e[s];return n===null?(t[s]=!1,!1):i===void 0?!!n:n===i}function lR(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([s,i])=>kK(e,t,s,i))}function IK(e,t){const s=iN(e);return t.forEach(i=>{delete s[i],i==="rowGroup"?delete s.rowGroupIndex:i==="pivot"&&delete s.pivotIndex}),s}var OK={moduleName:"DataType",version:Se,beans:[LK],dependsOn:[lK]},_K={moduleName:"ColumnFlex",version:Se,beans:[MK]},NK={moduleName:"ColumnApi",version:Se,beans:[PK],apiFunctions:{getColumnDef:cK,getDisplayNameForColumn:dK,getColumn:hK,getColumns:fK,applyColumnState:gK,getColumnState:pK,resetColumnState:mK,isPinning:vK,isPinningLeft:CK,isPinningRight:bK,getDisplayedColAfter:wK,getDisplayedColBefore:yK,setColumnsVisible:SK,setColumnsPinned:RK,getAllGridColumns:xK,getDisplayedLeftColumns:AK,getDisplayedCenterColumns:EK,getDisplayedRightColumns:DK,getAllDisplayedColumns:TK,getAllDisplayedVirtualColumns:FK,getColumnDefs:uK}};function HK(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,s=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(s,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var GK=class extends ae{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,s=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:n}=this.beans;return s&&n?n.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,s){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,s):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,s,i,n){var r;const o=e.headerValueGetter;if(o){const l=ze(this.gos,{colDef:e,column:t,columnGroup:s,providedColumnGroup:i,location:n});return typeof o=="function"?o(l):typeof o=="string"?((r=this.beans.expressionSvc)==null?void 0:r.evaluate(o,l))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return HK(e.field)}return""}},BK=class extends ae{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,s=!1){const{visibleCols:i}=this,n=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const r=i.bodyWidth;this.viewportLeft=r-t-e,this.viewportRight=r-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(s)}}getHeadersToRender(e,t){let s;switch(e){case"left":s=this.rowsOfHeadersToRenderLeft[t];break;case"right":s=this.rowsOfHeadersToRenderRight[t];break;default:s=this.rowsOfHeadersToRenderCenter[t];break}return s||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||VK(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,s=t+e.getActualWidth(),i=this.viewportLeft-200,n=this.viewportRight+200,o=t<i&&s<i,r=t>n&&s>n;return!o&&!r}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const r=o.getLeft();return ye(r)&&r>this.viewportLeft},s=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,n=i.centerCols;return i.getColsForRow(e,n,s,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:s,treeLeft:i,treeRight:n,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(s).forEach(u=>e[u.getId()]=!0);const l=(u,d,f)=>{let p=!1;for(let m=0;m<u.length;m++){const C=u[m];let w=!1;if(wl(C))w=e[C.getId()]===!0;else{const R=C.getDisplayedChildren();R&&(w=l(R,d,f+1))}w&&(p=!0,d[f]||(d[f]=[]),d[f].push(C))}return p};l(i,this.rowsOfHeadersToRenderLeft,0),l(n,this.rowsOfHeadersToRenderRight,0),l(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),s=this.colsWithinViewportHash!==t;return s&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),s}};function VK(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var zK=class extends ae{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class s{refresh(){return!1}getGui(){return this.eGui}init(n){const o=t(n),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=Kw("<span>"+o+"</span>");return}if(o==null){this.eGui=ai({tag:"span"});return}this.eGui=o}}return s}},WK={moduleName:"CellRendererFunction",version:Se,beans:[zK]},UK=class extends ae{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:s,dynamicBeans:i,selectors:n}=e;if(s){const o=(r,l,u)=>{this.agGridDefaults[r]=l,u&&(this.agGridDefaultParams[r]=u)};for(const r of Object.keys(s)){const l=s[r];typeof l=="object"?o(r,l.classImp,l.params):o(r,l)}}if(i)for(const o of Object.keys(i))this.dynamicBeans[o]=i[o];if(n==null||n.forEach(o=>{this.selectors[o.selector]=o}),t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var l;const s=(u,d,f)=>({componentFromFramework:d,component:u,params:f}),{frameworkOverrides:i}=this.beans,n=i.frameworkComponent(t,this.gos.get("components"));if(n!=null)return s(n,!0);const o=this.jsComps[t];if(o){const u=i.isFrameworkComponent(o);return s(o,u)}const r=this.agGridDefaults[t];return r?s(r,!1,this.agGridDefaultParams[t]):((l=this.beans.validation)==null||l.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...s){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(gl(256));return}return new i(...s)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},jK=23,$K=class extends ae{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(s=>s(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===jK&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const s=this.readyCallbacks.indexOf(t);s>=0&&this.readyCallbacks.splice(s,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:s}=this.params;return[e,s,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},qK=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',iL,nL,HE=typeof window!="object"||!((nL=(iL=window==null?void 0:window.document)==null?void 0:iL.fonts)!=null&&nL.forEach),gA=new WeakMap,ef=(e,t,s,i,n,o)=>{if(HE)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let r=gA.get(t);if(r||(r=[],gA.set(t,r)),r.find(f=>f.css===e))return;const l=document.createElement("style");o&&l.setAttribute("nonce",o),l.dataset.agGlobalCss=s,l.textContent=e;const u={css:e,el:l,priority:n};let d;for(const f of r){if(f.priority>n)break;d=f}if(d){d.el.insertAdjacentElement("afterend",l);const f=r.indexOf(d);r.splice(f+1,0,u)}else t.insertBefore(l,t.querySelector(":not(title, meta)")),r.push(u)},qN=(e,t,s)=>{ef(qK,e,"core",t,0,s),Array.from(x8()).sort((i,n)=>i.moduleName.localeCompare(n.moduleName)).forEach(i=>{var n;return(n=i.css)==null?void 0:n.forEach(o=>ef(o,e,`module-${i.moduleName}`,t,0,s))})},pA=new Set,KK=e=>{pA.add(e)},YK=e=>{if(pA.delete(e),pA.size===0){gA=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Xr=e=>new KN(e),Ia="$default",XK=0,KN=class{constructor({feature:e,params:t,modeParams:s={},css:i,cssImports:n}){this.feature=e,this.css=i,this.cssImports=n,this.modeParams={[Ia]:{...s[Ia]??{},...t??{}},...s}}use(e,t,s){let i=this._inject;if(i==null){let{css:n}=this;if(n){const o=`ag-theme-${this.feature??"part"}-${++XK}`;typeof n=="function"&&(n=n()),n=`:where(.${o}) {
${n}
}
`;for(const r of this.cssImports??[])n=`@import url(${JSON.stringify(r)});
${n}`;i={css:n,class:o}}else i=!1;this._inject=i}return i&&e&&ef(i.css,e,i.class,t,1,s),i?i.class:!1}},QK=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),YN=e=>`--ag-${QK(e)}`,jo=e=>`var(${YN(e)})`,ZK=(e,t,s)=>Math.max(t,Math.min(s,e)),JK=e=>{const t=new Map;return s=>{const i=s;return t.has(i)||t.set(i,e(s)),t.get(i)}},bo=e=>({ref:"accentColor",mix:e}),mn=e=>({ref:"foregroundColor",mix:e}),so=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),eY=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),tn={ref:"backgroundColor"},gg={ref:"foregroundColor"},Na={ref:"accentColor"},Nb={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:mn(.15),chromeBackgroundColor:so(.02),browserColorScheme:"light"},tY={...Nb,textColor:gg,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:tn,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Na,rangeSelectionBackgroundColor:bo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:bo(.5),rangeHeaderHighlightColor:eY(.08),rowNumbersSelectedColor:bo(.5),rowHoverColor:bo(.08),columnHoverColor:bo(.05),selectedRowBackgroundColor:bo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:tn,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:tn,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:mn(.7),focusShadow:{spread:3,color:bo(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:mn(.1),iconButtonActiveColor:Na,iconButtonActiveBackgroundColor:bo(.28),iconButtonActiveIndicatorColor:Na,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Na,toggleButtonOffBackgroundColor:so(.3),toggleButtonSwitchBackgroundColor:tn,toggleButtonSwitchInset:2,menuBorder:{color:mn(.2)},menuBackgroundColor:so(.03),menuTextColor:so(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:mn(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Na},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:mn(.2)},panelBackgroundColor:tn,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:mn(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:mn(.13)},selectCellBackgroundColor:mn(.07),selectCellBorder:{color:mn(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:gg,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:gg,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:mn(.15),statusBarLabelColor:gg,statusBarLabelFontWeight:500,statusBarValueColor:gg,statusBarValueFontWeight:500},sY=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",iY={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},nY=()=>Xr({feature:"buttonStyle",params:{...iY,buttonBackgroundColor:tn,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Na}},css:sY}),oY=nY(),rY=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",aY=()=>Xr({feature:"columnDropStyle",css:rY}),XN=aY(),lY=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],cY=JK(e=>(e=e.toLowerCase(),lY.find(t=>e.endsWith(t.toLowerCase()))??"length")),Zw=e=>typeof e=="object"&&(e!=null&&e.ref)?jo(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,GE=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=jo(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?jo(e.onto):"transparent"}, ${t} ${ZK(e.mix*100,0,100)}%)`}return!1},uY=Zw,Pd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,s=>s[0]==="-"?s:` ${jo(s)} `)})`:e&&"ref"in e?jo(e.ref):!1,dY=Zw,hY=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?jo(e.ref):QN(e.style??"solid")+" "+Pd(e.width??1)+" "+GE(e.color??{ref:"borderColor"}),fY=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?jo(e.ref):[Pd(e.offsetX??0),Pd(e.offsetY??0),Pd(e.radius??0),Pd(e.spread??0),GE(e.color??{ref:"foregroundColor"})].join(" "),QN=Zw,ZN=e=>typeof e=="string"?e.includes(",")?e:F1(e):e&&"googleFont"in e?ZN(e.googleFont):e&&"ref"in e?jo(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),F1(t))).join(", "):!1,F1=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),gY=Zw,JN=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?JN({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?jo(e.ref):!1,pY=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&xt(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?jo(e.ref):!1,mY={color:GE,colorScheme:uY,length:Pd,scale:dY,border:hY,borderStyle:QN,shadow:fY,image:JN,fontFamily:ZN,fontWeight:gY,duration:pY},vY=(e,t)=>{const s=cY(e);return mY[s](t,e)},CY=()=>new eH().withPart(oY).withPart(XN),eH=class tH{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof KN?new tH([...this.parts,t]):(iA(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Xr({feature:t}))}withParams(t,s=Ia){return this.withPart(Xr({modeParams:{[s]:t}}))}_startUse({styleContainer:t,cssLayer:s,nonce:i,loadThemeGoogleFonts:n}){if(HE)return;wY(),qN(t,s,i);const o=bY(this);if(o.length>0)for(const r of o)n&&SY(r,i);for(const r of this.parts)r.use(t,s,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=P1(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const s={[Ia]:{...tY}};for(const i of P1(this.parts))for(const n of Object.keys(i.modeParams)){const o=i.modeParams[n];if(o){const r=s[n]??(s[n]={}),l=new Set;for(const u of Object.keys(o)){const d=o[u];d!==void 0&&(r[u]=d,l.add(u))}if(n===Ia)for(const u of Object.keys(s)){const d=s[u];if(u!==Ia)for(const f of l)delete d[f]}}}this._paramsCache=t=s}return t}_getPerGridCss(t){const s="##SELECTOR##";let i=this._paramsCssCache;if(!i){let n="",o="";const r=this._getModeParams();for(const u of Object.keys(r)){const d=r[u];if(u!==Ia){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(u):u}"]) & {
`;n+=p,o+=p}for(const f of Object.keys(d).sort()){const p=d[f],m=vY(f,p);if(m===!1)xt(107,{key:f,value:p});else{const C=YN(f),w=C.replace("--ag-","--ag-inherited-");n+=`	${C}: var(${w}, ${m});
`,o+=`	${w}: var(${C});
`}}u!==Ia&&(n+=`}
`,o+=`}
`)}let l=`${s} {
${n}}
`;l+=`:has(> ${s}):not(${s}) {
${o}}
`,this._paramsCssCache=i=l}return i.replaceAll(s,`:where(.${t})`)}},P1=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const s=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&s.push(i);return s},bY=e=>{const t=new Set,s=o=>{if(Array.isArray(o))o.forEach(s);else{const r=o==null?void 0:o.googleFont;typeof r=="string"&&t.add(r)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(s),Array.from(t).sort()},M1=!1,wY=()=>{if(!M1){M1=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},yY=new Set,SY=async(e,t)=>{yY.add(e);const s=`@import url('https://${RY}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;ef(s,document.head,`googleFont:${e}`,void 0,0,t)},RY="fonts.googleapis.com",xY='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',AY=()=>Xr({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:tn,checkboxUncheckedBorderColor:so(.3),checkboxCheckedBackgroundColor:Na,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:tn,checkboxIndeterminateBackgroundColor:so(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:tn,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:xY}),EY=AY(),sH=()=>({...Nb,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:so(.05),rowHoverColor:bo(.15),selectedRowBackgroundColor:bo(.2),menuBackgroundColor:so(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:tn,findActiveMatchColor:tn,checkboxUncheckedBorderColor:so(.4),toggleButtonOffBackgroundColor:so(.4)}),DY=()=>({...sH(),backgroundColor:"#1f2836"}),TY=()=>Xr({feature:"colorScheme",params:Nb,modeParams:{light:Nb,dark:sH(),"dark-blue":DY()}}),FY=TY(),iH={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},nH={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},PY=(e={})=>{let t="";for(const s of[...Object.keys(iH),...Object.keys(nH)]){const i=MY(s,e.strokeWidth);t+=`.ag-icon-${s}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},MY=(e,t=1.5)=>{const s=nH[e];if(s)return s;const i=iH[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},LY=(e={})=>Xr({feature:"iconSet",css:()=>PY(e)}),kY=LY(),IY=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',OY=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",_Y={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},NY=()=>Xr({feature:"inputStyle",params:{..._Y,inputBackgroundColor:tn,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Na},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:so(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>IY+OY}),HY=NY(),GY='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',BY={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},VY=()=>Xr({feature:"tabStyle",params:{...BY,tabBarBorder:!0,tabBarBackgroundColor:mn(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:tn},css:GY}),zY=VY(),WY=()=>CY().withPart(EY).withPart(FY).withPart(kY).withPart(zY).withPart(HY).withPart(XN).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),UY=WY(),jY={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},$Y={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},qY={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},L1={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},k1={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},I1={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},cR={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},KY=0,YY=class extends ae{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++KY}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:s}=e;this.eGridDiv=t,this.eStyleContainer=s.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=s.themeCssLayer,this.styleNonce=s.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(L1),this.getSizeEl(k1),this.getSizeEl(I1),this.getSizeEl(cR),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>YK(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(L1)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(k1)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(jY)}getDefaultIndentation(){return this.getCSSVariablePixelValue($Y)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(qY)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),s=this.getDefaultRowGroupIndentSize();return e-1+s*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(I1)}getRowBorderWidth(){return this.getCSSVariablePixelValue(cR)}applyThemeClasses(e){const{gridTheme:t}=this;let s="";if(t)s=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let n=!1;for(const o of Array.from(i.classList))o.startsWith("ag-theme-")&&(n=!0,s=s?`${s} ${o}`:o);n&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(s){const i=e.className;e.className=i+(i?" ":"")+s}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),s=this.gos.get("rowHeight");if(s==null||isNaN(s)||!isFinite(s))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${s}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),s):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?ef(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const s=this.measureSizeEl(e);return s==="detached"||s==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,s),s)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const s=t.offsetWidth;return s===uR?"no-styles":(this.sizesMeasured=!0,s)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=ai({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const s=this.getMeasurementContainer();t=ai({tag:"div"});const{border:i,noWarn:n}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${uR}px)`)):t.style.width=`var(${e.cssName}, ${uR}px)`,s.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!n&&be(9,{variable:e});const r=ia(this.beans,t,()=>{const l=this.measureSizeEl(e);l==="detached"||l==="no-styles"||(this.lastKnownValues.set(e,l),l!==o&&(o=l,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(cR);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:s,gridTheme:i}=this,n=e.get("theme");let o;if(n==="legacy")o=void 0;else{const r=n??UY;r instanceof eH?o=r:xt(240,{theme:r})}if(o!==i){if(o){KK(this),qN(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[l,u]of s)ef(l,this.eStyleContainer,u,this.cssLayer,0,this.styleNonce);s.length=0}this.gridTheme=o,o==null||o._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let r=this.eParamsStyle;if(!r){r=this.eParamsStyle=ai({tag:"style"});const l=this.gos.get("styleNonce");l&&r.setAttribute("nonce",l),t.appendChild(r)}HE||(r.textContent=(o==null?void 0:o._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&xt(n?106:239)}},uR=15538,XY=class extends ae{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new hu}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,s){this.globalEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){this.globalEventService.removeEventListener(e,t,s)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(ze(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(ze(this.gos,e))}};function oH(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function mA(e,t){let s;if(ts(e)&&oH(e)&&e.isPadding()){const i=e;s=i.getLeafColumns()[0];let n=s;for(;n!==i;)t++,n=n.getParent()}return{column:s||e,headerRowIndex:t}}var QY=class extends ae{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,s=>{this.gridBodyCon=s.gridBodyCtrl});const t=us(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let s;const{colModel:i,colGroupSvc:n,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(s=i.getCol(e),s||(s=(n==null?void 0:n.getColumnGroup(e))??null)):s=e,!s)return null;const r=o.getHeaderRowContainerCtrl(),l=r==null?void 0:r.getAllCtrls(),u=Rt(l||[]).type==="filter",d=Bo(this.beans)-1;let f=-1,p=s;for(;p;)f++,p=p.getParent();let m=f;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:s}}navigateVertically(e,t,s){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:n}=t,o=t.column,r=Bo(this.beans),l=e==="UP",u=this.getHeaderRowType(n);let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=l?ZY(u,o,n):JY(u,o,n),m=!1;return d<0&&(d=0,f=o,m=!0),d>=r?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:s})}navigateHorizontally(e,t=!1,s){const{focusSvc:i,gos:n}=this.beans,o=i.focusedHeader;let r,l;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==n.get("enableRtl")?(l="Before",r=this.findHeader(o,l)):(l="After",r=this.findHeader(o,l));const u=n.getCallback("tabToNextHeader");if(t&&u){const d=i.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:r,direction:l});if(d){const{headerRowIndex:f}=i.focusedHeader||{};f!=null&&f!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return d}return r||!t?i.focusHeaderPosition({headerPosition:r,direction:l,fromTab:t,allowUserOverride:!0,event:s}):this.focusNextHeaderRow(o,l,s)}focusNextHeaderRow(e,t,s){const i=e.headerRowIndex;let n=null,o;const r=this.beans;if(t==="Before"?i>0&&(o=i-1,this.currentHeaderRowWithoutSpan-=1,n=this.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,this.currentHeaderRowWithoutSpan<Bo(r)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,n=this.findColAtEdgeForHeaderRow(o,"start")),!n)return!1;const{column:l,headerRowIndex:u}=mA(n.column,n==null?void 0:n.headerRowIndex);return r.focusSvc.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:s})}scrollToColumn(e,t="After"){if(e.getPinned())return;let s;if(ts(e)){const i=e.getDisplayedLeafColumns();s=t==="Before"?Rt(i):i[0]}else s=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(s)}findHeader(e,t){let s,i;const{colGroupSvc:n,visibleCols:o}=this.beans;if(ts(e.column)?s=(n==null?void 0:n.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,s=o[i](e.column)),!s)return;const{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const d=[s];for(;s.getParent();)s=s.getParent(),d.push(s);s=d[Math.max(0,d.length-1-r)]}const{column:l,headerRowIndex:u}=mA(s,r);return{column:l,headerRowIndex:u}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:s,ctrlsSvc:i,colGroupSvc:n}=this.beans,o=s.allCols,r=o[t==="start"?0:o.length-1];if(!r)return;const l=i.getHeaderRowContainerCtrl(r.getPinned()),u=l==null?void 0:l.getRowType(e);if(u=="group"){const d=n==null?void 0:n.getColGroupAtLevel(r,e);return{headerRowIndex:e,column:d}}return{headerRowIndex:u==null?-1:e,column:r}}};function ZY(e,t,s){const i=e==="filter",n=e==="column";let o=i?t:t.getParent(),r=s-1,l=r;if(n&&oH(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;l=r,r<0&&(o=t,r=s,l=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:l}}function JY(e,t,s,i="After"){let n=t,o=s+1;const r=o;if(e==="group"){const l=t.getDisplayedLeafColumns(),u=i==="After"?l[0]:Rt(l),d=[];let f=u;for(;f.getParent()!==t;)f=f.getParent(),d.push(f);if(n=u,u.isSpanHeaderHeight())for(let p=d.length-1;p>=0;p--){const m=d[p];if(!m.isPadding()){n=m;break}o++}else n=Rt(d),n||(n=u)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:r}}var eX=class extends ae{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(_8(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Yt(this.beans),kN)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Yt(this.beans);return this.isDomDataPresentInHierarchy(e,Mb)?!0:this.isDomDataPresentInHierarchy(e,Ob)}isDomDataPresentInHierarchy(e,t){let s=e;for(;s;){if(I_(this.gos,s,t))return!0;s=s.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:s,column:i}=e,n={rowIndex:t,rowPinned:s,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:s});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:s,rowPinned:i,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=e,r=this.colModel.getCol(t);if(!r){this.focusedCell=null;return}this.focusedCell={rowIndex:s,rowPinned:zr(i),column:r},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:n,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCell==null?!1:mN(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:s,pinned:i}}=e,{column:n,headerRowIndex:o}=this.focusedHeader;return t===n&&s===o&&i==n.getPinned()}focusHeaderPosition(e){var u;if(this.setFocusRecovered(),ru(this.beans))return!1;const{direction:t,fromTab:s,allowUserOverride:i,event:n,fromCell:o,rowWithoutSpanValue:r}=e;let{headerPosition:l}=e;if(o&&((u=this.filterManager)!=null&&u.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(l);if(i){const d=this.focusedHeader,f=Bo(this.beans);if(s){const p=this.gos.getCallback("tabToNextHeader");p&&(l=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:d,headerPosition:l,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&n){const m={key:n.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:f,event:n};l=p(m)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:n,fromCell:o,rowWithoutSpanValue:r}):!1}focusHeaderPositionFromUserFunc(e){if(ru(this.beans))return!1;const{userFunc:t,headerPosition:s,direction:i,event:n}=e,o=this.focusedHeader,r=Bo(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:s,headerRowCount:r});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:s,currentPosition:i,headerPosition:n,headerRowCount:o}=e,l=t({backwards:s==="Before",previousHeaderPosition:i,nextHeaderPosition:n,headerRowCount:o});return l===!0?i:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:s,fromCell:i,rowWithoutSpanValue:n,event:o}=e,{column:r,headerRowIndex:l}=t,{filterManager:u,ctrlsSvc:d,headerNavigation:f}=this.beans;if(l===-1)return u!=null&&u.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:r,event:o});f==null||f.scrollToColumn(r,s);const p=d.getHeaderRowContainerCtrl(r.getPinned()),m=(p==null?void 0:p.focusHeader(t.headerRowIndex,r,o))||!1;return f&&m&&(n!=null||i)&&(f.currentHeaderRowWithoutSpan=n??-1),m}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const s=mA(e,0);return this.focusHeaderPosition({headerPosition:s,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=Bo(this.beans)-1,s=Rt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===zr(t)}focusOverlay(e){var s,i;const t=((s=this.overlays)==null?void 0:s.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&pu(t,e)}focusGridView(e){var o,r,l,u,d,f;const{backwards:t=!1,canFocusOverlay:s=!0,event:i}=e;if((o=this.overlays)!=null&&o.isExclusive())return s&&this.focusOverlay(t);if(Xw(this.beans))return t&&!ru(this.beans)?this.focusLastHeader():s&&this.focusOverlay(t)?!0:t?!1:Zh(this.beans,t);const n=t?r7(this.beans):o7(this.beans);if(n){const p=e.column??((r=this.focusedHeader)==null?void 0:r.column),{rowIndex:m,rowPinned:C}=n,w=Lb(this.beans,n);if(!p||!w||m==null)return!1;if(p.isSuppressNavigable(w)){const S=this.gos.get("enableRtl");let R;return!i||i.key===oe.TAB?R=S?oe.LEFT:oe.RIGHT:R=i.key,(l=this.beans.navigation)==null||l.navigateToNextCell(null,R,{rowIndex:m,column:p,rowPinned:C||null},!0),!0}if((u=this.navigation)==null||u.ensureCellVisible({rowIndex:m,column:p,rowPinned:C}),t){const S=this.rowRenderer.getRowByPosition(n);if(S!=null&&S.isFullWidth()&&((d=this.navigation)!=null&&d.tryToFocusFullWidthRow(n,t)))return!0}return this.setFocusedCell({rowIndex:m,column:p,rowPinned:zr(C),forceBrowserFocus:!0}),(f=this.beans.rangeSvc)==null||f.setRangeToCell({rowIndex:m,rowPinned:C,column:p}),!0}return!!(s&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const s=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:Bo(this.beans)-1}}):this.focusGridView({column:s})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},tX=class extends ae{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var s;const e=this.ctrlsSvc.get("center");if(!e||(s=this.colAnimation)!=null&&s.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),s=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==s)&&(this.horizontalScrollGap=t,this.verticalScrollGap=s,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),s=typeof e=="number"&&e>=0?e:xj();s!=null&&(this.scrollbarWidth=s,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},sX=class extends ae{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:s}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),s.destroy(),super.destroy()}},ab=new Set(["gridPreDestroyed","fillStart","pasteStart"]),iX={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},nX=0,oX=0,rX=class extends ae{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=oX++,this.propEventSvc=new hu,this.globalEventHandlerFactory=e=>(t,s)=>{if(!this.isAlive())return;const i=ab.has(t);if(i&&!e||!i&&e)return;const n=B_(t),o=this.gridOptions[n];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??iX[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ye(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>e(this.addGridCommonParams(s)))}updateGridOptions({options:e,force:t,source:s="api"}){const i={id:nX++,properties:[]},n=[],{gridOptions:o,validation:r}=this;for(const l of Object.keys(e)){const u=e[l];r==null||r.warnOnInitialPropertyUpdate(s,l);const d=t||typeof u=="object"&&s==="api",f=o[l];if(d||f!==u){o[l]=u;const p={type:l,currentValue:u,previousValue:f,changeSet:i,source:s};n.push(p)}}r==null||r.processGridOptions(this.gridOptions),i.properties=n.map(l=>l.type),n.forEach(l=>{fu(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const s=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return s||xt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),s}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:AE(),rowModelType:this.get("rowModelType"),isUmd:E8()}}isModuleRegistered(e){return lN(e,this.gridId,this.get("rowModelType"))}};function rH(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var aX=rH(!0),lX=rH(!1),cX=class extends $t{constructor(){super(...arguments),this.eFilter=_e,this.eFilterButton=_e,this.eSortIndicator=_e,this.eMenu=_e,this.eLabel=_e,this.eText=_e,this.eSortOrder=_e,this.eSortAsc=_e,this.eSortDesc=_e,this.eSortMixed=_e,this.eSortNone=_e,this.isLoadingInnerComponent=!1}refresh(e){var s,i,n;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((s=this.beans)!=null&&s.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const o={...e};bi(o,e.innerHeaderComponentParams),(n=(i=this.innerHeaderComponent).refresh)==null||n.call(i,o)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const s=e.template;return s?s!=null&&s.trim?s.trim():s:t?aX:lX}init(e){this.params=e;const{sortSvc:t,touchSvc:s,rowNumbersSvc:i,userCompFactory:n}=this.beans,o=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),s==null||s.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const s=i8(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,s=this.currentDisplayName;if(this.currentDisplayName=t,s===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const i=Ur(t,!0);this.eText.textContent=i}addInIcon(e,t,s){if(t==null)return;const i=An(e,this.beans,s);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Kr(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:s}=this,i=en(e);this.addInIcon(i?"menu":"menuAlt",t,s.column),t.classList.toggle("ag-header-menu-icon",!i);const n=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=n,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(n)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:s}=this;t||this.toggleMenuAlwaysShow(!0),s.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var u;const{params:t,gos:s,beans:i,eMenu:n,eFilterButton:o}=this,r=t.column,l=en(s);if(e&&!l){if((u=i.menuSvc)!=null&&u.isFilterMenuInHeaderEnabled(r))return t.showFilter(o??n??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(n??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:s}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:n,eSortAsc:o,eSortDesc:r,eSortMixed:l,eSortNone:u}=this;i.attachCustomElements(n,o,r,l,u)}this.eSortIndicator.setupSort(s),this.currentSort&&e.setupHeader(this,s,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,s,i){if(!e)return Kr(t),!1;const n=this.params.column;return this.addInIcon(i,t,n),this.addManagedListeners(n,{filterChanged:s}),s(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();ss(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:s}=this;return e?t??s??this.getGui():s??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},uX={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},dX=class extends $t{constructor(){super(uX),this.agOpened=_e,this.agClosed=_e,this.agLabel=_e,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&be(89)}workOutInnerHeaderGroupComponent(e,t){const s=o8(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:s},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const n=u=>{if(Wr(u))return;const d=!s.isExpanded();i.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,n),this.addTouchAndClickListeners(i,e,n);const o=u=>{Yh(u)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:n}),this.updateIconVisibility();const r=s.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t,s){var i;(i=e.touchSvc)==null||i.setupForHeaderGroup(this,t,s),this.addManagedElementListeners(t,{click:s})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:s}}=this;if(s.isExpandable()){const i=s.isExpanded();ss(e,i),ss(t,!i)}else ss(e,!1),ss(t,!1)}addInIcon(e,t){const s=An(e,this.beans,null);s&&t.appendChild(s)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:s}=this;ss(t,!1),ss(s,!1);return}}setupLabel(e){var n;const{displayName:t,columnGroup:s}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ye(t)&&!i){const o=Ur(t,!0);this.agLabel.textContent=o}this.addOrRemoveCssClass("ag-sticky-label",!((n=s.getColGroupDef())!=null&&n.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},hX={moduleName:"ColumnHeaderComp",version:Se,userComponents:{agColumnHeader:cX},icons:{menu:"menu",menuAlt:"menu-alt"}},fX={moduleName:"ColumnGroupHeaderComp",version:Se,userComponents:{agColumnGroupHeader:dX},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},gX=class extends ae{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&be(92)}createTask(e,t,s,i){this.verify();let n=s;i&&this.batchFrameworkComps&&(n="f1");const o={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((s,i)=>s.index!==i.index?t*(i.index-s.index):i.createOrder-s.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:s,f1:i,destroyTasks:n,beans:o}=this,{ctrlsSvc:r,frameworkOverrides:l}=o,u=t.list,d=s.list,f=i.list,p=Date.now();let m=0;const C=e<=0,w=r.getScrollFeature();for(;C||m<e;){if(!w.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(s),R=d.pop().task;else if(f.length)l.wrapOutgoing(()=>{for(;(C||m<e)&&!w.scrollGridIfNeeded();){if(f.length)this.sortTaskList(i),R=f.pop().task,R();else break;m=Date.now()-p}}),R=()=>{};else if(n.length)R=n.pop();else break;R()}m=Date.now()-p}u.length||d.length||f.length||n.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);na(this.beans,e)}isQueueEmpty(){return!this.ticking}},pX={moduleName:"AnimationFrame",version:Se,beans:[gX]},mX=class extends ae{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!eu())return;const t=(s,i,n)=>{var l;const{rowCtrl:o,cellCtrl:r}=e.getControlsForEventTarget((n==null?void 0:n.target)??null);r!=null&&r.column&&r.dispatchCellContextMenuEvent(n??null),(l=this.beans.contextMenuSvc)==null||l.handleContextMenuMouseEvent(void 0,n,o,r)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!eu()||z_("dblclick"))return!1;const i=Date.now(),n=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:s}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:n,eFilterButton:o}=e,r=new Td(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&ye(n),d=u?new Td(n,!0):r;if(i.enableMenu){const f=u?"tap":"longTap",p=m=>i.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:p})}if(i.enableSorting){const f=p=>{const m=p.touchStart.target;l&&(n!=null&&n.contains(m)||o!=null&&o.contains(m))||s==null||s.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(r,{tap:f})}if(i.enableFilterButton&&o){const f=new Td(o,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>r.destroy()),u&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e,t,s){const i=new Td(t,!0);e.addManagedListeners(i,{tap:s}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,s){if(!eu())return;const i=new Td(t),n=o=>{ap(this.gos,o.touchEvent)&&s(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:n}),e.addDestroyFunc(()=>i.destroy())}},vX={moduleName:"Touch",version:Se,beans:[mX]},CX=class extends ae{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,s=!1){return s?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const s=e===oe.UP,i=e===oe.DOWN,n=e===oe.LEFT;let o,r;const{pageBounds:l,gos:u,visibleCols:d}=this.beans;if(s||i)r=s?l.getFirstRow():l.getLastRow(),o=t.column;else{const f=u.get("enableRtl");r=t.rowIndex,o=(n!==f?d.allCols:[...d.allCols].reverse()).find(m=>this.isCellGoodToFocusOn({rowIndex:r,rowPinned:null,column:m}))}return o?{rowIndex:r,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let s=t,i=!1;for(;!i;){switch(e){case oe.UP:s=this.getCellAbove(s);break;case oe.DOWN:s=this.getCellBelow(s);break;case oe.RIGHT:s=this.gos.get("enableRtl")?this.getCellToLeft(s):this.getCellToRight(s);break;case oe.LEFT:s=this.gos.get("enableRtl")?this.getCellToRight(s):this.getCellToLeft(s);break;default:s=null,be(8,{key:e});break}s?i=this.isCellGoodToFocusOn(s):i=!0}return s}isCellGoodToFocusOn(e){const t=e.column;let s;const{pinnedRowModel:i,rowModel:n}=this.beans;switch(e.rowPinned){case"top":s=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":s=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:s=n.getRow(e.rowIndex);break}return s?!this.isSuppressNavigable(t,s):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,s=f1(this.beans,t);return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,s=kb(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:s}=this.beans,i=t.allCols;let n=e.rowIndex,o=e.rowPinned,r=t.getColAfter(e.column);if(!r){r=i[0];const l=f1(this.beans,e);if(jt(l)||!l.rowPinned&&!((s==null?void 0:s.isRowInPage(l.rowIndex))??!0))return null;n=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:s,pagination:i}=t,n=s.allCols;let o=e.rowIndex,r=e.rowPinned,l=s.getColBefore(e.column);if(!l){l=Rt(n);const u=kb(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(jt(u)||!u.rowPinned&&!((i==null?void 0:i.isRowInPage(u.rowIndex))??!0))return null;o=u?u.rowIndex:null,r=u?u.rowPinned:null}return{rowIndex:o,column:l,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:s}=e.colDef;if(typeof s=="boolean")return s;if(typeof s=="function"){const i=e.createColumnFunctionCallbackParams(t);return s(i)}return!1}};function bX(e){return e.focusSvc.getFocusedCell()}function wX(e){return e.focusSvc.clearFocusedCell()}function yX(e,t,s,i){e.focusSvc.setFocusedCell({rowIndex:t,column:s,rowPinned:i,forceBrowserFocus:!0})}function SX(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!1,t))??!1}function RX(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!0,t))??!1}function xX(e,t,s=!1){var n;const i=(n=e.headerNavigation)==null?void 0:n.getHeaderPositionForColumn(t,s);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var AX=class extends ae{constructor(){super(),this.beanName="navigation",this.onPageDown=i1(this.onPageDown,100),this.onPageUp=i1(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const s=e.key,i=e.altKey,n=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,r=J8(this.gos,e);let l=!1;switch(s){case oe.PAGE_HOME:case oe.PAGE_END:!n&&!i&&(this.onHomeOrEndKey(s),l=!0);break;case oe.LEFT:case oe.RIGHT:case oe.UP:case oe.DOWN:if(!r)return!1;n&&!i&&!o&&(this.onCtrlUpDownLeftRight(s,r),l=!0);break;case oe.PAGE_DOWN:case oe.PAGE_UP:!n&&!i&&(l=this.handlePageUpDown(s,r,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,s){return s&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===oe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:s,scrollColumn:i,focusIndex:n,focusColumn:o}=e,{scrollFeature:r}=this.gridBodyCon;ye(i)&&!i.isPinned()&&r.ensureColumnVisible(i),ye(t)&&r.ensureIndexVisible(t,s),e.isAsync||r.ensureIndexVisible(n);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:n,column:o,rowPinned:null,forceBrowserFocus:!0}),u==null||u.setRangeToCell({rowIndex:n,rowPinned:null,column:o})}onPageDown(e){const t=this.beans,s=dR(t),i=this.getViewportHeight(),{pageBounds:n,rowModel:o,rowAutoHeight:r}=t,l=n.getPixelOffset(),u=s.top+i,d=o.getRowIndexAtPixel(u+l);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,s=dR(t),{pageBounds:i,rowModel:n,rowAutoHeight:o}=t,r=i.getPixelOffset(),l=s.top,u=n.getRowIndexAtPixel(l+r);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,s=!1){const{pageBounds:i,rowModel:n}=this.beans,o=this.getViewportHeight(),r=i.getFirstRow(),l=i.getLastRow(),u=i.getPixelOffset(),d=n.getRow(e.rowIndex),f=s?(d==null?void 0:d.rowHeight)-o-u:o-u,p=(d==null?void 0:d.rowTop)+f;let m=n.getRowIndexAtPixel(p+u);if(m===e.rowIndex){const w=s?-1:1;t=m=e.rowIndex+w}let C;s?(C="bottom",m<r&&(m=r),t<r&&(t=r)):(C="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(n.getRow(m))&&(t=m,C="top"),this.navigateTo({scrollIndex:t,scrollType:C,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,s=!1){this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,s);this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const s=t?-1:1,i=this.getViewportHeight(),{pageBounds:n,rowModel:o}=this.beans,r=n.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=r;){const d=o.getRow(u);if(d){const f=d.rowHeight??0;if(l+f>i)break;l+=f}u+=s}return Math.max(0,Math.min(u,r))}getViewportHeight(){const e=this.beans,t=dR(e),s=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=s),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const s=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=s,n=s.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onHomeOrEndKey(e){const t=e===oe.PAGE_HOME,{visibleCols:s,pageBounds:i,rowModel:n}=this.beans,o=s.allCols,r=t?i.getFirstRow():i.getLastRow(),l=n.getRow(r);if(!l)return;const u=(t?o:[...o].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:u,focusIndex:r,focusColumn:u})}onTabKeyDown(e,t){const s=t.shiftKey,i=this.tabToNextCellCommon(e,s,t),n=this.beans,{ctrlsSvc:o,pageBounds:r,focusSvc:l,gos:u}=n;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(s);return}if(s){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===r.getFirstRow())&&(u.get("headerHeight")===0||ru(n)?Zh(n,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof Vg&&e.focusCell(!0),(!s&&l.focusOverlay(!1)||Zh(n,s))&&t.preventDefault()}tabToNextCell(e,t){const s=this.beans,{focusSvc:i,rowRenderer:n}=s,o=i.getFocusedCell();if(!o)return!1;let r=Fd(s,o);return!r&&(r=n.getRowByPosition(o),!r||!r.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t)}tabToNextCellCommon(e,t,s){let i=e.editing;if(!i&&e instanceof Vg){const r=e.rowCtrl;r&&(i=r.editing)}let n;return i?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,s):n=this.moveToNextEditingCell(e,t,s):n=this.moveToNextCellNotEditing(e,t,s),n===null?n:n||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,s=null){var o;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const n=this.findNextCellToFocusOn(i,t,!0);return n===!1?null:n==null?!1:((o=this.beans.editSvc)==null||o.startEditing(n,null,!0,s),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,s=null){const i=e.cellPosition,n=this.findNextCellToFocusOn(i,t,!0);if(n===!1)return null;if(n==null)return!1;const o=n.cellPosition,r=this.isCellEditable(i),l=this.isCellEditable(o),u=o&&i.rowIndex===o.rowIndex&&i.rowPinned===o.rowPinned,{editSvc:d,rowEditSvc:f}=this.beans;if(r&&(d==null||d.setFocusOutOnEditor(e)),!u){const p=e.rowCtrl;d==null||d.stopRowEditing(p);const m=n.rowCtrl;f==null||f.startEditing(m,void 0,void 0,s)}return l?(d==null||d.setFocusInOnEditor(n),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t,s){const i=this.beans.visibleCols.allCols;let n;if(e instanceof _b){if(n={...e.getRowPosition(),column:t?i[0]:Rt(i)},this.gos.get("embedFullWidthRows")&&s){const r=e.findFullWidthInfoForEvent(s);r&&(n.column=r.column)}}else n=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(n,t,!1);if(o===!1)return null;if(o instanceof Vg)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return ye(o)}findNextCellToFocusOn(e,t,s){let i=e;const n=this.beans,{cellNavigation:o,gos:r,focusSvc:l,rowRenderer:u,rangeSvc:d}=n;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const f=r.getCallback("tabToNextCell");if(ye(f)){const w=f({backwards:t,editing:s,previousCellPosition:e,nextCellPosition:i||null});if(w===!0)i=e;else{if(w===!1)return!1;i={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const C=Bo(n);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+i.rowIndex,column:i.column},fromCell:!0}),null}const p=r.get("editType")==="fullRow";if(s&&!p&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const m=Fd(n,i);if(!m){const C=u.getRowByPosition(i);if(!C||!C.isFullWidth()||s)continue;return{...C.getRowPosition(),column:i==null?void 0:i.column}}if(!o.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),d==null||d.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:s,rowModel:i}=this.beans;return t==="top"?s==null?void 0:s.getPinnedTopRow(e):t==="bottom"?s==null?void 0:s.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,s,i){let n=s,o=!1;const r=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=r;for(;n&&(n===s||!this.isValidNavigateCell(n));)d.get("enableRtl")?t===oe.LEFT&&(n=this.getLastCellOfColSpan(n)):t===oe.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=l.getNextCellToFocus(t,n),o=jt(n);if(o&&e&&e.key===oe.UP&&(n={rowIndex:-1,rowPinned:null,column:s.column}),i){const p=d.getCallback("navigateToNextCell");if(ye(p)){const C=p({key:t,previousCellPosition:s,nextCellPosition:n||null,event:e});ye(C)?n={rowPinned:C.rowPinned,rowIndex:C.rowIndex,column:C.column}:n=null}}if(!n)return;if(n.rowIndex<0){const p=Bo(r);u.focusHeaderPosition({headerPosition:{headerRowIndex:p+n.rowIndex,column:s.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(n);f?this.focusPosition(f):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const s=Fd(this.beans,e);return s?(e=s.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:s,rowRenderer:i,focusSvc:n,eventSvc:o}=this.beans,r=s.allCols,l=i.getRowByPosition(e);if(!l||!l.isFullWidth())return!1;const u=n.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Rt(r):r[0])};this.focusPosition(d);const f=t??(u!=null&&i7(d,u));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:s}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),s==null||s.setRangeToCell(e)}isValidNavigateCell(e){return!!Lb(this.beans,e)}getLastCellOfColSpan(e){const t=Fd(this.beans,e);if(!t)return e;const s=t.getColSpanningList();return s.length===1?e:{rowIndex:e.rowIndex,column:Rt(s),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=N_(this.gos),s=this.beans.rowModel.getRow(e.rowIndex),i=t&&(s==null?void 0:s.sticky),{scrollFeature:n}=this.gridBodyCon;!i&&jt(e.rowPinned)&&n.ensureIndexVisible(e.rowIndex),e.column.isPinned()||n.ensureColumnVisible(e.column)}};function dR(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var EX={moduleName:"KeyboardNavigation",version:Se,beans:[AX,CX,QY],apiFunctions:{getFocusedCell:bX,clearFocusedCell:wX,setFocusedCell:yX,setFocusedHeader:xX,tabToNextCell:SX,tabToPreviousCell:RX}},DX=class extends ae{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:s}=this.beans;t?t.calculatePages():e.calculateBounds(0,s.getRowCount()-1)}},TX=class extends ae{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,s=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:s,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:s}=this.beans,i=s.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const n=s.getRowBounds(t);n&&(n.rowIndex=t),this.bottomRowBounds=n,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},FX=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",PX=class extends ae{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const s of this.elements)s&&(ss(s,t),zo(s,e))}},MX=class extends ae{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:s}=this.beans,i=$s(e,"print"),n=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,s.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,s.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=ep(e);if(t<=50)return;const s=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:n,hasLockedPinned:o}=s;let r=n;!r.length&&!o||(i&&(r=i({columns:r,viewportWidth:t})),!(!r||!r.length)&&(r=r.filter(l=>!Xh(l)),this.setColsPinned(r,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new PX(e,t)}setColsPinned(e,t,s){const{colModel:i,colAnimation:n,visibleCols:o,gos:r}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if($s(r,"print")){be(37);return}n==null||n.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];e.forEach(d=>{if(!d)return;const f=i.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),u.push(f))}),u.length&&(o.refresh(s),tN(this.eventSvc,u,s)),n==null||n.finish()}initCol(e){const{pinned:t,initialPinned:s}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,s)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const s=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const n=()=>{const o=s?this.leftWidth:this.rightWidth;if(o==null)return;const r=o==0,l=e.hidden!==r,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(u&&s||!u&&i)?o+d:o;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!r),l&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:n}=this,o=ep(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+n+e>o)if(o>i+n)e=o-i-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,s=this.leftWidth??0,i=t+s;let n=!1;if(i<e)return{columns:[],hasLockedPinned:n};const{visibleCols:o}=this.beans,r=[...o.leftCols],l=[...o.rightCols];let u=0,d=0;const f=0,p=[];let m=i-f-e;for(;(d<r.length||u<l.length)&&m>0;){if(u<l.length){const C=l[u++];if(C.colDef.lockPinned){n=!0;continue}m-=C.getActualWidth(),p.push(C)}if(d<r.length&&m>0){const C=r[d++];if(C.colDef.lockPinned){n=!0;continue}m-=C.getActualWidth(),p.push(C)}}return{columns:p,hasLockedPinned:n}}},LX={moduleName:"PinnedColumn",version:Se,beans:[MX],css:[FX]},kX=class extends ae{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=js(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=us(e),s=this.descriptionContainer=t.createElement("div");s.classList.add("ag-aria-description-container"),g_(s,"polite"),hj(s,"additions text"),dj(s,!0),e.eGridDiv.appendChild(s)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(on(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},IX={moduleName:"Aria",version:Se,beans:[kX]};function OX(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function _X(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function NX(e){var t;(t=e.overlays)==null||t.hideOverlay()}var HX=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",GX={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},aH=class extends $t{constructor(){super(GX),this.eOverlayWrapper=_e,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(HX)}handleKeyDown(e){if(e.key!==oe.TAB||e.defaultPrevented||Wr(e))return;const t=this.beans;if(Du(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Rt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=Zh(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const s=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:n,PRINT:o}=nb;s.toggle(i,t.autoHeight),s.toggle(n,t.normal),s.toggle(o,t.print)}postConstruct(){this.createManagedBean(new DE(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,s,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),s&&this.isGridFocused()){const n=Yt(this.beans);n&&!__(this.beans)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!!n){if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,i)){const o=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:r})=>{var l;(l=o.refresh)==null||l.call(o,ze(this.gos,{...r??{}}))})}s&&this.isGridFocused()&&pu(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const s=this.updateListenerDestroyFunc;s&&(s(),this.updateListenerDestroyFunc=null),this.destroyBean(e),on(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Yt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},BX={selector:"AG-OVERLAY-WRAPPER",component:aH},VX=class extends ae{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=ni(this.gos),this.isServerSide=!this.isClientSide&&Au(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){be(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return BX}getOverlayWrapperCompClass(){return aH}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:s,beans:{gos:i,colModel:n,rowModel:o}}=this;let r=this.gos.get("loading");r!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&r===void 0&&!i.get("suppressLoadingOverlay")&&(r=!i.get("columnDefs")||!n.ready||!i.get("rowData")&&t),r?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!s&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(f8(this.beans.userCompFactory,ze(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(g8(this.beans.userCompFactory,ze(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,s){var n;const i=(e==null?void 0:e.newAgStackInstance())??null;(n=this.eWrapper)==null||n.showOverlay(i,t,this.isExclusive(),s),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const s=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(s==null?void 0:s.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},zX={moduleName:"Overlay",version:Se,userComponents:{agLoadingOverlay:c9,agNoRowsOverlay:d9},apiFunctions:{showLoadingOverlay:OX,showNoRowsOverlay:_X,hideOverlay:NX},beans:[VX]},WX=class extends ae{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Rj(),fu(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;fu(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),s=e/t;return this.maxScrollY*s}},UX=400,jX=class extends ae{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},s=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{bl(this.gos)?s():i()}),bl(this.gos)&&s()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:n})=>{(!n&&i||n&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:s}=this.beans;if(s&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=s.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=$s(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new $X(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),s=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||s.length>0?this.allRowCtrls=[...e,...t,...s]:this.allRowCtrls=e}isCellBeingRendered(e,t){var n;const s=this.rowCtrlsByRowIndex[e];return!t||!s?!!s:s.isFullWidth()?!0:!!((n=this.beans.spannedRowRenderer)==null?void 0:n.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!s.getCellCtrl(t)||!s.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(s=>t.onFlashCells(s,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const s=u=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&u(d)})},i=()=>{s(u=>u.onLeftChanged())},n=()=>{s(u=>u.onWidthChanged())},o=()=>{s(u=>u.onFirstRightPinnedChanged())},r=()=>{s(u=>u.onLastLeftPinnedChanged())},l=()=>{s(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",n),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",r),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",n),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",r),t.__removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=$s(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),s=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,s&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(s=>{var n;const i=(n=s.getCellCtrl(e,!0))==null?void 0:n.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:s,beans:i,printLayout:n}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));s==null||s.forEachPinnedRow(t,(l,u)=>{const d=e[u];d&&s.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o?(e[u]=o[l.id],delete o[l.id]):e[u]=new _b(l,i,!1,!1,n)});const r=(t==="top"?s==null?void 0:s.getPinnedTopRowCount():s==null?void 0:s.getPinnedBottomRowCount())??0;e.length=r}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var s,i;if(e.sticky)(s=this.stickyRowFeature)==null||s.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=o=>{const r=o[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var r;this.getLockOnRefresh();const t=(r=this.beans.focusSvc)==null?void 0:r.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const s=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Bd(this.gos),n=s?this.getRowsToRecycle():null;s||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o}=this;if(o){o.checkStickyRows();const l=o.extraTopHeight+o.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(n,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,s=this.gos.get("suppressScrollOnNewData");t&&!s&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let s=this.pageBounds.getCurrentPageHeight();s===0&&(s=1),t.setModelHeight(s+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(gl(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,s=this.findPositionToFocus(e);if(!s){t.focusHeaderPosition({headerPosition:{headerRowIndex:Bo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==s.rowIndex||e.rowPinned!=s.rowPinned){t.setFocusedCell({...s,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(ze(this.gos,{...s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:s}=this.beans;let i=e;for(i.rowPinned==null&&t&&s&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:s.getFirstRow()});i;){if(i.rowPinned==null&&s)if(i.rowIndex<s.getFirstRow()){if(i=kb(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>s.getLastRow()&&(i={rowPinned:null,rowIndex:s.getLastRow()});const n=this.getRowByPosition(i);if(n!=null&&n.isAlive())return{...n.getRowPosition(),column:e.column};i=kb(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),s=t.length;for(let i=0;i<s;i++){const n=t[i].getAllCellCtrls(),o=n.length;for(let r=0;r<o;r++)e.push(n[r])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),s=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...s,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,s){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,s)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const s of this.getCellCtrls(e.rowNodes,e.columns))s.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const s of this.getRowCtrls(e)){if(!s.isFullWidth())continue;s.refreshFullWidth()||(t=!0,this.redrawRow(s.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=vA(e),s=this.getAllRowCtrls();return!e||!t?s:s.filter(i=>{const n=i.rowNode;return CA(n,t)})}getCellCtrls(e,t){let s;ye(t)&&(s={},t.forEach(n=>{const o=this.colModel.getCol(n);ye(o)&&(s[o.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(o=>{const r=o.column.getId();s&&!s[r]||i.push(o)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var s;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(s=this.stickyRowFeature)==null||s.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const s of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[s].rowNode.id==null&&e.push(s);this.removeRowCtrls(e);const t={};for(const s of Object.values(this.rowCtrlsByRowIndex)){const i=s.rowNode;t[i.id]=s}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(s=>{const i=this.rowCtrlsByRowIndex[s];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[s]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:s}=this.beans,{afterScroll:i}=e;let n;const o=this.stickyRowFeature;o&&(n=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const r=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(o){u=o.checkStickyRows();const f=o.extraTopHeight+o.extraBottomHeight;f&&this.updateContainerHeights(f)}const d=this.firstRenderedRow!==r||this.lastRenderedRow!==l;if(!(i&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!u),n!=null)){const f=t==null?void 0:t.getFocusCellToUseAfterRefresh();n!=null&&f==null&&(s==null||s.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const s={};e.forEach(o=>s[o]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!s[o]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){var r,l;const t=[];for(let u=this.firstRenderedRow;u<=this.lastRenderedRow;u++)t.push(u);const s=this.beans.pagination,i=(l=(r=this.beans.focusSvc)==null?void 0:r.getFocusedCell())==null?void 0:l.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!s||s.isRowInPage(i))&&t.push(i);const n=u=>{const d=u.rowNode.rowIndex;d==null||d===i||(d<this.firstRenderedRow||d>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(u)&&t.push(d)};for(const u of Object.values(this.rowCtrlsByRowIndex))n(u);if(e)for(const u of Object.values(e))n(u);t.sort((u,d)=>u-d);const o=[];for(let u=0;u<t.length;u++){const d=t[u],f=this.rowModel.getRow(d);f&&!f.sticky&&o.push(d)}return o}recycleRows(e,t=!1,s=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||s)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(n=>{this.createOrUpdateRowCtrl(n,e,t,s)}),e){const{animationFrameSvc:n}=this.beans;(n==null?void 0:n.active)&&s&&!this.printLayout?n.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),s=e.isPinningRight();(this.pinningLeft!==t||s!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const s=t.rowNode.rowIndex;e.push(s.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=vA(e);return this.getAllRowCtrls().filter(s=>{if(!s.isFullWidth())return!1;const i=s.rowNode;return!(t!=null&&!CA(i,t))})}createOrUpdateRowCtrl(e,t,s,i){let n,o=this.rowCtrlsByRowIndex[e];if(o||(n=this.rowModel.getRow(e),ye(n)&&ye(t)&&t[n.id]&&n.alreadyRendered&&(o=t[n.id],t[n.id]=null)),!o)if(n||(n=this.rowModel.getRow(e)),ye(n))o=this.createRowCon(n,s,i);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const s=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const n=i.instanceId;this.zombieRowCtrls[n]=i,s.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[n]})}else i.destroySecondPass()}}t&&(s.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>s.forEach(i=>i()),UX))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=nu(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:s}=this;e.updateOffset();let i,n;if(!s.isRowsToRender())i=0,n=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),n=t.getLastRow();else{const f=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let C=!1,w,S;do{const F=t.getPixelOffset(),{pageFirstPixel:L,pageLastPixel:k}=t.getCurrentPagePixelRange(),H=e.divStretchOffset,G=p.getVScrollPosition(),W=G.top,q=G.bottom;m?(w=L+H,S=k+H):(w=Math.max(W+F-f,L)+H,S=Math.min(q+F+f,k)+H),this.firstVisibleVPixel=Math.max(W+F,L)+H,this.lastVisibleVPixel=Math.min(q+F,k)+H,C=this.ensureAllRowsInRangeHaveHeightsCalculated(w,S)}while(C);let R=s.getRowIndexAtPixel(w),A=s.getRowIndexAtPixel(S);const D=t.getFirstRow(),E=t.getLastRow();R<D&&(R=D),A>E&&(A=E),i=R,n=A}const o=$s(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);o&&!r&&n-i>l&&(n=i+l);const u=i!==this.firstRenderedRow,d=n!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=n,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:n}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,na(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var l,u;const s=(l=this.pinnedRowModel)==null?void 0:l.ensureRowHeightsValid(),i=(u=this.stickyRowFeature)==null?void 0:u.ensureRowHeightsValid(),{pageBounds:n,rowModel:o}=this,r=o.ensureRowHeightsValid(e,t,n.getFirstRow(),n.getLastRow());return(r||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||r||s?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,n=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=e.editing,r=i.detail;return n||o||r?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,s){var r,l;const i=((r=this.cachedRowCtrls)==null?void 0:r.getRow(e))??null;if(i)return i;const n=s&&!this.printLayout&&!!((l=this.beans.animationFrameSvc)!=null&&l.active);return new _b(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),s=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...s]}getRowByPosition(e){let t;const{rowIndex:s}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[s];break;case"bottom":t=this.bottomRowCtrls[s];break;default:t=this.rowCtrlsByRowIndex[s],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===s)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===s)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},$X=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,s=this.entriesMap[t];delete this.entriesMap[t],no(this.entriesList,s)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],no(this.entriesList,e)}getEntries(){return this.entriesList}};function vA(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(s=>{const i=s.id;switch(s.rowPinned){case"top":t.top[i]=s;break;case"bottom":t.bottom[i]=s;break;default:t.normal[i]=s;break}}),t}function CA(e,t){const s=e.id;switch(e.rowPinned){case"top":return t.top[s]!=null;case"bottom":return t.bottom[s]!=null;default:return t.normal[s]!=null}}var qX=class extends ae{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Go(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Go(e))}doFullSort(e,t){const s=e.map((i,n)=>({currentPos:n,rowNode:i}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(i=>i.rowNode)}compareRowNodes(e,t,s){const i=t.rowNode,n=s.rowNode;for(let o=0,r=e.length;o<r;o++){const l=e[o],u=l.sort==="desc",d=this.getValue(i,l.column),f=this.getValue(n,l.column);let p;const m=this.getComparator(l,i);if(m?p=m(d,f,i,n,u):p=Fj(d,f,this.isAccentedSort),!isNaN(p)&&p!==0)return l.sort==="asc"?p:p*-1}return t.currentPos-s.currentPos}getComparator(e,t){const s=e.column,i=s.getColDef().comparator;if(i!=null)return i;if(!s.getColDef().showRowGroup)return;const n=!t.group&&s.getColDef().field;if(!n)return;const o=this.beans.colModel.getColDefCol(n);if(o)return o.getColDef().comparator}getValue(e,t){var l,u;const{valueSvc:s,colModel:i,showRowGroupCols:n,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return s.getValue(t,e,!1);if(e.rowGroupColumn===t){if(yE(o,i.isPivotActive())){const p=(l=e.allLeafChildren)==null?void 0:l[0];return p?s.getValue(t,p,!1):void 0}const f=n==null?void 0:n.getShowRowGroupCol(t.getId());return f?(u=e.groupData)==null?void 0:u[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return s.getValue(t,e,!1)}};function KX(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var pg=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),YX={tag:"span",cls:"ag-sort-indicator-container",children:[pg("Order","order"),pg("Asc","ascending-icon"),pg("Desc","descending-icon"),pg("Mixed","mixed-icon"),pg("None","none-icon")]},BE=class extends $t{constructor(e){super(),this.eSortOrder=_e,this.eSortAsc=_e,this.eSortDesc=_e,this.eSortMixed=_e,this.eSortNone=_e,e||this.setTemplate(YX)}attachCustomElements(e,t,s,i,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=s,this.eSortMixed=i,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const s=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",s),this.addManagedEventListeners({newColumnsLoaded:s,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,s){if(t==null)return;const i=An(e,this.beans,s);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:s,column:i,gos:n,beans:o}=this,r=o.sortSvc.getDisplaySortForColumn(i);if(e&&ss(e,r==="asc",{skipAriaHidden:!0}),t&&ss(t,r==="desc",{skipAriaHidden:!0}),s){const l=!i.getColDef().unSortIcon&&!n.get("unSortIcon"),u=r==null;ss(s,!l&&u,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:s}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Go(s)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:s}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(s)==="mixed";ss(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:s}}=this;if(!e)return;const i=s.getColumnsWithSortingOrdered(),n=s.getDisplaySortIndexForColumn(t)??-1,o=i.some(l=>s.getDisplaySortIndexForColumn(l)??!1),r=n>=0&&o;ss(e,r,{skipAriaHidden:!0}),n>=0?e.textContent=(n+1).toString():on(e)}},XX={selector:"AG-SORT-INDICATOR",component:BE},lp=["asc","desc",null],QX=class extends ae{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,s){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,s)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,s,i){var f;t!=="asc"&&t!=="desc"&&(t=null);const{gos:n,showRowGroupCols:o}=this.beans,r=Go(n);let l=[e];if(r&&e.getColDef().showRowGroup){const p=(f=o==null?void 0:o.getSourceColumnsForGroupColumn)==null?void 0:f.call(o,e),m=p==null?void 0:p.filter(C=>C.isSortable());m&&(l=[e,...m])}l.forEach(p=>this.setColSort(p,t,i));const u=(s||n.get("alwaysMultiSort"))&&!n.get("suppressMultiSort"),d=[];if(!u){const p=this.clearSortBarTheseColumns(l,i);d.push(...p)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){const{gos:t,colModel:s,showRowGroupCols:i}=this.beans,n=Go(t),o=i==null?void 0:i.getShowRowGroupCol(e.getId()),r=n&&o||e,l=this.getColumnsWithSortingOrdered();s.forAllCols(f=>this.setColSortIndex(f,null));const u=l.filter(f=>n&&f.getColDef().showRowGroup?!1:f!==r);(r.getSort()?[...u,r]:u).forEach((f,p)=>this.setColSortIndex(f,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const s={type:"sortChanged",source:e};t&&(s.columns=t),this.eventSvc.dispatchEvent(s)}clearSortBarTheseColumns(e,t){const s=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&s.push(i),this.setColSort(i,void 0,t))}),s}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??lp,s=t.indexOf(e.getSort()),i=s<0,n=s==t.length-1;return i||n?t[0]:t[s+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:s,rowGroupColsSvc:i}=this.beans;let n=[];if(t.forAllCols(d=>{d.getSort()&&n.push(d)}),t.isPivotMode()){const d=Go(e);n=n.filter(f=>{const p=!!f.getAggFunc(),m=!f.isPrimary(),C=d?s==null?void 0:s.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return p||m||C})}const o=(i==null?void 0:i.columns.filter(d=>!!d.getSort()))??[],r={};n.forEach((d,f)=>r[d.getId()]=f),n.sort((d,f)=>{const p=d.getSortIndex(),m=f.getSortIndex();if(p!=null&&m!=null)return p-m;if(p==null&&m==null){const C=r[d.getId()],w=r[f.getId()];return C>w?1:-1}else return m==null?-1:1});const l=Go(e)&&!!o.length;l&&(n=[...new Set(n.map(d=>(s==null?void 0:s.getShowRowGroupCol(d.getId()))??d))]);const u=new Map;return n.forEach((d,f)=>u.set(d,f)),l&&o.forEach(d=>{const f=s.getShowRowGroupCol(d.getId());u.set(d,u.get(f))}),u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Go(this.gos),s=!!e.getColDef().showRowGroup;return t&&s}getDisplaySortForColumn(e){var r;const t=(r=this.beans.showRowGroupCols)==null?void 0:r.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=i[0].getSort();return i.every(l=>l.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,s){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),s&&e.addManagedElementListeners(s,{click:o=>{const r=t.isMoving(),u=Date.now()-i<50;r||u||this.progressSortFromEvent(t,o)}});const n=()=>{var r;const o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const l=(r=this.beans.showRowGroupCols)==null?void 0:r.getSourceColumnsForGroupColumn(t),d=!(l==null?void 0:l.every(f=>t.getSort()==f.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){const{sort:t,initialSort:s,sortIndex:i,initialSortIndex:n}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(s==="asc"||s==="desc")&&(e.sort=s),i!==void 0?i!==null&&(e.sortIndex=i):n!==null&&(e.sortIndex=n)}updateColSort(e,t,s){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,s):this.setColSort(e,void 0,s))}setColSort(e,t,s){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",s)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new BE(e)}getSortIndicatorSelector(){return XX}},lH={moduleName:"Sort",version:Se,beans:[QX,qX],apiFunctions:{onSortChanged:KX},userComponents:{agSortIndicator:BE},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},ZX=class extends ae{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:s}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),s.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),fu(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,zd(e.source))}}};function JX(e){var t;(t=e.valueCache)==null||t.expire()}function eQ(e,t){const{colKey:s,rowNode:i,useFormatter:n}=t,o=e.colModel.getColDefCol(s)??e.colModel.getCol(s);if(jt(o))return null;const r=e.valueSvc.getValueForDisplay(o,i);return n?e.valueSvc.formatValue(o,i,r)??Ur(r,!0):r}var Hb=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:s,children:i}=e;if(i)for(let n=0;n<i.length;++n)this.depthFirstSearchChangedPath(i[n],t);t(s)}depthFirstSearchEverything(e,t,s){const i=e.childrenAfterGroup;if(i)for(let n=0,o=i.length;n<o;++n){const r=i[n];r.childrenAfterGroup?this.depthFirstSearchEverything(r,t,s):s&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,s=!1){this.active&&!s?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,s=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,s++,t=t.parent}return s}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let s=e;for(;s;)this.nodeIdsToColumns[s.id]||(this.nodeIdsToColumns[s.id]={}),t.forEach(i=>this.nodeIdsToColumns[s.id][i.getId()]=!0),s=s.parent}linkPathItems(e,t){let s=e;for(let i=0;i<t;i++){const n=this.mapToItems[s.id],o=this.mapToItems[s.parent.id];o.children||(o.children=[]),o.children.push(n),s=s.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const s=this.createPathItems(e);this.linkPathItems(e,s),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const s=this.nodeIdsToColumns[e.id];return t.filter(n=>s[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const s=this.nodeIdsToColumns[e.id];return t.filter(n=>!s[n.getId()])}},tQ="paste",sQ=class extends ae{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;ni(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:s}=this.beans;if(e.source===tQ||t.get("suppressChangeDetection"))return;const i=e.node,n=[i],o=this.clientSideRowModel,r=o==null?void 0:o.rootNode;if(r&&!i.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new Hb(l,r);u.addParentNode(i.parent,[e.column]),o.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{n.push(d),d.sibling&&n.push(d.sibling)})}s.refreshCells({rowNodes:n})}},iQ=class extends ae{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);xt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(s){return xt(16,{expression:e,params:t,e:s}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const s=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",s);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},nQ=class extends ae{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,s){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=s}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},oQ={moduleName:"ValueCache",version:Se,beans:[nQ],apiFunctions:{expireValueCache:JX}},rQ={moduleName:"Expression",version:Se,beans:[iQ]},aQ={moduleName:"ChangeDetection",version:Se,beans:[sQ]},lQ={moduleName:"CellApi",version:Se,apiFunctions:{getCellValue:eQ}},cQ=class extends ae{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Au(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const s=e.getColDef().showRowGroup;if(s!=null){if(typeof s=="string"){const u=this.getDisplayedNode(t,e,!0);if(u)return this.getValue(e,u)}const l=this.getValue(e,t);if(l==null){const u=this.getDisplayedNode(t,e);if(u)return this.getValue(e,u)}return l}const i=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,o=this.gos.get("groupSuppressBlankHeader")||!t.sibling,r=n&&!o;return this.getValue(e,t,r)}getValue(e,t,s=!1){var C;if(this.initialised||this.init(),!t)return;const i=e.getColDef(),n=i.field,o=e.getColId(),r=t.data;let l;const u=i.showRowGroup;if(typeof u=="string"&&(((C=this.beans.rowGroupColsSvc)==null?void 0:C.getColumnIndex(u))??-1)>t.level)return null;const d=t.groupData&&t.groupData[o]!==void 0,f=!s&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&s&&!!e.getColDef().aggFunc,m=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f?l=t.aggData[o]:this.isTreeData&&i.valueGetter?l=this.executeValueGetter(i.valueGetter,r,e,t):this.isTreeData&&n&&r?l=Bg(r,n,e.isFieldContainsDots()):d?l=t.groupData[o]:f?l=t.aggData[o]:i.valueGetter?l=this.executeValueGetter(i.valueGetter,r,e,t):m?l=Bg(r,t.field,e.isFieldContainsDots()):n&&r&&!p&&(l=Bg(r,n,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const w=l.substring(1);l=this.executeValueGetter(w,r,e,t)}return l}parseValue(e,t,s,i){var r;const n=e.getColDef(),o=n.valueParser;if(ye(o)){const l=ze(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:s,colDef:n,column:e});return typeof o=="function"?o(l):(r=this.expressionSvc)==null?void 0:r.evaluate(o,l)}return s}getDeleteValue(e,t){return ye(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,s,i,n=!0){let o=null,r;const l=e.getColDef();if(i?r=i:n&&(r=l.valueFormatter),r){const u=ze(this.gos,{value:s,node:t,data:t?t.data:null,colDef:l,column:e});typeof r=="function"?o=r(u):o=this.expressionSvc?this.expressionSvc.evaluate(r,u):null}else if(l.refData)return l.refData[s]||"";return o==null&&Array.isArray(s)&&(o=s.join(", ")),o}getDisplayedNode(e,t,s=!1){var u,d,f;const i=this.gos,n=i.get("groupHideOpenParents"),o=i.get("showOpenedGroup")&&!s;if(!n&&!o)return;const r=t.colDef.showRowGroup;if(r===!0)return e.group?void 0:e.parent??void 0;let l=e;for(;l&&((u=l.rowGroupColumn)==null?void 0:u.getId())!=r;){const p=l===((f=(d=l.parent)==null?void 0:d.childrenAfterSort)==null?void 0:f[0]);if(!o&&!p)return;l=l.parent}if(l!==e)return l??void 0}setValue(e,t,s,i){var f,p;const n=this.colModel.getColDefCol(t);if(!e||!n)return!1;jt(e.data)&&(e.data={});const{field:o,valueSetter:r}=n.getColDef();if(jt(o)&&jt(r))return be(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(n,s))return be(135),!1;const l=ze(this.gos,{node:e,data:e.data,oldValue:this.getValue(n,e),newValue:s,colDef:n.getColDef(),column:n});l.newValue=s;let u;if(ye(r)?typeof r=="function"?u=r(l):u=(f=this.expressionSvc)==null?void 0:f.evaluate(r,l):u=this.setValueUsingField(e.data,o,s,n.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),(p=this.valueCache)==null||p.onDataChanged();const d=this.getValue(n,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,colDef:l.colDef,data:e.data,node:e,oldValue:l.oldValue,newValue:d,value:d,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,s,i){if(!t)return!1;let n=!1;if(!i)n=e[t]===s,n||(e[t]=s);else{const o=t.split(".");let r=e;for(;o.length>0&&r;){const l=o.shift();o.length===0?(n=r[l]===s,n||(r[l]=s)):r=r[l]}}return!n}executeValueGetterWithValueCache(e,t,s,i){const n=s.getColId(),o=this.valueCache.getValue(i,n);if(o!==void 0)return o;const r=this.executeValueGetterWithoutValueCache(e,t,s,i);return this.valueCache.setValue(i,n,r),r}executeValueGetterWithoutValueCache(e,t,s,i){var r;const n=ze(this.gos,{data:t,node:i,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,i)});let o;return typeof e=="function"?o=e(n):o=(r=this.expressionSvc)==null?void 0:r.evaluate(e,n),o}getValueCallback(e,t){const s=this.colModel.getColDefCol(t);return s?this.getValue(s,e):null}getKeyForNode(e,t){const s=this.getValue(e,t),i=e.getColDef().keyCreator;let n=s;if(i){const o=ze(this.gos,{value:s,colDef:e.getColDef(),column:e,node:t,data:t.data});n=i(o)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&be(121)),n}},uQ={moduleName:"CommunityCore",version:Se,beans:[sX,Z9,UK,N$,WX,oK,XY,rX,I$,TX,DX,jX,cQ,eX,YY,tX,$K,ZX,GK,BK],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:J9,destroy:eq,isDestroyed:tq,getGridOption:sq,setGridOption:iq,updateGridOptions:BN},dependsOn:[OK,Nq,Uq,lH,hX,aK,fX,zX,aQ,pX,EX,LX,IX,vX,WK,_K,rQ]},VE=class Yl{static applyGlobalGridOptions(t){if(!Yl.gridOptions)return{...t};let s={};return bi(s,Yl.gridOptions,!0,!0),Yl.mergeStrategy==="deep"?bi(s,t,!0,!0):s={...s,...t},Yl.gridOptions.context&&(s.context=Yl.gridOptions.context),t.context&&(Yl.mergeStrategy==="deep"&&s.context&&bi(t.context,s.context,!0,!0),s.context=t.context),s}};VE.gridOptions=void 0;VE.mergeStrategy="shallow";var cH=VE;function dQ(e){var t;return(t=cH.gridOptions)==null?void 0:t[e]}var hQ=1,fQ=class{create(e,t,s,i,n,o){const r=cH.applyGlobalGridOptions(t),l=r.gridId??String(hQ++),u=r.rowModelType??"clientSide",d=this.getRegisteredModules(n,l,u),f=this.createBeansList(u,d,l),p=this.createProvidedBeans(e,r,n);if(!f)return;const m={providedBeanInstances:p,beanClasses:f,gridId:l,beanInitComparator:K9,beanDestroyComparator:Y9,derivedBeans:[$9],destroyCallback:o},C=new F8(m);return this.registerModuleFeatures(C,d),s(C),C.getBean("syncSvc").start(),i&&i(C),C.getBean("gridApi")}getRegisteredModules(e,t,s){var i;return rp(uQ,void 0),(i=e==null?void 0:e.modules)==null||i.forEach(n=>rp(n,t)),R8(t,s)}registerModuleFeatures(e,t){const s=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(n=>{s.registerModule(n);const o=n.apiFunctions;o&&Object.keys(o).forEach(l=>{i==null||i.addFunction(l,o[l])})})}createProvidedBeans(e,t,s){let i=s?s.frameworkOverrides:null;jt(i)&&(i=new HN);const n={gridOptions:t,eGridDiv:e,globalListener:s?s.globalListener:null,globalSyncListener:s?s.globalSyncListener:null,frameworkOverrides:i};return s&&s.providedBeanInstances&&Object.assign(n,s.providedBeanInstances),n}createBeansList(e,t,s){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!n){iA(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!lN(n,s,e)){iA(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:n,gridScoped:AE(),gridId:s,rowModelType:e},`Missing module ${n}Module for rowModelType ${e}. 
If upgrading from before v33, see ${su}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const o=new Set;return t.forEach(r=>{var l;return(l=r.beans)==null?void 0:l.forEach(u=>o.add(u))}),Array.from(o)}};function $o(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Jw(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function uH(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var gQ=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],pQ=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],mQ=[...gQ,...pQ],vQ=class extends ae{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,n,o)=>t({key:i,defaultValue:n,variableValues:o});const s=e.get("localeText");return(i,n,o)=>{let r=s&&s[i];if(r&&o&&o.length){let l=0;for(;!(l>=o.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",o[l++])}return r??n}}},CQ=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],bQ=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],wQ=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],dH=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],yQ=["theme","rowSelection"],SQ=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],hH=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],RQ=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],xQ=[...wQ,...bQ,...CQ,...dH,...RQ,...hH,...SQ,...yQ],AQ=class{wrap(e,t,s,i){const n=this.createWrapper(e,i);return t==null||t.forEach(o=>{this.createMethod(n,o,!0)}),s==null||s.forEach(o=>{this.createMethod(n,o,!1)}),n}createMethod(e,t,s){e.addMethod(t,this.createMethodProxy(e,t,s))}createMethodProxy(e,t,s){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(s&&be(49,{methodName:t}),null)}}},EQ={tag:"div",cls:"ag-tooltip"},DQ=class extends lf{constructor(){super(EQ)}init(e){const{value:t}=e;this.getGui().textContent=Ur(t,!0)}};function fH(e){const{inputValue:t,allSuggestions:s,hideIrrelevant:i,filterByPercentageOfBestMatch:n}=e;let o=s.map((u,d)=>({value:u,relevance:TQ(t,u),idx:d}));if(o.sort((u,d)=>d.relevance-u.relevance),i&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&n&&n>0){const d=o[0].relevance*n;o=o.filter(f=>d-f.relevance<0)}const r=[],l=[];for(const u of o)r.push(u.value),l.push(u.idx);return{values:r,indices:l}}function TQ(e,t){if(e===t)return 1e3;const s=e.length,i=t.length;if(s===0||i===0)return 0;const n=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),r=o.indexOf(n);if(r!==-1)return 980-r*2;if([...n].filter(p=>o.includes(p)).length===0)return 0;let u=Array.from({length:i+1},(p,m)=>m);for(let p=0;p<s;p++){const m=[p+1];for(let C=0;C<i;C++){const w=u[C+1]+1,S=m[C]+1;let R=u[C]+(e[p]!==t[C]?1:0);i>10&&C>i/2&&(R+=1),p>0&&C>0&&e[p-1]===t[C-1]&&(R-=4),m.push(Math.min(w,S,R))}u=m}const d=Math.round(u[i]),f=Math.max(1,1e3-d*30);return Math.max(1,f)}function FQ(e,t){if(typeof e!="number")return"";const s=t(),i=s("thousandSeparator",","),n=s("decimalSeparator",".");return e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var PQ=class extends ae{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},MQ=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:s,colNames:i,valueSvc:n,gos:o,processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=s,this.colNames=i,this.valueSvc=n,this.gos=o,this.processCellCallback=r,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,s,i,n){const r=(!this.gos.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,e,t)?this.createValueForGroupNode(e,n):this.valueSvc.getValueForDisplay(e,n);return this.processCell({accumulatedRowIndex:s,rowNode:n,column:e,value:r,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(e,t,s){var r,l;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((r=e.groupData)==null?void 0:r[t.getId()])!==void 0||Au(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===((l=this.rowGroupColsSvc)==null?void 0:l.columns[0].getId())}}const o=yE(this.gos,this.colModel.isPivotMode());return s===0&&o}getHeaderName(e,t){return e?e(ze(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(ze(this.gos,{column:e,node:t}));const s=this.gos.get("treeData"),i=l=>{var d;if(s)return l.key;const u=(d=l.groupData)==null?void 0:d[e.getId()];return!u||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueSvc.formatValue(l.rowGroupColumn,l,u)??u},n=t.footer,o=[i(t)];if(!jj(this.gos))for(;t.parent;)t=t.parent,o.push(i(t));const r=o.reverse().join(" -> ");return n?`Total ${r}`:r}processCell(e){const{accumulatedRowIndex:t,rowNode:s,column:i,value:n,processCellCallback:o,type:r}=e;return o?{value:o(ze(this.gos,{accumulatedRowIndex:t,column:i,node:s,value:n,type:r,parseValue:l=>this.valueSvc.parseValue(i,s,l,this.valueSvc.getValue(i,s)),formatValue:l=>this.valueSvc.formatValue(i,s,l)??l}))??""}:i.getColDef().useValueFormatterForExport!==!1?{value:n??"",valueFormatted:this.valueSvc.formatValue(i,s,n)}:{value:n??""}}};function LQ(e,t){const s=document.defaultView||window;if(!s){be(52);return}const i=document.createElement("a"),n=s.URL.createObjectURL(t);i.setAttribute("href",n),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(i),s.setTimeout(()=>{s.URL.revokeObjectURL(n)},0)}var kQ={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Ti="clientSide",hi="serverSide",bd="infinite",IQ={onGroupExpandedOrCollapsed:[Ti],refreshClientSideRowModel:[Ti],isRowDataEmpty:[Ti],forEachLeafNode:[Ti],forEachNodeAfterFilter:[Ti],forEachNodeAfterFilterAndSort:[Ti],resetRowHeights:[Ti],applyTransaction:[Ti],applyTransactionAsync:[Ti],flushAsyncTransactions:[Ti],getBestCostNodeSelection:[Ti],getServerSideSelectionState:[hi],setServerSideSelectionState:[hi],applyServerSideTransaction:[hi],applyServerSideTransactionAsync:[hi],applyServerSideRowData:[hi],retryServerSideLoads:[hi],flushServerSideAsyncTransactions:[hi],refreshServerSide:[hi],getServerSideGroupLevelState:[hi],refreshInfiniteCache:[bd],purgeInfiniteCache:[bd],getInfiniteRowCount:[bd],isLastRowIndexKnown:[bd,hi],expandAll:[Ti,hi],collapseAll:[Ti,hi],onRowHeightChanged:[Ti,hi],setRowCount:[bd,hi],getCacheBlockState:[bd,hi]},OQ={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function _Q(e,t,s){const i=OQ[e];if(i){const{version:o,new:r,old:l,message:u}=i,d=l??e;return(...f)=>{const p=r?`Please use ${r} instead. `:"";return Gg(`Since ${o} api.${d} is deprecated. ${p}${u??""}`),t.apply(t,f)}}const n=IQ[e];return n?(...o)=>{const r=s.rowModel.getType();if(!n.includes(r)){Gd(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,o)}:t}var gH={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},hR=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],NQ={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:hR,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...hR,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...hR,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},HQ={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function GQ(e,t){const s=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const n=NQ[i];n?n.forEach(o=>{const r=HQ[o];(!r||r===t)&&s.push(o)}):s.push(i)}),s}var jd={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},BQ=e=>{const t=e.map(i=>`import { ${Ug(i)} } from '${gH[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>Ug(i,!0)).join(", ")} ]); 

For more info see: ${su}/modules/`};function Ug(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function VQ(e,t){const s=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&s.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>gH[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}var O1=({reasonOrId:e,moduleName:t,gridScoped:s,gridId:i,rowModelType:n,additionalText:o,isUmd:r})=>{const l=GQ(t,n),u=typeof e=="string"?e:jQ[e];if(r)return VQ(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>Ug(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>Ug(m)).join(", "):Ug(l[0])} is not registered${s?" for gridId: "+i:""}. ${f} Check if you have registered the module:
`}
${BQ(l)}`+(o?` 

${o}`:"")},_1=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,zQ=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,WQ={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:s})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",s],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${zQ(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:s,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${s?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:s,jsComps:i})=>{const n=[],o=[...Object.keys(s??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(i??[])],r=fH({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return n.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),r.length>0&&n.push(`         Did you mean: [${r.slice(0,3)}]?
`),n.push("If using a custom component check it has been registered correctly."),n},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${su}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:s})=>["duplicate group keys for row data, keys should be unique",e,t,...s??[]],187:({rowId:e,firstData:t,secondData:s})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",s],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:O1,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${su}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>_1("IntegratedChartsModule"),258:()=>_1("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:s,gridId:i,rowModelType:n})=>O1({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:jd[t],gridId:i,gridScoped:s,rowModelType:n}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${su}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`};function UQ(e,t){const s=WQ[e];if(!s)return[`Missing error text for error id ${e}!`];const i=s(t),o=`
See ${M_(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var jQ={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},$Q=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),qQ=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const s=jd[e];if(s)return{module:s}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=jd[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>pH(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=jd[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return gl(262);if(e.smallLeft)return gl(263);if(e.smallRight)return gl(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var s;const t=["columnsMenuTab","generalMenuTab"];return(s=e.menuTabs)!=null&&s.some(i=>t.includes(i))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const s=t.filter(i=>!lp.includes(i));if(s.length>0)return`sortingOrder must be an array with elements from [${lp.map(yb).join()}], currently it includes [${s.map(yb).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:s,suppressRowTransform:i,enableCellSpan:n,rowDragEntireRow:o,enableCellTextSelection:r})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":s?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":n?o?"colDef.spanRows is not supported with rowDragEntireRow.":r?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),KQ={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},YQ=()=>Object.keys(KQ),pH=()=>({objectName:"colDef",allProperties:YQ(),docsUrl:"column-properties/",deprecations:$Q(),validations:qQ()}),XQ=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function vo(e,t,s,i=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=s&&t<=i?null:i===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${s}`:`${e}: value should be between ${s} and ${i}`:`${e}: value should be a number`}var QQ=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:s}){return vo("autoSizePadding",s,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:s}){return vo("cacheBlockSize",s,1)}},cacheOverflowSize:{validate({cacheOverflowSize:s}){return vo("cacheOverflowSize",s,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:s=>{const i=s.domLayout,n=["autoHeight","normal","print"];return i&&!n.includes(i)?`domLayout must be one of [${n.join()}], currently it's ${i}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},findSearchValue:{module:"Find"},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:s})=>{if(s){if(s.smallDown)return gl(262);if(s.smallLeft)return gl(263);if(s.smallRight)return gl(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:s}){return vo("infiniteInitialRowCount",s,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:s}){return vo("keepDetailRowsCount",s,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:s}){return vo("paginationPageSize",s,1)}},paginationPageSizeSelector:{validate:s=>{const i=s.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:s}){return vo("rowBuffer",s,0)}},rowClass:{validate:s=>typeof s.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:s}){return s&&typeof s=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':s&&typeof s!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":s&&s.mode!=="multiRow"&&s.mode!=="singleRow"?`Selection mode "${s.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:s=>{const i=s.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:s}){return vo("serverSideInitialRowCount",s,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:s=>{const i=s.sortingOrder;if(Array.isArray(i)&&i.length>0){const n=i.filter(o=>!lp.includes(o));if(n.length>0)return`sortingOrder must be an array with elements from [${lp.map(yb).join()}], currently it includes [${n.map(yb).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:s=>s.tooltipHideDelay&&s.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:s=>s.tooltipShowDelay&&s.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:s=>{const i=s.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:n,treeDataParentIdField:o,getDataPath:r,getRowId:l}=s;if(!n&&!o&&!r)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(n){if(r)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(r)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return s.isServerSideGroup&&s.getServerSideGroupKey?null:n}}return null}},treeDataChildrenField:{module:"SharedTreeData"},treeDataParentIdField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:s}){return vo("viewportRowModelBufferSize",s,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:s}){return vo("viewportRowModelPageSize",s,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"},autoGroupColumnDef:{validate({autoGroupColumnDef:s,showOpenedGroup:i}){return s!=null&&s.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":s!=null&&s.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return hH.forEach(s=>{t[s]={expectedType:"boolean"}}),dH.forEach(s=>{t[s]={expectedType:"number"}}),bi(t,e),t},ZQ=()=>({objectName:"gridOptions",allProperties:[...xQ,...mQ.map(e=>B_(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:XQ(),validations:QQ()}),JQ={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},eZ={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},tZ=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),sZ={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},iZ=class extends ae{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,kj(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&kQ[t]&&be(22,{key:t})}processGridOptions(e){this.processOptions(e,ZQ())}validateApiFunction(e,t){return _Q(e,t,this.beans)}missingUserComponent(e,t,s,i){const n=jd[t];n?this.gos.assertModuleRegistered(n,`AG Grid '${e}' component: ${t}`):be(101,{propertyName:e,componentName:t,agGridDefaults:s,jsComps:i})}checkRowEvents(e){oZ.has(e)&&be(10,{eventType:e})}validateIcon(e){if(tZ.has(e)&&be(43,{iconName:e}),JQ[e])return;const t=eZ[e];if(t){xt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:AE(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}be(134,{iconName:e})}validateMenuItem(e){const t=sZ[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!jd[e]}validateColDef(e,t,s){var i;(s||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&this.processOptions(e,pH())}processOptions(e,t){const{validations:s,deprecations:i,allProperties:n,propertyExceptions:o,objectName:r,docsUrl:l}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],n,r,l);const u=new Set,d=p=>{const m=s[p];if(m)if(typeof m=="function"){const C=m(e,this.gridOptions,this.beans);if(!C)return;if("objectName"in C){const w=e[p];if(Array.isArray(w)){w.forEach(S=>{this.processOptions(S,C)});return}this.processOptions(e[p],C);return}return C}else return m;else return};Object.keys(e).forEach(p=>{const m=i[p];if(m){const{message:F,version:L}=m;u.add(`As of v${L}, ${String(p)} is deprecated. ${F??""}`)}const C=e[p];if(C==null||C===!1)return;const w=d(p);if(!w)return;const{module:S,dependencies:R,validate:A,supportedRowModels:D,expectedType:E}=w;if(E){const F=typeof C;if(F!==E){u.add(`${String(p)} should be of type '${E}' but received '${F}' (${C}).`);return}}if(D){const F=this.gridOptions.rowModelType??"clientSide";if(!D.includes(F)){u.add(`${String(p)} is not supported with the '${F}' row model. It is only valid with: ${D.join(", ")}.`);return}}if(S){const F=Array.isArray(S)?S:[S];let L=!0;if(F.forEach(k=>{this.gos.assertModuleRegistered(k,String(p))||(L=!1)}),!L)return}if(R){const F=this.checkForRequiredDependencies(p,R,e);if(F){u.add(F);return}}if(A){const F=A(e,this.gridOptions,this.beans);if(F){u.add(F);return}}}),u.size>0&&u.forEach(p=>{Gg(p)})}checkForRequiredDependencies(e,t,s){const n=Object.entries(t).filter(([o,r])=>{const l=s[o];return!r.required.includes(l)});return n.length===0?null:n.map(([o,r])=>`'${String(e)}' requires '${o}' to be one of [${r.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${r.reason??""}`).join(`
           `)}checkProperties(e,t,s,i,n){const o=["__ob__","__v_skip","__metadata__"],r=nZ(Object.getOwnPropertyNames(e),[...o,...t,...s],s),l=Object.keys(r);for(const u of l){const d=r[u];let f=`invalid ${i} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;s.includes("context")&&(f+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Gg(f)}if(l.length>0&&n){const u=this.beans.frameworkOverrides.getDocLink(n);Gg(`to see all the valid ${i} properties please check: ${u}`)}}getConsoleMessage(e,t){return UQ(e,t)}};function nZ(e,t,s){const i={},n=e.filter(o=>!t.some(r=>r===o));return n.length>0&&n.forEach(o=>i[o]=fH({inputValue:o,allSuggestions:s}).values),i}var oZ=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),rZ={moduleName:"Validation",version:Se,beans:[iZ]};function mH(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var aZ=class extends ae{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var s;const t=!!((s=this.filterManager)!=null&&s.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const s=(i,n)=>{i.hasChildren()&&e&&!n?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{const r=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,l=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return r||l}):i.childrenAfterFilter=i.childrenAfterGroup,mH(i)};if(this.doingTreeDataFiltering()){const i=(o,r)=>{if(o.childrenAfterGroup)for(let l=0;l<o.childrenAfterGroup.length;l++){const u=o.childrenAfterGroup[l],d=r||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(o.childrenAfterGroup[l],d):s(u,d)}s(o,r)},n=o=>i(o,!1);t.executeFromRootNode(n)}else{const i=n=>s(n,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},lZ=class extends kE{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,s,i,n){this.comp=e;const o=Nm(this,this.beans.context,n);this.eButtonShowMainFilter=s,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.colDef;return ze(t.gos,{colDef:s,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,s=!!e.floatingFilter;this.active=t&&s}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=An("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new af(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();qw(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var r;const{beans:t}=this;if(Yt(t)===this.eGui)return;const n=Du(t,this.eGui,null,e.shiftKey);if(n){(r=t.headerNavigation)==null||r.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let s=this.column;do if(s=e?t.getColBefore(s):t.getColAfter(s),!s)break;while(!s.getColDef().filter||!s.getColDef().floatingFilter);return s}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case oe.UP:case oe.DOWN:t||e.preventDefault();case oe.LEFT:case oe.RIGHT:if(t)return;e.stopPropagation();case oe.ENTER:t&&pu(this.eGui)&&e.preventDefault();break;case oe.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const s=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&tu(e.relatedTarget,"ag-floating-filter");if(s&&i&&e.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===oe.TAB);if(n&&o){const r=n.shiftKey;pu(this.eGui,r)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new LE(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!en(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,s=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then(o=>{if(o){const r=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),l=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(r,l)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:s}),t!=null&&t.isFilterActive(this.column)&&s(null)}setupWidth(e){const t=()=>{const s=`${this.column.getActualWidth()}px`;this.comp.setWidth(s)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const s=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!i?this.updateCompDetails(e,i,s):n.then(r=>{var l;!r||(l=this.beans.filterManager)!=null&&l.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,s):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t,s){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),s&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var s;if(!e)return;const t=e.params;(s=this.comp.getFloatingFilterComp())==null||s.then(i=>{i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function cZ(e,t){var i;const s=e.colModel.getCol(t);if(!s){xt(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:s,positionBy:"auto"})}function uZ(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var dZ={moduleName:"SharedMenu",version:Se,beans:[a9],apiFunctions:{showColumnMenu:cZ,hidePopupMenu:uZ}},hZ=0,fZ=200,gZ=class extends ae{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:s,column:i,node:n,event:o}=e,r=t.getBoundingClientRect(),l=this.getParentRect();this.setAlignedTo(t,s);let u=!1;const d=()=>{const f=this.keepXYWithinBounds(s,r.top-l.top,0),p=s.clientWidth>0?s.clientWidth:200;u||(s.style.minWidth=`${p}px`,u=!0);const C=l.right-l.left-p;let w;return this.gos.get("enableRtl")?(w=R(),w<0&&(w=S(),this.setAlignedStyles(s,"left")),w>C&&(w=0,this.setAlignedStyles(s,"right"))):(w=S(),w>C&&(w=R(),this.setAlignedStyles(s,"right")),w<0&&(w=0,this.setAlignedStyles(s,"left"))),{x:w,y:f};function S(){return r.right-l.left-2}function R(){return r.left-l.left-p}};this.positionPopup({ePopup:s,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",s,t,o instanceof MouseEvent?o:void 0,i,n)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:s,nudgeY:i,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:n,eventSource:o,alignSide:r="left",position:l="over",column:u,rowNode:d,type:f}=e,p=o.getBoundingClientRect(),m=this.getParentRect();this.setAlignedTo(o,t);const C=()=>{let w=p.left-m.left;r==="right"&&(w-=t.offsetWidth-p.width);let S;return l==="over"?(S=p.top-m.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,m,e.nudgeY||0)==="under"?S=p.top-m.top+p.height:S=p.top-t.offsetHeight-(i||0)*2-m.top),{x:w,y:S}};this.positionPopup({ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:n,updatePosition:C,postProcessCallback:()=>this.callPostProcessPopup(f,t,o,null,u,d)})}shouldRenderUnderOrAbove(e,t,s,i){const n=s.bottom-t.bottom,o=t.top-s.top,r=e.offsetHeight+i;return n>r?"under":o>r||o>n?"above":"under"}setAlignedStyles(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const i=this.popupList[s],{alignedToElement:n}=i;!n||(["right","left","over","above","under"].forEach(r=>{n.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const s=this.getPopupIndex(t);if(s!==-1){const i=this.popupList[s];i.alignedToElement=e}}callPostProcessPopup(e,t,s,i,n,o){const r=this.gos.getCallback("postProcessPopup");r&&r({column:n,rowNode:o,ePopup:t,type:e,eventSource:s,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:s,nudgeX:i,nudgeY:n,skipObserver:o,updatePosition:r}=e,l={width:0,height:0},u=(d=!1)=>{let{x:f,y:p}=r();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(f+=i),n&&(p+=n),s&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!o){const d=ia(this.beans,t,()=>u(!0));setTimeout(()=>d(),fZ)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=us(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),x_(t)}keepXYWithinBounds(e,t,s){const i=s===0,n=i?"clientHeight":"clientWidth",o=i?"top":"left",r=i?"height":"width",l=i?"scrollTop":"scrollLeft",u=us(this.beans),d=u.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),m=f.getBoundingClientRect(),C=u.documentElement.getBoundingClientRect(),w=f===u.body,S=Math.ceil(p[r]);let A=w?(i?R_:vb)(d)+d[l]:f[n];w&&(A-=Math.abs(C[o]-m[o]));const D=A-S;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=us(this.beans),{eChild:s,ariaLabel:i,alwaysOnTop:n,positionCallback:o,anchorToElement:r}=e;if(!t)return be(122),{hideFunc:()=>{}};const l=this.getPopupIndex(s);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(s);const u=this.createPopupWrapper(s,i,!!n),d=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(s,u,d,r),{hideFunc:d}}initialisePopupPosition(e){const s=this.getPopupParent().getBoundingClientRect();ye(e.style.top)||(e.style.top=`${s.top*-1}px`),ye(e.style.left)||(e.style.left=`${s.left*-1}px`)}createPopupWrapper(e,t,s){const i=this.getPopupParent(),{environment:n,gos:o}=this.beans,r=ai({tag:"div"});return n.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Cl(e,"dialog"),qw(e,t),r.appendChild(e),i.appendChild(r),s?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const s of this.popupList)t.applyThemeClasses(s.wrapper)}}addEventListenersToPopup(e){const t=this.beans,s=us(t),i=this.getPopupParent(),{wrapperEl:n,eChild:o,closedCallback:r,afterGuiAttached:l,closeOnEsc:u,modal:d}=e;let f=!1;const p=S=>{if(!n.contains(Yt(t)))return;S.key===oe.ESCAPE&&!Wr(S)&&w({keyboardEvent:S})},m=S=>w({mouseEvent:S}),C=S=>w({touchEvent:S}),w=(S={})=>{const{mouseEvent:R,touchEvent:A,keyboardEvent:D,forceHide:E}=S;!E&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:A},o)||f)||(f=!0,i.removeChild(n),s.removeEventListener("keydown",p),s.removeEventListener("mousedown",m),s.removeEventListener("touchstart",C),s.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),r&&r(R||A||D),this.removePopupFromPopupList(o))};return l&&l({hidePopup:w}),window.setTimeout(()=>{u&&s.addEventListener("keydown",p),d&&(s.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),s.addEventListener("touchstart",C),s.addEventListener("contextmenu",m))},0),w}addPopupToPopupList(e,t,s,i){this.popupList.push({element:e,wrapper:t,hideFunc:s,instanceId:hZ++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const i=this.popupList[s];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=n,i.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),s=t.getBoundingClientRect(),{element:i,ePopup:n}=e,o=i.getBoundingClientRect(),r=p=>parseInt(p.substring(0,p.length-1),10),l=(p,m)=>{const C=s[p]-o[p],w=r(n.style[p]);return{initialDiff:C,lastDiff:C,initial:w,last:w,direction:m}},u=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new Ut(p=>{f.wrapIncoming(()=>{f.setInterval(()=>{const m=t.getBoundingClientRect(),C=i.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const S=(R,A)=>{const D=r(n.style[A]);R.last!==D&&(R.initial=D,R.last=D);const E=m[A]-C[A];if(E!=R.lastDiff){const F=this.keepXYWithinBounds(n,R.initial+R.initialDiff-E,R.direction);n.style[A]=`${F}px`,R.last=F}R.lastDiff=E};S(u,"top"),S(d,"left")},200).then(m=>{p(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:s,touchEvent:i}=e,n=s||i;if(!n)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){const l=this.popupList[r];if(n$(l.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=us(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const s=this.getWrapper(e);s&&(s.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(s))}bringPopupToFront(e){const t=this.getPopupParent(),s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=s.length,n=this.getWrapper(e);if(!n||i<=1||!t.contains(e))return;const o=[],r=[];for(const m of s)m!==n&&(m.classList.contains("ag-always-on-top")?r.push(m):o.push(m));const l=[],u=r.length,p=n.classList.contains("ag-always-on-top")||!u?[...o,...r,n]:[...o,n,...r];for(let m=0;m<=i;m++){const C=p[m];if(s[m]===p[m]||C===n)continue;C.querySelectorAll("div").forEach(S=>{S.scrollTop!==0&&l.push([S,S.scrollTop])}),m===0?t.insertAdjacentElement("afterbegin",C):p[m-1].insertAdjacentElement("afterend",C)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}},ey={moduleName:"Popup",version:Se,beans:[gZ]},pZ=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function mZ(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function vZ(e,t){var s;return((s=e.filterManager)==null?void 0:s.getColumnFilterInstance(t))??Promise.resolve(void 0)}function CZ(e,t){var i;const s=e.colModel.getColDefCol(t);if(s)return(i=e.filterManager)==null?void 0:i.destroyFilter(s,"api")}function bZ(e,t){e.frameworkOverrides.wrapIncoming(()=>{var s;return(s=e.filterManager)==null?void 0:s.setFilterModel(t)})}function wZ(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function yZ(e,t){var s;return((s=e.filterManager)==null?void 0:s.getColumnFilterModel(t))??null}function SZ(e,t,s){var i;return((i=e.filterManager)==null?void 0:i.setColumnFilterModel(t,s))??Promise.resolve()}function RZ(e,t){var i;const s=e.colModel.getCol(t);if(!s){xt(12,{colKey:t});return}(i=e.menuSvc)==null||i.showFilterMenu({column:s,containerType:"columnFilter",positionBy:"auto"})}var N1={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},H1=["january","february","march","april","may","june","july","august","september","october","november","december"];function xZ(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var AZ=class extends ae{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:s})=>{var i;(s.rowDataUpdated||(i=s.changedProps)!=null&&i.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:s,dataTypeSvc:i,filterManager:n}=this.beans;if(i!=null&&i.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const o=[],r=this.getFilterModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((u,d)=>{const f=e[d];o.push(bC(u.filterPromise,f)),l.delete(d)}),l.forEach(u=>{const d=s.getColDefCol(u)||s.getCol(u);if(!d){be(62,{colId:u});return}if(!d.isFilterAllowed()){be(63,{colId:u});return}const f=this.getOrCreateFilterWrapper(d);if(!f){be(64,{colId:u});return}o.push(bC(f.filterPromise,e[u]))})}else this.allColumnFilters.forEach(l=>{o.push(bC(l.filterPromise,null))});Ut.all(o).then(()=>{const l=this.getFilterModel(!0),u=[];this.allColumnFilters.forEach((d,f)=>{const p=r?r[f]:null,m=l?l[f]:null;tp(p,m)||u.push(d.column)}),u.length>0&&(n==null||n.onFilterChanged({columns:u,source:t}))})}getFilterModel(e){var o;const t={},{allColumnFilters:s,initialFilterModel:i,beans:{colModel:n}}=this;if(s.forEach((r,l)=>{const u=this.getModelFromFilterWrapper(r);ye(u)&&(t[l]=u)}),!e)for(const r of Object.keys(i)){const l=i[r];ye(l)&&!s.has(r)&&((o=n.getCol(r))!=null&&o.isFilterAllowed())&&(t[r]=l)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(be(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=l=>l?l.isFilterActive?l.isFilterActive():(be(67),!1):!1,{colModel:t,gos:s}=this.beans,i=!!oA(s),n=l=>{if(!l.isPrimary())return!0;const d=!t.isPivotActive();return!l.isValueActive()||!d?!1:t.isPivotMode()?!0:i},o=[],r=[];return this.forEachColumnFilter((l,u)=>{e(l)&&(n(u.column)?o.push(l):r.push(l))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((s,i)=>this.setColFilterActive(i.column,s.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(s=>{const i=s.filterPromise;i&&t.push(i.then(n=>e(n,s)))}),Ut.all(t)}doColumnFiltersPass(e,t,s){const{data:i,aggData:n}=e,o=s?this.activeAggregateFilters:this.activeColumnFilters,r=s?n:i;for(let l=0;l<o.length;l++){const u=o[l];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function"){xt(91);continue}if(!u.doesFilterPass({node:e,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:s}=this.beans,i=()=>{this.isAlive()&&(s==null||s.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:s}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",s).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(n=>{n&&n!==t&&n.onAnyFilterChanged&&n.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var s;(s=t.onNewRowsLoaded)==null||s.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:s}=this.beans;return(i,n)=>{const o=n?s.getCol(n):e;return o?t.getValue(o,i):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:s,dataTypeSvc:i}=this.beans;if(Y0(s))t="agSetColumnFilter";else{const n=i==null?void 0:i.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:s,dataTypeSvc:i}=this.beans;if(Y0(s))t="agSetColumnFloatingFilter";else{const n=i==null?void 0:i.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const s=this.getDefaultFilter(e),i=e.getColDef();let n;const o={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:l=>this.filterChangedCallbackFactory(n,e)(l),doesRowPassOtherFilter:l=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(n,l))??!0}},r=d8(this.beans.userCompFactory,i,o,s);return r?{filterPromise:()=>{const l=r.newAgStackInstance();return l.then(u=>{n=u,t&&(t.filter=u??void 0)}),l},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return ze(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:s,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=(s==null?void 0:s())??null,t.compDetails=i,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:s}=this.beans;this.allColumnFilters.forEach((n,o)=>{let r;n.column.isPrimary()?r=t.getColDefCol(o):r=t.getCol(o),!(r&&r===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(o))});const i=e.every(G1);e.length>0&&!i?s==null||s.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(s=>{G1(s)&&this.getOrCreateFilterWrapper(s)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:s}=this.allColumnFilters.get(e.getColId())??{};return s&&typeof(s==null?void 0:s.isFilterAllowed)=="function"?s.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const s=f=>{var m;const p=(m=this.getOrCreateFilterWrapper(e))==null?void 0:m.filterPromise;p!=null&&p.then(C=>{f(op(C))})},i=e.getColDef(),n={...this.createFilterParams(e,i),filterChangedCallback:()=>s(f=>this.filterChangedCallbackFactory(f,e)())},{userCompFactory:o,frameworkOverrides:r}=this.beans,l=C8(o,i,n);let u=C7(r,i,()=>this.getDefaultFloatingFilter(e));u==null&&(u="agReadOnlyFloatingFilter");const d=ze(this.gos,{column:e,filterParams:l,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});return m8(o,i,d,u)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const s=e.getColId(),i=this.allColumnFilters.get(s);this.disposeColumnListener(s),delete this.initialFilterModel[s],i&&this.disposeFilterWrapper(i,t).then(n=>{var o;n&&this.isAlive()&&((o=this.beans.filterManager)==null||o.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var s;return((s=e.filterPromise)==null?void 0:s.then(i=>{const n=!!(i!=null&&i.isFilterActive());return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),n}))??Ut.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return s=>{const i=(s==null?void 0:s.source)??"columnFilter",n={filter:e,additionalEventAttributes:s,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const s=t.column,{compDetails:i}=s.isFilterAllowed()?this.createFilterInstance(s):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(s,"paramsUpdated");return}const n=s.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(s,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(s,s.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,s),filterChangedCallback:this.filterChangedCallbackFactory(o,s),doesRowPassOtherFilter:l=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(o,l))??!0},...n}):!0)===!1&&this.destroyFilter(s,"paramsUpdated")})}setColumnFilterWrapper(e,t){const s=e.getColId();this.allColumnFilters.set(s,t),this.allColumnListeners.set(s,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(s)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:s}=e,{componentClass:i}=t;return!(s===i||(s==null?void 0:s.render)&&(i==null?void 0:i.render)&&s.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(s=>{t(op(s))})})}getFilterInstanceImpl(e){var i;const t=this.beans.colModel.getColDefCol(e);return t?((i=this.getOrCreateFilterWrapper(t))==null?void 0:i.filterPromise)??Ut.resolve(null):Ut.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:s})=>{this.setColumnFilterModel(e,t).then(()=>s())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:s,dataTypeSvc:i}=this.beans;if(i!=null&&i.isPendingInference){let l=()=>{};const u=new Promise(d=>{l=d});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:l}),u}const n=s.getColDefCol(e),o=n?this.getOrCreateFilterWrapper(n):null;return o?(l=>new Promise(u=>{l.then(d=>u(d))}))(bC(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,s){const i=Y0(this.gos),n=this.getLocaleTextFunc(),o=r=>{const{filterParams:l}=e;e.filterParams=typeof l=="object"?{...l,...r}:r};switch(t.baseDataType){case"number":{i&&o({comparator:xZ});break}case"boolean":{o(i?{valueFormatter:r=>ye(r.value)?n(String(r.value),r.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(r,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(r,l)=>l===!1,numberOfInputs:0}]});break}case"date":{o(i?{valueFormatter:r=>{const l=s(r);return ye(l)?l:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(r,l)=>{if(r==="NaN")return n("invalidDate","Invalid Date");if(l===1&&r!=null){const u=H1[Number(r)-1];return n(u,N1[u])}return r??n("blanks","(Blanks)")}}:{isValidDate:B1});break}case"dateString":{const r=t.dateParser;o(i?{valueFormatter:l=>{const u=s(l);return ye(u)?u:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const u=r(l??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(l,u)=>{if(u===1&&l!=null){const d=H1[Number(l)-1];return n(d,N1[d])}return l??n("blanks","(Blanks)")}}:{comparator:(l,u)=>{const d=r(u);return u==null||d<l?-1:d>l?1:0},isValidDate:l=>typeof l=="string"&&B1(r(l))});break}case"object":{i?o({valueFormatter:r=>{const l=s(r);return ye(l)?l:n("blanks","(Blanks)")}}):e.filterValueGetter=r=>s({column:r.column,node:r.node,value:this.beans.valueSvc.getValue(r.column,r.node)});break}}}setColFilterActive(e,t,s,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",s)),e.dispatchColEvent("filterChanged",s,i)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function bC(e,t){return e?new Ut(s=>{e.then(i=>{typeof i.setModel!="function"&&(be(65),s()),(i.setModel(t)||Ut.resolve()).then(()=>s())})}):Ut.resolve()}function G1(e){return e.getColDef().filter==="agGroupColumnFilter"}function B1(e){return e instanceof Date&&!isNaN(e.getTime())}function EZ(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function DZ(e,t="api"){var s;(s=e.filterManager)==null||s.onFilterChanged({source:t})}var TZ=class extends ae{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:s}=this;this.alwaysPassFilter=s.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=s.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var s;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(s=this.colFilter)==null||s.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,s;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(s=this.advancedFilter)!=null&&s.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){oA(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:s,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ut.resolve()).then(()=>{var o;const n={source:t,type:"filterChanged",columns:i};s&&bi(n,s),this.eventSvc.dispatchEvent(n),(o=this.colFilter)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!oA(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var s;const{rowNode:t}=e;return(s=this.alwaysPassFilter)!=null&&s.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var s;const{rowNode:t}=e;return(s=this.alwaysPassFilter)!=null&&s.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var s;return(s=this.colFilter)==null?void 0:s.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var s;(s=this.colFilter)==null||s.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var s;return!!((s=this.colFilter)!=null&&s.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var s;if(this.isAdvFilterEnabled()){if((s=this.beans.dataTypeSvc)!=null&&s.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){be(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var s;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((s=this.colFilter)==null?void 0:s.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,s){var i;(i=this.colFilter)==null||i.setColDefPropertiesForDataType(e,t,s)}},FZ=class extends ae{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,s,i){this.showPopup(e,n=>{var o;(o=this.popupSvc)==null||o.positionPopupUnderMouseEvent({column:e,type:s,mouseEvent:t,ePopup:n})},s,t.target,en(this.gos),i)}showMenuAfterButtonClick(e,t,s,i){let n=-1,o="left";const r=en(this.gos);!r&&this.gos.get("enableRtl")&&(n=1,o="right");const l=r?void 0:4*n,u=r?void 0:4;this.showPopup(e,d=>{var f;(f=this.popupSvc)==null||f.positionPopupByComponent({type:s,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},s,t,r,i)}showPopup(e,t,s,i,n,o){var S;const r=e?this.createBean(new f7(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!(r!=null&&r.hasFilter())||!e){xt(57);return}const l=ai({tag:"div",cls:`ag-menu${n?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:R=>this.trapFocusWithin(R,l)}),l.appendChild(r==null?void 0:r.getGui());let u;const d=()=>r==null?void 0:r.afterGuiDetached(),f=Zj(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=R=>{b1(e,!1,"contextMenu");const A=R instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),A&&i&&Uo(i)){const D=dN(i);D==null||D.focus({preventScroll:!0})}d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,s,e),o==null||o()},m=this.getLocaleTextFunc(),C=n&&s!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),w=(S=this.popupSvc)==null?void 0:S.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:C});w&&(this.hidePopup=u=w.hideFunc),r.afterInit().then(()=>{t(l),r.afterGuiAttached({container:s,hidePopup:u})}),b1(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,s,e)}trapFocusWithin(e,t){e.key!==oe.TAB||e.defaultPrevented||Du(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),pu(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,s){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:s??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},PZ=class extends ae{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const s=e.getColDef(),{filterValueGetter:i}=s;return i?this.executeFilterValueGetter(i,t.data,e,t,s):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,s,i,n){const{expressionSvc:o,valueSvc:r}=this.beans,l=ze(this.gos,{data:t,node:i,column:s,colDef:n,getValue:r.getValueCallback.bind(r,i)});return typeof e=="function"?e(l):o==null?void 0:o.evaluate(e,l)}},MZ={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},LZ=class extends $t{constructor(){super(MZ,[Qw]),this.eFloatingFilterText=_e}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const s=t.getModelAsString(e);this.eFloatingFilterText.setValue(s)}})}refresh(e){this.init(e)}},vH=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const s=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(o=>t[o]!=null)?!0:(be(72,{keys:n}),!1);if(!s.every(i)){this.filterOptions=e.filter(n=>n===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const s=t[0];typeof s=="string"?this.defaultOption=s:s.displayKey?this.defaultOption=s.displayKey:be(73)}else be(74)}getCustomOption(e){return this.customFilterOptions[e]}};function jg(e,t,s){return s==null?e.splice(t):e.splice(t,s)}function Gb(e){return e==null||typeof e=="string"&&e.trim().length===0}function kZ(e){return e==="AND"||e==="OR"?e:"AND"}function IZ(e,t,s){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(n=>n==null))return i(t,s)}function OZ(e,t){let s=e.length;return s>t&&(e.splice(t),be(78),s=t),s}var CH=class extends v7{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,s)=>{const i=s===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=!e.operator,i=!t.operator;if(!s&&i||s&&!i)return!1;let o;if(s){const r=e,l=t;o=this.areSimpleModelsEqual(r,l)}else{const r=e,l=t;o=r.operator===l.operator&&Eu(r.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return o}shouldRefresh(e){var o;const t=this.getModel(),s=t?t.conditions??[t]:null,i=((o=e.filterOptions)==null?void 0:o.map(r=>typeof r=="string"?r:r.displayKey))??this.getDefaultFilterOptions();return!(!(!s||s.every(r=>i.find(l=>l===r.type)!==void 0))||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const s=e;let i=s.conditions;i==null&&(i=[],be(77));const n=OZ(i,this.maxNumConditions),o=this.getNumConditions();if(n<o)this.removeConditionsAndOperators(n);else if(n>o)for(let l=o;l<n;l++)this.createJoinOperatorPanel(),this.createOption();const r=s.operator==="OR";this.eJoinOperatorsAnd.forEach(l=>l.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(r,!0)),i.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const s=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ut.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:s}=t,i=[];if(s){const o=t;i.push(...o.conditions??[])}else i.push(t);return i[s&&s==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=kZ(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new vH,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(be(79),t=1),this.maxNumConditions=t;let s=e.numAlwaysVisibleConditions??1;s<1&&(be(80),s=1),s>t&&(be(81),s=t),this.numAlwaysVisibleConditions=s}createOption(){const e=this.createManagedBean(new NE);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const s=this.getNumConditions()-1;this.forEachPositionInput(s,i=>this.resetInput(i)),this.addChangedListeners(e,s)}createJoinOperatorPanel(){const e=ai({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),s=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,n),this.resetJoinOperatorOr(s,i,n),this.isReadOnly()||(t.onValueChange(this.listener),s.onValueChange(this.listener))}createJoinOperator(e,t,s){const i=this.createManagedBean(new F9);e.push(i);const n="ag-filter-condition-operator";return i.addCssClass(n),i.addCssClass(`${n}-${s}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(s=>{e.addOption(s)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,s=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:s?this.getLocaleTextFunc()(s.displayKey,s.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)?e=s:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const s=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<s){this.removeConditionsAndOperators(s+1);const i=e+1,n=s-i;n>0&&this.removeConditionsAndOperators(i,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,n)=>{const o=this.isConditionDisabled(n,e);i.setDisabled(o||this.filterListOptions.length<=1),n===1&&(Jg(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((i,n)=>{ss(i,this.isConditionBodyVisible(n))});const s=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!s,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(s,!0)}),this.forEachInput((i,n,o,r)=>{this.setElementDisplayed(i,n<r),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:s,eConditionBodies:i,eJoinOperatorPanels:n,eJoinOperatorsAnd:o,eJoinOperatorsOr:r}=this;this.removeComponents(s,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);const l=Math.max(e-1,0);this.removeElements(n,l,t),this.removeComponents(o,l,t),this.removeComponents(r,l,t)}removeElements(e,t,s){jg(e,t,s).forEach(n=>Kr(n))}removeComponents(e,t,s){jg(e,t,s).forEach(n=>{Kr(n.getGui()),this.destroyBean(n)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:s,eTypes:i}=this;let n;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof tc&&this.isConditionBodyVisible(0)?n=o.getInputElement():n=(t=i[0])==null?void 0:t.getFocusableElement()}(n??s).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,s=-1,i=!1;const n=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,s=r);else{const l=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),u=r<t;(l||u)&&(this.removeConditionsAndOperators(r,1),i=!0,u&&s--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(s===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(s,n),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=s}getPlaceholderText(e,t){let s=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),n=this.translate(i);s=this.filterPlaceholder({filterOptionKey:i,filterOption:n,placeholder:s})}else typeof this.filterPlaceholder=="string"&&(s=this.filterPlaceholder);return s}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,s,i,n)=>{if(!(t instanceof tc))return;const o=s===0&&n>1?"inRangeStart":s===0?"filterOoo":"inRangeEnd",r=s===0&&n>1?e("ariaFilterFromValue","Filter from value"):s===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(r)})}setElementValue(e,t,s){e instanceof tc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof $t&&ss(e.getGui(),t)}setElementDisabled(e,t){e instanceof $t&&Jg(e.getGui(),t)}attachElementOnChange(e,t){e instanceof tc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,s)=>{this.forEachPositionTypeInput(s,t,e)})}forEachPositionInput(e,t){const s=this.getConditionType(e);this.forEachPositionTypeInput(e,s,t)}forEachPositionTypeInput(e,t,s){const i=this.getNumberOfInputs(t),n=this.getInputs(e);for(let o=0;o<n.length;o++){const r=n[o];r!=null&&s(r,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(s=>s==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,s)=>this.resetJoinOperatorAnd(t,s,this.joinOperatorId+s)),this.eJoinOperatorsOr.forEach((t,s)=>this.resetJoinOperatorOr(t,s,this.joinOperatorId+s)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Ut.resolve()}resetType(e){const s=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(s).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),s)}resetJoinOperatorOr(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),s)}resetJoinOperator(e,t,s,i,n){this.updateJoinOperatorDisabled(e.setValue(s,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,s)=>this.updateJoinOperatorDisabled(t,s);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const s=this.mapValuesFromModel(e);this.forEachInput((i,n,o)=>{o===t&&this.setElementValue(i,s[n]!=null?s[n]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,s,i)=>{this.setElementValue(t,s===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,s=>{this.attachElementOnChange(s,this.listener)}))}individualConditionPasses(e,t){const s=this.getCellValue(e.node),i=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),o=IZ(n,i,s);return o??(s==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,s,t,e))}hasInvalidInputs(){return!1}},bH=class extends CH{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:s,includeBlanksInGreaterThan:i,includeBlanksInLessThan:n,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(s)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(n)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,s){const i=s.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const n=this.comparator(),o=e[0]!=null?n(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const r=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case"blank":return Gb(t);case"notBlank":return!Gb(t);default:return be(76,{filterModelType:i}),!0}}},wH=class{constructor(e,t,s,i,n,o){this.alive=!0,this.context=e,this.eParent=n;const r=h8(t,s,i);r&&r.newAgStackInstance().then(l=>{var f,p;if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;n.appendChild(l.getGui()),(f=l==null?void 0:l.afterGuiAttached)==null||f.call(l);const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&((p=l.setDisabled)==null||p.call(l,d)),o==null||o(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var s;const t=this.dateComp;t?(s=t.setDisabled)==null||s.call(t,e):this.disabled=e}setDisplayed(e){ss(this.eParent,e)}setInputPlaceholder(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||s.call(t,e)}setInputAriaLabel(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||s.call(t,e)}afterGuiAttached(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||s.call(t,e)}updateParams(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.refresh)==null||s.call(t,e)}},yH=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],zE=class{constructor(e,t,s){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=s}getModelAsString(e){if(!e)return null;const t=e.operator!=null,s=this.getLocaleTextFunc();if(t){const i=e,o=(i.conditions??[]).map(l=>this.getModelAsString(l)),r=i.operator==="AND"?"andCondition":"orCondition";return o.join(` ${s(r,xN[r])} `)}else{if(e.type==="blank"||e.type==="notBlank")return s(e.type,e.type);{const i=e,n=this.optionsFactory.getCustomOption(i.type),{displayKey:o,displayName:r,numberOfInputs:l}=n||{};return o&&r&&l===0?(s(o,r),r):this.conditionToString(i,n)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},SH=class extends zE{constructor(e,t,s){super(t,s),this.dateFilterParams=e}conditionToString(e,t){const{type:s}=e,{numberOfInputs:i}=t||{},n=s=="inRange"||i===2,o=Ii(e.dateFrom),r=Ii(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){const u=o!==null?Wg(o,l):"null",d=r!==null?Wg(r,l):"null";return`${u}-${d}`}return o!=null?Wg(o,l):`${s}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},V1=1e3,z1=1/0,_Z=class extends bH{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=V1,this.maxValidYear=z1,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:s,type:i}=e||{};return[t&&Ii(t)||null,s&&Ii(s)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator??NZ}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(s,i)=>{if(e[s]!=null)if(isNaN(e[s]))be(82,{param:s});else return e[s]==null?i:Number(e[s]);return i};this.minValidYear=t("minValidYear",V1),this.maxValidYear=t("maxValidYear",z1),this.minValidYear>this.maxValidYear&&be(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Ii(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Ii(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&be(84),this.filterModelFormatter=new SH(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:s,gos:i},dateFilterParams:n}=this,o=new wH(s,t,n.colDef,ze(i,{onDateChanged:()=>this.onUiChanged(),filterParams:n,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return yH}createValueElement(){const t=us(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,s,i){const o=us(this.beans).createElement("div");o.classList.add(`ag-filter-${i}`),o.classList.add(`ag-filter-date-${i}`),t.push(o),e.appendChild(o),s.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),jg(this.eConditionPanelsFrom,e,t),jg(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,s){jg(e,t,s).forEach(n=>n.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:s,minValidYear:i,maxValidYear:n}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(s){if(e>s)return!1}else if(e.getUTCFullYear()>n)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((s,i,n,o)=>{n!==e||!t||i>=o||(t=t&&this.isValidDateValue(s.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),s={},i=this.getValues(e);return i.length>0&&(s.dateFrom=Tn(i[0])),i.length>1&&(s.dateTo=Tn(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...s}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),s=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(s)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(s,i,n,o)=>{i<o&&t.push(s.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function NZ(e,t){const s=t;return s<e?-1:s>e?1:0}var RH=class extends $t{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let s;t?s=e.conditions[0]:s=e,this.lastType=s.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const s=e;return this.isTypeEditable(s.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const s=new vH;this.optionsFactory=s,s.init(e.filterParams,this.getDefaultOptions());const i=s.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(i);this.setEditable(n)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var s;const t=(s=this.optionsFactory.getCustomOption(e))==null?void 0:s.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},HZ={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},GZ=class extends RH{constructor(){super(HZ,[Qw]),this.eReadOnlyText=_e,this.eDateWrapper=_e}getDefaultOptions(){return yH}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new SH(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const s=e?Ii(e.dateFrom):null;this.dateComp.setDate(s),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){ss(this.eDateWrapper,e),ss(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Tn(e);this.params.parentFilterInstance(s=>{if(s){const i=Ii(t);s.onFloatingFilterChanged(this.lastType||null,i)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,s=EE(e,this.defaultDebounceMs);return ze(this.gos,{onDateChanged:js(this,this.onDateChanged.bind(this),s),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:s,params:i}=this;this.dateComp=new wH(e,t,i.column.getColDef(),this.getDateComponentParams(),s,n=>{n.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},BZ={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},VZ=class extends $t{constructor(){super(BZ,[Qw]),this.eDateInput=_e,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=s&&Ru(),t.type=s?"date":"text";const{minValidYear:i,maxValidYear:n,minValidDate:o,maxValidDate:r,buttons:l}=e.filterParams||{};if(o&&i&&be(85),r&&n&&be(86),o&&r){const[u,d]=[o,r].map(f=>f instanceof Date?f:Ii(f));u&&d&&u.getTime()>d.getTime()&&be(87)}o?o instanceof Date?t.min=Wg(o):t.min=o:i&&(t.min=`${i}-01-01`),r?r instanceof Date?t.max=Wg(r):t.max=r:n&&(t.max=`${n}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(l!=null&&l.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ii(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Tn(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},xH=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],AH=class extends zE{conditionToString(e,t){const{numberOfInputs:s}=t||{},{filter:i,filterTo:n,type:o}=e,r=o=="inRange"||s===2,l=this.formatValue.bind(this);return r?`${l(i)}-${l(n)}`:i!=null?l(i):`${o}`}};function bA(e){const{allowedCharPattern:t}=e??{};return t??null}var zZ=class extends bH{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:s,type:i}=e||{};return[this.processValue(t),this.processValue(s)].slice(0,this.getNumberOfInputs(i))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new AH(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return xH}setElementValue(e,t,s){const{numberFormatter:i}=this.numberFilterParams,n=!s&&i?i(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=bA(this.numberFilterParams),t=ai({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,s,i){const n=this.createManagedBean(i?new Tu({allowedCharPattern:i}):new _E);n.addCssClass(`ag-filter-${s}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){const s=i=>this.removeComponents(i,e,t);s(this.eValuesFrom),s(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(s,i,n,o)=>{i<o&&t.push(this.processValue(this.stringToFloat(s.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=zr(e);t!=null&&t.trim()===""&&(t=null);const s=this.numberFilterParams.numberParser;return s?s(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),s={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(s.filter=i[0]),i.length>1&&(s.filterTo=i[1]),s}getInputs(e){const{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},EH=class extends ae{constructor(e){super(),this.params=e,this.eInput=_e,this.onValueChanged=()=>{}}setupGui(e){var i;this.eInput=this.createManagedBean(new Tu((i=this.params)==null?void 0:i.config));const t=this.eInput.getGui();e.appendChild(t);const s=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:s,keydown:s})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:s}=this;s.setInputAriaLabel(e),t!==void 0&&s.setAutoComplete(t)}};function DH(e){const t=e==null?void 0:e.trim();return t===""?e:t}var WZ={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},TH=class extends RH{constructor(){super(...arguments),this.eFloatingFilterInputContainer=_e,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(WZ)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:s,defaultDebounceMs:i,readOnly:n}=this;if(s.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ib(e.filterParams),!n){const o=EE(e.filterParams,i),r=js(this,this.syncUpWithParentFilter.bind(this),o);s.setValueChangedListener(r)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,s=t.getValue();on(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(s,!0)}syncUpWithParentFilter(e){const t=e.key===oe.ENTER;if(this.applyActive&&!t)return;const{inputSvc:s,params:i}=this;let n=s.getValue();i.filterParams.trimInput&&(n=DH(n),s.setValue(n,!0)),i.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(this.lastType||null,n||null)})}setEditable(e){this.inputSvc.setEditable(e)}},UZ=class extends ae{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new _E),this.eTextInput=this.createManagedBean(new Tu),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),s=this.eTextInput.getGui();e.appendChild(t),e.appendChild(s),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(s,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},jZ=class extends TH{init(e){var t;super.init(e),this.filterModelFormatter=new AH(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){bA(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return xH}createFloatingFilterInputService(e){return this.allowedCharPattern=bA(e.filterParams),this.allowedCharPattern?this.createManagedBean(new EH({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new UZ)}},FH=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],PH=class extends zE{conditionToString(e,t){const{numberOfInputs:s}=t||{},{filter:i,filterTo:n,type:o}=e;return o=="inRange"||s===2?`${i}-${n}`:i!=null?`${i}`:`${o}`}},$Z=class extends CH{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:s})=>{if(s==null)return!1;switch(e){case"contains":return t.indexOf(s)>=0;case"notContains":return t.indexOf(s)<0;case"equals":return t===s;case"notEqual":return t!=s;case"startsWith":return t.indexOf(s)===0;case"endsWith":{const i=t.lastIndexOf(s);return i>=0&&i===t.length-s.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new PH(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),s={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(s.filter=i[0]),i.length>1&&(s.filterTo=i[1]),s}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const s=[];return this.forEachPositionInput(e,(i,n,o,r)=>{if(n<r){let l=zr(i.getValue());t&&this.textFilterParams.trimInput&&(l=DH(l)??null,i.setValue(l,!0)),s.push(l)}}),s}getDefaultFilterOptions(){return FH}createValueElement(){const e=ai({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,s){const i=this.createManagedBean(new Tu);i.addCssClass(`ag-filter-${s}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const s=i=>this.removeComponents(i,e,t);s(this.eValuesFrom),s(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:s,type:i}=e||{};return[t||null,s||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,s,i){const n=e.map(m=>this.formatter(m))||[],o=this.formatter(t),{api:r,colDef:l,column:u,context:d,textFormatter:f}=this.textFilterParams;if(s.type==="blank")return Gb(t);if(s.type==="notBlank")return!Gb(t);const p={api:r,colDef:l,column:u,context:d,node:i.node,data:i.data,filterOption:s.type,value:o,textFormatter:f};return n.some(m=>this.matcher({...p,filterText:m}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},qZ=class extends TH{init(e){super.init(e),this.filterModelFormatter=new PH(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return FH}createFloatingFilterInputService(){return this.createManagedBean(new EH)}};function KZ(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function YZ(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function XZ(e){var t;(t=e.quickFilter)==null||t.resetCache()}var QZ=class extends ae{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",s=>this.setFilter(s.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var u;const{autoColSvc:e,colModel:t,gos:s,pivotResultCols:i}=this.beans,n=t.isPivotMode(),o=e==null?void 0:e.getColumns(),r=t.getColDefCols();let l=(n&&!s.get("applyQuickFilterBeforePivotOrAgg")?(u=i==null?void 0:i.getPivotResultCols())==null?void 0:u.list:r)??[];o&&(l=l.concat(o)),this.colsToUse=s.get("includeHiddenColumnsInQuickFilter")?l:l.filter(d=>d.isVisible()||d.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(s=>t?this.doesRowPassCache(e,s):this.doesRowPassNoCache(e,s))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ye(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){be(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),s=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,s&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(s=>{const i=this.getTextForColumn(s,e);return ye(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let s;e?(this.checkGenerateAggText(t),s=t.quickFilterAggregateText):s=this.getAggText(t);const{quickFilterParts:i,matcher:n}=this;return n(i,s)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let s=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const n=ze(this.gos,{value:s,node:t,data:t.data,column:e,colDef:i});s=i.getQuickFilterText(n)}return ye(s)?s.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(s=>{const i=this.getTextForColumn(s,e);ye(i)&&t.push(i)}),t.join(`
`)}},ZZ={moduleName:"ClientSideRowModelFilter",version:Se,rowModels:["clientSide"],beans:[aZ]},WE={moduleName:"FilterCore",version:Se,beans:[TZ],apiFunctions:{isAnyFilterPresent:EZ,onFilterChanged:DZ},css:[pZ],dependsOn:[ZZ]},MH={moduleName:"FilterValue",version:Se,beans:[PZ]},ty={moduleName:"ColumnFilter",version:Se,beans:[AZ,FZ],dynamicBeans:{headerFilterCellCtrl:lZ},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:mZ,getColumnFilterInstance:vZ,destroyFilter:CZ,setFilterModel:bZ,getFilterModel:wZ,getColumnFilterModel:yZ,setColumnFilterModel:SZ,showColumnFilter:RZ},dependsOn:[WE,ey,MH,dZ]},JZ={moduleName:"CustomFilter",version:Se,userComponents:{agReadOnlyFloatingFilter:LZ},dependsOn:[ty]},eJ={moduleName:"TextFilter",version:Se,dependsOn:[ty],userComponents:{agTextColumnFilter:$Z,agTextColumnFloatingFilter:qZ}},tJ={moduleName:"NumberFilter",version:Se,dependsOn:[ty],userComponents:{agNumberColumnFilter:zZ,agNumberColumnFloatingFilter:jZ}},sJ={moduleName:"DateFilter",version:Se,dependsOn:[ty],userComponents:{agDateColumnFilter:_Z,agDateInput:VZ,agDateColumnFloatingFilter:GZ}},iJ={moduleName:"QuickFilterCore",version:Se,rowModels:["clientSide"],beans:[QZ],dependsOn:[WE,MH]},nJ={moduleName:"QuickFilter",version:Se,apiFunctions:{isQuickFilterPresent:KZ,getQuickFilter:YZ,resetQuickFilter:XZ},dependsOn:[iJ]},oJ={moduleName:"ExternalFilter",version:Se,dependsOn:[WE]},Og=class{constructor(e){this.cellValueChanges=e}},fR=class extends Og{constructor(e,t,s,i){super(e),this.initialRange=t,this.finalRange=s,this.ranges=i}},rJ=10,W1=class{constructor(e){this.actionStack=[],this.maxStackSize=e||rJ,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},aJ=class extends ae{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=this.activeCellEdit!==null&&mN(this.activeCellEdit,t),i=this.activeRowEdit!==null&&n7(this.activeRowEdit,t);if(!(s||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:l,oldValue:u,value:d}=e,f={rowPinned:o,rowIndex:r,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const s=e.get("undoRedoCellEditingLimit");if(s<=0)return;this.undoStack=new W1(s),this.redoStack=new W1(s),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:s,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const n=this.undoRedo(s,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:n})}redo(e){const{eventSvc:t,undoStack:s,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const n=this.undoRedo(i,s,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:n})}undoRedo(e,t,s,i,n){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,r=>r[i],n),o instanceof fR?this.processRange(o.ranges||[o[s]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,s){e.cellValueChanges.forEach(i=>{const{rowIndex:n,rowPinned:o,columnId:r}=i,l={rowIndex:n,rowPinned:o},u=Lb(this.beans,l);u.displayed&&u.setDataValue(r,t(i),s)})}processRange(e){let t;const s=this.beans.rangeSvc;s.removeAllCellRanges(!0),e.forEach((i,n)=>{if(!i)return;const o=i.startRow,r=i.endRow;n===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:i.startColumn,columns:i.columns};s.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:s,rowPinned:i}=t,n={rowIndex:s,rowPinned:i},o=Lb(this.beans,n),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r)}setLastFocusedCell(e){const{rowIndex:t,columnId:s,rowPinned:i}=e,{colModel:n,focusSvc:o,rangeSvc:r}=this.beans,l=n.getCol(s);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:i};o.setFocusedCell({...d,forceBrowserFocus:!0}),r==null||r.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Og(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const s=new Og(this.cellValueChanges);this.pushActionsToUndoStack(s)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Og(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new fR(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:s}=this.beans;t&&bl(s)?e=new fR(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Og(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},lJ=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",cJ={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},uJ=class extends lf{constructor(){super(cJ,[OE]),this.eCheckbox=_e}init(e){this.params=e;const t=e.value??void 0,s=this.eCheckbox;s.setValue(t),s.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(s,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),s=gE(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${s})`)}},sy=class extends lf{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=_e}init(e){this.params=e;const{cellStartedEdit:t,eventKey:s,suppressPreventDefault:i}=e,n=this.eInput;this.cellEditorInput.init(n,e);let o,r=!0;t?(this.focusAfterAttached=!0,s===oe.BACKSPACE||s===oe.DELETE?o="":s&&s.length===1?i?r=!1:o=s:(o=this.cellEditorInput.getStartValue(),s!==oe.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),r&&o!=null&&n.setStartValue(o),this.addManagedElementListeners(n.getGui(),{keydown:l=>{const{key:u}=l;(u===oe.PAGE_UP||u===oe.PAGE_DOWN)&&l.preventDefault()}})}afterGuiAttached(){var i,n;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ru()||t.getFocusableElement().focus();const s=t.getInputElement();this.highlightAllOnFocus?s.select():(n=(i=this.cellEditorInput).setCaret)==null||n.call(i)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),s=e.getInputElement();t.focus(),s.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},dJ={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},hJ=class{getTemplate(){return dJ}getAgComponents(){return[_N]}init(e,t){this.eInput=e,this.params=t;const{min:s,max:i,step:n}=t;s!=null&&e.setMin(s),i!=null&&e.setMax(i),n!=null&&e.setStep(n)}getValue(){const{eInput:e,params:t}=this,s=e.getDate();return!ye(s)&&!ye(t.value)?t.value:s??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Tn(e,!1)}},fJ=class extends sy{constructor(){super(new hJ)}},gJ={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},pJ=class{constructor(e){this.getDataTypeService=e}getTemplate(){return gJ}getAgComponents(){return[_N]}init(e,t){this.eInput=e,this.params=t;const{min:s,max:i,step:n}=t;s!=null&&e.setMin(s),i!=null&&e.setMax(i),n!=null&&e.setStep(n)}getValue(){const{params:e,eInput:t}=this,s=this.formatDate(t.getDate());return!ye(s)&&!ye(e.value)?e.value:e.parseValue(s??"")}getStartValue(){return Tn(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ii(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Tn(e??null,!1)??void 0}},mJ=class extends sy{constructor(){super(new pJ(()=>this.beans.dataTypeSvc))}},vJ={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},CJ=class extends lf{constructor(){super(vJ,[M9]),this.eTextArea=_e}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===oe.LEFT||t===oe.UP||t===oe.RIGHT||t===oe.DOWN||e.shiftKey&&t===oe.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!ye(e)&&!ye(t.value)?t.value:t.parseValue(e)}},bJ={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},wJ=class{getTemplate(){return bJ}getAgComponents(){return[L9]}init(e,t){this.eInput=e,this.params=t;const{max:s,min:i,precision:n,step:o}=t;s!=null&&e.setMax(s),i!=null&&e.setMin(i),n!=null&&e.setPrecision(n),o!=null&&e.setStep(o);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===oe.UP||e.key===oe.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,s=e.getValue();if(!ye(s)&&!ye(t.value))return t.value;let i=t.parseValue(s);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){Ru()&&this.eInput.getInputElement().focus({preventScroll:!0})}},yJ=class extends sy{constructor(){super(new wJ)}},SJ={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},RJ=class extends lf{constructor(){super(SJ,[W9]),this.eSelect=_e,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:s,gos:i}=this,{values:n,value:o,eventKey:r}=e;if(jt(n)){be(58);return}this.startedByEnter=r!=null?r===oe.ENTER:!1;let l=!1;n.forEach(p=>{const m={value:p},C=s.formatValue(e.column,null,p),w=C!=null;m.text=w?C:p,t.addOption(m),l=l||o===p}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:f}=e;u!=null&&t.setPickerGap(u),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},xJ={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},AJ=class{getTemplate(){return xJ}getAgComponents(){return[Qw]}init(e,t){this.eInput=e,this.params=t;const s=t.maxLength;s!=null&&e.setMaxLength(s)}getValue(){const{eInput:e,params:t}=this,s=e.getValue();return!ye(s)&&!ye(t.value)?t.value:t.parseValue(s)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),s=ye(t)&&t.length||0;s&&e.getInputElement().setSelectionRange(s,s)}},U1=class extends sy{constructor(){super(new AJ)}};function EJ(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function DJ(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function LH(e,t,s="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,s),"ensureVisible")}function kH(e,t,s){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,s),"ensureVisible")}function TJ(e,t,s=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,s),"ensureVisible")}function FJ(e){var t;(t=e.undoRedo)==null||t.undo("api")}function PJ(e){var t;(t=e.undoRedo)==null||t.redo("api")}function MJ(e,t={}){const s=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{var o;const n=(o=i.comp)==null?void 0:o.getCellEditor();n&&s.push(op(n))}),s}function LJ(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(s=>{if(s.editing){const{cellPosition:i}=s;t.push(i)}}),t}function kJ(e,t=!1){var s;(s=e.editSvc)==null||s.stopAllEditing(t)}function IJ(e,t){const s=e.colModel.getCol(t.colKey);if(!s){be(12,{colKey:t.colKey});return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:s};t.rowPinned==null&&kH(e,t.rowIndex),LH(e,t.colKey);const o=Fd(e,i);if(!o)return;const{focusSvc:r,gos:l,editSvc:u}=e,d=()=>{const p=Yt(e),m=o.eGui;return p!==m&&!!(m!=null&&m.contains(p))},f=l.get("stopEditingWhenCellsLoseFocus")&&d();(f||!r.isCellFocused(i))&&r.setFocusedCell({...i,forceBrowserFocus:f,preventScrollOnBrowserFocus:!0}),u==null||u.startRowOrCellEdit(o,t.key)}function OJ(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function _J(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var NJ={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},HJ=class extends lf{constructor(e){super(NJ),this.params=e}postConstruct(){gu(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,s=i=>{uA(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:s})}},GJ=class extends ae{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,s=!1,i=null){var d;if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,s,i)}),!0;const n=this.createCellEditorParams(e,t,s),o=e.column.getColDef(),r=h1(this.beans.userCompFactory,o,n),l=(r==null?void 0:r.popupFromSelector)!=null?r.popupFromSelector:!!o.cellEditorPopup,u=(r==null?void 0:r.popupPositionFromSelector)!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;return j1(e,!0,r),e.comp.setEditDetails(r,l,u,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!((d=r==null?void 0:r.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:s,column:i,rowNode:n}=e,{newValue:o,newValueExists:r}=BJ(t,s),l=this.beans.valueSvc.getValueForDisplay(i,n);let u=!1;return r&&(u=VJ(e,l,o,n,i)),j1(e,!1,void 0),s.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:l,newValue:o,valueChanged:u}),u}handleColDefChanged(e){var s;const t=(s=e.comp)==null?void 0:s.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:n}=e.editCompDetails.params,o=this.createCellEditorParams(e,i,n),r=e.column.getColDef(),l=h1(this.beans.userCompFactory,r,o);t.refresh(l.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,s=t.getCellEditor();s!=null&&s.focusIn?s.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var i,n;return(n=(i=t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:n.call(i)}))}createPopupEditorWrapper(e){return new HJ(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var o;if(e.stoppingRowEdit)return;const s=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let n=!1;for(const r of s){const l=r.stopEditing(t);i&&!t&&!n&&l&&(n=!0)}n&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&((o=this.beans.rowEditSvc)==null||o.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=s=>{const i=s.relatedTarget;if(Jx(i)===null){this.stopAllEditing();return}let n=e.some(o=>o.contains(i))&&pN(this.gos,i);if(!n){const o=this.beans.popupSvc;n=!!o&&(o.getActivePopups().some(r=>r.contains(i))||o.isElementWithinCustomPopup(i))}n||this.stopAllEditing()};e.forEach(s=>this.addManagedElementListeners(s,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(s=>s.editing);e.forEachGui(void 0,s=>{s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,s=null){var i;return e.comp?this.gos.get("editType")==="fullRow"?((i=this.beans.rowEditSvc)==null?void 0:i.startEditing(e.rowCtrl,t,e))??!1:this.startEditing(e,t,!0,s):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,s)}),!0)}stopRowOrCellEdit(e,t=!1,s=!1,i=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),s||this.navigateAfterEdit(i,e.cellPosition)}createCellEditorParams(e,t,s){const{column:i,rowNode:n,cellPosition:{rowIndex:o}}=e,{valueSvc:r,gos:l}=this.beans;return ze(l,{value:r.getValueForDisplay(i,n),eventKey:t,column:i,colDef:i.getColDef(),rowIndex:o,node:n,data:n.data,cellStartedEdit:s,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:u=>r.parseValue(i,n,u,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var i;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?oe.UP:oe.DOWN;(i=this.beans.navigation)==null||i.navigateToNextCell(null,n,t,!1)}}};function j1(e,t,s){e.editCompDetails=s,e.editing!==t&&(e.editing=t)}function BJ(e,t){const s={newValueExists:!1};if(e)return s;const i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?s:{newValue:i.getValue(),newValueExists:!0}}function VJ(e,t,s,i,n){if(s===t)return!1;e.suppressRefreshCell=!0;const o=i.setDataValue(n,s,"edit");return e.suppressRefreshCell=!1,o}var zJ=class extends ae{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,s=null,i=null){if(e.editing)return!1;let n=!0,o=!1;const{editSvc:r}=this.beans;return e.getAllCellCtrls().forEach(l=>{const u=l===s;u?n=(r==null?void 0:r.startEditing(l,t,u,i))??!1:r==null||r.startEditing(l,null,u,i),o||(o=l.editing)}),o&&this.setEditing(e,!0),n}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",t));const s=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(s)}},El={moduleName:"EditCore",version:Se,beans:[GJ,zJ],apiFunctions:{getCellEditorInstances:MJ,getEditingCells:LJ,stopEditing:kJ,startEditingCell:IJ},dependsOn:[ey],css:[lJ]},WJ={moduleName:"UndoRedoEdit",version:Se,beans:[aJ],apiFunctions:{undoCellEditing:FJ,redoCellEditing:PJ,getCurrentUndoSize:OJ,getCurrentRedoSize:_J},dependsOn:[El]},UJ={moduleName:"TextEditor",version:Se,userComponents:{agCellEditor:U1,agTextCellEditor:U1},dependsOn:[El]},jJ={moduleName:"NumberEditor",version:Se,userComponents:{agNumberCellEditor:{classImp:yJ,params:{suppressPreventDefault:!0}}},dependsOn:[El]},$J={moduleName:"DateEditor",version:Se,userComponents:{agDateCellEditor:fJ,agDateStringCellEditor:mJ},dependsOn:[El]},qJ={moduleName:"CheckboxEditor",version:Se,userComponents:{agCheckboxCellEditor:uJ},dependsOn:[El]},KJ={moduleName:"SelectEditor",version:Se,userComponents:{agSelectCellEditor:RJ},dependsOn:[El]},YJ={moduleName:"LargeTextEditor",version:Se,userComponents:{agLargeTextCellEditor:CJ},dependsOn:[El]},XJ={moduleName:"CustomEditor",version:Se,dependsOn:[El]},QJ=class extends ae{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,zd(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),C$(e))}createColumns(e,t){var m,C;const s=()=>{var w;Eb(this.beans,(w=this.columns)==null?void 0:w.tree),this.columns=null},i=e.treeDepth,o=(((m=this.columns)==null?void 0:m.treeDepth)??-1)==i,r=this.generateSelectionCols();if(v$(r,((C=this.columns)==null?void 0:C.list)??[])&&o)return;s();const{colGroupSvc:u}=this.beans,d=(u==null?void 0:u.findDepth(e.tree))??0,f=(u==null?void 0:u.balanceTreeForAutoCols(r,d))??[];this.columns={list:r,tree:f,treeDepth:d,map:{}},t(w=>{if(!w)return null;const S=w.filter(R=>!Yr(R));return[...r,...S]})}updateColumns(e){var i;const t=zd(e.source),s=e.currentValue;(i=this.columns)==null||i.list.forEach(n=>{const o=this.createSelectionColDef(s);n.setColDef(o,null,t),sn(this.beans,{state:[{colId:n.getColId(),...o}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(s=>Y_(s,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var r,l;const{gos:e,beans:t}=this,s=e.get("rowSelection");if(typeof s!="object"||!iu(e))return!1;const i=(((l=(r=t.autoColSvc)==null?void 0:r.getColumns())==null?void 0:l.length)??0)>0;if(s.checkboxLocation==="autoGroupColumn"&&i)return!1;const n=!!Vd(s),o=tb(s);return n||o}createSelectionColDef(e){const{gos:t}=this.beans,s=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:n,spanRows:o,...r}=s??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,u,d,f){const p=d.isSelected(),m=f.isSelected();return p===m?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...r,colId:q_}}generateSelectionCols(){var i;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(i=this.beans.validation)==null||i.validateColDef(e,t,!0);const s=new SE(e,null,t,!1);return this.createBean(s),[s]}onSelectionOptionsChanged(e,t,s){const i=t&&typeof t!="string"?Vd(t):void 0,n=e&&typeof e!="string"?Vd(e):void 0,o=i!==n,r=t&&typeof t!="string"?tb(t):void 0,l=e&&typeof e!="string"?tb(e):void 0,u=r!==l,d=Sb(e),f=Sb(t);(o||u||d!==f)&&this.beans.colModel.refreshAll(s)}destroy(){var e;Eb(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,s=t.visibleCols.getAllTrees()??[];if(s.length!==0){if(!s.some(IH)){const i=np(t).find(n=>Yr(n.colId));i&&sn(t,{state:[{colId:i.colId,hide:!i.hide}]},e)}if(s.length===1){const i=s[0],n=OH(i);if(!n)return;sn(t,{state:[{colId:n.getColId(),hide:!0}]},e)}}}},IH=e=>{var t;return e.isColumn?Yr(e):((t=e.getChildren())==null?void 0:t.some(IH))??!1};function OH(e){if(e.isColumn)return Yr(e)?e:null;const t=e.getChildren()??[];for(const s of t){const i=OH(s);if(i)return i}return null}function ZJ(e,t){var r;if(!t.nodes.every(l=>l.rowPinned?(be(59),!1):l.id===void 0?(be(60),!1):!0))return;const{nodes:i,source:n,newValue:o}=t;(r=e.selectionSvc)==null||r.setNodesSelected({nodes:i,source:n??"api",newValue:o})}function JJ(e,t,s="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:s,selectAll:t})}function eee(e,t,s="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:s,selectAll:t})}function tee(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"filtered"})}function see(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"filtered"})}function iee(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"currentPage"})}function nee(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function oee(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function ree(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var aee=class extends T9{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Rb(e),this.groupSelectsDescendants=ip(e),this.groupSelectsFiltered=Ab(e)==="filteredDescendants",this.masterSelectsDetail=r1(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=ip(e),s=Rb(e),i=Ab(e)==="filteredDescendants";this.masterSelectsDetail=r1(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||s!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=s)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,s){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,s);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,s),this.selectRange(i.select,!0,s)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,event:e,source:s}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:s,nodes:i,event:n,source:o}){var l;if(!iu(this.gos)&&e)return be(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return be(130),0;let r=0;for(let u=0;u<i.length;u++){const d=i[u],f=wC(d),p=this.groupSelectsFiltered&&f.group;if(f.rowPinned){be(59);continue}if(f.id===void 0){be(60);continue}p||this.selectRowNode(f,e,n,o)&&(this.detailSelection.delete(f.id),r++),this.groupSelectsDescendants&&((l=f.childrenAfterGroup)!=null&&l.length)&&(r+=this.selectChildren(f,e,o))}return s||(e&&(t||!this.isMultiSelect())&&(r+=this.clearOtherNodes(wC(i[0]),o)),r>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),r}selectRange(e,t,s){let i=0;return e.forEach(n=>{if(n.group&&this.groupSelectsDescendants)return;this.selectRowNode(n,t,void 0,s)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)),i}selectChildren(e,t,s){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:s,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((s,i)=>{e(s)&&t.set(i,s)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:s,rowModel:i}=this.beans;if(!ni(s))return!1;const n=i.rootNode;if(!n)return!1;t||(t=new Hb(!0,n),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==n){const l=this.calculateSelectedFromChildren(r);o=this.selectRowNode(r,l===null?!1:l,void 0,e)||o}}),o}clearOtherNodes(e,t){const s=new Map;let i=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==e.id){const o=this.selectedNodes.get(n.id);i+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&n.parent&&s.set(n.parent.id,n.parent)}}),s.forEach(n=>{const o=this.calculateSelectedFromChildren(n);this.selectRowNode(n,o===null?!1:o,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Jh(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!ni(e))return;const s=t.getTopLevelNodes();if(s===null)return;const i=[];function n(o){for(let r=0,l=o.length;r<l;r++){const u=o[r];u.isSelected()?i.push(u):u.group&&u.childrenAfterGroup&&n(u.childrenAfterGroup)}}return n(s),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const s=ni(this.gos);let i=!1;const n=o=>{const r=this.selectRowNode(wC(o),!1,void 0,e);i||(i=r)};if(t==="currentPage"||t==="filtered"){if(!s){xt(102);return}this.getNodesToSelect(t).forEach(n)}else this.selectedNodes.forEach(n),this.reset(e);if(this.selectionCtx.selectAll=!1,s&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,s=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&s++)}),{selectedCount:t,notSelectedCount:s}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:s}=this.getSelectedCounts(e);return _H(t,s)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){t.push(i);return}if(!i.expanded&&!i.footer){const n=o=>{var r;t.push(o),(r=o.childrenAfterFilter)!=null&&r.length&&o.childrenAfterFilter.forEach(n)};n(i);return}this.groupSelectsDescendants||t.push(i)}),t;const s=this.beans.rowModel;return e==="filtered"?(s.forEachNodeAfterFilter(i=>{t.push(i)}),t):(s.forEachNode(i=>{t.push(i)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:s}=this.beans,i=t.getFirstRow(),n=t.getLastRow();for(let o=i;o<=n;o++){const r=s.getRow(o);r&&e(r)}}selectAllRowNodes(e){const{gos:t,selectionCtx:s}=this;if(!iu(t)){be(132);return}if(Kj(t)&&!xb(t)){be(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:n}=e;let o=!1;if(this.getNodesToSelect(n).forEach(r=>{const l=this.selectRowNode(wC(r),!0,void 0,i);o||(o=l)}),s.selectAll=!0,ni(t)&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(i);o||(o=r)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){xt(103);return}const s=new Set(e),i=[];this.beans.rowModel.forEachNode(n=>{s.has(n.id)&&i.push(n)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return ni(e)?!0:(xt(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var u;const{gos:t,rowModel:s}=this.beans;if(!iu(t))return;const i="selectableChanged",n=e!==void 0,o=ni(t)&&this.groupSelectsDescendants,r=[],l=d=>{var p;if(n&&!d.group)return;if(o&&d.group){const m=((p=d.childrenAfterGroup)==null?void 0:p.some(C=>C.selectable))??!1;this.setRowSelectable(d,m,!0);return}!this.updateRowSelectable(d,!0)&&d.isSelected()&&r.push(d)};if(o){if(e===void 0){const d=s.rootNode;e=d?new Hb(!1,d):void 0}e==null||e.forEachChangedNodeDepthFirst(l,!n,!n)}else s.forEachNode(l);r.length&&this.setNodesSelected({nodes:r,newValue:!1,source:i}),!n&&o&&((u=this.updateGroupsFromChildrenSelections)==null||u.call(this,i))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var o,r;if(!this.masterSelectsDetail)return;const s=(r=(o=e.detailNode)==null?void 0:o.detailGridInfo)==null?void 0:r.api;if(!s)return;const i=lee(s);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const l=this.detailSelection.get(e.id)??new Set;for(const u of s.getSelectedNodes())l.add(u.id);this.detailSelection.set(e.id,l)}}setDetailSelectionState(e,t,s){if(this.masterSelectsDetail){if(!xb(t)){be(269);return}switch(e.isSelected()){case!0:{s.selectAll();break}case!1:{s.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const n=[];for(const o of i){const r=s.getRowNode(o);r&&n.push(r)}s.setNodesSelected({nodes:n,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function wC(e){return e.footer?e.sibling:e}function lee(e){let t=0,s=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&s++}),_H(t,s)}function _H(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var cee={moduleName:"SharedRowSelection",version:Se,beans:[QJ],apiFunctions:{setNodesSelected:ZJ,selectAll:JJ,deselectAll:eee,selectAllFiltered:tee,deselectAllFiltered:see,selectAllOnCurrentPage:iee,deselectAllOnCurrentPage:nee,getSelectedNodes:oee,getSelectedRows:ree}},uee={moduleName:"RowSelection",version:Se,rowModels:["clientSide","infinite","viewport"],beans:[aee],dependsOn:[cee]};function dee(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function hee(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function fee(e){const t=$o(e),s=uH(e);t?t.onRowHeightChanged():s&&s.onRowHeightChanged()}function gee(e,t,s){var o;const i=uH(e);if(i){if(((o=e.rowGroupColsSvc)==null?void 0:o.columns.length)===0){if(t<0){xt(238);return}i.setRowCount(t,s);return}xt(28);return}const n=Jw(e);if(n){n.setRowCount(t,s);return}}function pee(e){var t;return Au(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function mee(e){return e.rowModel.isLastRowIndexKnown()}var vee={moduleName:"CsrmSsrmSharedApi",version:Se,apiFunctions:{expandAll:dee,collapseAll:hee,onRowHeightChanged:fee}},Cee={moduleName:"SsrmInfiniteSharedApi",version:Se,apiFunctions:{setRowCount:gee,getCacheBlockState:pee,isLastRowIndexKnown:mee}},bee=class extends ae{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{var o;if(!i){xt(18),t||xt(20);return}if(this.isGridApi(i))return i;const n=i;return"current"in n?(o=n.current)==null?void 0:o.api:(n.api||xt(19),n.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const s=[];return e.columns?e.columns.forEach(i=>{s.push(t(i))}):e.column&&s.push(t(e.column)),s}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":be(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(s=>{let i=null;s&&(i=t.getProvidedColGroup(s.getGroupId())),!(s&&!i)&&t.setColumnGroupOpened(i,s.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var f;const t=e.column;let s=null;const i=this.beans,{colResize:n,ctrlsSvc:o,colModel:r}=i;if(t&&(s=r.getColDefCol(t.getColId())),t&&!s)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const m=e.api.getColumnState().map(C=>({colId:C.colId}));sn(i,{state:m,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const m=e.api.getColumnState().map(C=>({colId:C.colId,hide:C.hide}));sn(i,{state:m},"alignedGridChanged")}break;case"columnPinned":{const m=e.api.getColumnState().map(C=>({colId:C.colId,pinned:C.pinned}));sn(i,{state:m},"alignedGridChanged")}break;case"columnResized":{const p=e,m={};l.forEach(C=>{m[C.getId()]={key:C.getColId(),newWidth:C.getActualWidth()}}),(f=p.flexColumns)==null||f.forEach(C=>{m[C.getId()]&&delete m[C.getId()]}),n==null||n.setColumnWidths(Object.values(m),!1,p.finished,"alignedGridChanged");break}}const d=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",d)})}},wee={moduleName:"AlignedGrids",version:Se,beans:[bee]},yee=class extends R9{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},gR=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function See(e){if(jt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let s=0;s<t.length;s++){const i=t[s],n=s===0,o=s===e.childrenAfterSort.length-1;i.setFirstChild(n),i.lastChild!==o&&(i.lastChild=o,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==s&&(i.childIndex=s,i.dispatchRowEvent("childIndexChanged"))}}function NH(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),See(e)}var Ree=class extends ae{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,s=t.sortSvc.getSortOptions(),i=ye(s)&&s.length>0,n=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=s.some(({column:r})=>Go(t.gos)?r.isPrimary()&&r.isRowGroupActive():!!r.getColDef().showRowGroup);this.sort(t,s,i,n,e.changedRowNodes,e.changedPath,o)}sort(e,t,s,i,n,o,r){const{gos:l,colModel:u,rowGroupColsSvc:d,rowNodeSorter:f,rowRenderer:p,showRowGroupCols:m}=e,C=l.get("groupMaintainOrder"),w=u.getCols().some(E=>E.isRowGroupActive()),S=u.isPivotMode(),R=l.getCallback("postSortRows");let A=!1;const D=E=>{var H,G;const F=S&&E.leafGroup,L=C&&w&&!E.leafGroup&&!r;let k;if(L){const W=(H=d==null?void 0:d.columns)==null?void 0:H[E.level+1],q=(W==null?void 0:W.getSort())===null,K=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!q){const Z={};E.childrenAfterSort.forEach((Y,re)=>{Z[Y.id]=re}),K.sort((Y,re)=>(Z[Y.id]??0)-(Z[re.id]??0))}k=K}else!s||F?k=E.childrenAfterAggFilter.slice(0):i&&n?k=xee(f,E,n,o,t):k=f.doFullSort(E.childrenAfterAggFilter,t);if(A||(A=((G=E.childrenAfterSort)==null?void 0:G[0])!==k[0]),E.childrenAfterSort=k,NH(E),R){const W={nodes:E.childrenAfterSort};R(W)}};if(o==null||o.forEachChangedNodeDepthFirst(D),A&&this.gos.get("groupHideOpenParents")){const E=m==null?void 0:m.getShowRowGroupCols();E!=null&&E.length&&p.refreshCells({columns:E,force:!0})}}};function xee(e,t,s,i,n){const o=t.childrenAfterAggFilter,r=t.childrenAfterSort;if(!r)return e.doFullSort(o,n);const l=new Set,u=[],{updates:d,adds:f}=s;for(let m=0,C=o.length;m<C;++m){const w=o[m];d.has(w)||f.has(w)||i&&!i.canSkip(w)?u.push({currentPos:u.length,rowNode:w}):l.add(w.id)}const p=r.filter(m=>l.has(m.id)).map((m,C)=>({currentPos:C,rowNode:m}));return u.sort((m,C)=>e.compareRowNodes(n,m,C)),Aee(e,n,u,p)}function Aee(e,t,s,i){const n=[];let o=0,r=0;const l=s.length,u=i.length;for(;o<l&&r<u;){const d=s[o],f=i[r],p=e.compareRowNodes(t,d,f);let m;p<0?(m=d,++o):(m=f,++r),n.push(m.rowNode)}for(;o<l;)n.push(s[o++].rowNode);for(;r<u;)n.push(i[r++].rowNode);return n}var Eee=class extends ae{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=js(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Jh(this.beans);const s=this.getNewNodeManager();this.nodeManager=s,s.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;switch(t$(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var i;const s=(i=t.changeSet)==null?void 0:i.properties;s&&this.onPropChange(s)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,s,i){let n,o=!1;do{n=!1;const r=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(r,s),d=Math.min(l,i);for(let f=u;f<=d;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const m=qh(this.beans,p);p.setRowHeight(m.height),n=!0,o=!0}}n&&this.setRowTopAndRowIndex()}while(n);return o}onPropChange(e){var d;if(!this.rootNode)return;const t=this.gos,s=new Set(e),i={step:"nothing",changedProps:s},n=s.has("rowData"),o=this.nodeManager,r=this.getNewNodeManager(),l=o!==r||n&&s.has("treeData")&&t.get("treeData")||s.has("treeDataChildrenField")&&t.get("treeData");let u;if((l||n)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,be(1))),l&&(n||(u=(o==null?void 0:o.extractRowData())??u),o!==r&&(o==null||o.deactivate(),this.nodeManager=r),r.activate(this.rootNode)),u&&(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new gR,r.setImmutableRowData(i,u)):(i.rowDataUpdated=!0,i.newData=!0,(d=this.beans.selectionSvc)==null||d.reset("rowDataChanged"),this.rowNodesCountReady=!0,r.setNewRowData(u))),i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:f,step:p}of this.orderedStages)if(e.some(m=>f.has(m))){i.step=p;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let s=0;const i=new Set,n=$s(this.gos,"normal"),o=this.rowsToDisplay;for(let r=0,l=o.length;r<l;++r){const u=o[r];if(u.id!=null&&i.add(u.id),u.rowHeight==null){const d=qh(e,u,n,t);u.setRowHeight(d.height,d.estimated)}u.setRowTop(s),u.setRowIndex(r),s+=u.rowHeight}return i}clearRowTopAndRowIndex(e,t){const s=e.active,i=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},n=o=>{if(o!==null&&(i(o),i(o.detailNode),i(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){const r=o.level==-1;s&&!r&&!o.expanded||o.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t,s=0){var l;const i=this.getRowIndexAtPixel(t),n=this.getRow(i),o=!this.gos.get("suppressAnimationFrame");if(n===e[0])return!1;const r=(l=this.rootNode)==null?void 0:l.allLeafChildren;return r?(e.forEach(u=>{no(r,u)}),e.forEach((u,d)=>{r.splice(Math.max(i+s,0)+d,0,u)}),e.forEach((u,d)=>{u.sourceRowIndex=d}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const s=t!=null?this.getRowIndexAtPixel(t):null,i=s!=null?this.getRow(s):null;if(!i||!e||t==null){this.clearHighlightedRow();return}const n=this.getHighlightPosition(t,i),o=this.isHighlightingCurrentPosition(e,i,n),r=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==i;(o||r)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(i,n),this.lastHighlightedRow=i)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const n=this.getRowIndexAtPixel(e);if(t=this.getRow(n||0),!t)return"Below"}const{rowTop:s,rowHeight:i}=t;return e-s<i/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,s){if(e===t)return!0;const i=s==="Above"?-1:1;return this.getRow(t.rowIndex+i)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const s=e.childrenAfterAggFilter,i=e.sibling?1:0;return(s?s.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;const{childrenAfterSort:n}=t,o=l=>{let u=n[l];if(this.gos.get("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},{footerSvc:r}=this.beans;return r?r.getTopDisplayIndex(s,e,n,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){var r;const{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;let n=this.getRow(e);for(n.footer&&(n=n.sibling);n.parent&&n.parent!==t;)n=n.parent;const o=(r=t.childrenAfterSort)==null?void 0:r.findIndex(l=>l===n);return o===-1?e:o??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Bd(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Bd(this.gos),i=e.columns.length===0||e.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Bd(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Hb(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:s,rowDataUpdated:i}=e;return!(!t||s||!i||t.removals.size||t.adds.size)}refreshModel(e){var i,n;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((n=(i=this.nodeManager).refreshModel)==null||n.call(i,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,s),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,s;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((s=this.colModel)!=null&&s.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let s=!1,i=!1;const n=[],o=ip(this.gos);return this.forEachNodeAfterFilterAndSort(r=>{if(i)return;if(s&&(r===t||r===e)&&(i=!0,r.group&&o)){n.push(...r.allLeafChildren);return}if(!s){if(r!==t&&r!==e)return;s=!0}if(!r.group||!o){n.push(r);return}}),n}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let s=0,i=t.length-1;if(e<=0)return 0;if(Rt(t).rowTop<=e)return t.length-1;let o=-1,r=-1;for(;;){const l=Math.floor((s+i)/2),u=t[l];if(this.isRowInPixel(u,e)||(u.rowTop<e?s=l+1:u.rowTop>e&&(i=l-1),o===s&&r===i))return l;o=s,r=i}}isRowInPixel(e,t){const s=e.rowTop,i=e.rowTop+e.rowHeight;return s<=t&&i>t}forEachLeafNode(e){var t,s;(s=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||s.forEach((i,n)=>e(i,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterSort)}forEachPivotNode(e,t=!1,s=!1){const i=s?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,n=>n.leafGroup?null:n[i])}depthFirstSearchRowNodes(e,t=!1,s=o=>o.childrenAfterGroup,i=this.rootNode,n=0){let o=n;if(!i)return o;const r=i===this.rootNode;r||e(i,o++);const{footerSvc:l}=this.beans;if(i.hasChildren()&&!i.footer){const u=s(i);if(u){o=(l==null?void 0:l.addTotalRows(o,i,e,t,r,"top"))??o;for(const d of u)o=this.depthFirstSearchRowNodes(e,t,s,d,o);return(l==null?void 0:l.addTotalRows(o,i,e,t,r,"bottom"))??o}}return o}doAggregate(e){var s;const t=this.rootNode;t&&((s=this.aggStage)==null||s.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(s=>{s.childrenAfterSort=s.childrenAfterAggFilter.slice(0),NH(s)})}doRowGrouping(e,t,s,i){var r;const n=this.rootNode;if(!((r=this.groupStage)==null?void 0:r.execute({rowNode:n,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:s,afterColumnsChanged:i}))&&!this.nodeManager.treeData){const l=n.sibling;n.childrenAfterGroup=n.allLeafChildren,l&&(l.childrenAfterGroup=n.childrenAfterGroup),n.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,mH(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(cA)==0){let s;return this.forEachNode(i=>{i.id===e&&(s=i)}),s}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const s=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n,o;(n=this.valueCache)==null||n.onDataChanged();const e=[],t=[],s=new gR;let i=!1;(o=this.rowDataTransactionBatch)==null||o.forEach(r=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:l,rowsInserted:u}=this.nodeManager.updateRowData(r.rowDataTransaction,s);u&&(i=!0),t.push(l),r.callback&&e.push(r.callback.bind(null,l))}),this.commitTransactions(i,s),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var n;(n=this.valueCache)==null||n.onDataChanged(),this.rowNodesCountReady=!0;const t=new gR,{rowNodeTransaction:s,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),s}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let s;if(e)s=e.execute({rowNode:t});else{s=(t==null?void 0:t.childrenAfterSort)??[];for(const i of s)i.setUiLevel(0)}this.rowsToDisplay=s}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const s=t.detailNode;s&&s.setRowHeight(s.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=l1,this.rowsToDisplay=l1}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Dee(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Tee(e,t){const s=$o(e);s&&((!t||t==="everything")&&(t="group"),s.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function Fee(e){var t;return((t=$o(e))==null?void 0:t.isEmpty())??!0}function Pee(e,t){var s;(s=$o(e))==null||s.forEachLeafNode(t)}function Mee(e,t){var s;(s=$o(e))==null||s.forEachNodeAfterFilter(t)}function Lee(e,t){var s;(s=$o(e))==null||s.forEachNodeAfterFilterAndSort(t)}function kee(e){var t,s;if((t=e.rowAutoHeight)!=null&&t.active){be(3);return}(s=$o(e))==null||s.resetRowHeights()}function Iee(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var s;return(s=$o(e))==null?void 0:s.updateRowData(t)})}function Oee(e,t,s){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=$o(e))==null?void 0:i.batchUpdateRowData(t,s)})}function _ee(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=$o(e))==null?void 0:t.flushAsyncTransactions()})}function Nee(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var Hee={moduleName:"ClientSideRowModel",version:Se,rowModels:["clientSide"],beans:[yee,Eee,Ree],dependsOn:[lH]},Gee={moduleName:"ClientSideRowModelApi",version:Se,apiFunctions:{onGroupExpandedOrCollapsed:Dee,refreshClientSideRowModel:Tee,isRowDataEmpty:Fee,forEachLeafNode:Pee,forEachNodeAfterFilter:Mee,forEachNodeAfterFilterAndSort:Lee,resetRowHeights:kee,applyTransaction:Iee,applyTransactionAsync:Oee,flushAsyncTransactions:_ee,getBestCostNodeSelection:Nee},dependsOn:[vee]},Bee=class extends ae{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:s,columnKeys:i,skipRowGroups:n,exportRowNumbers:o}=t,r=this.getColumnsToExport({allColumns:s,skipRowGroups:n,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,s,i){var w;const n=t.shouldRowBeSkipped||(()=>!1),r=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!r,u=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,f=i.allChildrenCount===1&&((w=i.childrenAfterGroup)==null?void 0:w.length)===1&&$j(this.gos,i);if(!u&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.level===-1&&!u&&!d||n(ze(this.gos,{node:i})))return;const C=e.onNewBodyRow(i);if(s.forEach((S,R)=>{C.onColumn(S,R,i)}),t.getCustomContentBelowRow){const S=t.getCustomContentBelowRow(ze(this.gos,{node:i}));S&&e.addCustomContent(S)}}appendContent(e){return t=>{const s=e.appendContent;return s&&t.addCustomContent(s),t}}prependContent(e){return t=>{const s=e.prependContent;return s&&t.addCustomContent(s),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return s=>{if(!e.skipColumnGroupHeaders){const i=new nN,{colGroupSvc:n}=this.beans,o=n?n.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,s,e.processGroupHeaderCallback)}return s}}exportHeaders(e,t){return s=>{if(!e.skipColumnHeaders){const i=s.onNewHeaderRow();t.forEach((n,o)=>{i.onColumn(n,o,void 0)})}return s}}processPinnedTopRows(e,t){return s=>{var n;const i=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>{var r;return(r=this.pinnedRowModel)==null?void 0:r.getPinnedTopRow(o.rowIndex)}).forEach(i):(n=this.pinnedRowModel)==null||n.forEachPinnedRow("top",i),s}}processRows(e,t){return s=>{var d;const i=this.rowModel,n=ni(this.gos),o=Au(this.gos),r=!n&&e.onlySelected,l=this.processRow.bind(this,s,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(f=>f.rowPinned==null).sort((f,p)=>f.rowIndex-p.rowIndex).map(f=>i.getRow(f.rowIndex)).forEach(l),s;if(this.colModel.isPivotMode())return n?i.forEachPivotNode(l,!0,u==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l),s;if(e.onlySelectedAllPages||r){const f=((d=this.beans.selectionSvc)==null?void 0:d.getSelectedNodes())??[];this.replicateSortedOrder(f),f.forEach(l)}else u==="all"?i.forEachNode(l):n||o?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);return s}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:s}=this.beans;if(!t||!s)return;const i=t.getSortOptions(),n=(o,r)=>{var l,u;return o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?((l=o.parent)==null?void 0:l.id)===((u=r.parent)==null?void 0:u.id)?s.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):n(o.parent,r.parent):o.level>r.level?n(o.parent,r):n(o,r.parent)};e.sort(n)}processPinnedBottomRows(e,t){return s=>{var n;const i=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>{var r;return(r=this.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(o.rowIndex)}).forEach(i):(n=this.pinnedRowModel)==null||n.forEachPinnedRow("bottom",i),s}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:s=!1,exportRowNumbers:i=!1,columnKeys:n}=e,{colModel:o,gos:r,visibleCols:l}=this,u=o.isPivotMode(),d=m=>Yr(m)?!1:!Xh(m)||i;if(n&&n.length)return o.getColsForKeys(n).filter(d);const f=r.get("treeData");let p=[];return t&&!u?p=o.getCols():p=l.allCols,p=p.filter(m=>d(m)&&(s&&!f?!RE(m):!0)),p}recursivelyAddHeaderGroups(e,t,s){const i=[];e.forEach(n=>{const o=n;o.getChildren&&o.getChildren().forEach(r=>i.push(r))}),e.length>0&&ts(e[0])&&this.doAddHeaderHeader(t,e,s),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,s)}doAddHeaderHeader(e,t,s){const i=e.onNewHeaderGroupingRow();let n=0;t.forEach(o=>{const r=o;let l;s?l=s(ze(this.gos,{columnGroup:r})):l=this.beans.colNames.getDisplayNameForColumnGroup(r,"header");const u=r.getLeafColumns().reduce((d,f,p,m)=>{let C=Rt(d);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],d.push(C)):C&&C[1]==null&&(C[1]=p-1),p===m.length-1&&C&&C[1]==null&&(C[1]=p),d},[]);i.onColumn(r,l||"",n++,r.getLeafColumns().length-1,u)})}},Vee={moduleName:"SharedExport",version:Se,beans:[Bee]},$1=`\r
`,zee=class extends MQ{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:s}=e;this.suppressQuotes=t,this.columnSeparator=s}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,$1),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((s,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(s.data.value||""),s.mergeAcross&&this.appendEmptyCells(s.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,s,i){s!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,s){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",s);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(be(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=$1),this.isFirstLine=!1}},Wee=class extends PQ{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){be(51);return}const t=this.getMergedParams(e),s=this.getData(t),i=new Blob(["\uFEFF",s],{type:"text/plain"}),n=typeof t.fileName=="function"?t.fileName(ze(this.gos,{})):t.fileName;LQ(this.getFileName(n),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const s=t?Object.assign({},e):this.getMergedParams(e);return this.getData(s)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:s,rowGroupColsSvc:i,valueSvc:n,gos:o}=this,{processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:p}=e;return new zee({colModel:t,colNames:s,valueSvc:n,gos:o,processCellCallback:r||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:p||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Uee(e,t){var s;return(s=e.csvCreator)==null?void 0:s.getDataAsCsv(t)}function jee(e,t){var s;(s=e.csvCreator)==null||s.exportDataAsCsv(t)}var $ee={moduleName:"CsvExport",version:Se,beans:[Wee],apiFunctions:{getDataAsCsv:Uee,exportDataAsCsv:jee},dependsOn:[Vee]},qee=class extends ae{constructor(e,t,s){super(),this.id=e,this.parentCache=t,this.params=s,this.state="needsLoading",this.version=0,this.startRow=e*s.blockSize,this.endRow=this.startRow+s.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,s){this.successCommon(e,{rowData:t,rowCount:s})}isRequestMostRecentAndLive(e){const t=e===this.version,s=this.isAlive();return t&&s}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:s,beans:i,rowNodes:n}=this;for(let o=0;o<e;o++){const r=s+o,l=new Jh(i);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(r),l.setRowTop(t*r),n.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:s,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:s,pageStatus:i}}}setDataAndId(e,t,s){ye(t)?e.setDataAndId(t,s.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(jt(this.params.datasource.getRows)){be(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:s,params:{sortModel:i,filterModel:n},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,s),failCallback:this.pageLoadFailed.bind(this,s),sortModel:i,filterModel:n,context:ze(o,{}).context}}forEachNode(e,t,s){this.rowNodes.forEach((i,n)=>{this.startRow+n<s&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const s=e-this.startRow;return this.rowNodes[s]}processServerResult(e){const{rowNodes:t,beans:s}=this;t.forEach((n,o)=>{const r=e.rowData?e.rowData[o]:void 0;!n.id&&n.alreadyRendered&&r&&(t[o]=new Jh(s),t[o].setRowIndex(n.rowIndex),t[o].setRowTop(n.rowTop),t[o].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(t[o],r,this.startRow+o)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},Kee=2,Yee=class extends ae{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const s=Math.floor(e/this.params.blockSize);let i=this.blocks[s];if(!i){if(t)return;i=this.createBlock(s)}return i.getRow(e)}createBlock(e){const t=this.params,s=this.createBean(new qee(e,this,t));return this.blocks[s.id]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),t.rowNodeBlockLoader.addBlock(s),s}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(fu(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(r=>r!=e),s=(r,l)=>l.lastAccessed-r.lastAccessed;t.sort(s);const i=this.params.maxBlocksInCache>0,n=i?this.params.maxBlocksInCache-1:null,o=Kee-1;t.forEach((r,l)=>{const u=r.state==="needsLoading"&&l>=o,d=i?l>=n:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:s,endRow:i}=e;return t.rowIndex>=s&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:s}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,s-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:s,overflowSize:i}=this.params,o=(e.id+1)*s+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,ye(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(s=>s.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(s,i)=>s.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const s=[];let i=-1,n=!1;const o={value:0};let r=!1;return this.getBlocksInOrder().forEach(u=>{if(!r){if(n&&i+1!==u.id){r=!0;return}i=u.id,u.forEachNode(d=>{const f=d===e||d===t;(n||f)&&s.push(d),f&&(n=!n)},o,this.rowCount)}}),r||n?[]:s}},Xee=class extends ae{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=nu(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=nu(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!tp(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var s;return((s=this.infiniteCache)==null?void 0:s.getRowNodesInRange(e,t))??[]}reset(){var s;if(!this.datasource)return;Kh(this.gos)!=null||(s=this.beans.selectionSvc)==null||s.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:s,rowNodeBlockLoader:i,eventSvc:n,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(s==null?void 0:s.getSortModel())??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:nu(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Yee(this.cacheParams)),n.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(s=>{s.id===e&&(t=s)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),s=this.getRowCount()-1;return t>s?s:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var s;(s=this.infiniteCache)==null||s.setRowCount(e,t)}};function Qee(e){var t;(t=Jw(e))==null||t.refreshCache()}function Zee(e){var t;(t=Jw(e))==null||t.purgeCache()}function Jee(e){var t;return(t=Jw(e))==null?void 0:t.getRowCount()}var ete=class extends ae{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=qj(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=js(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){no(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){fu(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(s=>s.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(s=>s.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:s,state:i}=t.getBlockStateJson();e[s]=i}),e}printCacheStatus(){fu(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},tte={moduleName:"InfiniteRowModelCore",version:Se,rowModels:["infinite"],beans:[Xee,ete]},ste={moduleName:"InfiniteRowModel",version:Se,apiFunctions:{refreshInfiniteCache:Qee,purgeInfiniteCache:Zee,getInfiniteRowCount:Jee},dependsOn:[tte,Cee]},ite="",nte="",ote={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},rte=class extends $t{constructor(){super(ote),this.eValue=_e,this.eDelta=_e,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const s=Math.abs(t),i=e.formatValue(s),n=ye(i)?i:s,o=t>=0,r=this.eDelta;o?r.textContent=ite+n:r.textContent=nte+n,r.classList.toggle("ag-value-change-delta-up",o),r.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),on(this.eDelta)}refresh(e,t=!1){var l;const{value:s,valueFormatted:i}=e,{eValue:n,lastValue:o,beans:r}=this;if(s===o||(ye(i)?n.textContent=i:ye(s)?n.textContent=s:on(n),(l=r.filterManager)!=null&&l.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof s=="number"&&typeof o=="number"){const u=s-o;this.showDelta(e,u)}return o&&n.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=s,!0}},ate=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",lte={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},cte=class extends $t{constructor(){super(lte),this.eCurrent=_e,this.refreshCount=0,this.registerCSS(ate)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:s}=this,i=ai({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=s.textContent,this.getGui().insertBefore(i,s),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let s=e.value;if(jt(s)&&(s=""),s===this.lastValue||(n=this.beans.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=s;const i=this.eCurrent;return ye(e.valueFormatted)?i.textContent=e.valueFormatted:ye(e.value)?i.textContent=s:on(i),!0}},ute=class extends ae{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const s=s7(e.cellPosition);t.cells[s]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,s,i){const n=e.comp;if(!n)return;const{gos:o}=this;if(s||(s=o.get("cellFlashDuration")),s===0)return;ye(i)||(i=o.get("cellFadeDuration"));const r=`ag-cell-${t}`,l=`ag-cell-${t}-animation`;n.addOrRemoveCssClass(r,!0),n.addOrRemoveCssClass(l,!1);const u=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(n.addOrRemoveCssClass(r,!1),n.addOrRemoveCssClass(l,!0),u.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{e.isAlive()&&(n.addOrRemoveCssClass(l,!1),u.style.transition="")},i))},s)})}};function dte(e,t={}){const{cellFlashSvc:s}=e;s&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>s.flashCell(i,t))})}var hte={moduleName:"HighlightChanges",version:Se,beans:[ute],userComponents:{agAnimateShowChangeCellRenderer:rte,agAnimateSlideCellRenderer:cte},apiFunctions:{flashCells:dte}};function fte(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function gte(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=pte(e)}return e}function pte(e){return e.cellSelection=mte(e,"rangeSelection"),e}function mte(e,t){if(e&&typeof e=="object")return e[t]}var vte=class extends ae{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=js(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=js(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=js(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=ni(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Se);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,s,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{s==null||s(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return gte(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=s=>()=>this.updateColumnState([s]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:s,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),s&&this.setRowSelectionState(s),i&&this.setPaginationState(i);const n=this.updateCachedState.bind(this);n("filter",this.getFilterState()),n("rowGroupExpansion",this.getRowGroupExpansionState()),n("rowSelection",this.getRowSelectionState()),n("pagination",this.getPaginationState());const o=()=>{this.updateRowGroupExpansionStateTimer=0,n("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>n("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:r=>{(r.newPage||r.newPageSize)&&n("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:s,columnOrder:i}=this.getInitialState();s&&this.setFocusedCellState(s),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(i!=null&&i.orderedColIds));const n=this.updateCachedState.bind(this);n("sideBar",this.getSideBarState()),n("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();n("rangeSelection",o),n("cellSelection",o),n("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>n("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){const l=this.getRangeSelectionState();n("rangeSelection",l),n("cellSelection",l)}},bodyScrollEnd:()=>n("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),s=[],i=[],n=[],o=[],r=[],l=[],u=[],d=[],f=[];let p=0;const m=np(e);for(let C=0;C<m.length;C++){const{colId:w,sort:S,sortIndex:R,rowGroup:A,rowGroupIndex:D,aggFunc:E,pivot:F,pivotIndex:L,pinned:k,hide:H,width:G,flex:W}=m[C];f.push(w),S&&(s[R??p++]={colId:w,sort:S}),A&&(i[D??0]=w),typeof E=="string"&&n.push({colId:w,aggFunc:E}),F&&(o[L??0]=w),k&&(k==="right"?l:r).push(w),H&&u.push(w),(W!=null||G)&&d.push({colId:w,flex:W??void 0,width:G})}return{sort:s.length?{sortModel:s}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:r.length||l.length?{leftColIds:r,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}setColumnState(e){const{sort:t,rowGroup:s,aggregation:i,pivot:n,columnPinning:o,columnVisibility:r,columnSizing:l,columnOrder:u,partialColumnState:d}=e,f={},p=R=>{let A=f[R];return A||(A={colId:R},f[R]=A,A)},m=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:R,sort:A},D)=>{const E=p(R);E.sort=A,E.sortIndex=D}),m.sort=null,m.sortIndex=null),s&&(s.groupColIds.forEach((R,A)=>{const D=p(R);D.rowGroup=!0,D.rowGroupIndex=A}),m.rowGroup=null,m.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:R,aggFunc:A})=>{p(R).aggFunc=A}),m.aggFunc=null),n&&(n.pivotColIds.forEach((R,A)=>{const D=p(R);D.pivot=!0,D.pivotIndex=A}),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"}),m.pivot=null,m.pivotIndex=null),o&&(o.leftColIds.forEach(R=>{p(R).pinned="left"}),o.rightColIds.forEach(R=>{p(R).pinned="right"}),m.pinned=null),r&&(r.hiddenColIds.forEach(R=>{p(R).hide=!0}),m.hide=null),l&&(l.columnSizingModel.forEach(({colId:R,flex:A,width:D})=>{const E=p(R);E.flex=A??null,E.width=D}),m.flex=null);const C=u==null?void 0:u.orderedColIds,w=!!(C!=null&&C.length),S=w?C.map(R=>p(R)):Object.values(f);S.length&&(this.columnStates=S,sn(this.beans,{state:S,applyOrder:w,defaultState:m},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const s=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:n,colGroupSvc:o}=i;if(n!=null&&n.isPivotResultColsPresent()){if(t){const r=[];for(const l of t)n.getPivotResultCol(l.colId)&&r.push(l);sn(i,{state:r,applyOrder:e},"gridInitializing")}s&&(o==null||o.setColumnGroupState(s,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),s=[];return t.forEach(({groupId:i,open:n})=>{n&&s.push(i)}),s.length?{openColumnGroupIds:s}:void 0}setColumnGroupState(e){var o;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const s=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),n=t.getColumnGroupState().map(({groupId:r})=>{const l=s.has(r);return l&&s.delete(r),{groupId:r,open:l}});s.forEach(r=>{n.push({groupId:r,open:!0})}),n.length&&(this.columnGroupStates=n),t.setColumnGroupState(n,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const s=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||s?{filterModel:t,advancedFilterModel:s}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:s,advancedFilterModel:i}=e??{};s&&(t==null||t.setFilterModel(s,"columnFilter")),i&&(t==null||t.setAdvFilterModel(i,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(s=>{const{id:i,type:n,startRow:o,endRow:r,columns:l,startColumn:u}=s;return{id:i,type:n,startRow:o,endRow:r,colIds:l.map(d=>d.getColId()),startColId:u.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:s,colModel:i,visibleCols:n}=this.beans;if(!bl(t)||!s)return;const o=[];e.cellRanges.forEach(r=>{const l=[];if(r.colIds.forEach(d=>{const f=i.getCol(d);f&&l.push(f)}),!l.length)return;let u=i.getCol(r.startColId);if(!u){const d=n.allCols,f=new Set(l);u=d.find(p=>f.has(p))}o.push({...r,columns:l,startColumn:u})}),s.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:s}=(e==null?void 0:e.getVScrollPosition())??{top:0};return s||t?{top:s,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:s}=e,{frameworkOverrides:i,rowRenderer:n,animationFrameSvc:o,ctrlsSvc:r}=this.beans;i.wrapIncoming(()=>{var l;r.get("center").setCenterViewportScrollLeft(s),(l=r.getScrollFeature())==null||l.setVerticalScrollPosition(t),n.redraw({afterScroll:!0}),o==null||o.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:s,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:s,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:s,rowPinned:i}=e,{focusSvc:n,colModel:o}=this.beans;n.setFocusedCell({column:o.getCol(t),rowIndex:s,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const s=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!s&&!i))return{page:s,pageSize:i}}setPaginationState(e){const{pagination:t,gos:s}=this.beans;t&&(e.pageSize&&!s.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var i;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const s=[];return t.forEachNode(({expanded:i,id:n})=>{i&&n&&s.push(n)}),s.length?{expandedRowGroupIds:s}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let s=!1;const i=this.cachedState;for(const n of Object.keys(t)){const o=t[n];tp(o,i[n])||(s=!0)}this.cachedState={...i,...t},s&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const s=this.cachedState[e];this.setCachedStateValue(e,t),tp(t,s)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Cte={moduleName:"GridState",version:Se,beans:[vte],apiFunctions:{getState:fte}};function bte(e){return e.rowModel.isLastRowIndexKnown()}function wte(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function yte(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function Ste(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function Rte(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function xte(e){var t;(t=e.pagination)==null||t.goToNextPage()}function Ate(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Ete(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function Dte(e){var t;(t=e.pagination)==null||t.goToLastPage()}function Tte(e,t){var s;(s=e.pagination)==null||s.goToPage(t)}var Fte=class extends ae{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,s=()=>{const i=Math.max(nu(t),1),n=Math.floor(e/i);t.pagination.setPageSize(n,"autoCalculated")};this.isBodyRendered?js(this,s,50)():(s(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},mg="paginationPageSizeSelector",Pte={tag:"span",cls:"ag-paging-page-size"},Mte=class extends $t{constructor(){super(Pte),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(mg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){on(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(mg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),s=!t||!e.includes(t);if(s){const n=this.gos.exists("paginationPageSize"),o=this.gos.get(mg)!==!0;be(94,{pageSizeSet:n,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||be(95,{paginationPageSizeOption:t,paginationPageSizeSelector:mg}),e.unshift("")}const i=String(s?"":t);this.selectPageSizeComp?(Eu(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=s}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const s=this.getLocaleTextFunc(),i=s("pageSizeSelectorLabel","Page Size:"),n=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new NE).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(n).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(mg);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((s,i)=>s-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Lte={selector:"AG-PAGE-SIZE-SELECTOR",component:Mte},kte=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Ite=class extends j9{constructor(){super(),this.btFirst=_e,this.btPrevious=_e,this.btNext=_e,this.btLast=_e,this.lbRecordCount=_e,this.lbFirstRowOnPage=_e,this.lbLastRowOnPage=_e,this.lbCurrent=_e,this.lbTotal=_e,this.pageSizeComp=_e,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(kte)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Lte]);const{btFirst:t,btPrevious:s,btNext:i,btLast:n}=this;this.activateTabIndex([t,s,i,n]),t.insertAdjacentElement("afterbegin",An(e?"last":"first",this.beans)),s.insertAdjacentElement("afterbegin",An(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",An(e?"previous":"next",this.beans)),n.insertAdjacentElement("afterbegin",An(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):G8(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:s}=e;this.addManagedListeners(t,{click:s,keydown:i=>{(i.key===oe.ENTER||i.key===oe.SPACE)&&(i.preventDefault(),s())}})}),H8(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):FQ(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),s=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),n=e===s-1;this.nextButtonDisabled=n||i,this.lastButtonDisabled=!t||i||e===s-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){fj(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),s=this.pagination.getMasterRowCount(),i=e?s:null,n=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let r,l;this.isZeroPagesToDisplay()?r=l=0:(r=o*n+1,l=r+o-1,e&&l>i&&(l=i));const u=r+o-1,d=!e&&s<u,f=this.formatNumber(r);this.lbFirstRowOnPage.textContent=f;let p;const m=this.getLocaleTextFunc();d?p=m("pageLastRowUnknown","?"):p=this.formatNumber(l),this.lbLastRowOnPage.textContent=p;const w=t>0?n+1:0,S=this.formatNumber(w);this.lbCurrent.textContent=S;let R,A;if(e)R=this.formatNumber(t),A=this.formatNumber(i);else{const D=m("more","more");R=D,A=D}this.lbTotal.textContent=R,this.lbRecordCount.textContent=A,this.announceAriaStatus(f,p,A,S,R)}announceAriaStatus(e,t,s,i,n){var p,m;const o=this.getLocaleTextFunc(),r=o("page","Page"),l=o("to","to"),u=o("of","of"),d=`${e} ${l} ${t} ${u} ${s}`,f=`${r} ${i} ${u} ${n}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,(p=this.ariaAnnounce)==null||p.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,(m=this.ariaAnnounce)==null||m.announceValue(f,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Ote={selector:"AG-PAGINATION",component:Ite},_te=class extends ae{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Ote}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){var s,i;if(!this.active)return;let t=e;this.paginateChildRows||(t=((i=(s=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:i.call(s,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ye(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ye(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ye(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ye(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const s=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}s!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const s=this.pageSize,i=t-1;this.totalPages=Math.floor(i/s)+1,this.adjustCurrentPageIfInvalid();const n=this.currentPage,o=s*n;let r=s*(n+1)-1;if(r>i&&(r=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),r===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:s}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*s,this.bottomDisplayedRowIndex=t*(s+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:s=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:s,newPageSize:i,keepRenderedRows:t})}},Nte={moduleName:"Pagination",version:Se,beans:[_te,Fte],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:bte,paginationGetPageSize:wte,paginationGetCurrentPage:yte,paginationGetTotalPages:Ste,paginationGetRowCount:Rte,paginationGoToNextPage:xte,paginationGoToPreviousPage:Ate,paginationGoToFirstPage:Ete,paginationGoToLastPage:Dte,paginationGoToPage:Tte},dependsOn:[ey]};function Hte(e,t={}){const s=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(s))}function HH(e,t,s,i,n){t&&(i&&t.parent&&t.parent.level!==-1&&HH(e,t.parent,s,i,n),t.setExpanded(s,void 0,n))}function Gte(e,t){return e.rowModel.getRowNode(t)}function Bte(e,t,s,i){e.rowRenderer.addRenderedRowListener(t,s,i)}function Vte(e){return e.rowRenderer.getRenderedNodes()}function zte(e,t,s){e.rowModel.forEachNode(t,s)}function Wte(e){return e.rowRenderer.firstRenderedRow}function Ute(e){return e.rowRenderer.lastRenderedRow}function jte(e,t){return e.rowModel.getRow(t)}function $te(e){return e.rowModel.getRowCount()}var qte={moduleName:"RowApi",version:Se,apiFunctions:{redrawRows:Hte,setRowNodeExpanded:HH,getRowNode:Gte,addRenderedRowListener:Bte,getRenderedNodes:Vte,forEachNode:zte,getFirstDisplayedRowIndex:Wte,getLastDisplayedRowIndex:Ute,getDisplayedRowAtIndex:jte,getDisplayedRowCount:$te}},Kte={moduleName:"ScrollApi",version:Se,apiFunctions:{getVerticalPixelRange:EJ,getHorizontalPixelRange:DJ,ensureColumnVisible:LH,ensureIndexVisible:kH,ensureNodeVisible:TJ}};function Yte(e,t,s){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,n=`aria-${t}`;s===null?i.removeAttribute(n):i.setAttribute(n,s)}function Xte(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Qte(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Zte(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function Jte(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function ese(e){return{rowHeight:nu(e),headerHeight:Bm(e)}}function tse(e,t={}){var o;const s=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{const l=r.getCellRenderer();l!=null&&s.push(op(l))}),(o=t.columns)!=null&&o.length)return s;const i=[],n=vA(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(r=>{if(n&&!CA(r.rowNode,n)||!r.isFullWidth())return;const l=r.getFullWidthCellRenderers();for(let u=0;u<l.length;u++){const d=l[u];d!=null&&i.push(op(d))}}),[...i,...s]}var sse={moduleName:"RenderApi",version:Se,apiFunctions:{setGridAriaProperty:Yte,refreshCells:Xte,refreshHeader:Qte,isAnimationFrameQueueEmpty:Zte,flushAllAnimationFrames:Jte,getSizesForCurrentTheme:ese,getCellRendererInstances:tse}};function ise(e,t){var s,i;typeof t=="number"?(s=e.colAutosize)==null||s.sizeColumnsToFit(t,"api"):(i=e.colAutosize)==null||i.sizeColumnsToFitGridBody(t)}function nse(e,t,s){var i;(i=e.colAutosize)==null||i.autoSizeCols({colKeys:t,skipHeader:s,source:"api"})}function ose(e,t){var s;(s=e.colAutosize)==null||s.autoSizeAllColumns("api",t)}var rse=class extends ae{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:s,skipHeaderGroups:i,stopAtGroup:n,source:o="api"}=e,{animationFrameSvc:r,renderStatus:l,colModel:u,autoWidthCalc:d,visibleCols:f}=this.beans;if(r==null||r.flushAllFrames(),this.timesDelayed<5&&l&&!l.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const p=[];let m=-1;const C=s??this.gos.get("skipHeaderOnAutoSize"),w=i??C;for(;m!==0;){m=0;const S=[];t.forEach(R=>{if(!R)return;const A=u.getCol(R);if(!A||Xh(A)||p.indexOf(A)>=0)return;const D=d.getPreferredWidthForColumn(A,C);if(D>0){const E=ase(A,D);A.setActualWidth(E,o),p.push(A),m++}S.push(A)}),S.length&&f.refresh(o)}w||this.autoSizeColumnGroupsByColumns(t,o,n),Qh(this.eventSvc,p,!0,"autosizeColumns")}autoSizeColumn(e,t,s){e&&this.autoSizeCols({colKeys:[e],skipHeader:s,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,s){const{colModel:i,ctrlsSvc:n}=this.beans,o=new Set;i.getColsForKeys(e).forEach(d=>{let f=d.getParent();for(;f&&f!=s;)f.isPadding()||o.add(f),f=f.getParent()});let l;const u=[];for(const d of o){for(const f of n.getHeaderRowContainerCtrls())if(l=f.getHeaderCtrlForColumn(d),l)break;l&&l.resizeLeafColumnsToFit(t)}return u}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const s=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:s,skipHeader:t,source:e})}addColumnAutosize(e,t){const s=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",s)};e.addEventListener("dblclick",i);const n=new Td(e);return n.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),n.removeEventListener("doubleTap",i),n.destroy()}}addColumnGroupResize(e,t,s){const i=this.gos.get("skipHeaderOnAutoSize"),n=()=>{const o=[];t.getDisplayedLeafColumns().forEach(l=>{l.getColDef().suppressAutoSize||o.push(l.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),s()};return e.addEventListener("dblclick",n),()=>e.removeEventListener("dblclick",n)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:s,scrollVisibleSvc:i}=this.beans,n=s.getGridBodyCtrl(),r=n.isVerticalScrollShowing()?i.getScrollbarWidth():0,u=ep(n.eGridBody)-r;if(u>0){this.sizeColumnsToFit(u,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):be(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",s,i){var C;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,s,i));return}const n={};i&&((C=i==null?void 0:i.columnLimits)==null||C.forEach(({key:w,...S})=>{n[typeof w=="string"?w:w.getColId()]=S}));const o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===pr(o)&&o.every(S=>{if(S.colDef.suppressSizeToFit)return!0;const R=n==null?void 0:n[S.getId()],A=(R==null?void 0:R.minWidth)??(i==null?void 0:i.defaultMinWidth),D=(R==null?void 0:R.maxWidth)??(i==null?void 0:i.defaultMaxWidth),E=S.getActualWidth();return(A==null||E>=A)&&(D==null||E<=D)}))return;const l=[],u=[];o.forEach(w=>{w.getColDef().suppressSizeToFit===!0?u.push(w):l.push(w)});const d=l.slice(0);let f=!1;const p=w=>{no(l,w),u.push(w)};for(l.forEach(w=>{w.resetActualWidth(t);const S=n==null?void 0:n[w.getId()],R=(S==null?void 0:S.minWidth)??(i==null?void 0:i.defaultMinWidth),A=(S==null?void 0:S.maxWidth)??(i==null?void 0:i.defaultMaxWidth),D=w.getActualWidth();typeof R=="number"&&D<R?w.setActualWidth(R,t,!0):typeof A=="number"&&D>A&&w.setActualWidth(A,t,!0)});!f;){f=!0;const w=e-pr(u);if(w<=0)l.forEach(S=>{var A;const R=((A=n==null?void 0:n[S.getId()])==null?void 0:A.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof R=="number"){S.setActualWidth(R,t,!0);return}S.setActualWidth(S.minWidth,t)});else{const S=w/pr(l);let R=w;for(let A=l.length-1;A>=0;A--){const D=l[A],E=n==null?void 0:n[D.getId()],F=(E==null?void 0:E.minWidth)??(i==null?void 0:i.defaultMinWidth),L=(E==null?void 0:E.maxWidth)??(i==null?void 0:i.defaultMaxWidth),k=D.getMinWidth(),H=D.getMaxWidth(),G=typeof F=="number"&&F>k?F:k,W=typeof L=="number"&&L<H?L:H;let q=Math.round(D.getActualWidth()*S);q<G?(q=G,p(D),f=!1):q>W?(q=W,p(D),f=!1):A===0&&(q=R),D.setActualWidth(q,t,!0),R-=q}}}d.forEach(w=>{w.fireColumnWidthChangedEvent(t)});const m=this.beans.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),!s&&Qh(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:s,defaultMinWidth:i,defaultMaxWidth:n}=e,o=s==null?void 0:s.map(({colId:r,minWidth:l,maxWidth:u})=>({key:r,minWidth:l,maxWidth:u}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:n,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:s}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:s,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function ase(e,t){const s=e.getMinWidth();t<s&&(t=s);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}var lse={moduleName:"ColumnAutoSize",version:Se,beans:[rse],apiFunctions:{sizeColumnsToFit:ise,autoSizeColumns:nse,autoSizeAllColumns:ose},dependsOn:[$N]};function cse(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function use(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function dse(e,t){var s;return(s=e.pinnedRowModel)==null?void 0:s.getPinnedTopRow(t)}function hse(e,t){var s;return(s=e.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(t)}var fse=class extends ae{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=s=>{s.setRowHeight(s.rowHeight,!0)};vg(this.pinnedBottomRows,t),vg(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const s=i=>{if(i.rowHeightEstimated){const n=qh(this.beans,i);i.setRowTop(t),i.setRowHeight(n.height),t+=n.height,e=!0}};return vg(this.pinnedBottomRows,s),t=0,vg(this.pinnedTopRows,s),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const s=this.getCache(t);if(e===void 0){s.order.length=0,s.cache={};return}const i=Kh(this.gos),n=t==="top"?yN:SN,o=new Set(s.order),r=[],l=new Set;let u=0,d=-1;for(const f of e){const p=(i==null?void 0:i({data:f,level:0,rowPinned:t}))??n+this.nextId++;if(l.has(p)){be(96,{id:p,data:f});continue}d++,l.add(p),r.push(p);const m=$g(s,p);if(m!==void 0)m.data!==f&&m.setData(f),u+=this.setRowTopAndRowIndex(m,u,d),o.delete(p);else{const C=new Jh(this.beans);C.id=p,C.data=f,C.rowPinned=t,u+=this.setRowTopAndRowIndex(C,u,d),s.cache[p]=C,s.order.push(p)}}o.forEach(f=>{var p;(p=$g(s,f))==null||p.clearRowTopAndRowIndex(),delete s.cache[f]}),s.order=r}setRowTopAndRowIndex(e,t,s){return e.setRowTop(t),e.setRowHeight(qh(this.beans,e).height),e.setRowIndex(s),e.rowHeight}getPinnedTopTotalHeight(){return q1(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return q1(this.pinnedBottomRows)}getPinnedTopRowCount(){return yA(this.pinnedTopRows)}getPinnedBottomRowCount(){return yA(this.pinnedBottomRows)}getPinnedTopRow(e){return wA(this.pinnedTopRows,e)}getPinnedBottomRow(e){return wA(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return $g(this.getCache(t),e)}forEachPinnedRow(e,t){return vg(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function q1(e){const t=yA(e);if(t===0)return 0;const s=wA(e,t-1);return s===void 0?0:s.rowTop+s.rowHeight}function $g(e,t){return e.cache[t]}function wA(e,t){return $g(e,e.order[t])}function vg(e,t){e.order.forEach((s,i)=>{const n=$g(e,s);n&&t(n,i)})}function yA(e){return e.order.length}var gse={moduleName:"PinnedRow",version:Se,beans:[fse],apiFunctions:{getPinnedTopRowCount:cse,getPinnedBottomRowCount:use,getPinnedTopRow:dse,getPinnedBottomRow:hse}},pse=class extends Vg{constructor(e,t,s){super(e.col,e.firstNode,s,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,s,i,n,o,r){this.eWrapper=s,super.setComp(e,t,s,i,n,o,r),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&m_(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){vj(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Xw(t)){this.focusedCellPosition=void 0;return}const s=this.isCellFocused();s||(this.focusedCellPosition=void 0),e&&s&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},mse=class extends _b{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new pse(t,this,this.beans)}isCorrectCtrlForSpan(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},vse=class extends ae{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,s=`${e}Ctrls`,i=this[s],n=i.size,o=this.getAllRelevantRowControls(e),r=new Map;let l=!1;for(const d of o)d.isAlive()&&(t==null||t.forEachSpannedColumn(d.rowNode,(f,p)=>{if(r.has(p.firstNode))return;const m=i.get(p.firstNode);if(m){r.set(p.firstNode,m),i.delete(p.firstNode);return}l=!0;const C=new mse(p.firstNode,this.beans,!1,!1,!1);r.set(p.firstNode,C)}));this[s]=r;const u=r.size===n;if(!(!l&&u)){for(const d of i.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,s=t==null?void 0:t.getCellSpanByPosition(e);if(!s)return;const i=`${GH(e.rowPinned)}Ctrls`,n=this[i].get(s.firstNode);if(n)return n.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const s of this[t].values())s.destroyFirstPass(!0),s.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},GH=e=>e??"center",Cse=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var s;const e=(s=this.firstNode.__autoHeights)==null?void 0:s[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},bse=class extends ae{constructor(e){super(),this.column=e}buildCache(e){var E;const{column:t,beans:{gos:s,pinnedRowModel:i,rowModel:n,valueSvc:o,pagination:r}}=this,{colDef:l}=t,u=this[`${e}ValueNodeMap`],d=new Map,f=s.getCallback("isFullWidthRow"),p=l.equals,m=l.spanRows,C=typeof m=="function";let w=null,S=null,R;const A=(F,L)=>{w=F,S=null,R=L},D=F=>{const L=!F.isExpandable()&&!F.group&&!F.detail&&(f?!f({rowNode:F}):!0);if(F.rowIndex==null||!L){A(null,null);return}if(w==null||F.level!==w.level||F.footer||S&&F.rowIndex-1!==(S==null?void 0:S.getLastNode().rowIndex)){A(F,o.getValue(t,F));return}const k=o.getValue(t,F);if(C){const H=ze(s,{valueA:R,nodeA:w,valueB:k,nodeB:F,column:t,colDef:l});if(!m(H)){A(F,k);return}}else if(p?!p(R,k):R!==k){A(F,k);return}if(!S){const H=u==null?void 0:u.get(w);(H==null?void 0:H.firstNode)===w?(H.reset(),S=H):S=new Cse(t,w),d.set(w,S)}S.addSpannedNode(F),d.set(F,S)};switch(e){case"center":(E=n.forEachDisplayedNode)==null||E.call(n,F=>{(!r||r.isRowInPage(F.rowIndex))&&D(F)});break;case"top":i==null||i.forEachPinnedRow("top",D);break;case"bottom":i==null||i.forEachPinnedRow("bottom",D);break}this[`${e}ValueNodeMap`]=d}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${GH(e.rowPinned)}ValueNodeMap`].get(e)}},wse=class extends ae{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=js(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=js(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this),rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const s=this.createManagedBean(new bse(e));this.spanningColumns.set(e,s),s.buildCache("top"),s.buildCache("bottom"),s.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const s=this.spanningColumns.get(e);return s?s.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:s}=this.beans,i=e.column,n=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let r;switch(e.rowPinned){case"top":r=t==null?void 0:t.getPinnedTopRow(n);break;case"bottom":r=t==null?void 0:t.getPinnedBottomRow(n);break;default:r=s.getRow(n)}if(r)return o.getCellSpan(r)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const s=this.spanningColumns.get(e);if(s)return s.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[s,i]of this.spanningColumns)if(i.isCellSpanning(e)){const n=i.getCellSpan(e);t(s,n)}}destroy(){super.destroy(),this.spanningColumns.clear()}},yse={moduleName:"CellSpan",version:Se,beans:[wse,vse]},Sse=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,s=e.colDef,i=s.cellClassRules,n=this.getCellClassParams(e,s);FE(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,n,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,s=t.cellStyle;if(!s)return;let i;if(typeof s=="function"){const n=this.getCellClassParams(e,t);i=s(n)}else i=s;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,s=e.colDef,i=this.getCellClassParams(e,s);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));const n=this.beans.cellStyles.getStaticCellClasses(s,i);this.staticClasses=n,n.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){const{value:s,rowNode:i}=this.cellCtrl;return ze(this.beans.gos,{value:s,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},Rse=class extends ae{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,s,i){FE(this.beans.expressionSvc,void 0,e.cellClassRules,t,s,i),this.processStaticCellClasses(e,t,s)}getStaticCellClasses(e,t){const{cellClass:s}=e;if(!s)return[];let i;return typeof s=="function"?i=s(t):i=s,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new Sse(e,t)}processStaticCellClasses(e,t,s){this.getStaticCellClasses(e,t).forEach(n=>{s(n)})}},xse={moduleName:"CellStyle",version:Se,beans:[Rse]},Ase={moduleName:"RowStyle",version:Se,beans:[y7]};function Ese(e,t){var s;return!!((s=e.colHover)!=null&&s.isHovered(t))}var Dse=class extends ae{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=s=>{const{beans:i,gos:n,element:o,columns:r}=this,l=i.colHover;s??!!n.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:l.setMouseOver.bind(l,r),mouseout:l.clearMouseOver.bind(l)}):(this.destroyManagedListeners.forEach(d=>d()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Tse="ag-column-hover",Fse=class extends ae{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,s){const i=()=>{const n=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const s=this.isHovered(e);t.addOrRemoveCssClass(Tse,s)}addHeaderFilterColumnHoverListener(e,t,s,i){this.createHoverFeature(e,[s],i);const n=()=>{const o=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:n}),n()}createHoverFeature(e,t,s){e.createManagedBean(new Dse(t,s))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Pse={moduleName:"ColumnHover",version:Se,beans:[Fse],apiFunctions:{isColumnHovered:Ese}},Mse=class extends ae{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var o;const s=((o=this.wrapSvc)==null?void 0:o.wrap(t))??t,i=!ab.has(e),n=i?this.asyncListeners:this.syncListeners;n.has(e)||n.set(e,new Set),n.get(e).add(s),this.eventSvc.addEventListener(e,s,i)}removeEventListener(e,t){var o,r;const s=((o=this.wrapSvc)==null?void 0:o.unwrap(t))??t,i=this.asyncListeners.get(e),n=!!(i!=null&&i.delete(s));n||(r=this.syncListeners.get(e))==null||r.delete(s),this.eventSvc.removeEventListener(e,s,n)}addGlobalListener(e){var o;const t=((o=this.wrapSvc)==null?void 0:o.wrapGlobal(e))??e,s=(r,l)=>{ab.has(r)&&t(r,l)},i=(r,l)=>{ab.has(r)||t(r,l)};this.globalListenerPairs.set(e,{syncListener:s,asyncListener:i});const n=this.eventSvc;n.addGlobalListener(s,!1),n.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:s,globalListenerPairs:i}=this,n=(s==null?void 0:s.unwrapGlobal(e))??e;if(i.has(n)){const{syncListener:r,asyncListener:l}=i.get(n);t.removeGlobalListener(r,!1),t.removeGlobalListener(l,!0),i.delete(e)}else this.syncGlobalListeners.delete(n),t.removeGlobalListener(n,!1)}destroyEventListeners(e,t){e.forEach((s,i)=>{s.forEach(n=>this.eventSvc.removeEventListener(i,n,t)),s.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(s=>this.eventSvc.removeGlobalListener(s,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:s,asyncListener:i})=>{t.removeGlobalListener(s,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function Lse(e,t,s){var i;(i=e.apiEventSvc)==null||i.addEventListener(t,s)}function kse(e,t,s){var i;(i=e.apiEventSvc)==null||i.removeEventListener(t,s)}function Ise(e,t){var s;(s=e.apiEventSvc)==null||s.addGlobalListener(t)}function Ose(e,t){var s;(s=e.apiEventSvc)==null||s.removeGlobalListener(t)}var _se={moduleName:"EventApi",version:Se,apiFunctions:{addEventListener:Lse,addGlobalListener:Ise,removeEventListener:kse,removeGlobalListener:Ose},beans:[Mse]},Nse=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Hse=class extends ae{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,s,i){e&&t.destroyBean(e);const n=nR(this.gos),{column:o,eGui:r}=t,l=o.getColDef();!i&&n&&!l.headerComponent&&(i=rb(()=>r.querySelector(".ag-header-cell-text")));const u={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>s??o.getColDef().headerTooltip,shouldDisplayTooltip:i};let d=this.createTooltipFeature(u);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,s,i){e&&t.destroyBean(e);const n=nR(this.gos),{column:o,eGui:r}=t,l=o.getColGroupDef();!i&&n&&!(l!=null&&l.headerGroupComponent)&&(i=rb(()=>r.querySelector(".ag-header-group-text")));const u={getColumn:()=>o,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>s??(l&&l.headerTooltip),shouldDisplayTooltip:i};l&&(u.getColDef=()=>l);const d=this.createTooltipFeature(u);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,s){const{column:i,rowNode:n}=e,o=()=>{const u=i.getColDef(),d=n.data;if(u.tooltipField&&ye(d))return Bg(d,u.tooltipField,i.isTooltipFieldContainsDots());const f=u.tooltipValueGetter;return f?f(ze(this.gos,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:n,data:n.data,value:e.value,valueFormatted:e.valueFormatted})):null},r=nR(this.gos);!s&&r&&!e.isCellRenderer()&&(s=rb(()=>{const u=e.eGui;return u.children.length===0?u:u.querySelector(".ag-cell-value")}));const l={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>n,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:s};return this.createTooltipFeature(l,this.beans)}refreshRowTooltip(e,t,s,i){const n={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>s,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,r=o.context;e&&t.destroyBean(e,r);const l=this.createTooltipFeature(n,o);return t.createBean(l,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ye(t.tooltipField)||ye(t.tooltipValueGetter)||ye(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Gse={moduleName:"Tooltip",version:Se,beans:[Hse],dynamicBeans:{tooltipFeature:N9},userComponents:{agTooltipComponent:DQ},dependsOn:[ey],css:[Nse]},Bse={moduleName:"Locale",version:Se,beans:[vQ]},Vse=class extends ae{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=js(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var l,u,d,f;const{visibleCols:e,rowModel:t,rowSpanSvc:s,pinnedRowModel:i}=this.beans,n=e.autoHeightCols;let o=!1;const r=p=>{var w;const m=p.__autoHeights;let C=qh(this.beans,p).height;for(const S of n){let R=m==null?void 0:m[S.getColId()];const A=s==null?void 0:s.getCellSpan(S,p);if(A){if(A.getLastNode()!==p)continue;if(R=(w=s==null?void 0:s.getCellSpan(S,p))==null?void 0:w.getLastNodeAutoHeight(),!R)return}if(R==null){if(this.colSpanSkipCell(S,p))continue;return}C=Math.max(R,C)}C!==p.rowHeight&&(p.setRowHeight(C),o=!0)};(l=i==null?void 0:i.forEachPinnedRow)==null||l.call(i,"top",r),(u=i==null?void 0:i.forEachPinnedRow)==null||u.call(i,"bottom",r),(d=t.forEachDisplayedNode)==null||d.call(t,r),o&&((f=t.onRowHeightChanged)==null||f.call(t))}setRowAutoHeight(e,t,s){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[s.getId()];return}const i=e.__autoHeights[s.getId()];e.__autoHeights[s.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:s,colViewport:i,visibleCols:n}=this.beans;if(!s.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=n.getLeftColsForRow(t);break;case"right":o=n.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,s){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:n,column:o}=e,r=this.beans,l=f=>{if(e.editing||!e.isAlive()||!s.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:C,borderTopWidth:w}=xu(i),S=p+m+C+w,A=t.offsetHeight+S;if(f<5){const D=us(r),E=!D||!D.contains(t),F=A==0;if(E||F){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(n,A,o)},u=()=>l(0);u();const d=ia(r,t,u);return s.addDestroyFunc(()=>{d(),this.setRowAutoHeight(n,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},zse={moduleName:"RowAutoHeight",version:Se,beans:[Vse]},Wse={moduleName:"AllCommunity",version:Se,dependsOn:[Hee,$ee,ste,rZ,UJ,jJ,$J,qJ,KJ,YJ,XJ,WJ,eJ,tJ,sJ,JZ,nJ,oJ,Cte,wee,Nte,NK,qte,Kte,sse,lse,mq,gse,uee,oQ,xse,Pse,Ase,_se,lQ,hte,Gse,Bse,zse,pq,Gee,yse]},ci=ve.createContext({}),Vm=(e,t,s,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let r,l,u=!1;return o.then(d=>{if(u){t.destroyBean(d);return}r=d,l=r.getGui(),s.appendChild(l),K1(i,r)}),()=>{var d;u=!0,r&&((d=l==null?void 0:l.parentElement)==null||d.removeChild(l),t.destroyBean(r),i&&K1(i,void 0))}},K1=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}},Sn=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),En=class BH{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const n=new BH;return n.classesMap={...this.classesMap},n.classesMap[t]=s,n}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},cf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},oL,SA=(oL=ve.version)==null?void 0:oL.split(".")[0],Use=SA==="16"||SA==="17";function jse(){return SA==="19"}var lb=!1;function $se(e){return lb||setTimeout(()=>lb=!1,0),lb=!0,e()}var Bb=(e,t)=>{!Use&&e&&!lb?_L.flushSync(t):t()};function Vb(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],n=[],o=new Map,r=new Map;for(let l=0;l<t.length;l++){const u=t[l];r.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];o.set(u.instanceId,u),r.has(u.instanceId)&&i.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;o.has(d)||n.push(u)}return i.length===e.length&&n.length===0?e:i.length===0&&n.length===t.length?t:i.length===0?n:n.length===0?i:[...i,...n]}var VH=x.forwardRef((e,t)=>{var z;const{registry:s,context:i}=x.useContext(ci),n=x.useRef(null),o=x.useRef(null),r=x.useRef(null),l=x.useRef(null),u=x.useRef(null),d=x.useRef(),[f,p]=x.useState(),[m,C]=x.useState(),[w,S]=x.useState(),[R,A]=x.useState(()=>new En),[D,E]=x.useState(()=>new En("ag-hidden")),[F,L]=x.useState(()=>new En("ag-hidden")),[k,H]=x.useState(()=>new En("ag-invisible"));x.useImperativeHandle(t,()=>({refresh(){return!1}})),x.useLayoutEffect(()=>Vm(f,i,o.current),[f]);const G=x.useCallback(U=>{if(n.current=U,!U){d.current=i.destroyBean(d.current);return}const ue={setInnerRenderer:($,X)=>{p($),S(X)},setChildCount:$=>C($),addOrRemoveCssClass:($,X)=>A(J=>J.setClass($,X)),setContractedDisplayed:$=>L(X=>X.setClass("ag-hidden",!$)),setExpandedDisplayed:$=>E(X=>X.setClass("ag-hidden",!$)),setCheckboxVisible:$=>H(X=>X.setClass("ag-invisible",!$)),setCheckboxSpacing:$=>H(X=>X.setClass("ag-group-checkbox-spacing",$))},_=s.createDynamicBean("groupCellRendererCtrl",!0);_&&(d.current=i.createBean(_),d.current.init(ue,U,r.current,l.current,u.current,VH,e))},[]),W=x.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),q=x.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),K=x.useMemo(()=>`ag-group-contracted ${F.toString()}`,[F]),Z=x.useMemo(()=>`ag-group-checkbox ${k.toString()}`,[k]),Y=f&&f.componentFromFramework,re=Y?f.componentClass:void 0,ne=f==null&&w!=null,B=Ur(w,!0);return ve.createElement("span",{className:W,ref:G,...e.colDef?{}:{role:(z=d.current)==null?void 0:z.getCellAriaRole()}},ve.createElement("span",{className:q,ref:l}),ve.createElement("span",{className:K,ref:u}),ve.createElement("span",{className:Z,ref:r}),ve.createElement("span",{className:"ag-group-value",ref:o},ne&&ve.createElement(ve.Fragment,null,B),Y&&ve.createElement(re,{...f.params})),ve.createElement("span",{className:"ag-group-child-count"},m))}),Y1=VH,UE=x.createContext({setMethods:()=>{}}),qse=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:i,setMethods:n}=e,[{key:o,...r},l]=x.useState(t);return x.useEffect(()=>{s(u=>l(u))},[]),ve.createElement(UE.Provider,{value:{setMethods:n}},ve.createElement(i,{key:o,...r}))},Kse=x.memo(qse),Yse=0;function X1(){return`agPortalKey_${++Yse}`}var zH=class{constructor(e,t,s,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=X1(),this.portalKey=X1(),this.instanceCreated=this.isStatelessComponent()?Ut.resolve(!1):new Ut(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const i=s[e];if(i)return i.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ut(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var s;this.componentInstance=t,(s=this.resolveInstanceCreated)==null||s.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=hw.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return x.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function jE(e,t,s){e.forEach(i=>{const n=t[i];n&&(s[i]=n)})}var co=class extends zH{constructor(){super(...arguments),this.awaitUpdateCallback=new Ut(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Kse}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new Ut(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,jE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ut(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Xse=class extends co{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Qse=class extends co{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Zse=class extends co{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:i}=this;return e.label=t,e.icon=s,e.shake=i,e}},Jse=class extends co{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ut(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var s;const t=this.providedMethods;t?(s=t.afterGuiAttached)==null||s.call(t,e):this.awaitSetMethodsCallback.then(()=>{var i,n;return(n=(i=this.providedMethods)==null?void 0:i.afterGuiAttached)==null?void 0:n.call(i,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function WH(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||Ut.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var eie=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){jE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),WH(this.floatingFilterParams,e)}},tie=class extends co{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),WH(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},sie=class extends co{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},iie=class extends co{refresh(e){this.sourceParams=e,this.refreshProps()}},nie=class extends co{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},oie=class extends co{refresh(e){this.sourceParams=e,this.refreshProps()}},rie=class extends co{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},aie=class extends co{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function $E(){be(231)}var lie=1e3,cie=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||lie}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}},uie=({ctrl:e})=>{const t=e.isAlive(),{context:s}=x.useContext(ci),i=t?e.column.getColId():void 0,[n,o]=x.useState(),[r,l]=x.useState(),u=x.useRef(),d=x.useRef(null),f=x.useRef(null),p=x.useRef(null),m=x.useRef(),C=x.useRef();t&&!C.current&&(C.current=new Hm(()=>d.current));const w=x.useCallback(D=>{var L;if(d.current=D,u.current=D?s.createBean(new rf):s.destroyBean(u.current),!D||!e.isAlive())return;const E={setWidth:k=>{d.current&&(d.current.style.width=k)},addOrRemoveCssClass:(k,H)=>C.current.addOrRemoveCssClass(k,H),setUserStyles:k=>l(k),setAriaSort:k=>{d.current&&(k?wj(d.current,k):yj(d.current))},setUserCompDetails:k=>o(k),getUserCompInstance:()=>m.current||void 0};e.setComp(E,D,f.current,p.current,u.current);const F=e.getSelectAllGui();F&&((L=f.current)==null||L.insertAdjacentElement("afterend",F),u.current.addDestroyFunc(()=>F.remove()))},[]);x.useLayoutEffect(()=>Vm(n,s,p.current,m),[n]),x.useEffect(()=>{e.setDragSource(d.current)},[n]);const S=x.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&cf(n.componentClass)),[n]),R=n&&n.componentFromFramework,A=n&&n.componentClass;return ve.createElement("div",{ref:w,style:r,className:"ag-header-cell","col-id":i,role:"columnheader"},ve.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),ve.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&S&&ve.createElement(A,{...n.params}),R&&!S&&ve.createElement(A,{...n.params,ref:m})))},die=x.memo(uie),hie=({ctrl:e})=>{const{context:t,gos:s}=x.useContext(ci),[i,n]=x.useState(),[o,r]=x.useState(()=>new En("ag-header-cell","ag-floating-filter")),[l,u]=x.useState(()=>new En),[d,f]=x.useState(()=>new En("ag-floating-filter-button","ag-hidden")),[p,m]=x.useState("false"),[C,w]=x.useState(),[,S]=x.useState(1),R=x.useRef(),A=x.useRef(null),D=x.useRef(null),E=x.useRef(null),F=x.useRef(null),L=x.useRef(),k=x.useRef(),H=U=>{U!=null&&L.current&&L.current(U)},G=x.useCallback(U=>{if(A.current=U,R.current=U?t.createBean(new rf):t.destroyBean(R.current),!U)return;k.current=new Ut(_=>{L.current=_});const ue={addOrRemoveCssClass:(_,$)=>r(X=>X.setClass(_,$)),setUserStyles:_=>n(_),addOrRemoveBodyCssClass:(_,$)=>u(X=>X.setClass(_,$)),setButtonWrapperDisplayed:_=>{f($=>$.setClass("ag-hidden",!_)),m(_?"false":"true")},setWidth:_=>{A.current&&(A.current.style.width=_)},setCompDetails:_=>w(_),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:_=>{var $;return($=F.current)==null?void 0:$.appendChild(_)}};e.setComp(ue,U,F.current,D.current,R.current)},[]);x.useLayoutEffect(()=>Vm(C,t,D.current,H),[C]);const W=x.useMemo(()=>o.toString(),[o]),q=x.useMemo(()=>l.toString(),[l]),K=x.useMemo(()=>d.toString(),[d]),Z=x.useMemo(()=>!!(C&&C.componentFromFramework&&cf(C.componentClass)),[C]),Y=x.useMemo(()=>s.get("reactiveCustomComponents"),[]),re=x.useMemo(()=>{if(C)if(Y){const U=new eie(C.params,()=>S(ue=>ue+1));return H(U),U}else C.componentFromFramework&&$E()},[C]),ne=re==null?void 0:re.getProps(),B=C&&C.componentFromFramework,z=C&&C.componentClass;return ve.createElement("div",{ref:G,style:i,className:W,role:"gridcell"},ve.createElement("div",{ref:D,className:q,role:"presentation"},B&&!Y&&ve.createElement(z,{...C.params,ref:Z?()=>{}:H}),B&&Y&&ve.createElement(UE.Provider,{value:{setMethods:U=>re.setMethods(U)}},ve.createElement(z,{...ne}))),ve.createElement("div",{ref:E,"aria-hidden":p,className:K,role:"presentation"},ve.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},fie=x.memo(hie),gie=({ctrl:e})=>{const{context:t}=x.useContext(ci),[s,i]=x.useState(),[n,o]=x.useState(()=>new En),[r,l]=x.useState(()=>new En),[u,d]=x.useState("false"),[f,p]=x.useState(),[m,C]=x.useState(),w=x.useMemo(()=>e.column.getUniqueId(),[]),S=x.useRef(),R=x.useRef(null),A=x.useRef(null),D=x.useRef(null),E=x.useRef(),F=x.useCallback(q=>{if(R.current=q,S.current=q?t.createBean(new rf):t.destroyBean(S.current),!q)return;const K={setWidth:Z=>{R.current&&(R.current.style.width=Z)},addOrRemoveCssClass:(Z,Y)=>o(re=>re.setClass(Z,Y)),setUserStyles:Z=>i(Z),setHeaderWrapperHidden:Z=>{const Y=D.current;Y&&(Z?Y.style.setProperty("display","none"):Y.style.removeProperty("display"))},setHeaderWrapperMaxHeight:Z=>{const Y=D.current;Y&&(Z!=null?Y.style.setProperty("max-height",`${Z}px`):Y.style.removeProperty("max-height"),Y.classList.toggle("ag-header-cell-comp-wrapper-limited-height",Z!=null))},setUserCompDetails:Z=>C(Z),setResizableDisplayed:Z=>{l(Y=>Y.setClass("ag-hidden",!Z)),d(Z?"false":"true")},setAriaExpanded:Z=>p(Z),getUserCompInstance:()=>E.current||void 0};e.setComp(K,q,A.current,D.current,S.current)},[]);x.useLayoutEffect(()=>Vm(m,t,D.current),[m]),x.useEffect(()=>{R.current&&e.setDragSource(R.current)},[m]);const L=x.useMemo(()=>!!((m==null?void 0:m.componentFromFramework)&&cf(m.componentClass)),[m]),k=x.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),H=x.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),G=m&&m.componentFromFramework,W=m&&m.componentClass;return ve.createElement("div",{ref:F,style:s,className:k,"col-id":w,role:"columnheader","aria-expanded":f},ve.createElement("div",{ref:D,className:"ag-header-cell-comp-wrapper",role:"presentation"},G&&L&&ve.createElement(W,{...m.params}),G&&!L&&ve.createElement(W,{...m.params,ref:E})),ve.createElement("div",{ref:A,"aria-hidden":u,className:H}))},pie=x.memo(gie),mie=({ctrl:e})=>{const{context:t}=x.useContext(ci),{topOffset:s,rowHeight:i}=x.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),o=e.headerRowClass,[r,l]=x.useState(()=>i+"px"),[u,d]=x.useState(()=>s+"px"),f=x.useRef(null),p=x.useRef(null),[m,C]=x.useState(()=>e.getUpdatedHeaderCtrls()),w=x.useRef(),S=x.useRef(null),R=x.useCallback(E=>{if(S.current=E,w.current=E?t.createBean(new rf):t.destroyBean(w.current),!E)return;const F={setHeight:L=>l(L),setTop:L=>d(L),setHeaderCtrls:(L,k,H)=>{p.current=f.current,f.current=L;const G=Vb(p.current,L,k);G!==p.current&&Bb(H,()=>C(G))},setWidth:L=>{S.current&&(S.current.style.width=L)}};e.setComp(F,w.current,!1)},[]),A=x.useMemo(()=>({height:r,top:u}),[r,u]),D=x.useCallback(E=>{switch(e.type){case"group":return ve.createElement(pie,{ctrl:E,key:E.instanceId});case"filter":return ve.createElement(fie,{ctrl:E,key:E.instanceId});default:return ve.createElement(die,{ctrl:E,key:E.instanceId})}},[]);return ve.createElement("div",{ref:R,className:o,role:"row",style:A,"aria-rowindex":n},m.map(D))},vie=x.memo(mie),Cie=({pinned:e})=>{const[t,s]=x.useState(!0),[i,n]=x.useState([]),{context:o}=x.useContext(ci),r=x.useRef(null),l=x.useRef(null),u=x.useRef(),d=e==="left",f=e==="right",p=!d&&!f,m=x.useCallback(S=>{if(r.current=S,u.current=S?o.createBean(new r9(e)):o.destroyBean(u.current),!S)return;const R={setDisplayed:s,setCtrls:A=>n(A),setCenterWidth:A=>{l.current&&(l.current.style.width=A)},setViewportScrollLeft:A=>{r.current&&(r.current.scrollLeft=A)},setPinnedContainerWidth:A=>{r.current&&(r.current.style.width=A,r.current.style.minWidth=A,r.current.style.maxWidth=A)}};u.current.setComp(R,r.current)},[]),C=t?"":"ag-hidden",w=()=>i.map(S=>ve.createElement(vie,{ctrl:S,key:S.instanceId}));return ve.createElement(ve.Fragment,null,d&&ve.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),f&&ve.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),p&&ve.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation",tabIndex:-1},ve.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},w())))},pR=x.memo(Cie),bie=()=>{const[e,t]=x.useState(()=>new En),[s,i]=x.useState(),{context:n}=x.useContext(ci),o=x.useRef(null),r=x.useRef(),l=x.useCallback(f=>{if(o.current=f,r.current=f?n.createBean(new s9):n.destroyBean(r.current),!f)return;const p={addOrRemoveCssClass:(m,C)=>t(w=>w.setClass(m,C)),setHeightAndMinHeight:m=>i(m)};r.current.setComp(p,f,f)},[]),u=x.useMemo(()=>"ag-header "+e.toString(),[e]),d=x.useMemo(()=>({height:s,minHeight:s}),[s]);return ve.createElement("div",{ref:l,className:u,style:d,role:"presentation"},ve.createElement(pR,{pinned:"left"}),ve.createElement(pR,{pinned:null}),ve.createElement(pR,{pinned:"right"}))},wie=x.memo(bie),yie=(e,t)=>{x.useEffect(()=>{const s=t.current;if(s){const i=s.parentElement;if(i){const n=document.createComment(e);return i.insertBefore(n,s),()=>{i.removeChild(n)}}}},[e])},Zl=yie,Sie=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ut(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){jE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Rie=e=>{const t=x.useRef(e),s=x.useRef(),i=x.useRef(!1),n=x.useRef(!1),[,o]=x.useState(0);i.current&&(n.current=!0),x.useEffect(()=>(i.current||(s.current=t.current(),i.current=!0),o(r=>r+1),()=>{var r;n.current&&((r=s.current)==null||r.call(s))}),[])},xie=e=>{const[t,s]=x.useState(),i=x.useContext(ci),{context:n,popupSvc:o,localeSvc:r,gos:l,editSvc:u}=i,{editDetails:d,cellCtrl:f,eParentCell:p}=e;return Rie(()=>{var H,G;const{compDetails:m}=d,C=l.get("stopEditingWhenCellsLoseFocus"),w=n.createBean(u.createPopupEditorWrapper(m.params)),S=w.getGui();if(e.jsChildComp){const W=e.jsChildComp.getGui();W&&S.appendChild(W)}const{column:R,rowNode:A}=f,D={column:R,rowNode:A,type:"popupCellEditor",eventSource:p,ePopup:S,position:d.popupPosition,keepWithinBounds:!0},E=o==null?void 0:o.positionPopupByComponent.bind(o,D),F=d_(r),L=o==null?void 0:o.addPopup({modal:C,eChild:S,closeOnEsc:!0,closedCallback:()=>{f.onPopupEditorClosed()},anchorToElement:p,positionCallback:E,ariaLabel:F("ariaLabelCellEditor","Cell Editor")}),k=L?L.hideFunc:void 0;return s(w),(G=(H=e.jsChildComp)==null?void 0:H.afterGuiAttached)==null||G.call(H),()=>{k==null||k(),n.destroyBean(w)}}),x.useLayoutEffect(()=>()=>{f.isCellFocused()&&(t!=null&&t.getGui().contains(Yt(i)))&&p.focus({preventScroll:!0})},[t]),ve.createElement(ve.Fragment,null,t&&e.wrappedContent&&hw.createPortal(e.wrappedContent,t.getGui()))},Q1=x.memo(xie),Aie=(e,t,s,i,n,o)=>{const{context:r}=x.useContext(ci),l=x.useCallback(()=>{const u=n.current;if(!u)return;const d=u.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),r.destroyBean(u),n.current=void 0},[]);x.useEffect(()=>{const u=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&s==null;if(!(u&&d&&!f)){l();return}const m=e.compDetails;if(n.current){const w=n.current,R=w.refresh!=null&&e.force==!1?w.refresh(m.params):!1;if(R===!0||R===void 0)return;l()}m.newAgStackInstance().then(w=>{if(!w)return;const S=w.getGui();if(!S)return;(t?s:o.current).appendChild(S),n.current=w})},[e,t,i]),x.useEffect(()=>l,[])},Eie=Aie,Die=(e,t,s)=>{const{compProxy:i}=e;s(i);const n=i.getProps(),o=cf(t);return ve.createElement(UE.Provider,{value:{setMethods:r=>i.setMethods(r)}},o?ve.createElement(t,{...n}):ve.createElement(t,{...n,ref:r=>i.setRef(r)}))},Z1=(e,t,s)=>{const i=e.compProxy;return ve.createElement(ve.Fragment,null,i?Die(e,t,s):ve.createElement(t,{...e.compDetails.params,ref:s}))},Tie=(e,t,s,i,n)=>{const o=e.compDetails,r=o.componentClass,l=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,d=!o.componentFromFramework&&e.popup;return ve.createElement(ve.Fragment,null,l&&Z1(e,r,t),u&&ve.createElement(Q1,{editDetails:e,cellCtrl:i,eParentCell:s,wrappedContent:Z1(e,r,t)}),d&&n&&ve.createElement(Q1,{editDetails:e,cellCtrl:i,eParentCell:s,jsChildComp:n}))},Fie=(e,t,s,i,n,o,r)=>{const{compDetails:l,value:u}=e,d=!l,f=l&&l.componentFromFramework,p=l&&l.componentClass,m=u!=null&&u.toString?u.toString():u,C=()=>ve.createElement(ve.Fragment,null,d&&ve.createElement(ve.Fragment,null,m),f&&!o&&ve.createElement(p,{...l.params,key:t,ref:i}),f&&o&&ve.createElement(p,{...l.params,key:t}));return ve.createElement(ve.Fragment,null,n?ve.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:r},C()):C())},Pie=({cellCtrl:e,printLayout:t,editingRow:s})=>{const i=x.useContext(ci),{context:n}=i,{colIdSanitised:o,instanceId:r}=e,l=x.useRef(),[u,d]=x.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,p]=x.useState(),[m,C]=x.useState(1),[w,S]=x.useState(),[R,A]=x.useState(!1),[D,E]=x.useState(!1),[F,L]=x.useState(!1),[k,H]=x.useState(),G=x.useMemo(()=>e.isForceWrapper(),[e]),W=x.useMemo(()=>e.getCellAriaRole(),[e]),q=x.useRef(null),K=x.useRef(null),Z=x.useRef(null),Y=x.useRef(),re=x.useRef(),ne=x.useRef(),B=x.useRef([]),z=x.useRef(),[U,ue]=x.useState(0),_=x.useCallback(Me=>{z.current=Me,ue(Ne=>Ne+1)},[]),$=u!=null&&(R||F||D),X=G||$,J=x.useCallback(Me=>{if(re.current=Me,Me){const Ne=Me.isCancelBeforeStart&&Me.isCancelBeforeStart();setTimeout(()=>{Ne?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),le=x.useRef();le.current||(le.current=new Hm(()=>q.current)),Eie(u,X,z.current,U,Y,q);const ge=x.useRef();x.useLayoutEffect(()=>{var we;const Me=ge.current,Ne=u;if(ge.current=u,Me==null||Me.compDetails==null||Ne==null||Ne.compDetails==null)return;const $e=Me.compDetails,nt=Ne.compDetails;if($e.componentClass!=nt.componentClass||((we=Z.current)==null?void 0:we.refresh)==null)return;Z.current.refresh(nt.params)!=!0&&C(Fe=>Fe+1)},[u]),x.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const Ne=f.compDetails,$e=f.popup===!0,nt=Ne.newAgStackInstance();return nt.then(he=>{if(!he)return;const we=he.getGui();if(J(he),!$e){const Fe=(G?ne:q).current;Fe==null||Fe.appendChild(we),he.afterGuiAttached&&he.afterGuiAttached()}H(he)}),()=>{nt.then(he=>{var Fe;const we=he.getGui();n.destroyBean(he),J(void 0),H(void 0),(Fe=we==null?void 0:we.parentElement)==null||Fe.removeChild(we)})}},[f]);const me=x.useCallback(Me=>{if(ne.current=Me,!Me){B.current.forEach($e=>$e()),B.current=[];return}const Ne=$e=>{if($e){const nt=$e.getGui();Me.insertAdjacentElement("afterbegin",nt),B.current.push(()=>{n.destroyBean($e),Kr(nt)})}return $e};if(R){const $e=e.createSelectionCheckbox();Ne($e)}F&&Ne(e.createDndSource()),D&&Ne(e.createRowDragComp())},[e,n,F,D,R]),Ae=x.useCallback(()=>{const Me=!e.isCellSpanning()||K.current,Ne=q.current;if(l.current=Ne?n.createBean(new rf):n.destroyBean(l.current),!Ne||!Me||!e)return;const $e={addOrRemoveCssClass:(he,we)=>le.current.addOrRemoveCssClass(he,we),setUserStyles:he=>S(he),getFocusableElement:()=>q.current,setIncludeSelection:he=>A(he),setIncludeRowDrag:he=>E(he),setIncludeDndSource:he=>L(he),getCellEditor:()=>re.current||null,getCellRenderer:()=>Z.current??Y.current,getParentOfValue:()=>z.current??ne.current??q.current,setRenderDetails:(he,we,Fe)=>{d(Be=>(Be==null?void 0:Be.compDetails)!==he||(Be==null?void 0:Be.value)!==we||(Be==null?void 0:Be.force)!==Fe?{value:we,compDetails:he,force:Fe}:Be)},setEditDetails:(he,we,Fe,Be)=>{if(he){let Ze;Be?Ze=new Sie(he.params,()=>C(Xe=>Xe+1)):he.componentFromFramework&&$E(),p({compDetails:he,popup:we,popupPosition:Fe,compProxy:Ze}),we||d(void 0)}else e.hasBrowserFocus()&&$e.getFocusableElement().focus({preventScroll:!0}),p(Xe=>{Xe!=null&&Xe.compProxy&&(re.current=void 0)})}},nt=ne.current||void 0;e.setComp($e,Ne,K.current??void 0,nt,t,s,l.current)},[]),Ie=x.useCallback(Me=>{q.current=Me,Ae()},[]),it=x.useCallback(Me=>{K.current=Me,Ae()},[]),De=x.useMemo(()=>{var Ne;return!!(((Ne=u==null?void 0:u.compDetails)==null?void 0:Ne.componentFromFramework)&&cf(u.compDetails.componentClass))},[u]);x.useLayoutEffect(()=>{q.current&&(le.current.addOrRemoveCssClass("ag-cell-value",!X),le.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),le.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),le.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),e.setInlineEditingCss())});const Nt=()=>ve.createElement(ve.Fragment,null,u!=null&&Fie(u,m,r,Z,X,De,_),f!=null&&Tie(f,J,q.current,e,k)),Bt=()=>ve.createElement("div",{ref:Ie,style:w,role:W,"col-id":o},X?ve.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:me},Nt()):Nt());return e.isCellSpanning()?ve.createElement("div",{ref:it,className:"ag-spanned-cell-wrapper",role:"presentation"},Bt()):Bt()},Mie=x.memo(Pie),Lie=({rowCtrl:e,containerType:t})=>{const{context:s,gos:i}=x.useContext(ci),n=x.useRef(),o=x.useRef(e.getDomOrder()),r=e.isFullWidth(),l=e.rowNode.displayed,[u,d]=x.useState(()=>l?e.rowNode.getRowIndexString():null),[f,p]=x.useState(()=>e.rowId),[m,C]=x.useState(()=>e.businessKey),[w,S]=x.useState(()=>e.rowStyles),R=x.useRef(null),A=x.useRef(null),[D,E]=x.useState(()=>null),[F,L]=x.useState(),[k,H]=x.useState(()=>l?e.getInitialRowTop(t):void 0),[G,W]=x.useState(()=>l?e.getInitialTransform(t):void 0),q=x.useRef(null),K=x.useRef(),Z=x.useRef(!1),[Y,re]=x.useState(0);x.useEffect(()=>{var ge;if(Z.current||!F||Y>10)return;const le=(ge=q.current)==null?void 0:ge.firstChild;le?(e.setupDetailRowAutoHeight(le),Z.current=!0):re(me=>me+1)},[F,Y]);const ne=x.useRef();ne.current||(ne.current=new Hm(()=>q.current));const B=x.useCallback(le=>{if(q.current=le,n.current=le?s.createBean(new rf):s.destroyBean(n.current),!le){e.unsetComp(t);return}if(!e.isAlive())return;const ge={setTop:H,setTransform:W,addOrRemoveCssClass:(me,Ae)=>ne.current.addOrRemoveCssClass(me,Ae),setDomOrder:me=>o.current=me,setRowIndex:d,setRowId:p,setRowBusinessKey:C,setUserStyles:S,setCellCtrls:(me,Ae)=>{A.current=R.current,R.current=me;const Ie=Vb(A.current,me,o.current);Ie!==A.current&&Bb(Ae,()=>E(Ie))},showFullWidth:me=>L(me),getFullWidthCellRenderer:()=>K.current,refreshFullWidth:me=>$.current?(L(Ae=>({...Ae,params:me()})),!0):!K.current||!K.current.refresh?!1:K.current.refresh(me())};e.setComp(ge,le,t,n.current)},[]);x.useLayoutEffect(()=>Vm(F,s,q.current,K),[F]);const z=x.useMemo(()=>{const le={top:k,transform:G};return Object.assign(le,w),le},[k,G,w]),U=r&&(F==null?void 0:F.componentFromFramework),ue=!r&&D!=null,_=x.useMemo(()=>!!((F==null?void 0:F.componentFromFramework)&&cf(F.componentClass)),[F]),$=x.useRef(!1);x.useEffect(()=>{$.current=_&&!!F&&!!i.get("reactiveCustomComponents")},[_,F]);const X=()=>D==null?void 0:D.map(le=>ve.createElement(Mie,{cellCtrl:le,editingRow:e.editing,printLayout:e.printLayout,key:le.instanceId})),J=()=>{const le=F.componentClass;return ve.createElement(ve.Fragment,null,_?ve.createElement(le,{...F.params}):ve.createElement(le,{...F.params,ref:K}))};return ve.createElement("div",{ref:B,role:"row",style:z,"row-index":u,"row-id":f,"row-business-key":m},ue&&X(),U&&J())},J1=x.memo(Lie),kie=({name:e})=>{const{context:t,gos:s}=x.useContext(ci),i=x.useMemo(()=>Gm(e),[e]),n=x.useRef(null),o=x.useRef(null),r=x.useRef(null),l=x.useRef([]),u=x.useRef([]),[d,f]=x.useState(()=>[]),p=!!s.get("enableCellSpan")&&!!i.getSpannedRowCtrls,m=x.useRef([]),C=x.useRef([]),[w,S]=x.useState(()=>[]),R=x.useRef(!1),A=x.useRef(),D=x.useMemo(()=>Sn("ag-viewport",DN(e)),[e]),E=x.useMemo(()=>Sn(ob(e)),[e]),F=x.useMemo(()=>Sn("ag-spanning-container",k7(e)),[e]),L=i.type==="center"||p,k=L?n:o;Zl(" AG Row Container "+e+" ",k);const H=x.useCallback(()=>{const ne=!L||n.current!=null,B=o.current!=null,z=!p||r.current!=null;return ne&&B&&z},[]),G=x.useCallback(()=>n.current==null&&o.current==null&&r.current==null,[]),W=x.useCallback(()=>{if(G()&&(A.current=t.destroyBean(A.current)),H()){const ne=U=>{const ue=Vb(u.current,l.current,R.current);ue!==u.current&&(u.current=ue,Bb(U,()=>f(ue)))},B=U=>{const ue=Vb(C.current,m.current,R.current);ue!==C.current&&(C.current=ue,Bb(U,()=>S(ue)))},z={setHorizontalScroll:U=>{n.current&&(n.current.scrollLeft=U)},setViewportHeight:U=>{n.current&&(n.current.style.height=U)},setRowCtrls:({rowCtrls:U,useFlushSync:ue})=>{const _=!!ue&&l.current.length>0&&U.length>0;l.current=U,ne(_)},setSpannedRowCtrls:(U,ue)=>{const _=!!ue&&m.current.length>0&&U.length>0;m.current=U,B(_)},setDomOrder:U=>{R.current!=U&&(R.current=U,ne(!1))},setContainerWidth:U=>{o.current&&(o.current.style.width=U)},setOffsetTop:U=>{o.current&&(o.current.style.transform=`translateY(${U})`)}};A.current=t.createBean(new W7(e)),A.current.setComp(z,o.current,r.current??void 0,n.current)}},[H,G]),q=x.useCallback(ne=>{o.current=ne,W()},[W]),K=x.useCallback(ne=>{r.current=ne,W()},[W]),Z=x.useCallback(ne=>{n.current=ne,W()},[W]),Y=()=>ve.createElement("div",{className:E,ref:q,role:"rowgroup"},d.map(ne=>ve.createElement(J1,{rowCtrl:ne,containerType:i.type,key:ne.instanceId})));if(!L)return Y();const re=()=>p&&ve.createElement("div",{className:F,ref:K,role:"rowgroup"},w.map(ne=>ve.createElement(J1,{rowCtrl:ne,containerType:i.type,key:ne.instanceId})));return ve.createElement("div",{className:D,ref:Z,role:"presentation"},Y(),re())},Iie=x.memo(kie),Oie=()=>{const e=x.useContext(ci),{context:t,overlays:s}=e,[i,n]=x.useState(""),[o,r]=x.useState(0),[l,u]=x.useState(0),[d,f]=x.useState("0px"),[p,m]=x.useState("0px"),[C,w]=x.useState("100%"),[S,R]=x.useState("0px"),[A,D]=x.useState("0px"),[E,F]=x.useState("100%"),[L,k]=x.useState(!0),[H,G]=x.useState(!0),[W,q]=x.useState(null),[K,Z]=x.useState(""),[Y,re]=x.useState(null),[ne,B]=x.useState("ag-layout-normal"),z=x.useRef();z.current||(z.current=new Hm(()=>U.current));const U=x.useRef(null),ue=x.useRef(null),_=x.useRef(null),$=x.useRef(null),X=x.useRef(null),J=x.useRef(null),le=x.useRef(null),ge=x.useRef([]),me=x.useRef([]);Zl(" AG Grid Body ",U),Zl(" AG Pinned Top ",ue),Zl(" AG Sticky Top ",_),Zl(" AG Middle ",J),Zl(" AG Pinned Bottom ",le);const Ae=x.useCallback(Ze=>{if(U.current=Ze,!Ze){ge.current=t.destroyBeans(ge.current),me.current.forEach(Pe=>Pe()),me.current=[];return}if(!t)return;const Xe=(Pe,Oe)=>{Pe.appendChild(Oe),me.current.push(()=>Pe.removeChild(Oe))},ot=Pe=>{const Oe=t.createBean(new Pe);return ge.current.push(Oe),Oe},ce=(Pe,Oe,Et)=>{Xe(Pe,document.createComment(Et)),Xe(Pe,ot(Oe).getGui())};ce(Ze,Y7," AG Fake Horizontal Scroll ");const Ee=s==null?void 0:s.getOverlayWrapperCompClass();Ee&&ce(Ze,Ee," AG Overlay Wrapper "),X.current&&ce(X.current,Q7," AG Fake Vertical Scroll ");const qe={setRowAnimationCssOnBodyViewport:n,setColumnCount:Pe=>{U.current&&Cj(U.current,Pe)},setRowCount:Pe=>{U.current&&mj(U.current,Pe)},setTopHeight:r,setBottomHeight:u,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:w,setTopInvisible:k,setBottomInvisible:G,setColumnMovingCss:(Pe,Oe)=>z.current.addOrRemoveCssClass(Pe,Oe),updateLayoutClasses:B,setAlwaysVerticalScrollClass:q,setPinnedTopBottomOverflowY:Z,setCellSelectableCss:(Pe,Oe)=>re(Oe?Pe:null),setBodyViewportWidth:Pe=>{J.current&&(J.current.style.width=Pe)},registerBodyViewportResizeListener:Pe=>{if(J.current){const Oe=ia(e,J.current,Pe);me.current.push(()=>Oe())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:F,setGridRootRole:Pe=>Ze.setAttribute("role",Pe)},Le=t.createBean(new q7);ge.current.push(Le),Le.setComp(qe,Ze,J.current,ue.current,le.current,_.current,$.current)},[]),Ie=x.useMemo(()=>Sn("ag-root","ag-unselectable",ne),[ne]),it=x.useMemo(()=>Sn("ag-body-viewport",i,ne,W,Y),[i,ne,W,Y]),De=x.useMemo(()=>Sn("ag-body",ne),[ne]),Nt=x.useMemo(()=>Sn("ag-floating-top",L?"ag-invisible":null,Y),[Y,L]),Bt=x.useMemo(()=>Sn("ag-sticky-top",Y),[Y]),Me=x.useMemo(()=>Sn("ag-sticky-bottom",S==="0px"?"ag-invisible":null,Y),[Y,S]),Ne=x.useMemo(()=>Sn("ag-floating-bottom",H?"ag-invisible":null,Y),[Y,H]),$e=x.useMemo(()=>({height:o,minHeight:o,overflowY:K}),[o,K]),nt=x.useMemo(()=>({height:d,top:p,width:C}),[d,p,C]),he=x.useMemo(()=>({height:S,bottom:A,width:E}),[S,A,E]),we=x.useMemo(()=>({height:l,minHeight:l,overflowY:K}),[l,K]),Fe=Ze=>ve.createElement(Iie,{name:Ze,key:`${Ze}-container`}),Be=({section:Ze,children:Xe,className:ot,style:ce})=>ve.createElement("div",{ref:Ze,className:ot,role:"presentation",style:ce},Xe.map(Fe));return ve.createElement("div",{ref:Ae,className:Ie},ve.createElement(wie,null),Be({section:ue,className:Nt,style:$e,children:["topLeft","topCenter","topRight","topFullWidth"]}),ve.createElement("div",{className:De,ref:X,role:"presentation"},Be({section:J,className:it,children:["left","center","right","fullWidth"]})),Be({section:_,className:Bt,style:nt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Be({section:$,className:Me,style:he,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Be({section:le,className:Ne,style:we,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},_ie=x.memo(Oie),Nie=(e,t)=>{const{children:s,eFocusableElement:i,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:r,isEmpty:l}=e,{context:u}=x.useContext(ci),d=x.useRef(null),f=x.useRef(null),p=x.useRef(),m=A=>{const D=A==null?void 0:parseInt(A,10).toString();[d,f].forEach(E=>{var F,L;D===void 0?(F=E.current)==null||F.removeAttribute("tabindex"):(L=E.current)==null||L.setAttribute("tabindex",D)})};x.useImperativeHandle(t,()=>({forceFocusOutOfContainer(A){var D;(D=p.current)==null||D.forceFocusOutOfContainer(A)}}));const C=x.useCallback(()=>{const A=d.current,D=f.current;if(!A&&!D){p.current=u.destroyBean(p.current);return}if(A&&D){const E={setTabIndex:m};p.current=u.createBean(new NN({comp:E,eTopGuard:A,eBottomGuard:D,eFocusableElement:i,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:F=>o.focusInnerElement(F),isEmpty:l}))}},[]),w=x.useCallback(A=>{d.current=A,C()},[C]),S=x.useCallback(A=>{f.current=A,C()},[C]),R=A=>{const D=A==="top"?Ud.TAB_GUARD_TOP:Ud.TAB_GUARD_BOTTOM;return ve.createElement("div",{className:`${Ud.TAB_GUARD} ${D}`,role:"presentation",ref:A==="top"?w:S})};return ve.createElement(ve.Fragment,null,R("top"),s,R("bottom"))},Hie=x.forwardRef(Nie),Gie=x.memo(Hie),Bie=({context:e})=>{const[t,s]=x.useState(""),[i,n]=x.useState(""),[o,r]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState(!1),[p,m]=x.useState(),C=x.useRef(),w=x.useRef(null),S=x.useRef(),[R,A]=x.useState(null),D=x.useRef(()=>{}),E=x.useRef(),F=x.useRef([]),L=x.useCallback(()=>{},[]),k=x.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Zl(" AG Grid ",w);const H=x.useCallback(Y=>{if(w.current=Y,C.current=Y?e.createBean(new X9):e.destroyBean(C.current),!Y||e.isDestroyed())return;const re=C.current;D.current=re.focusInnerElement.bind(re);const ne={destroyGridUi:()=>{},setRtlClass:s,forceFocusOutOfContainer:B=>{var z,U;if(!B&&((z=E.current)!=null&&z.isDisplayed())){E.current.forceFocusOutOfContainer(B);return}(U=S.current)==null||U.forceFocusOutOfContainer(B)},updateLayoutClasses:n,getFocusableContainers:()=>{var U;const B=[],z=(U=w.current)==null?void 0:U.querySelector(".ag-root");return z&&B.push({getGui:()=>z}),F.current.forEach(ue=>{ue.isDisplayed()&&B.push(ue)}),B},setCursor:r,setUserSelect:u};re.setComp(ne,Y,Y),f(!0)},[]);x.useEffect(()=>{const Y=C.current,re=w.current;if(!p||!k||!Y||!R||!re)return;const ne=[],{watermarkSelector:B,paginationSelector:z,sideBarSelector:U,statusBarSelector:ue,gridHeaderDropZonesSelector:_}=Y.getOptionalSelectors(),$=[];if(_){const J=e.createBean(new _.component),le=J.getGui();re.insertAdjacentElement("afterbegin",le),$.push(le),ne.push(J)}if(U){const J=e.createBean(new U.component),le=J.getGui(),ge=R.querySelector(".ag-tab-guard-bottom");ge&&(ge.insertAdjacentElement("beforebegin",le),$.push(le)),ne.push(J),F.current.push(J)}const X=J=>{const le=e.createBean(new J),ge=le.getGui();return re.insertAdjacentElement("beforeend",ge),$.push(ge),ne.push(le),le};if(ue&&X(ue.component),z){const J=X(z.component);E.current=J,F.current.push(J)}return B&&X(B.component),()=>{e.destroyBeans(ne),$.forEach(J=>{var le;(le=J.parentElement)==null||le.removeChild(J)})}},[p,R,k]);const G=x.useMemo(()=>Sn("ag-root-wrapper",t,i),[t,i]),W=x.useMemo(()=>Sn("ag-root-wrapper-body","ag-focus-managed",i),[i]),q=x.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:o??""}),[l,o]),K=x.useCallback(Y=>{S.current=Y,m(Y!==null)},[]),Z=x.useCallback(()=>{var Y;return!((Y=C.current)!=null&&Y.isFocusable())},[]);return ve.createElement("div",{ref:H,className:G,style:q,role:"presentation"},ve.createElement("div",{className:W,ref:A,role:"presentation"},d&&R&&k&&ve.createElement(ci.Provider,{value:k},ve.createElement(Gie,{ref:K,eFocusableElement:R,onTabKeyDown:L,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:Z},ve.createElement(_ie,null)))))},Vie=x.memo(Bie),zie=class extends ae{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Wie={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},UH=new Set(Object.keys(Wie)),jH=e=>{var R;const t=x.useRef(),s=x.useRef(null),i=x.useRef(null),n=x.useRef([]),o=x.useRef([]),r=x.useRef(e),l=x.useRef(),u=x.useRef(),d=x.useRef(!1),[f,p]=x.useState(void 0),[,m]=x.useState(0),C=x.useCallback(A=>{if(s.current=A,!A){n.current.forEach(K=>K()),n.current.length=0;return}const D=e.modules||[];i.current||(i.current=new cie(()=>m(K=>K+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var K;(K=i.current)==null||K.destroy(),i.current=null}));const E=Jj(e.gridOptions,e,Object.keys(e).filter(K=>!UH.has(K))),F=()=>{if(d.current){const K=()=>{var Y;return(Y=l.current)!=null&&Y.shouldQueueUpdates()?void 0:o.current.shift()};let Z=K();for(;Z;)Z(),Z=K()}},L=new qie(F);l.current=L;const k=new zie,H={providedBeanInstances:{frameworkCompWrapper:new jie(i.current,E.reactiveCustomComponents??dQ("reactiveCustomComponents")??!0),renderStatus:k},modules:D,frameworkOverrides:L,setThemeOnGridDiv:!0},G=K=>{p(K),K.createBean(k),n.current.push(()=>{K.destroy()}),K.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{n.current.push(Z)}},()=>{var Y;if(K.isDestroyed())return;const Z=t.current;Z&&((Y=e.setGridApi)==null||Y.call(e,Z))})},W=K=>{K.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{n.current.push(Z)}},()=>{o.current.forEach(Z=>Z()),o.current.length=0,d.current=!0})},q=new fQ;E.gridId??(E.gridId=u.current),t.current=q.create(A,E,G,W,H),n.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),w=x.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),S=x.useCallback(A=>{var D;d.current&&!((D=l.current)!=null&&D.shouldQueueUpdates())?A():o.current.push(A)},[]);return x.useEffect(()=>{const A=Uie(r.current,e);r.current=e,S(()=>{t.current&&e$(A,t.current)})},[e]),ve.createElement("div",{style:w,className:e.className,ref:C},f&&!f.isDestroyed()?ve.createElement(Vie,{context:f}):null,((R=i.current)==null?void 0:R.getPortals())??null)};function Uie(e,t){const s={};return Object.keys(t).forEach(i=>{if(UH.has(i))return;const n=t[i];e[i]!==n&&(s[i]=n)}),s}var jie=class extends AQ{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(o=>{switch(o){case"filter":return Jse;case"floatingFilterComponent":return tie;case"dateComponent":return Qse;case"dragAndDropImageComponent":return Zse;case"loadingOverlayComponent":return iie;case"noRowsOverlayComponent":return oie;case"statusPanel":return rie;case"toolPanel":return aie;case"menuItem":return nie;case"cellRenderer":return Xse;case"innerHeaderComponent":return sie}})(t.name);if(n)return new n(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":$E();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new zH(e,this.parent,t,s)}},$ie=x.forwardRef((e,t)=>{const s=x.useContext(ci),{registry:i,context:n,gos:o,rowModel:r}=s,[l,u]=x.useState(()=>new En),[d,f]=x.useState(()=>new En),[p,m]=x.useState(),[C,w]=x.useState(),S=x.useRef(),R=x.useRef(null),A=x.useRef(),D=x.useMemo(()=>A8(e.api.getGridId(),(p==null?void 0:p.rowModelType)??"clientSide"),[e]),E=x.useMemo(()=>l.toString()+" ag-details-row",[l]),F=x.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&x.useImperativeHandle(t,()=>({refresh(){var H;return((H=S.current)==null?void 0:H.refresh())??!1}})),e.template&&be(230);const L=x.useCallback(H=>{var q;if(R.current=H,!H){S.current=n.destroyBean(S.current),(q=A.current)==null||q.call(A);return}const G={addOrRemoveCssClass:(K,Z)=>u(Y=>Y.setClass(K,Z)),addOrRemoveDetailGridCssClass:(K,Z)=>f(Y=>Y.setClass(K,Z)),setDetailGrid:K=>m(K),setRowData:K=>w(K),getGui:()=>R.current},W=i.createDynamicBean("detailCellRendererCtrl",!0);if(W&&(n.createBean(W),W.init(G,e),S.current=W,o.get("detailRowAutoHeight"))){const K=()=>{if(R.current==null)return;const Z=R.current.clientHeight;Z!=null&&Z>0&&setTimeout(()=>{e.node.setRowHeight(Z),(ni(o)||Au(o))&&r.onRowHeightChanged()},0)};A.current=ia(s,H,K),K()}},[]),k=x.useCallback(H=>{var G;(G=S.current)==null||G.registerDetailWithMaster(H)},[]);return ve.createElement("div",{className:E,ref:L},p&&ve.createElement(jH,{className:F,...p,modules:D,rowData:C,setGridApi:k}))}),qie=class extends HN{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Y1,agGroupRowRenderer:Y1,agDetailCellRenderer:$ie},this.wrapIncoming=(t,s)=>s==="ensureVisible"?$se(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return jse()}},Kie=class extends x.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ve.createElement(jH,{...this.props,setGridApi:this.setGridApi})}};D8.registerModules([Wse]);const Yie=["State","County","Precinct","republican_registrations","democrat_registrations","registered_voters","republican_votes_total","democrat_votes_total","total_votes_overall","total_votes_election_day","total_votes_early","total_votes_absentee","democrat_votes_election_day","democrat_votes_early","democrat_votes_absentee","republican_votes_election_day","republican_votes_early","republican_votes_absentee","overall_turnout"],hr=Yie.map(e=>({field:e,colId:e,cellRenderer:Xie,cellEditor:Jie,autoHeight:!0,wrapText:!0}));hr.unshift({colId:"apply-template",cellRenderer:Qie,pinned:"left"});const eL=1;function cb(e,t,s=!1){return s&&console.log(e,t),e?typeof e=="string"?e:Array.isArray(e)?e.map(i=>cb(i,t)).join(" "):e!=null&&e.manual?e.str:typeof e.str=="string"?t?`{{${e.index}}}`:e.str:typeof e.symbol=="string"?e.symbol:e:""}function Xie({editingMode:e,activeCell:t,node:s,value:i,colDef:n}){var l;t.rowIndex===s.rowIndex&&(t.colId,n.colId);const o=e===qx;let r="";try{r=((l=i==null?void 0:i.some)==null?void 0:l.call(i,$w))&&a_(i).join(" ")}catch(u){console.warn("attempting to render uncalculable value",u)}return i!=null&&i.every(u=>u==null?void 0:u.manual)?N.jsx(Jc,{children:cb(i,!1)}):N.jsxs(kw,{gap:0,children:[N.jsx(Jc,{children:cb(i,o)}),o&&N.jsxs(Jc,{children:[cb(i,!1),r&&` = ${r}`]})]})}function Qie({setTemplateRow:e,node:t,data:s,api:i}){const n=i==null?void 0:i.getColumnDefs().map(o=>o.field).filter(o=>o&&s[o]).some(o=>o);return N.jsx(Us,{onClick:()=>e(t.rowIndex),disabled:!n,children:"Set as template"})}const Zie=e=>({str:e,manual:!0});function Jie({value:e,onValueChange:t}){const s=i=>{t([Zie(i.target.value)])};return N.jsx(Iw,{onChange:s})}const ene=x.forwardRef(({data:e,editingMode:t,processCellCallback:s,children:i,setDataValue:n,onRowSelected:o},r)=>{const{activeCell:l,setActiveCell:u,setTemplateRow:d}=x.useContext(c_),f=x.useMemo(()=>e,[]);return x.useEffect(()=>{var p,m;(m=(p=r==null?void 0:r.current)==null?void 0:p.api)==null||m.setGridOption("rowData",e)},[e]),x.useEffect(()=>{const p=m=>{switch(m.key){case"a":case"ArrowLeft":u(C=>{const w=hr.findIndex(S=>S.colId===C.colId);return w===-1||w===eL?C:{...C,colId:hr[w-1].colId}});break;case"d":case"ArrowRight":u(C=>{const w=hr.findIndex(S=>S.colId===C.colId);return w===-1||w===hr.length-1?C:{...C,colId:hr[w+1].colId}});break;case"w":case"ArrowUp":u(C=>C.rowIndex===0?C:{...C,rowIndex:C.rowIndex-1});break;case"s":case"ArrowDown":u(C=>C.rowIndex===e.length-1?C:{...C,rowIndex:C.rowIndex+1})}m.stopImmediatePropagation()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[u,e]),x.useEffect(()=>{var p,m;(m=(p=r==null?void 0:r.current)==null?void 0:p.api)==null||m.setFocusedCell(l.rowIndex,l.colId)},[r,l]),N.jsx(N.Fragment,{children:N.jsx(Kie,{ref:r,animateRows:!1,onRowSelected:p=>{var m,C;return console.log(p),(C=(m=p.event)==null?void 0:m.target)!=null&&C.checked?o(p.rowIndex):o(-1)},rowSelection:{mode:"singleRow"},defaultColDef:{cellRendererParams:{editingMode:t,activeCell:l,setTemplateRow:d},cellEditorParams:{editingMode:t,activeCell:l,setTemplateRow:d},cellStyle:{textWrap:"wrap"},editable:t===JC},defaultCsvExportParams:{columnKeys:hr.map(p=>p.colId).filter(p=>p!=="apply-template"),processCellCallback:s},onCellEditingStopped:({newValue:p,node:m,column:C})=>{n({rowIndex:m.rowIndex,colId:C.colId,newValue:p})},onRowDataUpdated:p=>console.log(p),rowData:f,columnDefs:hr,onGridReady:p=>{u({rowIndex:0,colId:hr[eL].colId})}})})}),tne=x.forwardRef((e,t)=>N.jsx("div",{ref:t,children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[N.jsx("polyline",{points:"5 9 2 12 5 15"}),N.jsx("polyline",{points:"9 5 12 2 15 5"}),N.jsx("polyline",{points:"15 19 12 22 9 19"}),N.jsx("polyline",{points:"19 9 22 12 19 15"}),N.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),N.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"})]})})),sne=({children:e})=>{const[t,s]=yV(),[i,n]=x.useState({x:0,y:0}),{ref:o}=CV(n),r=x.useRef(null),l=AV();x.useEffect(()=>{const p=o.current;if(!p)return;let m,C;const w=R=>{var A,D;console.log("onMouseDown",R),console.log((D=(A=r.current)==null?void 0:A.getBoundingClientRect)==null?void 0:D.call(A)),m=R.screenX,C=R.screenY,R.stopPropagation()},S=R=>{console.log("onMouseDown",R,m,C)};return p.addEventListener("mouseup",S),p.addEventListener("mousedown",w),()=>{p.removeEventListener("mouseup",S),p.removeEventListener("mousedown",w)}},[o.current]);const[u,{toggle:d}]=RL(!1),f=u?{width:l.width,height:l.height}:{width:720,height:500};return N.jsx(N.Fragment,{children:N.jsxs(UA,{position:u?{bottom:0,right:0}:{bottom:20,right:20},ref:r,style:{boxShadow:"-2px 2px 5px gray",padding:"5px",backgroundColor:"white",...f},children:[N.jsx(fl,{w:"100%",align:"flex-end",justify:"flex-end",p:"xs",title:u?"Exit Fullscreen":"Full Screen",children:N.jsx(Us,{onClick:d,style:{},size:"xs",variant:"outline",children:u?N.jsx(BA,{}):N.jsx(tne,{})})}),N.jsx("div",{ref:t,style:{width:f.width-10,height:f.height-10-220},children:e})]})})},ine=({api:e})=>{const[t,{open:s,close:i}]=RL(),[n,o]=x.useState("export.csv"),r=()=>{console.log(n);const l=n.trim().endsWith(".csv")?n:`${n}.csv`;e.exportDataAsCsv({fileName:l}),i()};return N.jsxs(N.Fragment,{children:[N.jsx(ro,{opened:t,onClose:i,title:"Export",children:N.jsxs(kw,{gap:"sm",children:[N.jsx(Iw,{label:"Enter a filename for your CSV export",defaultValue:n,onChange:l=>o(l.target.value),error:n===""&&"Filename must not be empty"}),N.jsxs(fl,{children:[N.jsx(Us,{onClick:r,children:"Export"}),N.jsx(Us,{onClick:i,variant:"outline",children:"Cancel"})]})]})}),N.jsx(Us,{onClick:s,children:"Export as CSV"})]})};fE.workerSrc=new URL("/PDFtoCSVWizard/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const nne=[{}],one={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"};function rne(){var he,we,Fe,Be,Ze,Xe,ot;const[e,t]=x.useState(null),[s,i]=x.useState(0),[n,o]=x.useState(0),[r,l]=x.useState({height:0,width:0}),[u,d]=x.useState(!0),[f,p]=x.useState(nne),[m,C]=x.useState([]),w=x.useRef(null),[S,R]=x.useState(l_),[A,D]=x.useState(-1),[E,F]=x.useState(-1),L=x.useRef(null),[k,H]=x.useState(!1),[G,W]=x.useState(qx),[q,K]=x.useState(1.25),[Z,Y]=x.useState({}),[re,ne]=x.useState(-1),[B,z]=x.useState(),U=f[S.rowIndex][S.colId]??[],ue=ce=>{ce&&(t(ce),i(0),o(0))},_=async ce=>{i(ce.numPages),o(1),d(!1)},$=async ce=>{l({height:ce.height,width:ce.width});const qe=(await ce.getTextContent()).items.filter(Le=>Le.str.trim()).sort((Le,Pe)=>Le.transform[5]===Pe.transform[5]?Le.transform[4]-Pe.transform[4]:Pe.transform[5]-Le.transform[5]).map((Le,Pe)=>({...Le,index:Pe}));C(qe)},X=({rowIndex:ce,colId:Ee,newValue:qe})=>{var Pe;if((Pe=L==null?void 0:L.current)!=null&&Pe.api){if(k){Y(Oe=>({...Oe,[Ee]:qe})),p(Oe=>Oe.map(Et=>(Et[Ee]=qe,Et)));return}p(Oe=>{const Et=Oe[ce],Ks=[...Oe];return Ks.splice(ce,1,{...Et,[Ee]:qe}),Ks})}},J=ce=>{if(!U)return;const Ee=[...U,ce];p(qe=>{const Le=[...qe],Oe={...qe[S.rowIndex],[S.colId]:Ee};return Le.splice(S.rowIndex,1,Oe),Le})},le=({value:ce})=>typeof ce=="string"?ce:a_(ce).join(" "),ge=async ce=>{var Le;if(!((Le=L==null?void 0:L.current)==null?void 0:Le.api)||!ce)return;const qe=[...U,ce];X({...S,newValue:qe})},me=ce=>{const Ee=aj({template:f[A],templateRowIndex:A,rowIndex:ce,data:f,currentTextObjects:m,templateOffset:E});if(!Ee)return;const{data:qe,offsetUsed:Le}=Ee;F(Le),p(qe)},Ae=()=>me(S.rowIndex),Ie=async ce=>{const Ee=it(ce,!0);ge(Ee)},it=(ce,Ee=!1)=>{var Ks;const qe=((Ks=w==null?void 0:w.current)==null?void 0:Ks.pages.current[n-1].getBoundingClientRect())??{},Le={x:ce.clientX-qe.left,y:ce.clientY-qe.top};let Pe=m;const Oe=document.elementsFromPoint(ce.clientX,ce.clientY)[0];if(Oe.tagName==="SPAN")Pe=Pe.filter(qo=>qo.str===Oe.textContent);else if(Ee)return;return Pe.sort((qo,In)=>{const On=Math.hypot(r.height-qo.transform[5]*q-Le.y,qo.transform[4]*q-Le.x),_n=Math.hypot(r.height-In.transform[5]*q-Le.y,In.transform[4]*q-Le.x);return On-_n})[0]},De=()=>p(ce=>[...ce,Z]),Nt=U.length&&!$w(U[U.length-1]),Bt=()=>{X({...S,newValue:[]})},Me=()=>{z(f[re])},Ne=()=>{const ce=B;if(console.log(ce),!ce)return;const Ee={};Object.entries(ce).forEach(([qe,Le])=>{var Pe;Ee[qe]=(Pe=Le==null?void 0:Le.map)==null?void 0:Pe.call(Le,Oe=>Oe.manual?{...Oe}:{...Oe,str:m.find(Et=>Et.index===Oe.index).str})}),console.log(Ee),p(qe=>{const Le=[...qe];return Le.splice(S.rowIndex,1,Ee),Le}),D(re)},$e=()=>{De(),R(ce=>({...ce,rowIndex:ce.rowIndex+1})),me(S.rowIndex+1)},nt=(ce,Ee)=>{var Ks,qo;const qe=f[ce],Pe=(qo=(Ks=Object.values(qe)[0])==null?void 0:Ks[0])==null?void 0:qo.index,Oe=Ee-Pe;console.log(Pe,Oe);const Et={};for(const[In,On]of Object.entries(qe)){const _n=On.map(oa=>({...oa,index:oa.index+Oe,str:m[oa.index+Oe].str}));Et[In]=_n}p(In=>{const On=[...In];return On.splice(A,1,Et),On})};return console.log((we=(he=Object.values(f[A]??{})[0])==null?void 0:he[0])==null?void 0:we.index),N.jsxs(N.Fragment,{children:[N.jsx(JA,{children:"PDF Parsing Utility"}),N.jsxs(fl,{children:[N.jsx(Ek,{onChange:ue,accept:".pdf",children:ce=>N.jsx(Us,{...ce,children:"Upload PDF"})}),N.jsx(db,{label:"Zoom",onChange:ce=>K(Number(ce)),step:.05,value:q,min:.25,max:4}),e&&N.jsx(ao,{value:n,total:s,siblings:5,onChange:o})]}),e&&N.jsxs(Jc,{children:["Page ",n," of ",s]}),e&&N.jsxs(Jc,{children:["Current file: ",e.name]}),N.jsx("div",{style:{height:e&&!u?r.height:void 0,width:e&&!u?r.width:void 0},children:N.jsx(K6,{ref:w,onClick:Ie,file:e,options:one,onLoadSuccess:_,children:N.jsx(oj,{scale:q,pageNumber:n,renderAnnotationLayer:!1,onLoadSuccess:$},`page_${n}`)})}),N.jsx(c_.Provider,{value:{activeCell:S,setActiveCell:R,templateRow:A,setTemplateRow:D},children:N.jsxs(sne,{children:[N.jsxs(fl,{wrap:"nowrap",children:[G===JC&&N.jsx(sf,{checked:k,onChange:ce=>H(ce.target.checked),label:"Update all rows?"}),N.jsx(ZA,{m:"sm",value:G,data:[JC,qx],onChange:W}),Object.values(u_).map(ce=>N.jsx(Us,{onClick:()=>J(ce),disabled:!Nt,children:ce.symbol}))]}),N.jsxs(fl,{gap:"sm",p:"sm",children:[N.jsx(Us,{onClick:De,children:"Add Row"}),N.jsx(Us,{onClick:Bt,children:"Clear Cell"}),N.jsx(Us,{disabled:E===-1,onClick:$e,children:"Add new templated row"}),N.jsx(Us,{onClick:()=>Ae(),disabled:A===S.rowIndex||A==-1,children:"Apply Template"}),N.jsx(ine,{api:(Fe=L.current)==null?void 0:Fe.api}),N.jsx(Us,{onClick:()=>Me(),disabled:!f[re],children:"Copy Template"}),N.jsx(Us,{onClick:()=>Ne(),disabled:!(f[re]&&B),children:"Paste Template"}),N.jsx(db,{value:(Ze=(Be=Object.values(f[A]??{})[0])==null?void 0:Be[0])==null?void 0:Ze.index,disabled:((ot=(Xe=Object.values(f[A]??{})[0])==null?void 0:Xe[0])==null?void 0:ot.index)===void 0||G===JC,description:"Template offset control",min:0,max:m.length-1,onChange:ce=>nt(A,ce)})]}),N.jsx(ene,{ref:L,data:f,editingMode:G,setDataValue:X,onRowSelected:ne,processCellCallback:le})]})})]})}p2.createRoot(document.getElementById("root")).render(N.jsx(x.StrictMode,{children:N.jsx(PL,{theme:uw,children:N.jsx(rne,{})})}));
