var jV=Object.defineProperty;var KM=e=>{throw TypeError(e)};var $V=(e,t,s)=>t in e?jV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Je=(e,t,s)=>$V(e,typeof t!="symbol"?t+"":t,s),J0=(e,t,s)=>t.has(e)||KM("Cannot "+s);var v=(e,t,s)=>(J0(e,t,"read from private field"),s?s.call(e):t.get(e)),O=(e,t,s)=>t.has(e)?KM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),M=(e,t,s,n)=>(J0(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),k=(e,t,s)=>(J0(e,t,"access private method"),s);var gn=(e,t,s,n)=>({set _(i){M(e,t,i,s)},get _(){return v(e,t,n)}});function qV(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function vE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eR={exports:{}},Tg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM;function KV(){if(YM)return Tg;YM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,i,o){var r=null;if(o!==void 0&&(r=""+o),i.key!==void 0&&(r=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:r,ref:i!==void 0?i:null,props:o}}return Tg.Fragment=t,Tg.jsx=s,Tg.jsxs=s,Tg}var XM;function YV(){return XM||(XM=1,eR.exports=KV()),eR.exports}var _=YV(),tR={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QM;function XV(){if(QM)return ot;QM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),r=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function R(H,Y,Q){this.props=H,this.context=Y,this.refs=y,this.updater=Q||C}R.prototype.isReactComponent={},R.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=R.prototype;function D(H,Y,Q){this.props=H,this.context=Y,this.refs=y,this.updater=Q||C}var E=D.prototype=new A;E.constructor=D,w(E,R.prototype),E.isPureReactComponent=!0;var T=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function N(H,Y,Q,J,le,ge){return Q=ge.ref,{$$typeof:e,type:H,key:Y,ref:Q!==void 0?Q:null,props:ge}}function B(H,Y){return N(H.type,Y,void 0,void 0,void 0,H.props)}function W(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function z(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Q){return Y[Q]})}var q=/\/+/g;function K(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?z(""+H.key):Y.toString(36)}function $(){}function te(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,Y,Q,J,le){var ge=typeof H;(ge==="undefined"||ge==="boolean")&&(H=null);var pe=!1;if(H===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(H.$$typeof){case e:case t:pe=!0;break;case f:return pe=H._init,ee(pe(H._payload),Y,Q,J,le)}}if(pe)return le=le(H),pe=J===""?"."+K(H,0):J,T(le)?(Q="",pe!=null&&(Q=pe.replace(q,"$&/")+"/"),ee(le,Y,Q,"",function(Ke){return Ke})):le!=null&&(W(le)&&(le=B(le,Q+(le.key==null||H&&H.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+pe)),Y.push(le)),1;pe=0;var Te=J===""?".":J+":";if(T(H))for(var ke=0;ke<H.length;ke++)J=H[ke],ge=Te+K(J,ke),pe+=ee(J,Y,Q,ge,le);else if(ke=m(H),typeof ke=="function")for(H=ke.call(H),ke=0;!(J=H.next()).done;)J=J.value,ge=Te+K(J,ke++),pe+=ee(J,Y,Q,ge,le);else if(ge==="object"){if(typeof H.then=="function")return ee(te(H),Y,Q,J,le);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(H,Y,Q){if(H==null)return H;var J=[],le=0;return ee(H,J,"","",function(ge){return Y.call(Q,ge,le++)}),J}function V(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(Q){(H._status===0||H._status===-1)&&(H._status=1,H._result=Q)},function(Q){(H._status===0||H._status===-1)&&(H._status=2,H._result=Q)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var U=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function re(){}return ot.Children={map:G,forEach:function(H,Y,Q){G(H,function(){Y.apply(this,arguments)},Q)},count:function(H){var Y=0;return G(H,function(){Y++}),Y},toArray:function(H){return G(H,function(Y){return Y})||[]},only:function(H){if(!W(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ot.Component=R,ot.Fragment=s,ot.Profiler=i,ot.PureComponent=D,ot.StrictMode=n,ot.Suspense=u,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ot.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},ot.cache=function(H){return function(){return H.apply(null,arguments)}},ot.cloneElement=function(H,Y,Q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var J=w({},H.props),le=H.key,ge=void 0;if(Y!=null)for(pe in Y.ref!==void 0&&(ge=void 0),Y.key!==void 0&&(le=""+Y.key),Y)!L.call(Y,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Y.ref===void 0||(J[pe]=Y[pe]);var pe=arguments.length-2;if(pe===1)J.children=Q;else if(1<pe){for(var Te=Array(pe),ke=0;ke<pe;ke++)Te[ke]=arguments[ke+2];J.children=Te}return N(H.type,le,void 0,void 0,ge,J)},ot.createContext=function(H){return H={$$typeof:r,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},ot.createElement=function(H,Y,Q){var J,le={},ge=null;if(Y!=null)for(J in Y.key!==void 0&&(ge=""+Y.key),Y)L.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=Y[J]);var pe=arguments.length-2;if(pe===1)le.children=Q;else if(1<pe){for(var Te=Array(pe),ke=0;ke<pe;ke++)Te[ke]=arguments[ke+2];le.children=Te}if(H&&H.defaultProps)for(J in pe=H.defaultProps,pe)le[J]===void 0&&(le[J]=pe[J]);return N(H,ge,void 0,void 0,null,le)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(H){return{$$typeof:l,render:H}},ot.isValidElement=W,ot.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:V}},ot.memo=function(H,Y){return{$$typeof:d,type:H,compare:Y===void 0?null:Y}},ot.startTransition=function(H){var Y=P.T,Q={};P.T=Q;try{var J=H(),le=P.S;le!==null&&le(Q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(re,U)}catch(ge){U(ge)}finally{P.T=Y}},ot.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ot.use=function(H){return P.H.use(H)},ot.useActionState=function(H,Y,Q){return P.H.useActionState(H,Y,Q)},ot.useCallback=function(H,Y){return P.H.useCallback(H,Y)},ot.useContext=function(H){return P.H.useContext(H)},ot.useDebugValue=function(){},ot.useDeferredValue=function(H,Y){return P.H.useDeferredValue(H,Y)},ot.useEffect=function(H,Y,Q){var J=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(H,Y)},ot.useId=function(){return P.H.useId()},ot.useImperativeHandle=function(H,Y,Q){return P.H.useImperativeHandle(H,Y,Q)},ot.useInsertionEffect=function(H,Y){return P.H.useInsertionEffect(H,Y)},ot.useLayoutEffect=function(H,Y){return P.H.useLayoutEffect(H,Y)},ot.useMemo=function(H,Y){return P.H.useMemo(H,Y)},ot.useOptimistic=function(H,Y){return P.H.useOptimistic(H,Y)},ot.useReducer=function(H,Y,Q){return P.H.useReducer(H,Y,Q)},ot.useRef=function(H){return P.H.useRef(H)},ot.useState=function(H){return P.H.useState(H)},ot.useSyncExternalStore=function(H,Y,Q){return P.H.useSyncExternalStore(H,Y,Q)},ot.useTransition=function(){return P.H.useTransition()},ot.version="19.1.0",ot}var ZM;function CE(){return ZM||(ZM=1,tR.exports=XV()),tR.exports}var x=CE();const ve=vE(x),QV=qV({__proto__:null,default:ve},[x]);var sR={exports:{}},Fg={},nR={exports:{}},iR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JM;function ZV(){return JM||(JM=1,function(e){function t(G,V){var U=G.length;G.push(V);e:for(;0<U;){var re=U-1>>>1,H=G[re];if(0<i(H,V))G[re]=V,G[U]=H,U=re;else break e}}function s(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var V=G[0],U=G.pop();if(U!==V){G[0]=U;e:for(var re=0,H=G.length,Y=H>>>1;re<Y;){var Q=2*(re+1)-1,J=G[Q],le=Q+1,ge=G[le];if(0>i(J,U))le<H&&0>i(ge,J)?(G[re]=ge,G[le]=U,re=le):(G[re]=J,G[Q]=U,re=Q);else if(le<H&&0>i(ge,U))G[re]=ge,G[le]=U,re=le;else break e}}return V}function i(G,V){var U=G.sortIndex-V.sortIndex;return U!==0?U:G.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var u=[],d=[],f=1,g=null,m=3,C=!1,w=!1,y=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(G){for(var V=s(d);V!==null;){if(V.callback===null)n(d);else if(V.startTime<=G)n(d),V.sortIndex=V.expirationTime,t(u,V);else break;V=s(d)}}function P(G){if(y=!1,T(G),!w)if(s(u)!==null)w=!0,L||(L=!0,K());else{var V=s(d);V!==null&&ee(P,V.startTime-G)}}var L=!1,N=-1,B=5,W=-1;function z(){return R?!0:!(e.unstable_now()-W<B)}function q(){if(R=!1,L){var G=e.unstable_now();W=G;var V=!0;try{e:{w=!1,y&&(y=!1,D(N),N=-1),C=!0;var U=m;try{t:{for(T(G),g=s(u);g!==null&&!(g.expirationTime>G&&z());){var re=g.callback;if(typeof re=="function"){g.callback=null,m=g.priorityLevel;var H=re(g.expirationTime<=G);if(G=e.unstable_now(),typeof H=="function"){g.callback=H,T(G),V=!0;break t}g===s(u)&&n(u),T(G)}else n(u);g=s(u)}if(g!==null)V=!0;else{var Y=s(d);Y!==null&&ee(P,Y.startTime-G),V=!1}}break e}finally{g=null,m=U,C=!1}V=void 0}}finally{V?K():L=!1}}}var K;if(typeof E=="function")K=function(){E(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,te=$.port2;$.port1.onmessage=q,K=function(){te.postMessage(null)}}else K=function(){A(q,0)};function ee(G,V){N=A(function(){G(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var U=m;m=V;try{return G()}finally{m=U}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var U=m;m=G;try{return V()}finally{m=U}},e.unstable_scheduleCallback=function(G,V,U){var re=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,G={id:f++,callback:V,priorityLevel:G,startTime:U,expirationTime:H,sortIndex:-1},U>re?(G.sortIndex=U,t(d,G),s(u)===null&&G===s(d)&&(y?(D(N),N=-1):y=!0,ee(P,U-re))):(G.sortIndex=H,t(u,G),w||C||(w=!0,L||(L=!0,K()))),G},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(G){var V=m;return function(){var U=m;m=V;try{return G.apply(this,arguments)}finally{m=U}}}}(iR)),iR}var e1;function JV(){return e1||(e1=1,nR.exports=ZV()),nR.exports}var oR={exports:{}},Qs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function ez(){if(t1)return Qs;t1=1;var e=CE();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qs.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(u,d,null,f)},Qs.flushSync=function(u){var d=r.T,f=n.p;try{if(r.T=null,n.p=2,u)return u()}finally{r.T=d,n.p=f,n.d.f()}},Qs.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Qs.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Qs.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:C}):f==="script"&&n.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qs.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Qs.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin);n.d.L(u,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qs.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Qs.requestFormReset=function(u){n.d.r(u)},Qs.unstable_batchedUpdates=function(u,d){return u(d)},Qs.useFormState=function(u,d,f){return r.H.useFormState(u,d,f)},Qs.useFormStatus=function(){return r.H.useHostTransitionStatus()},Qs.version="19.1.0",Qs}var s1;function Mk(){if(s1)return oR.exports;s1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oR.exports=ez(),oR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function tz(){if(n1)return Fg;n1=1;var e=JV(),t=CE(),s=Mk();function n(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function r(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(o(a)!==a)throw Error(n(188))}function u(a){var c=a.alternate;if(!c){if(c=o(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,p=c;;){var b=h.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){h=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===h)return l(b),a;if(S===p)return l(b),c;S=S.sibling}throw Error(n(188))}if(h.return!==p.return)h=b,p=S;else{for(var F=!1,I=b.child;I;){if(I===h){F=!0,h=b,p=S;break}if(I===p){F=!0,p=b,h=S;break}I=I.sibling}if(!F){for(I=S.child;I;){if(I===h){F=!0,h=S,p=b;break}if(I===p){F=!0,p=S,h=b;break}I=I.sibling}if(!F)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function d(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=d(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case R:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case W:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case E:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case T:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return c=a.displayName||null,c!==null?c:te(a.type)||"Memo";case B:c=a._payload,a=a._init;try{return te(a(c))}catch{}}return null}var ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},re=[],H=-1;function Y(a){return{current:a}}function Q(a){0>H||(a.current=re[H],re[H]=null,H--)}function J(a,c){H++,re[H]=a.current,a.current=c}var le=Y(null),ge=Y(null),pe=Y(null),Te=Y(null);function ke(a,c){switch(J(pe,c),J(ge,a),J(le,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?SM(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=SM(c),a=RM(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(le),J(le,a)}function Ke(){Q(le),Q(ge),Q(pe)}function Pe(a){a.memoizedState!==null&&J(Te,a);var c=le.current,h=RM(c,a.type);c!==h&&(J(ge,a),J(le,h))}function wt(a){ge.current===a&&(Q(le),Q(ge)),Te.current===a&&(Q(Te),Rg._currentValue=U)}var Et=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,ye=e.unstable_cancelCallback,Me=e.unstable_shouldYield,He=e.unstable_requestPaint,ce=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,Ge=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,Ae=e.log,ze=e.unstable_setDisableYieldValue,Lt=null,pt=null;function je(a){if(typeof Ae=="function"&&ze(a),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Lt,a)}catch{}}var tt=Math.clz32?Math.clz32:MG,rs=Math.log,as=Math.LN2;function MG(a){return a>>>=0,a===0?32:31-(rs(a)/as|0)|0}var vv=256,Cv=4194304;function Bl(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bv(a,c,h){var p=a.pendingLanes;if(p===0)return 0;var b=0,S=a.suspendedLanes,F=a.pingedLanes;a=a.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?b=Bl(p):(F&=I,F!==0?b=Bl(F):h||(h=I&~a,h!==0&&(b=Bl(h))))):(I=p&~S,I!==0?b=Bl(I):F!==0?b=Bl(F):h||(h=p&~a,h!==0&&(b=Bl(h)))),b===0?0:c!==0&&c!==b&&(c&S)===0&&(S=b&-b,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:b}function Lf(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function LG(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oT(){var a=vv;return vv<<=1,(vv&4194048)===0&&(vv=256),a}function rT(){var a=Cv;return Cv<<=1,(Cv&62914560)===0&&(Cv=4194304),a}function zy(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function kf(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function kG(a,c,h,p,b,S){var F=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var I=a.entanglements,j=a.expirationTimes,ne=a.hiddenUpdates;for(h=F&~h;0<h;){var de=31-tt(h),me=1<<de;I[de]=0,j[de]=-1;var ie=ne[de];if(ie!==null)for(ne[de]=null,de=0;de<ie.length;de++){var oe=ie[de];oe!==null&&(oe.lane&=-536870913)}h&=~me}p!==0&&aT(a,p,0),S!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=S&~(F&~c))}function aT(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var p=31-tt(c);a.entangledLanes|=c,a.entanglements[p]=a.entanglements[p]|1073741824|h&4194090}function lT(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var p=31-tt(h),b=1<<p;b&c|a[p]&c&&(a[p]|=c),h&=~b}}function Wy(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Uy(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function cT(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:zM(a.type))}function IG(a,c){var h=V.p;try{return V.p=a,c()}finally{V.p=h}}var va=Math.random().toString(36).slice(2),Ys="__reactFiber$"+va,Dn="__reactProps$"+va,Uu="__reactContainer$"+va,jy="__reactEvents$"+va,OG="__reactListeners$"+va,_G="__reactHandles$"+va,uT="__reactResources$"+va,If="__reactMarker$"+va;function $y(a){delete a[Ys],delete a[Dn],delete a[jy],delete a[OG],delete a[_G]}function ju(a){var c=a[Ys];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Uu]||h[Ys]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=DM(a);a!==null;){if(h=a[Ys])return h;a=DM(a)}return c}a=h,h=a.parentNode}return null}function $u(a){if(a=a[Ys]||a[Uu]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Of(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(n(33))}function qu(a){var c=a[uT];return c||(c=a[uT]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ts(a){a[If]=!0}var dT=new Set,hT={};function Gl(a,c){Ku(a,c),Ku(a+"Capture",c)}function Ku(a,c){for(hT[a]=c,a=0;a<c.length;a++)dT.add(c[a])}var NG=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fT={},gT={};function HG(a){return Et.call(gT,a)?!0:Et.call(fT,a)?!1:NG.test(a)?gT[a]=!0:(fT[a]=!0,!1)}function wv(a,c,h){if(HG(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function yv(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function ir(a,c,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+p)}}var qy,pT;function Yu(a){if(qy===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);qy=c&&c[1]||"",pT=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qy+a+pT}var Ky=!1;function Yy(a,c){if(!a||Ky)return"";Ky=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var ie=oe}Reflect.construct(a,[],me)}else{try{me.call()}catch(oe){ie=oe}a.call(me.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),F=S[0],I=S[1];if(F&&I){var j=F.split(`
`),ne=I.split(`
`);for(b=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ne.length&&!ne[b].includes("DetermineComponentFrameRoot");)b++;if(p===j.length||b===ne.length)for(p=j.length-1,b=ne.length-1;1<=p&&0<=b&&j[p]!==ne[b];)b--;for(;1<=p&&0<=b;p--,b--)if(j[p]!==ne[b]){if(p!==1||b!==1)do if(p--,b--,0>b||j[p]!==ne[b]){var de=`
`+j[p].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=p&&0<=b);break}}}finally{Ky=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Yu(h):""}function BG(a){switch(a.tag){case 26:case 27:case 5:return Yu(a.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 15:return Yy(a.type,!1);case 11:return Yy(a.type.render,!1);case 1:return Yy(a.type,!0);case 31:return Yu("Activity");default:return""}}function mT(a){try{var c="";do c+=BG(a),a=a.return;while(a);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function fi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function vT(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function GG(a){var c=vT(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),p=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,S=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(F){p=""+F,S.call(this,F)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Sv(a){a._valueTracker||(a._valueTracker=GG(a))}function CT(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return a&&(p=vT(a)?a.checked?"true":"false":a.value),a=p,a!==h?(c.setValue(a),!0):!1}function Rv(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var VG=/[\n"\\]/g;function gi(a){return a.replace(VG,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Xy(a,c,h,p,b,S,F,I){a.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.type=F:a.removeAttribute("type"),c!=null?F==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+fi(c)):a.value!==""+fi(c)&&(a.value=""+fi(c)):F!=="submit"&&F!=="reset"||a.removeAttribute("value"),c!=null?Qy(a,F,fi(c)):h!=null?Qy(a,F,fi(h)):p!=null&&a.removeAttribute("value"),b==null&&S!=null&&(a.defaultChecked=!!S),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+fi(I):a.removeAttribute("name")}function bT(a,c,h,p,b,S,F,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;h=h!=null?""+fi(h):"",c=c!=null?""+fi(c):h,I||c===a.value||(a.value=c),a.defaultValue=c}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=I?a.checked:!!p,a.defaultChecked=!!p,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.name=F)}function Qy(a,c,h){c==="number"&&Rv(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Xu(a,c,h,p){if(a=a.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=c.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&p&&(a[h].defaultSelected=!0)}else{for(h=""+fi(h),c=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function wT(a,c,h){if(c!=null&&(c=""+fi(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+fi(h):""}function yT(a,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(n(92));if(ee(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=fi(c),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p)}function Qu(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var zG=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ST(a,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":p?a.setProperty(c,h):typeof h!="number"||h===0||zG.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function RT(a,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in c)p=c[b],c.hasOwnProperty(b)&&h[b]!==p&&ST(a,b,p)}else for(var S in c)c.hasOwnProperty(S)&&ST(a,S,c[S])}function Zy(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WG=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UG=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xv(a){return UG.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Jy=null;function eS(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zu=null,Ju=null;function xT(a){var c=$u(a);if(c&&(a=c.stateNode)){var h=a[Dn]||null;e:switch(a=c.stateNode,c.type){case"input":if(Xy(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+gi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==a&&p.form===a.form){var b=p[Dn]||null;if(!b)throw Error(n(90));Xy(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===a.form&&CT(p)}break e;case"textarea":wT(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Xu(a,!!h.multiple,c,!1)}}}var tS=!1;function AT(a,c,h){if(tS)return a(c,h);tS=!0;try{var p=a(c);return p}finally{if(tS=!1,(Zu!==null||Ju!==null)&&(cC(),Zu&&(c=Zu,a=Ju,Ju=Zu=null,xT(c),a)))for(c=0;c<a.length;c++)xT(a[c])}}function _f(a,c){var h=a.stateNode;if(h===null)return null;var p=h[Dn]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sS=!1;if(or)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){sS=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{sS=!1}var Ca=null,nS=null,Av=null;function ET(){if(Av)return Av;var a,c=nS,h=c.length,p,b="value"in Ca?Ca.value:Ca.textContent,S=b.length;for(a=0;a<h&&c[a]===b[a];a++);var F=h-a;for(p=1;p<=F&&c[h-p]===b[S-p];p++);return Av=b.slice(a,1<p?1-p:void 0)}function Ev(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Dv(){return!0}function DT(){return!1}function Tn(a){function c(h,p,b,S,F){this._reactName=h,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=F,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(h=a[I],this[I]=h?h(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Dv:DT,this.isPropagationStopped=DT,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),c}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=Tn(Vl),Hf=f({},Vl,{view:0,detail:0}),jG=Tn(Hf),iS,oS,Bf,Fv=f({},Hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aS,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bf&&(Bf&&a.type==="mousemove"?(iS=a.screenX-Bf.screenX,oS=a.screenY-Bf.screenY):oS=iS=0,Bf=a),iS)},movementY:function(a){return"movementY"in a?a.movementY:oS}}),TT=Tn(Fv),$G=f({},Fv,{dataTransfer:0}),qG=Tn($G),KG=f({},Hf,{relatedTarget:0}),rS=Tn(KG),YG=f({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),XG=Tn(YG),QG=f({},Vl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ZG=Tn(QG),JG=f({},Vl,{data:0}),FT=Tn(JG),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n2(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=s2[a])?!!c[a]:!1}function aS(){return n2}var i2=f({},Hf,{key:function(a){if(a.key){var c=e2[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Ev(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?t2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aS,charCode:function(a){return a.type==="keypress"?Ev(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ev(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),o2=Tn(i2),r2=f({},Fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PT=Tn(r2),a2=f({},Hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aS}),l2=Tn(a2),c2=f({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u2=Tn(c2),d2=f({},Fv,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),h2=Tn(d2),f2=f({},Vl,{newState:0,oldState:0}),g2=Tn(f2),p2=[9,13,27,32],lS=or&&"CompositionEvent"in window,Gf=null;or&&"documentMode"in document&&(Gf=document.documentMode);var m2=or&&"TextEvent"in window&&!Gf,MT=or&&(!lS||Gf&&8<Gf&&11>=Gf),LT=" ",kT=!1;function IT(a,c){switch(a){case"keyup":return p2.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OT(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ed=!1;function v2(a,c){switch(a){case"compositionend":return OT(c);case"keypress":return c.which!==32?null:(kT=!0,LT);case"textInput":return a=c.data,a===LT&&kT?null:a;default:return null}}function C2(a,c){if(ed)return a==="compositionend"||!lS&&IT(a,c)?(a=ET(),Av=nS=Ca=null,ed=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return MT&&c.locale!=="ko"?null:c.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!b2[a.type]:c==="textarea"}function NT(a,c,h,p){Zu?Ju?Ju.push(p):Ju=[p]:Zu=p,c=pC(c,"onChange"),0<c.length&&(h=new Tv("onChange","change",null,h,p),a.push({event:h,listeners:c}))}var Vf=null,zf=null;function w2(a){vM(a,0)}function Pv(a){var c=Of(a);if(CT(c))return a}function HT(a,c){if(a==="change")return c}var BT=!1;if(or){var cS;if(or){var uS="oninput"in document;if(!uS){var GT=document.createElement("div");GT.setAttribute("oninput","return;"),uS=typeof GT.oninput=="function"}cS=uS}else cS=!1;BT=cS&&(!document.documentMode||9<document.documentMode)}function VT(){Vf&&(Vf.detachEvent("onpropertychange",zT),zf=Vf=null)}function zT(a){if(a.propertyName==="value"&&Pv(zf)){var c=[];NT(c,zf,a,eS(a)),AT(w2,c)}}function y2(a,c,h){a==="focusin"?(VT(),Vf=c,zf=h,Vf.attachEvent("onpropertychange",zT)):a==="focusout"&&VT()}function S2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pv(zf)}function R2(a,c){if(a==="click")return Pv(c)}function x2(a,c){if(a==="input"||a==="change")return Pv(c)}function A2(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var zn=typeof Object.is=="function"?Object.is:A2;function Wf(a,c){if(zn(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var b=h[p];if(!Et.call(c,b)||!zn(a[b],c[b]))return!1}return!0}function WT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function UT(a,c){var h=WT(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=c&&p>=c)return{node:h,offset:c-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=WT(h)}}function jT(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?jT(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function $T(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Rv(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Rv(a.document)}return c}function dS(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var E2=or&&"documentMode"in document&&11>=document.documentMode,td=null,hS=null,Uf=null,fS=!1;function qT(a,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fS||td==null||td!==Rv(p)||(p=td,"selectionStart"in p&&dS(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Uf&&Wf(Uf,p)||(Uf=p,p=pC(hS,"onSelect"),0<p.length&&(c=new Tv("onSelect","select",null,c,h),a.push({event:c,listeners:p}),c.target=td)))}function zl(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var sd={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},gS={},KT={};or&&(KT=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Wl(a){if(gS[a])return gS[a];if(!sd[a])return a;var c=sd[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in KT)return gS[a]=c[h];return a}var YT=Wl("animationend"),XT=Wl("animationiteration"),QT=Wl("animationstart"),D2=Wl("transitionrun"),T2=Wl("transitionstart"),F2=Wl("transitioncancel"),ZT=Wl("transitionend"),JT=new Map,pS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pS.push("scrollEnd");function Gi(a,c){JT.set(a,c),Gl(c,[a])}var eF=new WeakMap;function pi(a,c){if(typeof a=="object"&&a!==null){var h=eF.get(a);return h!==void 0?h:(c={value:a,source:c,stack:mT(c)},eF.set(a,c),c)}return{value:a,source:c,stack:mT(c)}}var mi=[],nd=0,mS=0;function Mv(){for(var a=nd,c=mS=nd=0;c<a;){var h=mi[c];mi[c++]=null;var p=mi[c];mi[c++]=null;var b=mi[c];mi[c++]=null;var S=mi[c];if(mi[c++]=null,p!==null&&b!==null){var F=p.pending;F===null?b.next=b:(b.next=F.next,F.next=b),p.pending=b}S!==0&&tF(h,b,S)}}function Lv(a,c,h,p){mi[nd++]=a,mi[nd++]=c,mi[nd++]=h,mi[nd++]=p,mS|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function vS(a,c,h,p){return Lv(a,c,h,p),kv(a)}function id(a,c){return Lv(a,null,null,c),kv(a)}function tF(a,c,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var b=!1,S=a.return;S!==null;)S.childLanes|=h,p=S.alternate,p!==null&&(p.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(b=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,b&&c!==null&&(b=31-tt(h),a=S.hiddenUpdates,p=a[b],p===null?a[b]=[c]:p.push(c),c.lane=h|536870912),S):null}function kv(a){if(50<pg)throw pg=0,R0=null,Error(n(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var od={};function P2(a,c,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(a,c,h,p){return new P2(a,c,h,p)}function CS(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rr(a,c){var h=a.alternate;return h===null?(h=Wn(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function sF(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Iv(a,c,h,p,b,S){var F=0;if(p=a,typeof a=="function")CS(a)&&(F=1);else if(typeof a=="string")F=LV(a,h,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case W:return a=Wn(31,h,c,b),a.elementType=W,a.lanes=S,a;case w:return Ul(h.children,b,S,c);case y:F=8,b|=24;break;case R:return a=Wn(12,h,c,b|2),a.elementType=R,a.lanes=S,a;case P:return a=Wn(13,h,c,b),a.elementType=P,a.lanes=S,a;case L:return a=Wn(19,h,c,b),a.elementType=L,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case E:F=10;break e;case D:F=9;break e;case T:F=11;break e;case N:F=14;break e;case B:F=16,p=null;break e}F=29,h=Error(n(130,a===null?"null":typeof a,"")),p=null}return c=Wn(F,h,c,b),c.elementType=a,c.type=p,c.lanes=S,c}function Ul(a,c,h,p){return a=Wn(7,a,p,c),a.lanes=h,a}function bS(a,c,h){return a=Wn(6,a,null,c),a.lanes=h,a}function wS(a,c,h){return c=Wn(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var rd=[],ad=0,Ov=null,_v=0,vi=[],Ci=0,jl=null,ar=1,lr="";function $l(a,c){rd[ad++]=_v,rd[ad++]=Ov,Ov=a,_v=c}function nF(a,c,h){vi[Ci++]=ar,vi[Ci++]=lr,vi[Ci++]=jl,jl=a;var p=ar;a=lr;var b=32-tt(p)-1;p&=~(1<<b),h+=1;var S=32-tt(c)+b;if(30<S){var F=b-b%5;S=(p&(1<<F)-1).toString(32),p>>=F,b-=F,ar=1<<32-tt(c)+b|h<<b|p,lr=S+a}else ar=1<<S|h<<b|p,lr=a}function yS(a){a.return!==null&&($l(a,1),nF(a,1,0))}function SS(a){for(;a===Ov;)Ov=rd[--ad],rd[ad]=null,_v=rd[--ad],rd[ad]=null;for(;a===jl;)jl=vi[--Ci],vi[Ci]=null,lr=vi[--Ci],vi[Ci]=null,ar=vi[--Ci],vi[Ci]=null}var fn=null,ss=null,yt=!1,ql=null,vo=!1,RS=Error(n(519));function Kl(a){var c=Error(n(418,""));throw qf(pi(c,a)),RS}function iF(a){var c=a.stateNode,h=a.type,p=a.memoizedProps;switch(c[Ys]=a,c[Dn]=p,h){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(h=0;h<vg.length;h++)ft(vg[h],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),bT(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Sv(c);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),yT(c,p.value,p.defaultValue,p.children),Sv(c)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||yM(c.textContent,h)?(p.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),p.onScroll!=null&&ft("scroll",c),p.onScrollEnd!=null&&ft("scrollend",c),p.onClick!=null&&(c.onclick=mC),c=!0):c=!1,c||Kl(a)}function oF(a){for(fn=a.return;fn;)switch(fn.tag){case 5:case 13:vo=!1;return;case 27:case 3:vo=!0;return;default:fn=fn.return}}function jf(a){if(a!==fn)return!1;if(!yt)return oF(a),yt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||B0(a.type,a.memoizedProps)),h=!h),h&&ss&&Kl(a),oF(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(c===0){ss=zi(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;a=a.nextSibling}ss=null}}else c===27?(c=ss,Ia(a.type)?(a=W0,W0=null,ss=a):ss=c):ss=fn?zi(a.stateNode.nextSibling):null;return!0}function $f(){ss=fn=null,yt=!1}function rF(){var a=ql;return a!==null&&(Mn===null?Mn=a:Mn.push.apply(Mn,a),ql=null),a}function qf(a){ql===null?ql=[a]:ql.push(a)}var xS=Y(null),Yl=null,cr=null;function ba(a,c,h){J(xS,c._currentValue),c._currentValue=h}function ur(a){a._currentValue=xS.current,Q(xS)}function AS(a,c,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),a===h)break;a=a.return}}function ES(a,c,h,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var S=b.dependencies;if(S!==null){var F=b.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=b;for(var j=0;j<c.length;j++)if(I.context===c[j]){S.lanes|=h,I=S.alternate,I!==null&&(I.lanes|=h),AS(S.return,h,a),p||(F=null);break e}S=I.next}}else if(b.tag===18){if(F=b.return,F===null)throw Error(n(341));F.lanes|=h,S=F.alternate,S!==null&&(S.lanes|=h),AS(F,h,a),F=null}else F=b.child;if(F!==null)F.return=b;else for(F=b;F!==null;){if(F===a){F=null;break}if(b=F.sibling,b!==null){b.return=F.return,F=b;break}F=F.return}b=F}}function Kf(a,c,h,p){a=null;for(var b=c,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var F=b.alternate;if(F===null)throw Error(n(387));if(F=F.memoizedProps,F!==null){var I=b.type;zn(b.pendingProps.value,F.value)||(a!==null?a.push(I):a=[I])}}else if(b===Te.current){if(F=b.alternate,F===null)throw Error(n(387));F.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Rg):a=[Rg])}b=b.return}a!==null&&ES(c,a,h,p),c.flags|=262144}function Nv(a){for(a=a.firstContext;a!==null;){if(!zn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Xl(a){Yl=a,cr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xs(a){return aF(Yl,a)}function Hv(a,c){return Yl===null&&Xl(a),aF(a,c)}function aF(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},cr===null){if(a===null)throw Error(n(308));cr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else cr=cr.next=c;return h}var M2=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},L2=e.unstable_scheduleCallback,k2=e.unstable_NormalPriority,bs={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function DS(){return{controller:new M2,data:new Map,refCount:0}}function Yf(a){a.refCount--,a.refCount===0&&L2(k2,function(){a.controller.abort()})}var Xf=null,TS=0,ld=0,cd=null;function I2(a,c){if(Xf===null){var h=Xf=[];TS=0,ld=P0(),cd={status:"pending",value:void 0,then:function(p){h.push(p)}}}return TS++,c.then(lF,lF),c}function lF(){if(--TS===0&&Xf!==null){cd!==null&&(cd.status="fulfilled");var a=Xf;Xf=null,ld=0,cd=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function O2(a,c){var h=[],p={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return a.then(function(){p.status="fulfilled",p.value=c;for(var b=0;b<h.length;b++)(0,h[b])(c)},function(b){for(p.status="rejected",p.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),p}var cF=G.S;G.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&I2(a,c),cF!==null&&cF(a,c)};var Ql=Y(null);function FS(){var a=Ql.current;return a!==null?a:Gt.pooledCache}function Bv(a,c){c===null?J(Ql,Ql.current):J(Ql,c.pool)}function uF(){var a=FS();return a===null?null:{parent:bs._currentValue,pool:a}}var Qf=Error(n(460)),dF=Error(n(474)),Gv=Error(n(542)),PS={then:function(){}};function hF(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Vv(){}function fF(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(Vv,Vv),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,pF(a),a;default:if(typeof c.status=="string")c.then(Vv,Vv);else{if(a=Gt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=c,a.status="pending",a.then(function(p){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=p}},function(p){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,pF(a),a}throw Zf=c,Qf}}var Zf=null;function gF(){if(Zf===null)throw Error(n(459));var a=Zf;return Zf=null,a}function pF(a){if(a===Qf||a===Gv)throw Error(n(483))}var wa=!1;function MS(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function LS(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ya(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sa(a,c,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Dt&2)!==0){var b=p.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),p.pending=c,c=kv(a),tF(a,null,h),c}return Lv(a,p,c,h),kv(a)}function Jf(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,lT(a,h)}}function kS(a,c){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var b=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var F={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?b=S=F:S=S.next=F,h=h.next}while(h!==null);S===null?b=S=c:S=S.next=c}else b=S=c;h={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var IS=!1;function eg(){if(IS){var a=cd;if(a!==null)throw a}}function tg(a,c,h,p){IS=!1;var b=a.updateQueue;wa=!1;var S=b.firstBaseUpdate,F=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var j=I,ne=j.next;j.next=null,F===null?S=ne:F.next=ne,F=j;var de=a.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==F&&(I===null?de.firstBaseUpdate=ne:I.next=ne,de.lastBaseUpdate=j))}if(S!==null){var me=b.baseState;F=0,de=ne=j=null,I=S;do{var ie=I.lane&-536870913,oe=ie!==I.lane;if(oe?(vt&ie)===ie:(p&ie)===ie){ie!==0&&ie===ld&&(IS=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Qe=a,Ue=I;ie=c;var Ot=h;switch(Ue.tag){case 1:if(Qe=Ue.payload,typeof Qe=="function"){me=Qe.call(Ot,me,ie);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Ue.payload,ie=typeof Qe=="function"?Qe.call(Ot,me,ie):Qe,ie==null)break e;me=f({},me,ie);break e;case 2:wa=!0}}ie=I.callback,ie!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=b.callbacks,oe===null?b.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ne=de=oe,j=me):de=de.next=oe,F|=ie;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,b.lastBaseUpdate=oe,b.shared.pending=null}}while(!0);de===null&&(j=me),b.baseState=j,b.firstBaseUpdate=ne,b.lastBaseUpdate=de,S===null&&(b.shared.lanes=0),Pa|=F,a.lanes=F,a.memoizedState=me}}function mF(a,c){if(typeof a!="function")throw Error(n(191,a));a.call(c)}function vF(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)mF(h[a],c)}var ud=Y(null),zv=Y(0);function CF(a,c){a=vr,J(zv,a),J(ud,c),vr=a|c.baseLanes}function OS(){J(zv,vr),J(ud,ud.current)}function _S(){vr=zv.current,Q(ud),Q(zv)}var Ra=0,lt=null,kt=null,fs=null,Wv=!1,dd=!1,Zl=!1,Uv=0,sg=0,hd=null,_2=0;function ls(){throw Error(n(321))}function NS(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!zn(a[h],c[h]))return!1;return!0}function HS(a,c,h,p,b,S){return Ra=S,lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=a===null||a.memoizedState===null?tP:sP,Zl=!1,S=h(p,b),Zl=!1,dd&&(S=wF(c,h,p,b)),bF(a),S}function bF(a){G.H=Xv;var c=kt!==null&&kt.next!==null;if(Ra=0,fs=kt=lt=null,Wv=!1,sg=0,hd=null,c)throw Error(n(300));a===null||Fs||(a=a.dependencies,a!==null&&Nv(a)&&(Fs=!0))}function wF(a,c,h,p){lt=a;var b=0;do{if(dd&&(hd=null),sg=0,dd=!1,25<=b)throw Error(n(301));if(b+=1,fs=kt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=W2,S=c(h,p)}while(dd);return S}function N2(){var a=G.H,c=a.useState()[0];return c=typeof c.then=="function"?ng(c):c,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(lt.flags|=1024),c}function BS(){var a=Uv!==0;return Uv=0,a}function GS(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function VS(a){if(Wv){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Wv=!1}Ra=0,fs=kt=lt=null,dd=!1,sg=Uv=0,hd=null}function Fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?lt.memoizedState=fs=a:fs=fs.next=a,fs}function gs(){if(kt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var c=fs===null?lt.memoizedState:fs.next;if(c!==null)fs=c,kt=a;else{if(a===null)throw lt.alternate===null?Error(n(467)):Error(n(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},fs===null?lt.memoizedState=fs=a:fs=fs.next=a}return fs}function zS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ng(a){var c=sg;return sg+=1,hd===null&&(hd=[]),a=fF(hd,a,c),c=lt,(fs===null?c.memoizedState:fs.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?tP:sP),a}function jv(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ng(a);if(a.$$typeof===E)return Xs(a)}throw Error(n(438,String(a)))}function WS(a){var c=null,h=lt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=zS(),lt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),p=0;p<a;p++)h[p]=z;return c.index++,h}function dr(a,c){return typeof c=="function"?c(a):c}function $v(a){var c=gs();return US(c,kt,a)}function US(a,c,h){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=h;var b=a.baseQueue,S=p.pending;if(S!==null){if(b!==null){var F=b.next;b.next=S.next,S.next=F}c.baseQueue=b=S,p.pending=null}if(S=a.baseState,b===null)a.memoizedState=S;else{c=b.next;var I=F=null,j=null,ne=c,de=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(vt&me)===me:(Ra&me)===me){var ie=ne.revertLane;if(ie===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===ld&&(de=!0);else if((Ra&ie)===ie){ne=ne.next,ie===ld&&(de=!0);continue}else me={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},j===null?(I=j=me,F=S):j=j.next=me,lt.lanes|=ie,Pa|=ie;me=ne.action,Zl&&h(S,me),S=ne.hasEagerState?ne.eagerState:h(S,me)}else ie={lane:me,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},j===null?(I=j=ie,F=S):j=j.next=ie,lt.lanes|=me,Pa|=me;ne=ne.next}while(ne!==null&&ne!==c);if(j===null?F=S:j.next=I,!zn(S,a.memoizedState)&&(Fs=!0,de&&(h=cd,h!==null)))throw h;a.memoizedState=S,a.baseState=F,a.baseQueue=j,p.lastRenderedState=S}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function jS(a){var c=gs(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var p=h.dispatch,b=h.pending,S=c.memoizedState;if(b!==null){h.pending=null;var F=b=b.next;do S=a(S,F.action),F=F.next;while(F!==b);zn(S,c.memoizedState)||(Fs=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,p]}function yF(a,c,h){var p=lt,b=gs(),S=yt;if(S){if(h===void 0)throw Error(n(407));h=h()}else h=c();var F=!zn((kt||b).memoizedState,h);F&&(b.memoizedState=h,Fs=!0),b=b.queue;var I=xF.bind(null,p,b,a);if(ig(2048,8,I,[a]),b.getSnapshot!==c||F||fs!==null&&fs.memoizedState.tag&1){if(p.flags|=2048,fd(9,qv(),RF.bind(null,p,b,h,c),null),Gt===null)throw Error(n(349));S||(Ra&124)!==0||SF(p,c,h)}return h}function SF(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=lt.updateQueue,c===null?(c=zS(),lt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function RF(a,c,h,p){c.value=h,c.getSnapshot=p,AF(c)&&EF(a)}function xF(a,c,h){return h(function(){AF(c)&&EF(a)})}function AF(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!zn(a,h)}catch{return!0}}function EF(a){var c=id(a,2);c!==null&&Kn(c,a,2)}function $S(a){var c=Fn();if(typeof a=="function"){var h=a;if(a=h(),Zl){je(!0);try{h()}finally{je(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},c}function DF(a,c,h,p){return a.baseState=h,US(a,kt,typeof p=="function"?p:dr)}function H2(a,c,h,p,b){if(Yv(a))throw Error(n(485));if(a=c.action,a!==null){var S={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){S.listeners.push(F)}};G.T!==null?h(!0):S.isTransition=!1,p(S),h=c.pending,h===null?(S.next=c.pending=S,TF(c,S)):(S.next=h.next,c.pending=h.next=S)}}function TF(a,c){var h=c.action,p=c.payload,b=a.state;if(c.isTransition){var S=G.T,F={};G.T=F;try{var I=h(b,p),j=G.S;j!==null&&j(F,I),FF(a,c,I)}catch(ne){qS(a,c,ne)}finally{G.T=S}}else try{S=h(b,p),FF(a,c,S)}catch(ne){qS(a,c,ne)}}function FF(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){PF(a,c,p)},function(p){return qS(a,c,p)}):PF(a,c,h)}function PF(a,c,h){c.status="fulfilled",c.value=h,MF(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,TF(a,h)))}function qS(a,c,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,MF(c),c=c.next;while(c!==p)}a.action=null}function MF(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function LF(a,c){return c}function kF(a,c){if(yt){var h=Gt.formState;if(h!==null){e:{var p=lt;if(yt){if(ss){t:{for(var b=ss,S=vo;b.nodeType!==8;){if(!S){b=null;break t}if(b=zi(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){ss=zi(b.nextSibling),p=b.data==="F!";break e}}Kl(p)}p=!1}p&&(c=h[0])}}return h=Fn(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LF,lastRenderedState:c},h.queue=p,h=ZF.bind(null,lt,p),p.dispatch=h,p=$S(!1),S=ZS.bind(null,lt,!1,p.queue),p=Fn(),b={state:c,dispatch:null,action:a,pending:null},p.queue=b,h=H2.bind(null,lt,b,S,h),b.dispatch=h,p.memoizedState=a,[c,h,!1]}function IF(a){var c=gs();return OF(c,kt,a)}function OF(a,c,h){if(c=US(a,c,LF)[0],a=$v(dr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=ng(c)}catch(F){throw F===Qf?Gv:F}else p=c;c=gs();var b=c.queue,S=b.dispatch;return h!==c.memoizedState&&(lt.flags|=2048,fd(9,qv(),B2.bind(null,b,h),null)),[p,S,a]}function B2(a,c){a.action=c}function _F(a){var c=gs(),h=kt;if(h!==null)return OF(c,h,a);gs(),c=c.memoizedState,h=gs();var p=h.queue.dispatch;return h.memoizedState=a,[c,p,!1]}function fd(a,c,h,p){return a={tag:a,create:h,deps:p,inst:c,next:null},c=lt.updateQueue,c===null&&(c=zS(),lt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,c.lastEffect=a),a}function qv(){return{destroy:void 0,resource:void 0}}function NF(){return gs().memoizedState}function Kv(a,c,h,p){var b=Fn();p=p===void 0?null:p,lt.flags|=a,b.memoizedState=fd(1|c,qv(),h,p)}function ig(a,c,h,p){var b=gs();p=p===void 0?null:p;var S=b.memoizedState.inst;kt!==null&&p!==null&&NS(p,kt.memoizedState.deps)?b.memoizedState=fd(c,S,h,p):(lt.flags|=a,b.memoizedState=fd(1|c,S,h,p))}function HF(a,c){Kv(8390656,8,a,c)}function BF(a,c){ig(2048,8,a,c)}function GF(a,c){return ig(4,2,a,c)}function VF(a,c){return ig(4,4,a,c)}function zF(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function WF(a,c,h){h=h!=null?h.concat([a]):null,ig(4,4,zF.bind(null,c,a),h)}function KS(){}function UF(a,c){var h=gs();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&NS(c,p[1])?p[0]:(h.memoizedState=[a,c],a)}function jF(a,c){var h=gs();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&NS(c,p[1]))return p[0];if(p=a(),Zl){je(!0);try{a()}finally{je(!1)}}return h.memoizedState=[p,c],p}function YS(a,c,h){return h===void 0||(Ra&1073741824)!==0?a.memoizedState=c:(a.memoizedState=h,a=KP(),lt.lanes|=a,Pa|=a,h)}function $F(a,c,h,p){return zn(h,c)?h:ud.current!==null?(a=YS(a,h,p),zn(a,c)||(Fs=!0),a):(Ra&42)===0?(Fs=!0,a.memoizedState=h):(a=KP(),lt.lanes|=a,Pa|=a,c)}function qF(a,c,h,p,b){var S=V.p;V.p=S!==0&&8>S?S:8;var F=G.T,I={};G.T=I,ZS(a,!1,c,h);try{var j=b(),ne=G.S;if(ne!==null&&ne(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var de=O2(j,p);og(a,c,de,qn(a))}else og(a,c,p,qn(a))}catch(me){og(a,c,{then:function(){},status:"rejected",reason:me},qn())}finally{V.p=S,G.T=F}}function G2(){}function XS(a,c,h,p){if(a.tag!==5)throw Error(n(476));var b=KF(a).queue;qF(a,b,c,U,h===null?G2:function(){return YF(a),h(p)})}function KF(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:U},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function YF(a){var c=KF(a).next.queue;og(a,c,{},qn())}function QS(){return Xs(Rg)}function XF(){return gs().memoizedState}function QF(){return gs().memoizedState}function V2(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=qn();a=ya(h);var p=Sa(c,a,h);p!==null&&(Kn(p,c,h),Jf(p,c,h)),c={cache:DS()},a.payload=c;return}c=c.return}}function z2(a,c,h){var p=qn();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Yv(a)?JF(c,h):(h=vS(a,c,h,p),h!==null&&(Kn(h,a,p),eP(h,c,p)))}function ZF(a,c,h){var p=qn();og(a,c,h,p)}function og(a,c,h,p){var b={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Yv(a))JF(c,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var F=c.lastRenderedState,I=S(F,h);if(b.hasEagerState=!0,b.eagerState=I,zn(I,F))return Lv(a,c,b,0),Gt===null&&Mv(),!1}catch{}finally{}if(h=vS(a,c,b,p),h!==null)return Kn(h,a,p),eP(h,c,p),!0}return!1}function ZS(a,c,h,p){if(p={lane:2,revertLane:P0(),action:p,hasEagerState:!1,eagerState:null,next:null},Yv(a)){if(c)throw Error(n(479))}else c=vS(a,h,p,2),c!==null&&Kn(c,a,2)}function Yv(a){var c=a.alternate;return a===lt||c!==null&&c===lt}function JF(a,c){dd=Wv=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function eP(a,c,h){if((h&4194048)!==0){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,lT(a,h)}}var Xv={readContext:Xs,use:jv,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useInsertionEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useSyncExternalStore:ls,useId:ls,useHostTransitionStatus:ls,useFormState:ls,useActionState:ls,useOptimistic:ls,useMemoCache:ls,useCacheRefresh:ls},tP={readContext:Xs,use:jv,useCallback:function(a,c){return Fn().memoizedState=[a,c===void 0?null:c],a},useContext:Xs,useEffect:HF,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,Kv(4194308,4,zF.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Kv(4194308,4,a,c)},useInsertionEffect:function(a,c){Kv(4,2,a,c)},useMemo:function(a,c){var h=Fn();c=c===void 0?null:c;var p=a();if(Zl){je(!0);try{a()}finally{je(!1)}}return h.memoizedState=[p,c],p},useReducer:function(a,c,h){var p=Fn();if(h!==void 0){var b=h(c);if(Zl){je(!0);try{h(c)}finally{je(!1)}}}else b=c;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=z2.bind(null,lt,a),[p.memoizedState,a]},useRef:function(a){var c=Fn();return a={current:a},c.memoizedState=a},useState:function(a){a=$S(a);var c=a.queue,h=ZF.bind(null,lt,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:KS,useDeferredValue:function(a,c){var h=Fn();return YS(h,a,c)},useTransition:function(){var a=$S(!1);return a=qF.bind(null,lt,a.queue,!0,!1),Fn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var p=lt,b=Fn();if(yt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Gt===null)throw Error(n(349));(vt&124)!==0||SF(p,c,h)}b.memoizedState=h;var S={value:h,getSnapshot:c};return b.queue=S,HF(xF.bind(null,p,S,a),[a]),p.flags|=2048,fd(9,qv(),RF.bind(null,p,S,h,c),null),h},useId:function(){var a=Fn(),c=Gt.identifierPrefix;if(yt){var h=lr,p=ar;h=(p&~(1<<32-tt(p)-1)).toString(32)+h,c="«"+c+"R"+h,h=Uv++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=_2++,c="«"+c+"r"+h.toString(32)+"»";return a.memoizedState=c},useHostTransitionStatus:QS,useFormState:kF,useActionState:kF,useOptimistic:function(a){var c=Fn();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ZS.bind(null,lt,!0,h),h.dispatch=c,[a,c]},useMemoCache:WS,useCacheRefresh:function(){return Fn().memoizedState=V2.bind(null,lt)}},sP={readContext:Xs,use:jv,useCallback:UF,useContext:Xs,useEffect:BF,useImperativeHandle:WF,useInsertionEffect:GF,useLayoutEffect:VF,useMemo:jF,useReducer:$v,useRef:NF,useState:function(){return $v(dr)},useDebugValue:KS,useDeferredValue:function(a,c){var h=gs();return $F(h,kt.memoizedState,a,c)},useTransition:function(){var a=$v(dr)[0],c=gs().memoizedState;return[typeof a=="boolean"?a:ng(a),c]},useSyncExternalStore:yF,useId:XF,useHostTransitionStatus:QS,useFormState:IF,useActionState:IF,useOptimistic:function(a,c){var h=gs();return DF(h,kt,a,c)},useMemoCache:WS,useCacheRefresh:QF},W2={readContext:Xs,use:jv,useCallback:UF,useContext:Xs,useEffect:BF,useImperativeHandle:WF,useInsertionEffect:GF,useLayoutEffect:VF,useMemo:jF,useReducer:jS,useRef:NF,useState:function(){return jS(dr)},useDebugValue:KS,useDeferredValue:function(a,c){var h=gs();return kt===null?YS(h,a,c):$F(h,kt.memoizedState,a,c)},useTransition:function(){var a=jS(dr)[0],c=gs().memoizedState;return[typeof a=="boolean"?a:ng(a),c]},useSyncExternalStore:yF,useId:XF,useHostTransitionStatus:QS,useFormState:_F,useActionState:_F,useOptimistic:function(a,c){var h=gs();return kt!==null?DF(h,kt,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:WS,useCacheRefresh:QF},gd=null,rg=0;function Qv(a){var c=rg;return rg+=1,gd===null&&(gd=[]),fF(gd,a,c)}function ag(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Zv(a,c){throw c.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function nP(a){var c=a._init;return c(a._payload)}function iP(a){function c(Z,X){if(a){var se=Z.deletions;se===null?(Z.deletions=[X],Z.flags|=16):se.push(X)}}function h(Z,X){if(!a)return null;for(;X!==null;)c(Z,X),X=X.sibling;return null}function p(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function b(Z,X){return Z=rr(Z,X),Z.index=0,Z.sibling=null,Z}function S(Z,X,se){return Z.index=se,a?(se=Z.alternate,se!==null?(se=se.index,se<X?(Z.flags|=67108866,X):se):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function F(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function I(Z,X,se,fe){return X===null||X.tag!==6?(X=bS(se,Z.mode,fe),X.return=Z,X):(X=b(X,se),X.return=Z,X)}function j(Z,X,se,fe){var Ie=se.type;return Ie===w?de(Z,X,se.props.children,fe,se.key):X!==null&&(X.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===B&&nP(Ie)===X.type)?(X=b(X,se.props),ag(X,se),X.return=Z,X):(X=Iv(se.type,se.key,se.props,null,Z.mode,fe),ag(X,se),X.return=Z,X)}function ne(Z,X,se,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=wS(se,Z.mode,fe),X.return=Z,X):(X=b(X,se.children||[]),X.return=Z,X)}function de(Z,X,se,fe,Ie){return X===null||X.tag!==7?(X=Ul(se,Z.mode,fe,Ie),X.return=Z,X):(X=b(X,se),X.return=Z,X)}function me(Z,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=bS(""+X,Z.mode,se),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case m:return se=Iv(X.type,X.key,X.props,null,Z.mode,se),ag(se,X),se.return=Z,se;case C:return X=wS(X,Z.mode,se),X.return=Z,X;case B:var fe=X._init;return X=fe(X._payload),me(Z,X,se)}if(ee(X)||K(X))return X=Ul(X,Z.mode,se,null),X.return=Z,X;if(typeof X.then=="function")return me(Z,Qv(X),se);if(X.$$typeof===E)return me(Z,Hv(Z,X),se);Zv(Z,X)}return null}function ie(Z,X,se,fe){var Ie=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ie!==null?null:I(Z,X,""+se,fe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case m:return se.key===Ie?j(Z,X,se,fe):null;case C:return se.key===Ie?ne(Z,X,se,fe):null;case B:return Ie=se._init,se=Ie(se._payload),ie(Z,X,se,fe)}if(ee(se)||K(se))return Ie!==null?null:de(Z,X,se,fe,null);if(typeof se.then=="function")return ie(Z,X,Qv(se),fe);if(se.$$typeof===E)return ie(Z,X,Hv(Z,se),fe);Zv(Z,se)}return null}function oe(Z,X,se,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(se)||null,I(X,Z,""+fe,Ie);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case m:return Z=Z.get(fe.key===null?se:fe.key)||null,j(X,Z,fe,Ie);case C:return Z=Z.get(fe.key===null?se:fe.key)||null,ne(X,Z,fe,Ie);case B:var ut=fe._init;return fe=ut(fe._payload),oe(Z,X,se,fe,Ie)}if(ee(fe)||K(fe))return Z=Z.get(se)||null,de(X,Z,fe,Ie,null);if(typeof fe.then=="function")return oe(Z,X,se,Qv(fe),Ie);if(fe.$$typeof===E)return oe(Z,X,se,Hv(X,fe),Ie);Zv(X,fe)}return null}function Qe(Z,X,se,fe){for(var Ie=null,ut=null,Be=X,$e=X=0,Ms=null;Be!==null&&$e<se.length;$e++){Be.index>$e?(Ms=Be,Be=null):Ms=Be.sibling;var Ct=ie(Z,Be,se[$e],fe);if(Ct===null){Be===null&&(Be=Ms);break}a&&Be&&Ct.alternate===null&&c(Z,Be),X=S(Ct,X,$e),ut===null?Ie=Ct:ut.sibling=Ct,ut=Ct,Be=Ms}if($e===se.length)return h(Z,Be),yt&&$l(Z,$e),Ie;if(Be===null){for(;$e<se.length;$e++)Be=me(Z,se[$e],fe),Be!==null&&(X=S(Be,X,$e),ut===null?Ie=Be:ut.sibling=Be,ut=Be);return yt&&$l(Z,$e),Ie}for(Be=p(Be);$e<se.length;$e++)Ms=oe(Be,Z,$e,se[$e],fe),Ms!==null&&(a&&Ms.alternate!==null&&Be.delete(Ms.key===null?$e:Ms.key),X=S(Ms,X,$e),ut===null?Ie=Ms:ut.sibling=Ms,ut=Ms);return a&&Be.forEach(function(Ba){return c(Z,Ba)}),yt&&$l(Z,$e),Ie}function Ue(Z,X,se,fe){if(se==null)throw Error(n(151));for(var Ie=null,ut=null,Be=X,$e=X=0,Ms=null,Ct=se.next();Be!==null&&!Ct.done;$e++,Ct=se.next()){Be.index>$e?(Ms=Be,Be=null):Ms=Be.sibling;var Ba=ie(Z,Be,Ct.value,fe);if(Ba===null){Be===null&&(Be=Ms);break}a&&Be&&Ba.alternate===null&&c(Z,Be),X=S(Ba,X,$e),ut===null?Ie=Ba:ut.sibling=Ba,ut=Ba,Be=Ms}if(Ct.done)return h(Z,Be),yt&&$l(Z,$e),Ie;if(Be===null){for(;!Ct.done;$e++,Ct=se.next())Ct=me(Z,Ct.value,fe),Ct!==null&&(X=S(Ct,X,$e),ut===null?Ie=Ct:ut.sibling=Ct,ut=Ct);return yt&&$l(Z,$e),Ie}for(Be=p(Be);!Ct.done;$e++,Ct=se.next())Ct=oe(Be,Z,$e,Ct.value,fe),Ct!==null&&(a&&Ct.alternate!==null&&Be.delete(Ct.key===null?$e:Ct.key),X=S(Ct,X,$e),ut===null?Ie=Ct:ut.sibling=Ct,ut=Ct);return a&&Be.forEach(function(UV){return c(Z,UV)}),yt&&$l(Z,$e),Ie}function Ot(Z,X,se,fe){if(typeof se=="object"&&se!==null&&se.type===w&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case m:e:{for(var Ie=se.key;X!==null;){if(X.key===Ie){if(Ie=se.type,Ie===w){if(X.tag===7){h(Z,X.sibling),fe=b(X,se.props.children),fe.return=Z,Z=fe;break e}}else if(X.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===B&&nP(Ie)===X.type){h(Z,X.sibling),fe=b(X,se.props),ag(fe,se),fe.return=Z,Z=fe;break e}h(Z,X);break}else c(Z,X);X=X.sibling}se.type===w?(fe=Ul(se.props.children,Z.mode,fe,se.key),fe.return=Z,Z=fe):(fe=Iv(se.type,se.key,se.props,null,Z.mode,fe),ag(fe,se),fe.return=Z,Z=fe)}return F(Z);case C:e:{for(Ie=se.key;X!==null;){if(X.key===Ie)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){h(Z,X.sibling),fe=b(X,se.children||[]),fe.return=Z,Z=fe;break e}else{h(Z,X);break}else c(Z,X);X=X.sibling}fe=wS(se,Z.mode,fe),fe.return=Z,Z=fe}return F(Z);case B:return Ie=se._init,se=Ie(se._payload),Ot(Z,X,se,fe)}if(ee(se))return Qe(Z,X,se,fe);if(K(se)){if(Ie=K(se),typeof Ie!="function")throw Error(n(150));return se=Ie.call(se),Ue(Z,X,se,fe)}if(typeof se.then=="function")return Ot(Z,X,Qv(se),fe);if(se.$$typeof===E)return Ot(Z,X,Hv(Z,se),fe);Zv(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(h(Z,X.sibling),fe=b(X,se),fe.return=Z,Z=fe):(h(Z,X),fe=bS(se,Z.mode,fe),fe.return=Z,Z=fe),F(Z)):h(Z,X)}return function(Z,X,se,fe){try{rg=0;var Ie=Ot(Z,X,se,fe);return gd=null,Ie}catch(Be){if(Be===Qf||Be===Gv)throw Be;var ut=Wn(29,Be,null,Z.mode);return ut.lanes=fe,ut.return=Z,ut}finally{}}}var pd=iP(!0),oP=iP(!1),bi=Y(null),Co=null;function xa(a){var c=a.alternate;J(ws,ws.current&1),J(bi,a),Co===null&&(c===null||ud.current!==null||c.memoizedState!==null)&&(Co=a)}function rP(a){if(a.tag===22){if(J(ws,ws.current),J(bi,a),Co===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(Co=a)}}else Aa()}function Aa(){J(ws,ws.current),J(bi,bi.current)}function hr(a){Q(bi),Co===a&&(Co=null),Q(ws)}var ws=Y(0);function Jv(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||z0(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function JS(a,c,h,p){c=a.memoizedState,h=h(p,c),h=h==null?c:f({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var e0={enqueueSetState:function(a,c,h){a=a._reactInternals;var p=qn(),b=ya(p);b.payload=c,h!=null&&(b.callback=h),c=Sa(a,b,p),c!==null&&(Kn(c,a,p),Jf(c,a,p))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var p=qn(),b=ya(p);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=Sa(a,b,p),c!==null&&(Kn(c,a,p),Jf(c,a,p))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=qn(),p=ya(h);p.tag=2,c!=null&&(p.callback=c),c=Sa(a,p,h),c!==null&&(Kn(c,a,h),Jf(c,a,h))}};function aP(a,c,h,p,b,S,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,F):c.prototype&&c.prototype.isPureReactComponent?!Wf(h,p)||!Wf(b,S):!0}function lP(a,c,h,p){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==a&&e0.enqueueReplaceState(c,c.state,null)}function Jl(a,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(a=a.defaultProps){h===c&&(h=f({},h));for(var b in a)h[b]===void 0&&(h[b]=a[b])}return h}var eC=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function cP(a){eC(a)}function uP(a){console.error(a)}function dP(a){eC(a)}function tC(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function hP(a,c,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function t0(a,c,h){return h=ya(h),h.tag=3,h.payload={element:null},h.callback=function(){tC(a,c)},h}function fP(a){return a=ya(a),a.tag=3,a}function gP(a,c,h,p){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;a.payload=function(){return b(S)},a.callback=function(){hP(c,h,p)}}var F=h.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(a.callback=function(){hP(c,h,p),typeof b!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function U2(a,c,h,p,b){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&Kf(c,h,b,!0),h=bi.current,h!==null){switch(h.tag){case 13:return Co===null?A0():h.alternate===null&&ns===0&&(ns=3),h.flags&=-257,h.flags|=65536,h.lanes=b,p===PS?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),D0(a,p,b)),!1;case 22:return h.flags|=65536,p===PS?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),D0(a,p,b)),!1}throw Error(n(435,h.tag))}return D0(a,p,b),A0(),!1}if(yt)return c=bi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,p!==RS&&(a=Error(n(422),{cause:p}),qf(pi(a,h)))):(p!==RS&&(c=Error(n(423),{cause:p}),qf(pi(c,h))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=pi(p,h),b=t0(a.stateNode,p,b),kS(a,b),ns!==4&&(ns=2)),!1;var S=Error(n(520),{cause:p});if(S=pi(S,h),gg===null?gg=[S]:gg.push(S),ns!==4&&(ns=2),c===null)return!0;p=pi(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=b&-b,h.lanes|=a,a=t0(h.stateNode,p,a),kS(h,a),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ma===null||!Ma.has(S))))return h.flags|=65536,b&=-b,h.lanes|=b,b=fP(b),gP(b,a,h,p),kS(h,b),!1}h=h.return}while(h!==null);return!1}var pP=Error(n(461)),Fs=!1;function Hs(a,c,h,p){c.child=a===null?oP(c,null,h,p):pd(c,a.child,h,p)}function mP(a,c,h,p,b){h=h.render;var S=c.ref;if("ref"in p){var F={};for(var I in p)I!=="ref"&&(F[I]=p[I])}else F=p;return Xl(c),p=HS(a,c,h,F,S,b),I=BS(),a!==null&&!Fs?(GS(a,c,b),fr(a,c,b)):(yt&&I&&yS(c),c.flags|=1,Hs(a,c,p,b),c.child)}function vP(a,c,h,p,b){if(a===null){var S=h.type;return typeof S=="function"&&!CS(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,CP(a,c,S,p,b)):(a=Iv(h.type,null,p,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(S=a.child,!c0(a,b)){var F=S.memoizedProps;if(h=h.compare,h=h!==null?h:Wf,h(F,p)&&a.ref===c.ref)return fr(a,c,b)}return c.flags|=1,a=rr(S,p),a.ref=c.ref,a.return=c,c.child=a}function CP(a,c,h,p,b){if(a!==null){var S=a.memoizedProps;if(Wf(S,p)&&a.ref===c.ref)if(Fs=!1,c.pendingProps=p=S,c0(a,b))(a.flags&131072)!==0&&(Fs=!0);else return c.lanes=a.lanes,fr(a,c,b)}return s0(a,c,h,p,b)}function bP(a,c,h){var p=c.pendingProps,b=p.children,S=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((c.flags&128)!==0){if(p=S!==null?S.baseLanes|h:h,a!==null){for(b=c.child=a.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;c.childLanes=S&~p}else c.childLanes=0,c.child=null;return wP(a,c,p,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bv(c,S!==null?S.cachePool:null),S!==null?CF(c,S):OS(),rP(c);else return c.lanes=c.childLanes=536870912,wP(a,c,S!==null?S.baseLanes|h:h,h)}else S!==null?(Bv(c,S.cachePool),CF(c,S),Aa(),c.memoizedState=null):(a!==null&&Bv(c,null),OS(),Aa());return Hs(a,c,b,h),c.child}function wP(a,c,h,p){var b=FS();return b=b===null?null:{parent:bs._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},a!==null&&Bv(c,null),OS(),rP(c),a!==null&&Kf(a,c,p,!0),null}function sC(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function s0(a,c,h,p,b){return Xl(c),h=HS(a,c,h,p,void 0,b),p=BS(),a!==null&&!Fs?(GS(a,c,b),fr(a,c,b)):(yt&&p&&yS(c),c.flags|=1,Hs(a,c,h,b),c.child)}function yP(a,c,h,p,b,S){return Xl(c),c.updateQueue=null,h=wF(c,p,h,b),bF(a),p=BS(),a!==null&&!Fs?(GS(a,c,S),fr(a,c,S)):(yt&&p&&yS(c),c.flags|=1,Hs(a,c,h,S),c.child)}function SP(a,c,h,p,b){if(Xl(c),c.stateNode===null){var S=od,F=h.contextType;typeof F=="object"&&F!==null&&(S=Xs(F)),S=new h(p,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=e0,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=p,S.state=c.memoizedState,S.refs={},MS(c),F=h.contextType,S.context=typeof F=="object"&&F!==null?Xs(F):od,S.state=c.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(JS(c,h,F,p),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(F=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),F!==S.state&&e0.enqueueReplaceState(S,S.state,null),tg(c,p,S,b),eg(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(a===null){S=c.stateNode;var I=c.memoizedProps,j=Jl(h,I);S.props=j;var ne=S.context,de=h.contextType;F=od,typeof de=="object"&&de!==null&&(F=Xs(de));var me=h.getDerivedStateFromProps;de=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||ne!==F)&&lP(c,S,p,F),wa=!1;var ie=c.memoizedState;S.state=ie,tg(c,p,S,b),eg(),ne=c.memoizedState,I||ie!==ne||wa?(typeof me=="function"&&(JS(c,h,me,p),ne=c.memoizedState),(j=wa||aP(c,h,j,p,ie,ne,F))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=ne),S.props=p,S.state=ne,S.context=F,p=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{S=c.stateNode,LS(a,c),F=c.memoizedProps,de=Jl(h,F),S.props=de,me=c.pendingProps,ie=S.context,ne=h.contextType,j=od,typeof ne=="object"&&ne!==null&&(j=Xs(ne)),I=h.getDerivedStateFromProps,(ne=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==me||ie!==j)&&lP(c,S,p,j),wa=!1,ie=c.memoizedState,S.state=ie,tg(c,p,S,b),eg();var oe=c.memoizedState;F!==me||ie!==oe||wa||a!==null&&a.dependencies!==null&&Nv(a.dependencies)?(typeof I=="function"&&(JS(c,h,I,p),oe=c.memoizedState),(de=wa||aP(c,h,de,p,ie,oe,j)||a!==null&&a.dependencies!==null&&Nv(a.dependencies))?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,oe,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,oe,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||F===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=oe),S.props=p,S.state=oe,S.context=j,p=de):(typeof S.componentDidUpdate!="function"||F===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),p=!1)}return S=p,sC(a,c),p=(c.flags&128)!==0,S||p?(S=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,a!==null&&p?(c.child=pd(c,a.child,null,b),c.child=pd(c,null,h,b)):Hs(a,c,h,b),c.memoizedState=S.state,a=c.child):a=fr(a,c,b),a}function RP(a,c,h,p){return $f(),c.flags|=256,Hs(a,c,h,p),c.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(a){return{baseLanes:a,cachePool:uF()}}function o0(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=wi),a}function xP(a,c,h){var p=c.pendingProps,b=!1,S=(c.flags&128)!==0,F;if((F=S)||(F=a!==null&&a.memoizedState===null?!1:(ws.current&2)!==0),F&&(b=!0,c.flags&=-129),F=(c.flags&32)!==0,c.flags&=-33,a===null){if(yt){if(b?xa(c):Aa(),yt){var I=ss,j;if(j=I){e:{for(j=I,I=vo;j.nodeType!==8;){if(!I){I=null;break e}if(j=zi(j.nextSibling),j===null){I=null;break e}}I=j}I!==null?(c.memoizedState={dehydrated:I,treeContext:jl!==null?{id:ar,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},j=Wn(18,null,null,0),j.stateNode=I,j.return=c,c.child=j,fn=c,ss=null,j=!0):j=!1}j||Kl(c)}if(I=c.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return z0(I)?c.lanes=32:c.lanes=536870912,null;hr(c)}return I=p.children,p=p.fallback,b?(Aa(),b=c.mode,I=nC({mode:"hidden",children:I},b),p=Ul(p,b,h,null),I.return=c,p.return=c,I.sibling=p,c.child=I,b=c.child,b.memoizedState=i0(h),b.childLanes=o0(a,F,h),c.memoizedState=n0,p):(xa(c),r0(c,I))}if(j=a.memoizedState,j!==null&&(I=j.dehydrated,I!==null)){if(S)c.flags&256?(xa(c),c.flags&=-257,c=a0(a,c,h)):c.memoizedState!==null?(Aa(),c.child=a.child,c.flags|=128,c=null):(Aa(),b=p.fallback,I=c.mode,p=nC({mode:"visible",children:p.children},I),b=Ul(b,I,h,null),b.flags|=2,p.return=c,b.return=c,p.sibling=b,c.child=p,pd(c,a.child,null,h),p=c.child,p.memoizedState=i0(h),p.childLanes=o0(a,F,h),c.memoizedState=n0,c=b);else if(xa(c),z0(I)){if(F=I.nextSibling&&I.nextSibling.dataset,F)var ne=F.dgst;F=ne,p=Error(n(419)),p.stack="",p.digest=F,qf({value:p,source:null,stack:null}),c=a0(a,c,h)}else if(Fs||Kf(a,c,h,!1),F=(h&a.childLanes)!==0,Fs||F){if(F=Gt,F!==null&&(p=h&-h,p=(p&42)!==0?1:Wy(p),p=(p&(F.suspendedLanes|h))!==0?0:p,p!==0&&p!==j.retryLane))throw j.retryLane=p,id(a,p),Kn(F,a,p),pP;I.data==="$?"||A0(),c=a0(a,c,h)}else I.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=j.treeContext,ss=zi(I.nextSibling),fn=c,yt=!0,ql=null,vo=!1,a!==null&&(vi[Ci++]=ar,vi[Ci++]=lr,vi[Ci++]=jl,ar=a.id,lr=a.overflow,jl=c),c=r0(c,p.children),c.flags|=4096);return c}return b?(Aa(),b=p.fallback,I=c.mode,j=a.child,ne=j.sibling,p=rr(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,ne!==null?b=rr(ne,b):(b=Ul(b,I,h,null),b.flags|=2),b.return=c,p.return=c,p.sibling=b,c.child=p,p=b,b=c.child,I=a.child.memoizedState,I===null?I=i0(h):(j=I.cachePool,j!==null?(ne=bs._currentValue,j=j.parent!==ne?{parent:ne,pool:ne}:j):j=uF(),I={baseLanes:I.baseLanes|h,cachePool:j}),b.memoizedState=I,b.childLanes=o0(a,F,h),c.memoizedState=n0,p):(xa(c),h=a.child,a=h.sibling,h=rr(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,a!==null&&(F=c.deletions,F===null?(c.deletions=[a],c.flags|=16):F.push(a)),c.child=h,c.memoizedState=null,h)}function r0(a,c){return c=nC({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function nC(a,c){return a=Wn(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function a0(a,c,h){return pd(c,a.child,null,h),a=r0(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function AP(a,c,h){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c),AS(a.return,c,h)}function l0(a,c,h,p,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:b}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=h,S.tailMode=b)}function EP(a,c,h){var p=c.pendingProps,b=p.revealOrder,S=p.tail;if(Hs(a,c,p.children,h),p=ws.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&AP(a,h,c);else if(a.tag===19)AP(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(J(ws,p),b){case"forwards":for(h=c.child,b=null;h!==null;)a=h.alternate,a!==null&&Jv(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),l0(c,!1,b,h,S);break;case"backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&Jv(a)===null){c.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}l0(c,!0,h,null,S);break;case"together":l0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fr(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Pa|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(Kf(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=rr(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=rr(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function c0(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Nv(a)))}function j2(a,c,h){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),ba(c,bs,a.memoizedState.cache),$f();break;case 27:case 5:Pe(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:ba(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(xa(c),c.flags|=128,null):(h&c.child.childLanes)!==0?xP(a,c,h):(xa(c),a=fr(a,c,h),a!==null?a.sibling:null);xa(c);break;case 19:var b=(a.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(Kf(a,c,h,!1),p=(h&c.childLanes)!==0),b){if(p)return EP(a,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),J(ws,ws.current),p)break;return null;case 22:case 23:return c.lanes=0,bP(a,c,h);case 24:ba(c,bs,a.memoizedState.cache)}return fr(a,c,h)}function DP(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)Fs=!0;else{if(!c0(a,h)&&(c.flags&128)===0)return Fs=!1,j2(a,c,h);Fs=(a.flags&131072)!==0}else Fs=!1,yt&&(c.flags&1048576)!==0&&nF(c,_v,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var p=c.elementType,b=p._init;if(p=b(p._payload),c.type=p,typeof p=="function")CS(p)?(a=Jl(p,a),c.tag=1,c=SP(null,c,p,a,h)):(c.tag=0,c=s0(null,c,p,a,h));else{if(p!=null){if(b=p.$$typeof,b===T){c.tag=11,c=mP(null,c,p,a,h);break e}else if(b===N){c.tag=14,c=vP(null,c,p,a,h);break e}}throw c=te(p)||p,Error(n(306,c,""))}}return c;case 0:return s0(a,c,c.type,c.pendingProps,h);case 1:return p=c.type,b=Jl(p,c.pendingProps),SP(a,c,p,b,h);case 3:e:{if(ke(c,c.stateNode.containerInfo),a===null)throw Error(n(387));p=c.pendingProps;var S=c.memoizedState;b=S.element,LS(a,c),tg(c,p,null,h);var F=c.memoizedState;if(p=F.cache,ba(c,bs,p),p!==S.cache&&ES(c,[bs],h,!0),eg(),p=F.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:F.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=RP(a,c,p,h);break e}else if(p!==b){b=pi(Error(n(424)),c),qf(b),c=RP(a,c,p,h);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ss=zi(a.firstChild),fn=c,yt=!0,ql=null,vo=!0,h=oP(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if($f(),p===b){c=fr(a,c,h);break e}Hs(a,c,p,h)}c=c.child}return c;case 26:return sC(a,c),a===null?(h=MM(c.type,null,c.pendingProps,null))?c.memoizedState=h:yt||(h=c.type,a=c.pendingProps,p=vC(pe.current).createElement(h),p[Ys]=c,p[Dn]=a,Gs(p,h,a),Ts(p),c.stateNode=p):c.memoizedState=MM(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Pe(c),a===null&&yt&&(p=c.stateNode=TM(c.type,c.pendingProps,pe.current),fn=c,vo=!0,b=ss,Ia(c.type)?(W0=b,ss=zi(p.firstChild)):ss=b),Hs(a,c,c.pendingProps.children,h),sC(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&yt&&((b=p=ss)&&(p=bV(p,c.type,c.pendingProps,vo),p!==null?(c.stateNode=p,fn=c,ss=zi(p.firstChild),vo=!1,b=!0):b=!1),b||Kl(c)),Pe(c),b=c.type,S=c.pendingProps,F=a!==null?a.memoizedProps:null,p=S.children,B0(b,S)?p=null:F!==null&&B0(b,F)&&(c.flags|=32),c.memoizedState!==null&&(b=HS(a,c,N2,null,null,h),Rg._currentValue=b),sC(a,c),Hs(a,c,p,h),c.child;case 6:return a===null&&yt&&((a=h=ss)&&(h=wV(h,c.pendingProps,vo),h!==null?(c.stateNode=h,fn=c,ss=null,a=!0):a=!1),a||Kl(c)),null;case 13:return xP(a,c,h);case 4:return ke(c,c.stateNode.containerInfo),p=c.pendingProps,a===null?c.child=pd(c,null,p,h):Hs(a,c,p,h),c.child;case 11:return mP(a,c,c.type,c.pendingProps,h);case 7:return Hs(a,c,c.pendingProps,h),c.child;case 8:return Hs(a,c,c.pendingProps.children,h),c.child;case 12:return Hs(a,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,ba(c,c.type,p.value),Hs(a,c,p.children,h),c.child;case 9:return b=c.type._context,p=c.pendingProps.children,Xl(c),b=Xs(b),p=p(b),c.flags|=1,Hs(a,c,p,h),c.child;case 14:return vP(a,c,c.type,c.pendingProps,h);case 15:return CP(a,c,c.type,c.pendingProps,h);case 19:return EP(a,c,h);case 31:return p=c.pendingProps,h=c.mode,p={mode:p.mode,children:p.children},a===null?(h=nC(p,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=rr(a.child,p),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return bP(a,c,h);case 24:return Xl(c),p=Xs(bs),a===null?(b=FS(),b===null&&(b=Gt,S=DS(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=h),b=S),c.memoizedState={parent:p,cache:b},MS(c),ba(c,bs,b)):((a.lanes&h)!==0&&(LS(a,c),tg(c,null,null,h),eg()),b=a.memoizedState,S=c.memoizedState,b.parent!==p?(b={parent:p,cache:p},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),ba(c,bs,p)):(p=S.cache,ba(c,bs,p),p!==b.cache&&ES(c,[bs],h,!0))),Hs(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function gr(a){a.flags|=4}function TP(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_M(c)){if(c=bi.current,c!==null&&((vt&4194048)===vt?Co!==null:(vt&62914560)!==vt&&(vt&536870912)===0||c!==Co))throw Zf=PS,dF;a.flags|=8192}}function iC(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?rT():536870912,a.lanes|=c,bd|=c)}function lg(a,c){if(!yt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Yt(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(c)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=h,c}function $2(a,c,h){var p=c.pendingProps;switch(SS(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(c),null;case 1:return Yt(c),null;case 3:return h=c.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ur(bs),Ke(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(jf(c)?gr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,rF())),Yt(c),null;case 26:return h=c.memoizedState,a===null?(gr(c),h!==null?(Yt(c),TP(c,h)):(Yt(c),c.flags&=-16777217)):h?h!==a.memoizedState?(gr(c),Yt(c),TP(c,h)):(Yt(c),c.flags&=-16777217):(a.memoizedProps!==p&&gr(c),Yt(c),c.flags&=-16777217),null;case 27:wt(c),h=pe.current;var b=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==p&&gr(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return Yt(c),null}a=le.current,jf(c)?iF(c):(a=TM(b,p,h),c.stateNode=a,gr(c))}return Yt(c),null;case 5:if(wt(c),h=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&gr(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return Yt(c),null}if(a=le.current,jf(c))iF(c);else{switch(b=vC(pe.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?b.createElement(h,{is:p.is}):b.createElement(h)}}a[Ys]=c,a[Dn]=p;e:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break e;for(;b.sibling===null;){if(b.return===null||b.return===c)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=a;e:switch(Gs(a,h,p),h){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&gr(c)}}return Yt(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==p&&gr(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(a=pe.current,jf(c)){if(a=c.stateNode,h=c.memoizedProps,p=null,b=fn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Ys]=c,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||yM(a.nodeValue,h)),a||Kl(c)}else a=vC(a).createTextNode(p),a[Ys]=c,c.stateNode=a}return Yt(c),null;case 13:if(p=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=jf(c),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ys]=c}else $f(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),b=!1}else b=rF(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(hr(c),c):(hr(c),null)}if(hr(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=p!==null,a=a!==null&&a.memoizedState!==null,h){p=c.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)}return h!==a&&h&&(c.child.flags|=8192),iC(c,c.updateQueue),Yt(c),null;case 4:return Ke(),a===null&&I0(c.stateNode.containerInfo),Yt(c),null;case 10:return ur(c.type),Yt(c),null;case 19:if(Q(ws),b=c.memoizedState,b===null)return Yt(c),null;if(p=(c.flags&128)!==0,S=b.rendering,S===null)if(p)lg(b,!1);else{if(ns!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(S=Jv(a),S!==null){for(c.flags|=128,lg(b,!1),a=S.updateQueue,c.updateQueue=a,iC(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)sF(h,a),h=h.sibling;return J(ws,ws.current&1|2),c.child}a=a.sibling}b.tail!==null&&ce()>aC&&(c.flags|=128,p=!0,lg(b,!1),c.lanes=4194304)}else{if(!p)if(a=Jv(S),a!==null){if(c.flags|=128,p=!0,a=a.updateQueue,c.updateQueue=a,iC(c,a),lg(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!yt)return Yt(c),null}else 2*ce()-b.renderingStartTime>aC&&h!==536870912&&(c.flags|=128,p=!0,lg(b,!1),c.lanes=4194304);b.isBackwards?(S.sibling=c.child,c.child=S):(a=b.last,a!==null?a.sibling=S:c.child=S,b.last=S)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=ce(),c.sibling=null,a=ws.current,J(ws,p?a&1|2:a&1),c):(Yt(c),null);case 22:case 23:return hr(c),_S(),p=c.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&(Yt(c),c.subtreeFlags&6&&(c.flags|=8192)):Yt(c),h=c.updateQueue,h!==null&&iC(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),a!==null&&Q(Ql),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ur(bs),Yt(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function q2(a,c){switch(SS(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ur(bs),Ke(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return wt(c),null;case 13:if(hr(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));$f()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Q(ws),null;case 4:return Ke(),null;case 10:return ur(c.type),null;case 22:case 23:return hr(c),_S(),a!==null&&Q(Ql),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return ur(bs),null;case 25:return null;default:return null}}function FP(a,c){switch(SS(c),c.tag){case 3:ur(bs),Ke();break;case 26:case 27:case 5:wt(c);break;case 4:Ke();break;case 13:hr(c);break;case 19:Q(ws);break;case 10:ur(c.type);break;case 22:case 23:hr(c),_S(),a!==null&&Q(Ql);break;case 24:ur(bs)}}function cg(a,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var b=p.next;h=b;do{if((h.tag&a)===a){p=void 0;var S=h.create,F=h.inst;p=S(),F.destroy=p}h=h.next}while(h!==b)}}catch(I){Ht(c,c.return,I)}}function Ea(a,c,h){try{var p=c.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&a)===a){var F=p.inst,I=F.destroy;if(I!==void 0){F.destroy=void 0,b=c;var j=h,ne=I;try{ne()}catch(de){Ht(b,j,de)}}}p=p.next}while(p!==S)}}catch(de){Ht(c,c.return,de)}}function PP(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{vF(c,h)}catch(p){Ht(a,a.return,p)}}}function MP(a,c,h){h.props=Jl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){Ht(a,c,p)}}function ug(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(b){Ht(a,c,b)}}function bo(a,c){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(b){Ht(a,c,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Ht(a,c,b)}else h.current=null}function LP(a){var c=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(b){Ht(a,a.return,b)}}function u0(a,c,h){try{var p=a.stateNode;gV(p,a.type,h,c),p[Dn]=c}catch(b){Ht(a,a.return,b)}}function kP(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ia(a.type)||a.tag===4}function d0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ia(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function h0(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=mC));else if(p!==4&&(p===27&&Ia(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(h0(a,c,h),a=a.sibling;a!==null;)h0(a,c,h),a=a.sibling}function oC(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(p!==4&&(p===27&&Ia(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(oC(a,c,h),a=a.sibling;a!==null;)oC(a,c,h),a=a.sibling}function IP(a){var c=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Gs(c,p,h),c[Ys]=a,c[Dn]=h}catch(S){Ht(a,a.return,S)}}var pr=!1,cs=!1,f0=!1,OP=typeof WeakSet=="function"?WeakSet:Set,Ps=null;function K2(a,c){if(a=a.containerInfo,N0=RC,a=$T(a),dS(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var F=0,I=-1,j=-1,ne=0,de=0,me=a,ie=null;t:for(;;){for(var oe;me!==h||b!==0&&me.nodeType!==3||(I=F+b),me!==S||p!==0&&me.nodeType!==3||(j=F+p),me.nodeType===3&&(F+=me.nodeValue.length),(oe=me.firstChild)!==null;)ie=me,me=oe;for(;;){if(me===a)break t;if(ie===h&&++ne===b&&(I=F),ie===S&&++de===p&&(j=F),(oe=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=oe}h=I===-1||j===-1?null:{start:I,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(H0={focusedElem:a,selectionRange:h},RC=!1,Ps=c;Ps!==null;)if(c=Ps,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Ps=a;else for(;Ps!==null;){switch(c=Ps,S=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=c,b=S.memoizedProps,S=S.memoizedState,p=h.stateNode;try{var Qe=Jl(h.type,b,h.elementType===h.type);a=p.getSnapshotBeforeUpdate(Qe,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ue){Ht(h,h.return,Ue)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)V0(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":V0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=c.sibling,a!==null){a.return=c.return,Ps=a;break}Ps=c.return}}function _P(a,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Da(a,h),p&4&&cg(5,h);break;case 1:if(Da(a,h),p&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(F){Ht(h,h.return,F)}else{var b=Jl(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(b,c,a.__reactInternalSnapshotBeforeUpdate)}catch(F){Ht(h,h.return,F)}}p&64&&PP(h),p&512&&ug(h,h.return);break;case 3:if(Da(a,h),p&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{vF(a,c)}catch(F){Ht(h,h.return,F)}}break;case 27:c===null&&p&4&&IP(h);case 26:case 5:Da(a,h),c===null&&p&4&&LP(h),p&512&&ug(h,h.return);break;case 12:Da(a,h);break;case 13:Da(a,h),p&4&&BP(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=nV.bind(null,h),yV(a,h))));break;case 22:if(p=h.memoizedState!==null||pr,!p){c=c!==null&&c.memoizedState!==null||cs,b=pr;var S=cs;pr=p,(cs=c)&&!S?Ta(a,h,(h.subtreeFlags&8772)!==0):Da(a,h),pr=b,cs=S}break;case 30:break;default:Da(a,h)}}function NP(a){var c=a.alternate;c!==null&&(a.alternate=null,NP(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&$y(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Pn=!1;function mr(a,c,h){for(h=h.child;h!==null;)HP(a,c,h),h=h.sibling}function HP(a,c,h){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Lt,h)}catch{}switch(h.tag){case 26:cs||bo(h,c),mr(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:cs||bo(h,c);var p=$t,b=Pn;Ia(h.type)&&($t=h.stateNode,Pn=!1),mr(a,c,h),bg(h.stateNode),$t=p,Pn=b;break;case 5:cs||bo(h,c);case 6:if(p=$t,b=Pn,$t=null,mr(a,c,h),$t=p,Pn=b,$t!==null)if(Pn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(h.stateNode)}catch(S){Ht(h,c,S)}else try{$t.removeChild(h.stateNode)}catch(S){Ht(h,c,S)}break;case 18:$t!==null&&(Pn?(a=$t,EM(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Dg(a)):EM($t,h.stateNode));break;case 4:p=$t,b=Pn,$t=h.stateNode.containerInfo,Pn=!0,mr(a,c,h),$t=p,Pn=b;break;case 0:case 11:case 14:case 15:cs||Ea(2,h,c),cs||Ea(4,h,c),mr(a,c,h);break;case 1:cs||(bo(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&MP(h,c,p)),mr(a,c,h);break;case 21:mr(a,c,h);break;case 22:cs=(p=cs)||h.memoizedState!==null,mr(a,c,h),cs=p;break;default:mr(a,c,h)}}function BP(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Dg(a)}catch(h){Ht(c,c.return,h)}}function Y2(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new OP),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new OP),c;default:throw Error(n(435,a.tag))}}function g0(a,c){var h=Y2(a);c.forEach(function(p){var b=iV.bind(null,a,p);h.has(p)||(h.add(p),p.then(b,b))})}function Un(a,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var b=h[p],S=a,F=c,I=F;e:for(;I!==null;){switch(I.tag){case 27:if(Ia(I.type)){$t=I.stateNode,Pn=!1;break e}break;case 5:$t=I.stateNode,Pn=!1;break e;case 3:case 4:$t=I.stateNode.containerInfo,Pn=!0;break e}I=I.return}if($t===null)throw Error(n(160));HP(S,F,b),$t=null,Pn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)GP(c,a),c=c.sibling}var Vi=null;function GP(a,c){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Un(c,a),jn(a),p&4&&(Ea(3,a,a.return),cg(3,a),Ea(5,a,a.return));break;case 1:Un(c,a),jn(a),p&512&&(cs||h===null||bo(h,h.return)),p&64&&pr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var b=Vi;if(Un(c,a),jn(a),p&512&&(cs||h===null||bo(h,h.return)),p&4){var S=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[If]||S[Ys]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),Gs(S,p,h),S[Ys]=a,Ts(S),p=S;break e;case"link":var F=IM("link","href",b).get(p+(h.href||""));if(F){for(var I=0;I<F.length;I++)if(S=F[I],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){F.splice(I,1);break t}}S=b.createElement(p),Gs(S,p,h),b.head.appendChild(S);break;case"meta":if(F=IM("meta","content",b).get(p+(h.content||""))){for(I=0;I<F.length;I++)if(S=F[I],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){F.splice(I,1);break t}}S=b.createElement(p),Gs(S,p,h),b.head.appendChild(S);break;default:throw Error(n(468,p))}S[Ys]=a,Ts(S),p=S}a.stateNode=p}else OM(b,a.type,a.stateNode);else a.stateNode=kM(b,p,a.memoizedProps);else S!==p?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,p===null?OM(b,a.type,a.stateNode):kM(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&u0(a,a.memoizedProps,h.memoizedProps)}break;case 27:Un(c,a),jn(a),p&512&&(cs||h===null||bo(h,h.return)),h!==null&&p&4&&u0(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Un(c,a),jn(a),p&512&&(cs||h===null||bo(h,h.return)),a.flags&32){b=a.stateNode;try{Qu(b,"")}catch(oe){Ht(a,a.return,oe)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,u0(a,b,h!==null?h.memoizedProps:b)),p&1024&&(f0=!0);break;case 6:if(Un(c,a),jn(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(oe){Ht(a,a.return,oe)}}break;case 3:if(wC=null,b=Vi,Vi=CC(c.containerInfo),Un(c,a),Vi=b,jn(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Dg(c.containerInfo)}catch(oe){Ht(a,a.return,oe)}f0&&(f0=!1,VP(a));break;case 4:p=Vi,Vi=CC(a.stateNode.containerInfo),Un(c,a),jn(a),Vi=p;break;case 12:Un(c,a),jn(a);break;case 13:Un(c,a),jn(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(w0=ce()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,g0(a,p)));break;case 22:b=a.memoizedState!==null;var j=h!==null&&h.memoizedState!==null,ne=pr,de=cs;if(pr=ne||b,cs=de||j,Un(c,a),cs=de,pr=ne,jn(a),p&8192)e:for(c=a.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(h===null||j||pr||cs||ec(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){j=h=c;try{if(S=j.stateNode,b)F=S.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{I=j.stateNode;var me=j.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;I.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(oe){Ht(j,j.return,oe)}}}else if(c.tag===6){if(h===null){j=c;try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(oe){Ht(j,j.return,oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,g0(a,h))));break;case 19:Un(c,a),jn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,g0(a,p)));break;case 30:break;case 21:break;default:Un(c,a),jn(a)}}function jn(a){var c=a.flags;if(c&2){try{for(var h,p=a.return;p!==null;){if(kP(p)){h=p;break}p=p.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var b=h.stateNode,S=d0(a);oC(a,S,b);break;case 5:var F=h.stateNode;h.flags&32&&(Qu(F,""),h.flags&=-33);var I=d0(a);oC(a,I,F);break;case 3:case 4:var j=h.stateNode.containerInfo,ne=d0(a);h0(a,ne,j);break;default:throw Error(n(161))}}catch(de){Ht(a,a.return,de)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function VP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;VP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Da(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)_P(a,c.alternate,c),c=c.sibling}function ec(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Ea(4,c,c.return),ec(c);break;case 1:bo(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&MP(c,c.return,h),ec(c);break;case 27:bg(c.stateNode);case 26:case 5:bo(c,c.return),ec(c);break;case 22:c.memoizedState===null&&ec(c);break;case 30:ec(c);break;default:ec(c)}a=a.sibling}}function Ta(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,b=a,S=c,F=S.flags;switch(S.tag){case 0:case 11:case 15:Ta(b,S,h),cg(4,S);break;case 1:if(Ta(b,S,h),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ne){Ht(p,p.return,ne)}if(p=S,b=p.updateQueue,b!==null){var I=p.stateNode;try{var j=b.shared.hiddenCallbacks;if(j!==null)for(b.shared.hiddenCallbacks=null,b=0;b<j.length;b++)mF(j[b],I)}catch(ne){Ht(p,p.return,ne)}}h&&F&64&&PP(S),ug(S,S.return);break;case 27:IP(S);case 26:case 5:Ta(b,S,h),h&&p===null&&F&4&&LP(S),ug(S,S.return);break;case 12:Ta(b,S,h);break;case 13:Ta(b,S,h),h&&F&4&&BP(b,S);break;case 22:S.memoizedState===null&&Ta(b,S,h),ug(S,S.return);break;case 30:break;default:Ta(b,S,h)}c=c.sibling}}function p0(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Yf(h))}function m0(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Yf(a))}function wo(a,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)zP(a,c,h,p),c=c.sibling}function zP(a,c,h,p){var b=c.flags;switch(c.tag){case 0:case 11:case 15:wo(a,c,h,p),b&2048&&cg(9,c);break;case 1:wo(a,c,h,p);break;case 3:wo(a,c,h,p),b&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Yf(a)));break;case 12:if(b&2048){wo(a,c,h,p),a=c.stateNode;try{var S=c.memoizedProps,F=S.id,I=S.onPostCommit;typeof I=="function"&&I(F,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){Ht(c,c.return,j)}}else wo(a,c,h,p);break;case 13:wo(a,c,h,p);break;case 23:break;case 22:S=c.stateNode,F=c.alternate,c.memoizedState!==null?S._visibility&2?wo(a,c,h,p):dg(a,c):S._visibility&2?wo(a,c,h,p):(S._visibility|=2,md(a,c,h,p,(c.subtreeFlags&10256)!==0)),b&2048&&p0(F,c);break;case 24:wo(a,c,h,p),b&2048&&m0(c.alternate,c);break;default:wo(a,c,h,p)}}function md(a,c,h,p,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=a,F=c,I=h,j=p,ne=F.flags;switch(F.tag){case 0:case 11:case 15:md(S,F,I,j,b),cg(8,F);break;case 23:break;case 22:var de=F.stateNode;F.memoizedState!==null?de._visibility&2?md(S,F,I,j,b):dg(S,F):(de._visibility|=2,md(S,F,I,j,b)),b&&ne&2048&&p0(F.alternate,F);break;case 24:md(S,F,I,j,b),b&&ne&2048&&m0(F.alternate,F);break;default:md(S,F,I,j,b)}c=c.sibling}}function dg(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,p=c,b=p.flags;switch(p.tag){case 22:dg(h,p),b&2048&&p0(p.alternate,p);break;case 24:dg(h,p),b&2048&&m0(p.alternate,p);break;default:dg(h,p)}c=c.sibling}}var hg=8192;function vd(a){if(a.subtreeFlags&hg)for(a=a.child;a!==null;)WP(a),a=a.sibling}function WP(a){switch(a.tag){case 26:vd(a),a.flags&hg&&a.memoizedState!==null&&IV(Vi,a.memoizedState,a.memoizedProps);break;case 5:vd(a);break;case 3:case 4:var c=Vi;Vi=CC(a.stateNode.containerInfo),vd(a),Vi=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=hg,hg=16777216,vd(a),hg=c):vd(a));break;default:vd(a)}}function UP(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function fg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Ps=p,$P(p,a)}UP(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jP(a),a=a.sibling}function jP(a){switch(a.tag){case 0:case 11:case 15:fg(a),a.flags&2048&&Ea(9,a,a.return);break;case 3:fg(a);break;case 12:fg(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,rC(a)):fg(a);break;default:fg(a)}}function rC(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Ps=p,$P(p,a)}UP(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Ea(8,c,c.return),rC(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,rC(c));break;default:rC(c)}a=a.sibling}}function $P(a,c){for(;Ps!==null;){var h=Ps;switch(h.tag){case 0:case 11:case 15:Ea(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yf(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Ps=p;else e:for(h=a;Ps!==null;){p=Ps;var b=p.sibling,S=p.return;if(NP(p),p===h){Ps=null;break e}if(b!==null){b.return=S,Ps=b;break e}Ps=S}}}var X2={getCacheForType:function(a){var c=Xs(bs),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h}},Q2=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Gt=null,ht=null,vt=0,Tt=0,$n=null,Fa=!1,Cd=!1,v0=!1,vr=0,ns=0,Pa=0,tc=0,C0=0,wi=0,bd=0,gg=null,Mn=null,b0=!1,w0=0,aC=1/0,lC=null,Ma=null,Bs=0,La=null,wd=null,yd=0,y0=0,S0=null,qP=null,pg=0,R0=null;function qn(){if((Dt&2)!==0&&vt!==0)return vt&-vt;if(G.T!==null){var a=ld;return a!==0?a:P0()}return cT()}function KP(){wi===0&&(wi=(vt&536870912)===0||yt?oT():536870912);var a=bi.current;return a!==null&&(a.flags|=32),wi}function Kn(a,c,h){(a===Gt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(Sd(a,0),ka(a,vt,wi,!1)),kf(a,h),((Dt&2)===0||a!==Gt)&&(a===Gt&&((Dt&2)===0&&(tc|=h),ns===4&&ka(a,vt,wi,!1)),yo(a))}function YP(a,c,h){if((Dt&6)!==0)throw Error(n(327));var p=!h&&(c&124)===0&&(c&a.expiredLanes)===0||Lf(a,c),b=p?eV(a,c):E0(a,c,!0),S=p;do{if(b===0){Cd&&!p&&ka(a,c,0,!1);break}else{if(h=a.current.alternate,S&&!Z2(h)){b=E0(a,c,!1),S=!1;continue}if(b===2){if(S=c,a.errorRecoveryDisabledLanes&S)var F=0;else F=a.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){c=F;e:{var I=a;b=gg;var j=I.current.memoizedState.isDehydrated;if(j&&(Sd(I,F).flags|=256),F=E0(I,F,!1),F!==2){if(v0&&!j){I.errorRecoveryDisabledLanes|=S,tc|=S,b=4;break e}S=Mn,Mn=b,S!==null&&(Mn===null?Mn=S:Mn.push.apply(Mn,S))}b=F}if(S=!1,b!==2)continue}}if(b===1){Sd(a,0),ka(a,c,0,!0);break}e:{switch(p=a,S=b,S){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:ka(p,c,wi,!Fa);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(b=w0+300-ce(),10<b)){if(ka(p,c,wi,!Fa),bv(p,0,!0)!==0)break e;p.timeoutHandle=xM(XP.bind(null,p,h,Mn,lC,b0,c,wi,tc,bd,Fa,S,2,-0,0),b);break e}XP(p,h,Mn,lC,b0,c,wi,tc,bd,Fa,S,0,-0,0)}}break}while(!0);yo(a)}function XP(a,c,h,p,b,S,F,I,j,ne,de,me,ie,oe){if(a.timeoutHandle=-1,me=c.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Sg={stylesheets:null,count:0,unsuspend:kV},WP(c),me=OV(),me!==null)){a.cancelPendingCommit=me(nM.bind(null,a,c,S,h,p,b,F,I,j,de,1,ie,oe)),ka(a,S,F,!ne);return}nM(a,c,S,h,p,b,F,I,j)}function Z2(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var b=h[p],S=b.getSnapshot;b=b.value;try{if(!zn(S(),b))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ka(a,c,h,p){c&=~C0,c&=~tc,a.suspendedLanes|=c,a.pingedLanes&=~c,p&&(a.warmLanes|=c),p=a.expirationTimes;for(var b=c;0<b;){var S=31-tt(b),F=1<<S;p[S]=-1,b&=~F}h!==0&&aT(a,h,c)}function cC(){return(Dt&6)===0?(mg(0),!1):!0}function x0(){if(ht!==null){if(Tt===0)var a=ht.return;else a=ht,cr=Yl=null,VS(a),gd=null,rg=0,a=ht;for(;a!==null;)FP(a.alternate,a),a=a.return;ht=null}}function Sd(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,mV(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),x0(),Gt=a,ht=h=rr(a.current,null),vt=c,Tt=0,$n=null,Fa=!1,Cd=Lf(a,c),v0=!1,bd=wi=C0=tc=Pa=ns=0,Mn=gg=null,b0=!1,(c&8)!==0&&(c|=c&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=c;0<p;){var b=31-tt(p),S=1<<b;c|=a[b],p&=~S}return vr=c,Mv(),h}function QP(a,c){lt=null,G.H=Xv,c===Qf||c===Gv?(c=gF(),Tt=3):c===dF?(c=gF(),Tt=4):Tt=c===pP?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$n=c,ht===null&&(ns=1,tC(a,pi(c,a.current)))}function ZP(){var a=G.H;return G.H=Xv,a===null?Xv:a}function JP(){var a=G.A;return G.A=X2,a}function A0(){ns=4,Fa||(vt&4194048)!==vt&&bi.current!==null||(Cd=!0),(Pa&134217727)===0&&(tc&134217727)===0||Gt===null||ka(Gt,vt,wi,!1)}function E0(a,c,h){var p=Dt;Dt|=2;var b=ZP(),S=JP();(Gt!==a||vt!==c)&&(lC=null,Sd(a,c)),c=!1;var F=ns;e:do try{if(Tt!==0&&ht!==null){var I=ht,j=$n;switch(Tt){case 8:x0(),F=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(c=!0);var ne=Tt;if(Tt=0,$n=null,Rd(a,I,j,ne),h&&Cd){F=0;break e}break;default:ne=Tt,Tt=0,$n=null,Rd(a,I,j,ne)}}J2(),F=ns;break}catch(de){QP(a,de)}while(!0);return c&&a.shellSuspendCounter++,cr=Yl=null,Dt=p,G.H=b,G.A=S,ht===null&&(Gt=null,vt=0,Mv()),F}function J2(){for(;ht!==null;)eM(ht)}function eV(a,c){var h=Dt;Dt|=2;var p=ZP(),b=JP();Gt!==a||vt!==c?(lC=null,aC=ce()+500,Sd(a,c)):Cd=Lf(a,c);e:do try{if(Tt!==0&&ht!==null){c=ht;var S=$n;t:switch(Tt){case 1:Tt=0,$n=null,Rd(a,c,S,1);break;case 2:case 9:if(hF(S)){Tt=0,$n=null,tM(c);break}c=function(){Tt!==2&&Tt!==9||Gt!==a||(Tt=7),yo(a)},S.then(c,c);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:hF(S)?(Tt=0,$n=null,tM(c)):(Tt=0,$n=null,Rd(a,c,S,7));break;case 5:var F=null;switch(ht.tag){case 26:F=ht.memoizedState;case 5:case 27:var I=ht;if(!F||_M(F)){Tt=0,$n=null;var j=I.sibling;if(j!==null)ht=j;else{var ne=I.return;ne!==null?(ht=ne,uC(ne)):ht=null}break t}}Tt=0,$n=null,Rd(a,c,S,5);break;case 6:Tt=0,$n=null,Rd(a,c,S,6);break;case 8:x0(),ns=6;break e;default:throw Error(n(462))}}tV();break}catch(de){QP(a,de)}while(!0);return cr=Yl=null,G.H=p,G.A=b,Dt=h,ht!==null?0:(Gt=null,vt=0,Mv(),ns)}function tV(){for(;ht!==null&&!Me();)eM(ht)}function eM(a){var c=DP(a.alternate,a,vr);a.memoizedProps=a.pendingProps,c===null?uC(a):ht=c}function tM(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=yP(h,c,c.pendingProps,c.type,void 0,vt);break;case 11:c=yP(h,c,c.pendingProps,c.type.render,c.ref,vt);break;case 5:VS(c);default:FP(h,c),c=ht=sF(c,vr),c=DP(h,c,vr)}a.memoizedProps=a.pendingProps,c===null?uC(a):ht=c}function Rd(a,c,h,p){cr=Yl=null,VS(c),gd=null,rg=0;var b=c.return;try{if(U2(a,b,c,h,vt)){ns=1,tC(a,pi(h,a.current)),ht=null;return}}catch(S){if(b!==null)throw ht=b,S;ns=1,tC(a,pi(h,a.current)),ht=null;return}c.flags&32768?(yt||p===1?a=!0:Cd||(vt&536870912)!==0?a=!1:(Fa=a=!0,(p===2||p===9||p===3||p===6)&&(p=bi.current,p!==null&&p.tag===13&&(p.flags|=16384))),sM(c,a)):uC(c)}function uC(a){var c=a;do{if((c.flags&32768)!==0){sM(c,Fa);return}a=c.return;var h=$2(c.alternate,c,vr);if(h!==null){ht=h;return}if(c=c.sibling,c!==null){ht=c;return}ht=c=a}while(c!==null);ns===0&&(ns=5)}function sM(a,c){do{var h=q2(a.alternate,a);if(h!==null){h.flags&=32767,ht=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){ht=a;return}ht=a=h}while(a!==null);ns=6,ht=null}function nM(a,c,h,p,b,S,F,I,j){a.cancelPendingCommit=null;do dC();while(Bs!==0);if((Dt&6)!==0)throw Error(n(327));if(c!==null){if(c===a.current)throw Error(n(177));if(S=c.lanes|c.childLanes,S|=mS,kG(a,h,S,F,I,j),a===Gt&&(ht=Gt=null,vt=0),wd=c,La=a,yd=h,y0=S,S0=b,qP=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oV(Ge,function(){return lM(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null,b=V.p,V.p=2,F=Dt,Dt|=4;try{K2(a,c,h)}finally{Dt=F,V.p=b,G.T=p}}Bs=1,iM(),oM(),rM()}}function iM(){if(Bs===1){Bs=0;var a=La,c=wd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var p=V.p;V.p=2;var b=Dt;Dt|=4;try{GP(c,a);var S=H0,F=$T(a.containerInfo),I=S.focusedElem,j=S.selectionRange;if(F!==I&&I&&I.ownerDocument&&jT(I.ownerDocument.documentElement,I)){if(j!==null&&dS(I)){var ne=j.start,de=j.end;if(de===void 0&&(de=ne),"selectionStart"in I)I.selectionStart=ne,I.selectionEnd=Math.min(de,I.value.length);else{var me=I.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Qe=I.textContent.length,Ue=Math.min(j.start,Qe),Ot=j.end===void 0?Ue:Math.min(j.end,Qe);!oe.extend&&Ue>Ot&&(F=Ot,Ot=Ue,Ue=F);var Z=UT(I,Ue),X=UT(I,Ot);if(Z&&X&&(oe.rangeCount!==1||oe.anchorNode!==Z.node||oe.anchorOffset!==Z.offset||oe.focusNode!==X.node||oe.focusOffset!==X.offset)){var se=me.createRange();se.setStart(Z.node,Z.offset),oe.removeAllRanges(),Ue>Ot?(oe.addRange(se),oe.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),oe.addRange(se))}}}}for(me=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&me.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<me.length;I++){var fe=me[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}RC=!!N0,H0=N0=null}finally{Dt=b,V.p=p,G.T=h}}a.current=c,Bs=2}}function oM(){if(Bs===2){Bs=0;var a=La,c=wd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var p=V.p;V.p=2;var b=Dt;Dt|=4;try{_P(a,c.alternate,c)}finally{Dt=b,V.p=p,G.T=h}}Bs=3}}function rM(){if(Bs===4||Bs===3){Bs=0,He();var a=La,c=wd,h=yd,p=qP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Bs=5:(Bs=0,wd=La=null,aM(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Ma=null),Uy(h),c=c.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Lt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=G.T,b=V.p,V.p=2,G.T=null;try{for(var S=a.onRecoverableError,F=0;F<p.length;F++){var I=p[F];S(I.value,{componentStack:I.stack})}}finally{G.T=c,V.p=b}}(yd&3)!==0&&dC(),yo(a),b=a.pendingLanes,(h&4194090)!==0&&(b&42)!==0?a===R0?pg++:(pg=0,R0=a):pg=0,mg(0)}}function aM(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Yf(c)))}function dC(a){return iM(),oM(),rM(),lM()}function lM(){if(Bs!==5)return!1;var a=La,c=y0;y0=0;var h=Uy(yd),p=G.T,b=V.p;try{V.p=32>h?32:h,G.T=null,h=S0,S0=null;var S=La,F=yd;if(Bs=0,wd=La=null,yd=0,(Dt&6)!==0)throw Error(n(331));var I=Dt;if(Dt|=4,jP(S.current),zP(S,S.current,F,h),Dt=I,mg(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Lt,S)}catch{}return!0}finally{V.p=b,G.T=p,aM(a,c)}}function cM(a,c,h){c=pi(h,c),c=t0(a.stateNode,c,2),a=Sa(a,c,2),a!==null&&(kf(a,2),yo(a))}function Ht(a,c,h){if(a.tag===3)cM(a,a,h);else for(;c!==null;){if(c.tag===3){cM(c,a,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ma===null||!Ma.has(p))){a=pi(h,a),h=fP(2),p=Sa(c,h,2),p!==null&&(gP(h,p,c,a),kf(p,2),yo(p));break}}c=c.return}}function D0(a,c,h){var p=a.pingCache;if(p===null){p=a.pingCache=new Q2;var b=new Set;p.set(c,b)}else b=p.get(c),b===void 0&&(b=new Set,p.set(c,b));b.has(h)||(v0=!0,b.add(h),a=sV.bind(null,a,c,h),c.then(a,a))}function sV(a,c,h){var p=a.pingCache;p!==null&&p.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Gt===a&&(vt&h)===h&&(ns===4||ns===3&&(vt&62914560)===vt&&300>ce()-w0?(Dt&2)===0&&Sd(a,0):C0|=h,bd===vt&&(bd=0)),yo(a)}function uM(a,c){c===0&&(c=rT()),a=id(a,c),a!==null&&(kf(a,c),yo(a))}function nV(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),uM(a,h)}function iV(a,c){var h=0;switch(a.tag){case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(c),uM(a,h)}function oV(a,c){return he(a,c)}var hC=null,xd=null,T0=!1,fC=!1,F0=!1,sc=0;function yo(a){a!==xd&&a.next===null&&(xd===null?hC=xd=a:xd=xd.next=a),fC=!0,T0||(T0=!0,aV())}function mg(a,c){if(!F0&&fC){F0=!0;do for(var h=!1,p=hC;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var F=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-tt(42|a)+1)-1,S&=b&~(F&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,gM(p,S))}else S=vt,S=bv(p,p===Gt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Lf(p,S)||(h=!0,gM(p,S));p=p.next}while(h);F0=!1}}function rV(){dM()}function dM(){fC=T0=!1;var a=0;sc!==0&&(pV()&&(a=sc),sc=0);for(var c=ce(),h=null,p=hC;p!==null;){var b=p.next,S=hM(p,c);S===0?(p.next=null,h===null?hC=b:h.next=b,b===null&&(xd=h)):(h=p,(a!==0||(S&3)!==0)&&(fC=!0)),p=b}mg(a)}function hM(a,c){for(var h=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var F=31-tt(S),I=1<<F,j=b[F];j===-1?((I&h)===0||(I&p)!==0)&&(b[F]=LG(I,c)):j<=c&&(a.expiredLanes|=I),S&=~I}if(c=Gt,h=vt,h=bv(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===c&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&ye(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Lf(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(p!==null&&ye(p),Uy(h)){case 2:case 8:h=De;break;case 32:h=Ge;break;case 268435456:h=Xe;break;default:h=Ge}return p=fM.bind(null,a),h=he(h,p),a.callbackPriority=c,a.callbackNode=h,c}return p!==null&&p!==null&&ye(p),a.callbackPriority=2,a.callbackNode=null,2}function fM(a,c){if(Bs!==0&&Bs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(dC()&&a.callbackNode!==h)return null;var p=vt;return p=bv(a,a===Gt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(YP(a,p,c),hM(a,ce()),a.callbackNode!=null&&a.callbackNode===h?fM.bind(null,a):null)}function gM(a,c){if(dC())return null;YP(a,c,!0)}function aV(){vV(function(){(Dt&6)!==0?he(Re,rV):dM()})}function P0(){return sc===0&&(sc=oT()),sc}function pM(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xv(""+a)}function mM(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function lV(a,c,h,p,b){if(c==="submit"&&h&&h.stateNode===b){var S=pM((b[Dn]||null).action),F=p.submitter;F&&(c=(c=F[Dn]||null)?pM(c.formAction):F.getAttribute("formAction"),c!==null&&(S=c,F=null));var I=new Tv("action","action",null,p,b);a.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(sc!==0){var j=F?mM(b,F):new FormData(b);XS(h,{pending:!0,data:j,method:b.method,action:S},null,j)}}else typeof S=="function"&&(I.preventDefault(),j=F?mM(b,F):new FormData(b),XS(h,{pending:!0,data:j,method:b.method,action:S},S,j))},currentTarget:b}]})}}for(var M0=0;M0<pS.length;M0++){var L0=pS[M0],cV=L0.toLowerCase(),uV=L0[0].toUpperCase()+L0.slice(1);Gi(cV,"on"+uV)}Gi(YT,"onAnimationEnd"),Gi(XT,"onAnimationIteration"),Gi(QT,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(D2,"onTransitionRun"),Gi(T2,"onTransitionStart"),Gi(F2,"onTransitionCancel"),Gi(ZT,"onTransitionEnd"),Ku("onMouseEnter",["mouseout","mouseover"]),Ku("onMouseLeave",["mouseout","mouseover"]),Ku("onPointerEnter",["pointerout","pointerover"]),Ku("onPointerLeave",["pointerout","pointerover"]),Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vg));function vM(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],b=p.event;p=p.listeners;e:{var S=void 0;if(c)for(var F=p.length-1;0<=F;F--){var I=p[F],j=I.instance,ne=I.currentTarget;if(I=I.listener,j!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=ne;try{S(b)}catch(de){eC(de)}b.currentTarget=null,S=j}else for(F=0;F<p.length;F++){if(I=p[F],j=I.instance,ne=I.currentTarget,I=I.listener,j!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=ne;try{S(b)}catch(de){eC(de)}b.currentTarget=null,S=j}}}}function ft(a,c){var h=c[jy];h===void 0&&(h=c[jy]=new Set);var p=a+"__bubble";h.has(p)||(CM(c,a,2,!1),h.add(p))}function k0(a,c,h){var p=0;c&&(p|=4),CM(h,a,p,c)}var gC="_reactListening"+Math.random().toString(36).slice(2);function I0(a){if(!a[gC]){a[gC]=!0,dT.forEach(function(h){h!=="selectionchange"&&(dV.has(h)||k0(h,!1,a),k0(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[gC]||(c[gC]=!0,k0("selectionchange",!1,c))}}function CM(a,c,h,p){switch(zM(c)){case 2:var b=HV;break;case 8:b=BV;break;default:b=K0}h=b.bind(null,c,h,a),b=void 0,!sS||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(c,h,{capture:!0,passive:b}):a.addEventListener(c,h,!0):b!==void 0?a.addEventListener(c,h,{passive:b}):a.addEventListener(c,h,!1)}function O0(a,c,h,p,b){var S=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var I=p.stateNode.containerInfo;if(I===b)break;if(F===4)for(F=p.return;F!==null;){var j=F.tag;if((j===3||j===4)&&F.stateNode.containerInfo===b)return;F=F.return}for(;I!==null;){if(F=ju(I),F===null)return;if(j=F.tag,j===5||j===6||j===26||j===27){p=S=F;continue e}I=I.parentNode}}p=p.return}AT(function(){var ne=S,de=eS(h),me=[];e:{var ie=JT.get(a);if(ie!==void 0){var oe=Tv,Qe=a;switch(a){case"keypress":if(Ev(h)===0)break e;case"keydown":case"keyup":oe=o2;break;case"focusin":Qe="focus",oe=rS;break;case"focusout":Qe="blur",oe=rS;break;case"beforeblur":case"afterblur":oe=rS;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=qG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=l2;break;case YT:case XT:case QT:oe=XG;break;case ZT:oe=u2;break;case"scroll":case"scrollend":oe=jG;break;case"wheel":oe=h2;break;case"copy":case"cut":case"paste":oe=ZG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=PT;break;case"toggle":case"beforetoggle":oe=g2}var Ue=(c&4)!==0,Ot=!Ue&&(a==="scroll"||a==="scrollend"),Z=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var X=ne,se;X!==null;){var fe=X;if(se=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||se===null||Z===null||(fe=_f(X,Z),fe!=null&&Ue.push(Cg(X,fe,se))),Ot)break;X=X.return}0<Ue.length&&(ie=new oe(ie,Qe,null,h,de),me.push({event:ie,listeners:Ue}))}}if((c&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ie&&h!==Jy&&(Qe=h.relatedTarget||h.fromElement)&&(ju(Qe)||Qe[Uu]))break e;if((oe||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Qe=h.relatedTarget||h.toElement,oe=ne,Qe=Qe?ju(Qe):null,Qe!==null&&(Ot=o(Qe),Ue=Qe.tag,Qe!==Ot||Ue!==5&&Ue!==27&&Ue!==6)&&(Qe=null)):(oe=null,Qe=ne),oe!==Qe)){if(Ue=TT,fe="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Ue=PT,fe="onPointerLeave",Z="onPointerEnter",X="pointer"),Ot=oe==null?ie:Of(oe),se=Qe==null?ie:Of(Qe),ie=new Ue(fe,X+"leave",oe,h,de),ie.target=Ot,ie.relatedTarget=se,fe=null,ju(de)===ne&&(Ue=new Ue(Z,X+"enter",Qe,h,de),Ue.target=se,Ue.relatedTarget=Ot,fe=Ue),Ot=fe,oe&&Qe)t:{for(Ue=oe,Z=Qe,X=0,se=Ue;se;se=Ad(se))X++;for(se=0,fe=Z;fe;fe=Ad(fe))se++;for(;0<X-se;)Ue=Ad(Ue),X--;for(;0<se-X;)Z=Ad(Z),se--;for(;X--;){if(Ue===Z||Z!==null&&Ue===Z.alternate)break t;Ue=Ad(Ue),Z=Ad(Z)}Ue=null}else Ue=null;oe!==null&&bM(me,ie,oe,Ue,!1),Qe!==null&&Ot!==null&&bM(me,Ot,Qe,Ue,!0)}}e:{if(ie=ne?Of(ne):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Ie=HT;else if(_T(ie))if(BT)Ie=x2;else{Ie=S2;var ut=y2}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&Zy(ne.elementType)&&(Ie=HT):Ie=R2;if(Ie&&(Ie=Ie(a,ne))){NT(me,Ie,h,de);break e}ut&&ut(a,ie,ne),a==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&Qy(ie,"number",ie.value)}switch(ut=ne?Of(ne):window,a){case"focusin":(_T(ut)||ut.contentEditable==="true")&&(td=ut,hS=ne,Uf=null);break;case"focusout":Uf=hS=td=null;break;case"mousedown":fS=!0;break;case"contextmenu":case"mouseup":case"dragend":fS=!1,qT(me,h,de);break;case"selectionchange":if(E2)break;case"keydown":case"keyup":qT(me,h,de)}var Be;if(lS)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ed?IT(a,h)&&($e="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&($e="onCompositionStart");$e&&(MT&&h.locale!=="ko"&&(ed||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ed&&(Be=ET()):(Ca=de,nS="value"in Ca?Ca.value:Ca.textContent,ed=!0)),ut=pC(ne,$e),0<ut.length&&($e=new FT($e,a,null,h,de),me.push({event:$e,listeners:ut}),Be?$e.data=Be:(Be=OT(h),Be!==null&&($e.data=Be)))),(Be=m2?v2(a,h):C2(a,h))&&($e=pC(ne,"onBeforeInput"),0<$e.length&&(ut=new FT("onBeforeInput","beforeinput",null,h,de),me.push({event:ut,listeners:$e}),ut.data=Be)),lV(me,a,ne,h,de)}vM(me,c)})}function Cg(a,c,h){return{instance:a,listener:c,currentTarget:h}}function pC(a,c){for(var h=c+"Capture",p=[];a!==null;){var b=a,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=_f(a,h),b!=null&&p.unshift(Cg(a,b,S)),b=_f(a,c),b!=null&&p.push(Cg(a,b,S))),a.tag===3)return p;a=a.return}return[]}function Ad(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bM(a,c,h,p,b){for(var S=c._reactName,F=[];h!==null&&h!==p;){var I=h,j=I.alternate,ne=I.stateNode;if(I=I.tag,j!==null&&j===p)break;I!==5&&I!==26&&I!==27||ne===null||(j=ne,b?(ne=_f(h,S),ne!=null&&F.unshift(Cg(h,ne,j))):b||(ne=_f(h,S),ne!=null&&F.push(Cg(h,ne,j)))),h=h.return}F.length!==0&&a.push({event:c,listeners:F})}var hV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function wM(a){return(typeof a=="string"?a:""+a).replace(hV,`
`).replace(fV,"")}function yM(a,c){return c=wM(c),wM(a)===c}function mC(){}function It(a,c,h,p,b,S){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Qu(a,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Qu(a,""+p);break;case"className":yv(a,"class",p);break;case"tabIndex":yv(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":yv(a,h,p);break;case"style":RT(a,p,S);break;case"data":if(c!=="object"){yv(a,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=xv(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&It(a,c,"name",b.name,b,null),It(a,c,"formEncType",b.formEncType,b,null),It(a,c,"formMethod",b.formMethod,b,null),It(a,c,"formTarget",b.formTarget,b,null)):(It(a,c,"encType",b.encType,b,null),It(a,c,"method",b.method,b,null),It(a,c,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=xv(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=mC);break;case"onScroll":p!=null&&ft("scroll",a);break;case"onScrollEnd":p!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=xv(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":ft("beforetoggle",a),ft("toggle",a),wv(a,"popover",p);break;case"xlinkActuate":ir(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ir(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ir(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ir(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ir(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ir(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ir(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ir(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ir(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":wv(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=WG.get(h)||h,wv(a,h,p))}}function _0(a,c,h,p,b,S){switch(h){case"style":RT(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof p=="string"?Qu(a,p):(typeof p=="number"||typeof p=="bigint")&&Qu(a,""+p);break;case"onScroll":p!=null&&ft("scroll",a);break;case"onScrollEnd":p!=null&&ft("scrollend",a);break;case"onClick":p!=null&&(a.onclick=mC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hT.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),c=h.slice(2,b?h.length-7:void 0),S=a[Dn]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(c,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,p,b);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):wv(a,h,p)}}}function Gs(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var p=!1,b=!1,S;for(S in h)if(h.hasOwnProperty(S)){var F=h[S];if(F!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:It(a,c,S,F,h,null)}}b&&It(a,c,"srcSet",h.srcSet,h,null),p&&It(a,c,"src",h.src,h,null);return;case"input":ft("invalid",a);var I=S=F=b=null,j=null,ne=null;for(p in h)if(h.hasOwnProperty(p)){var de=h[p];if(de!=null)switch(p){case"name":b=de;break;case"type":F=de;break;case"checked":j=de;break;case"defaultChecked":ne=de;break;case"value":S=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,c));break;default:It(a,c,p,de,h,null)}}bT(a,S,I,j,ne,F,b,!1),Sv(a);return;case"select":ft("invalid",a),p=F=S=null;for(b in h)if(h.hasOwnProperty(b)&&(I=h[b],I!=null))switch(b){case"value":S=I;break;case"defaultValue":F=I;break;case"multiple":p=I;default:It(a,c,b,I,h,null)}c=S,h=F,a.multiple=!!p,c!=null?Xu(a,!!p,c,!1):h!=null&&Xu(a,!!p,h,!0);return;case"textarea":ft("invalid",a),S=b=p=null;for(F in h)if(h.hasOwnProperty(F)&&(I=h[F],I!=null))switch(F){case"value":p=I;break;case"defaultValue":b=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:It(a,c,F,I,h,null)}yT(a,p,b,S),Sv(a);return;case"option":for(j in h)if(h.hasOwnProperty(j)&&(p=h[j],p!=null))switch(j){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:It(a,c,j,p,h,null)}return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(p=0;p<vg.length;p++)ft(vg[p],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in h)if(h.hasOwnProperty(ne)&&(p=h[ne],p!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:It(a,c,ne,p,h,null)}return;default:if(Zy(c)){for(de in h)h.hasOwnProperty(de)&&(p=h[de],p!==void 0&&_0(a,c,de,p,h,void 0));return}}for(I in h)h.hasOwnProperty(I)&&(p=h[I],p!=null&&It(a,c,I,p,h,null))}function gV(a,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,F=null,I=null,j=null,ne=null,de=null;for(oe in h){var me=h[oe];if(h.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=me;default:p.hasOwnProperty(oe)||It(a,c,oe,null,p,me)}}for(var ie in p){var oe=p[ie];if(me=h[ie],p.hasOwnProperty(ie)&&(oe!=null||me!=null))switch(ie){case"type":S=oe;break;case"name":b=oe;break;case"checked":ne=oe;break;case"defaultChecked":de=oe;break;case"value":F=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,c));break;default:oe!==me&&It(a,c,ie,oe,p,me)}}Xy(a,F,I,j,ne,de,S,b);return;case"select":oe=F=I=ie=null;for(S in h)if(j=h[S],h.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":oe=j;default:p.hasOwnProperty(S)||It(a,c,S,null,p,j)}for(b in p)if(S=p[b],j=h[b],p.hasOwnProperty(b)&&(S!=null||j!=null))switch(b){case"value":ie=S;break;case"defaultValue":I=S;break;case"multiple":F=S;default:S!==j&&It(a,c,b,S,p,j)}c=I,h=F,p=oe,ie!=null?Xu(a,!!h,ie,!1):!!p!=!!h&&(c!=null?Xu(a,!!h,c,!0):Xu(a,!!h,h?[]:"",!1));return;case"textarea":oe=ie=null;for(I in h)if(b=h[I],h.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:It(a,c,I,null,p,b)}for(F in p)if(b=p[F],S=h[F],p.hasOwnProperty(F)&&(b!=null||S!=null))switch(F){case"value":ie=b;break;case"defaultValue":oe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==S&&It(a,c,F,b,p,S)}wT(a,ie,oe);return;case"option":for(var Qe in h)if(ie=h[Qe],h.hasOwnProperty(Qe)&&ie!=null&&!p.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:It(a,c,Qe,null,p,ie)}for(j in p)if(ie=p[j],oe=h[j],p.hasOwnProperty(j)&&ie!==oe&&(ie!=null||oe!=null))switch(j){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:It(a,c,j,ie,p,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)ie=h[Ue],h.hasOwnProperty(Ue)&&ie!=null&&!p.hasOwnProperty(Ue)&&It(a,c,Ue,null,p,ie);for(ne in p)if(ie=p[ne],oe=h[ne],p.hasOwnProperty(ne)&&ie!==oe&&(ie!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,c));break;default:It(a,c,ne,ie,p,oe)}return;default:if(Zy(c)){for(var Ot in h)ie=h[Ot],h.hasOwnProperty(Ot)&&ie!==void 0&&!p.hasOwnProperty(Ot)&&_0(a,c,Ot,void 0,p,ie);for(de in p)ie=p[de],oe=h[de],!p.hasOwnProperty(de)||ie===oe||ie===void 0&&oe===void 0||_0(a,c,de,ie,p,oe);return}}for(var Z in h)ie=h[Z],h.hasOwnProperty(Z)&&ie!=null&&!p.hasOwnProperty(Z)&&It(a,c,Z,null,p,ie);for(me in p)ie=p[me],oe=h[me],!p.hasOwnProperty(me)||ie===oe||ie==null&&oe==null||It(a,c,me,ie,p,oe)}var N0=null,H0=null;function vC(a){return a.nodeType===9?a:a.ownerDocument}function SM(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RM(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function B0(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var G0=null;function pV(){var a=window.event;return a&&a.type==="popstate"?a===G0?!1:(G0=a,!0):(G0=null,!1)}var xM=typeof setTimeout=="function"?setTimeout:void 0,mV=typeof clearTimeout=="function"?clearTimeout:void 0,AM=typeof Promise=="function"?Promise:void 0,vV=typeof queueMicrotask=="function"?queueMicrotask:typeof AM<"u"?function(a){return AM.resolve(null).then(a).catch(CV)}:xM;function CV(a){setTimeout(function(){throw a})}function Ia(a){return a==="head"}function EM(a,c){var h=c,p=0,b=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<p&&8>p){h=p;var F=a.ownerDocument;if(h&1&&bg(F.documentElement),h&2&&bg(F.body),h&4)for(h=F.head,bg(h),F=h.firstChild;F;){var I=F.nextSibling,j=F.nodeName;F[If]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&F.rel.toLowerCase()==="stylesheet"||h.removeChild(F),F=I}}if(b===0){a.removeChild(S),Dg(c);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:p=h.charCodeAt(0)-48;else p=0;h=S}while(h);Dg(c)}function V0(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":V0(h),$y(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function bV(a,c,h,p){for(;a.nodeType===1;){var b=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[If])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=zi(a.nextSibling),a===null)break}return null}function wV(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=zi(a.nextSibling),a===null))return null;return a}function z0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function yV(a,c){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function zi(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var W0=null;function DM(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}function TM(a,c,h){switch(c=vC(h),a){case"html":if(a=c.documentElement,!a)throw Error(n(452));return a;case"head":if(a=c.head,!a)throw Error(n(453));return a;case"body":if(a=c.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function bg(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);$y(a)}var yi=new Map,FM=new Set;function CC(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Cr=V.d;V.d={f:SV,r:RV,D:xV,C:AV,L:EV,m:DV,X:FV,S:TV,M:PV};function SV(){var a=Cr.f(),c=cC();return a||c}function RV(a){var c=$u(a);c!==null&&c.tag===5&&c.type==="form"?YF(c):Cr.r(a)}var Ed=typeof document>"u"?null:document;function PM(a,c,h){var p=Ed;if(p&&typeof c=="string"&&c){var b=gi(c);b='link[rel="'+a+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),FM.has(b)||(FM.add(b),a={rel:a,crossOrigin:h,href:c},p.querySelector(b)===null&&(c=p.createElement("link"),Gs(c,"link",a),Ts(c),p.head.appendChild(c)))}}function xV(a){Cr.D(a),PM("dns-prefetch",a,null)}function AV(a,c){Cr.C(a,c),PM("preconnect",a,c)}function EV(a,c,h){Cr.L(a,c,h);var p=Ed;if(p&&a&&c){var b='link[rel="preload"][as="'+gi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+gi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+gi(h.imageSizes)+'"]')):b+='[href="'+gi(a)+'"]';var S=b;switch(c){case"style":S=Dd(a);break;case"script":S=Td(a)}yi.has(S)||(a=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),yi.set(S,a),p.querySelector(b)!==null||c==="style"&&p.querySelector(wg(S))||c==="script"&&p.querySelector(yg(S))||(c=p.createElement("link"),Gs(c,"link",a),Ts(c),p.head.appendChild(c)))}}function DV(a,c){Cr.m(a,c);var h=Ed;if(h&&a){var p=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+gi(p)+'"][href="'+gi(a)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Td(a)}if(!yi.has(S)&&(a=f({rel:"modulepreload",href:a},c),yi.set(S,a),h.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yg(S)))return}p=h.createElement("link"),Gs(p,"link",a),Ts(p),h.head.appendChild(p)}}}function TV(a,c,h){Cr.S(a,c,h);var p=Ed;if(p&&a){var b=qu(p).hoistableStyles,S=Dd(a);c=c||"default";var F=b.get(S);if(!F){var I={loading:0,preload:null};if(F=p.querySelector(wg(S)))I.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},h),(h=yi.get(S))&&U0(a,h);var j=F=p.createElement("link");Ts(j),Gs(j,"link",a),j._p=new Promise(function(ne,de){j.onload=ne,j.onerror=de}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,bC(F,c,p)}F={type:"stylesheet",instance:F,count:1,state:I},b.set(S,F)}}}function FV(a,c){Cr.X(a,c);var h=Ed;if(h&&a){var p=qu(h).hoistableScripts,b=Td(a),S=p.get(b);S||(S=h.querySelector(yg(b)),S||(a=f({src:a,async:!0},c),(c=yi.get(b))&&j0(a,c),S=h.createElement("script"),Ts(S),Gs(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function PV(a,c){Cr.M(a,c);var h=Ed;if(h&&a){var p=qu(h).hoistableScripts,b=Td(a),S=p.get(b);S||(S=h.querySelector(yg(b)),S||(a=f({src:a,async:!0,type:"module"},c),(c=yi.get(b))&&j0(a,c),S=h.createElement("script"),Ts(S),Gs(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function MM(a,c,h,p){var b=(b=pe.current)?CC(b):null;if(!b)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Dd(h.href),h=qu(b).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Dd(h.href);var S=qu(b).hoistableStyles,F=S.get(a);if(F||(b=b.ownerDocument||b,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,F),(S=b.querySelector(wg(a)))&&!S._p&&(F.instance=S,F.state.loading=5),yi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},yi.set(a,h),S||MV(b,a,h,F.state))),c&&p===null)throw Error(n(528,""));return F}if(c&&p!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Td(h),h=qu(b).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Dd(a){return'href="'+gi(a)+'"'}function wg(a){return'link[rel="stylesheet"]['+a+"]"}function LM(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function MV(a,c,h,p){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=a.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Gs(c,"link",h),Ts(c),a.head.appendChild(c))}function Td(a){return'[src="'+gi(a)+'"]'}function yg(a){return"script[async]"+a}function kM(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=a.querySelector('style[data-href~="'+gi(h.href)+'"]');if(p)return c.instance=p,Ts(p),p;var b=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ts(p),Gs(p,"style",b),bC(p,h.precedence,a),c.instance=p;case"stylesheet":b=Dd(h.href);var S=a.querySelector(wg(b));if(S)return c.state.loading|=4,c.instance=S,Ts(S),S;p=LM(h),(b=yi.get(b))&&U0(p,b),S=(a.ownerDocument||a).createElement("link"),Ts(S);var F=S;return F._p=new Promise(function(I,j){F.onload=I,F.onerror=j}),Gs(S,"link",p),c.state.loading|=4,bC(S,h.precedence,a),c.instance=S;case"script":return S=Td(h.src),(b=a.querySelector(yg(S)))?(c.instance=b,Ts(b),b):(p=h,(b=yi.get(S))&&(p=f({},h),j0(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Ts(b),Gs(b,"link",p),a.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,bC(p,h.precedence,a));return c.instance}function bC(a,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,F=0;F<p.length;F++){var I=p[F];if(I.dataset.precedence===c)S=I;else if(S!==b)break}S?S.parentNode.insertBefore(a,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function U0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function j0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var wC=null;function IM(a,c,h){if(wC===null){var p=new Map,b=wC=new Map;b.set(h,p)}else b=wC,p=b.get(h),p||(p=new Map,b.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),b=0;b<h.length;b++){var S=h[b];if(!(S[If]||S[Ys]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var F=S.getAttribute(c)||"";F=a+F;var I=p.get(F);I?I.push(S):p.set(F,[S])}}return p}function OM(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function LV(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function _M(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Sg=null;function kV(){}function IV(a,c,h){if(Sg===null)throw Error(n(475));var p=Sg;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Dd(h.href),S=a.querySelector(wg(b));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=yC.bind(p),a.then(p,p)),c.state.loading|=4,c.instance=S,Ts(S);return}S=a.ownerDocument||a,h=LM(h),(b=yi.get(b))&&U0(h,b),S=S.createElement("link"),Ts(S);var F=S;F._p=new Promise(function(I,j){F.onload=I,F.onerror=j}),Gs(S,"link",h),c.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(p.count++,c=yC.bind(p),a.addEventListener("load",c),a.addEventListener("error",c))}}function OV(){if(Sg===null)throw Error(n(475));var a=Sg;return a.stylesheets&&a.count===0&&$0(a,a.stylesheets),0<a.count?function(c){var h=setTimeout(function(){if(a.stylesheets&&$0(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h)}}:null}function yC(){if(this.count--,this.count===0){if(this.stylesheets)$0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var SC=null;function $0(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,SC=new Map,c.forEach(_V,a),SC=null,yC.call(a))}function _V(a,c){if(!(c.state.loading&4)){var h=SC.get(a);if(h)var p=h.get(null);else{h=new Map,SC.set(a,h);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var F=b[S];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(h.set(F.dataset.precedence,F),p=F)}p&&h.set(null,p)}b=c.instance,F=b.getAttribute("data-precedence"),S=h.get(F)||p,S===p&&h.set(null,b),h.set(F,b),this.count++,p=yC.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),c.state.loading|=4}}var Rg={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function NV(a,c,h,p,b,S,F,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zy(0),this.hiddenUpdates=zy(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function NM(a,c,h,p,b,S,F,I,j,ne,de,me){return a=new NV(a,c,h,F,I,j,ne,me),c=1,S===!0&&(c|=24),S=Wn(3,null,null,c),a.current=S,S.stateNode=a,c=DS(),c.refCount++,a.pooledCache=c,c.refCount++,S.memoizedState={element:p,isDehydrated:h,cache:c},MS(S),a}function HM(a){return a?(a=od,a):od}function BM(a,c,h,p,b,S){b=HM(b),p.context===null?p.context=b:p.pendingContext=b,p=ya(c),p.payload={element:h},S=S===void 0?null:S,S!==null&&(p.callback=S),h=Sa(a,p,c),h!==null&&(Kn(h,a,c),Jf(h,a,c))}function GM(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function q0(a,c){GM(a,c),(a=a.alternate)&&GM(a,c)}function VM(a){if(a.tag===13){var c=id(a,67108864);c!==null&&Kn(c,a,67108864),q0(a,67108864)}}var RC=!0;function HV(a,c,h,p){var b=G.T;G.T=null;var S=V.p;try{V.p=2,K0(a,c,h,p)}finally{V.p=S,G.T=b}}function BV(a,c,h,p){var b=G.T;G.T=null;var S=V.p;try{V.p=8,K0(a,c,h,p)}finally{V.p=S,G.T=b}}function K0(a,c,h,p){if(RC){var b=Y0(p);if(b===null)O0(a,c,p,xC,h),WM(a,p);else if(VV(b,a,c,h,p))p.stopPropagation();else if(WM(a,p),c&4&&-1<GV.indexOf(a)){for(;b!==null;){var S=$u(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var F=Bl(S.pendingLanes);if(F!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;F;){var j=1<<31-tt(F);I.entanglements[1]|=j,F&=~j}yo(S),(Dt&6)===0&&(aC=ce()+500,mg(0))}}break;case 13:I=id(S,2),I!==null&&Kn(I,S,2),cC(),q0(S,2)}if(S=Y0(p),S===null&&O0(a,c,p,xC,h),S===b)break;b=S}b!==null&&p.stopPropagation()}else O0(a,c,p,null,h)}}function Y0(a){return a=eS(a),X0(a)}var xC=null;function X0(a){if(xC=null,a=ju(a),a!==null){var c=o(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=r(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return xC=a,null}function zM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Re:return 2;case De:return 8;case Ge:case Ye:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Q0=!1,Oa=null,_a=null,Na=null,xg=new Map,Ag=new Map,Ha=[],GV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WM(a,c){switch(a){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":xg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(c.pointerId)}}function Eg(a,c,h,p,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},c!==null&&(c=$u(c),c!==null&&VM(c)),a):(a.eventSystemFlags|=p,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function VV(a,c,h,p,b){switch(c){case"focusin":return Oa=Eg(Oa,a,c,h,p,b),!0;case"dragenter":return _a=Eg(_a,a,c,h,p,b),!0;case"mouseover":return Na=Eg(Na,a,c,h,p,b),!0;case"pointerover":var S=b.pointerId;return xg.set(S,Eg(xg.get(S)||null,a,c,h,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Ag.set(S,Eg(Ag.get(S)||null,a,c,h,p,b)),!0}return!1}function UM(a){var c=ju(a.target);if(c!==null){var h=o(c);if(h!==null){if(c=h.tag,c===13){if(c=r(h),c!==null){a.blockedOn=c,IG(a.priority,function(){if(h.tag===13){var p=qn();p=Wy(p);var b=id(h,p);b!==null&&Kn(b,h,p),q0(h,p)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function AC(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Y0(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);Jy=p,h.target.dispatchEvent(p),Jy=null}else return c=$u(h),c!==null&&VM(c),a.blockedOn=h,!1;c.shift()}return!0}function jM(a,c,h){AC(a)&&h.delete(c)}function zV(){Q0=!1,Oa!==null&&AC(Oa)&&(Oa=null),_a!==null&&AC(_a)&&(_a=null),Na!==null&&AC(Na)&&(Na=null),xg.forEach(jM),Ag.forEach(jM)}function EC(a,c){a.blockedOn===c&&(a.blockedOn=null,Q0||(Q0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zV)))}var DC=null;function $M(a){DC!==a&&(DC=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){DC===a&&(DC=null);for(var c=0;c<a.length;c+=3){var h=a[c],p=a[c+1],b=a[c+2];if(typeof p!="function"){if(X0(p||h)===null)continue;break}var S=$u(h);S!==null&&(a.splice(c,3),c-=3,XS(S,{pending:!0,data:b,method:h.method,action:p},p,b))}}))}function Dg(a){function c(j){return EC(j,a)}Oa!==null&&EC(Oa,a),_a!==null&&EC(_a,a),Na!==null&&EC(Na,a),xg.forEach(c),Ag.forEach(c);for(var h=0;h<Ha.length;h++){var p=Ha[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Ha.length&&(h=Ha[0],h.blockedOn===null);)UM(h),h.blockedOn===null&&Ha.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var b=h[p],S=h[p+1],F=b[Dn]||null;if(typeof S=="function")F||$M(h);else if(F){var I=null;if(S&&S.hasAttribute("formAction")){if(b=S,F=S[Dn]||null)I=F.formAction;else if(X0(b)!==null)continue}else I=F.action;typeof I=="function"?h[p+1]=I:(h.splice(p,3),p-=3),$M(h)}}}function Z0(a){this._internalRoot=a}TC.prototype.render=Z0.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,p=qn();BM(h,p,a,c,null,null)},TC.prototype.unmount=Z0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;BM(a.current,2,null,a,null,null),cC(),c[Uu]=null}};function TC(a){this._internalRoot=a}TC.prototype.unstable_scheduleHydration=function(a){if(a){var c=cT();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Ha.length&&c!==0&&c<Ha[h].priority;h++);Ha.splice(h,0,a),h===0&&UM(a)}};var qM=t.version;if(qM!=="19.1.0")throw Error(n(527,qM,"19.1.0"));V.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(c),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var WV={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var FC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!FC.isDisabled&&FC.supportsFiber)try{Lt=FC.inject(WV),pt=FC}catch{}}return Fg.createRoot=function(a,c){if(!i(a))throw Error(n(299));var h=!1,p="",b=cP,S=uP,F=dP,I=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(F=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks)),c=NM(a,1,!1,null,null,h,p,b,S,F,I,null),a[Uu]=c.current,I0(a),new Z0(c)},Fg.hydrateRoot=function(a,c,h){if(!i(a))throw Error(n(299));var p=!1,b="",S=cP,F=uP,I=dP,j=null,ne=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(I=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(j=h.unstable_transitionCallbacks),h.formState!==void 0&&(ne=h.formState)),c=NM(a,1,!0,c,h??null,p,b,S,F,I,j,ne),c.context=HM(null),h=c.current,p=qn(),p=Wy(p),b=ya(p),b.callback=null,Sa(h,b,p),h=p,c.current.lanes=h,kf(c,h),yo(c),a[Uu]=c.current,I0(a),new TC(c)},Fg.version="19.1.0",Fg}var i1;function sz(){if(i1)return sR.exports;i1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sR.exports=tz(),sR.exports}var nz=sz(),Uo=function(){return Uo=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Uo.apply(this,arguments)};function Lk(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function iz(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var JC="right-scroll-bar-position",eb="width-before-scroll-bar",oz="with-scroll-bars-hidden",rz="--removed-body-scroll-bar-size";function rR(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function az(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var lz=typeof window<"u"?x.useLayoutEffect:x.useEffect,o1=new WeakMap;function cz(e,t){var s=az(null,function(n){return e.forEach(function(i){return rR(i,n)})});return lz(function(){var n=o1.get(s);if(n){var i=new Set(n),o=new Set(e),r=s.current;i.forEach(function(l){o.has(l)||rR(l,null)}),o.forEach(function(l){i.has(l)||rR(l,r)})}o1.set(s,e)},[e]),s}function uz(e){return e}function dz(e,t){t===void 0&&(t=uz);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var r=t(o,n);return s.push(r),function(){s=s.filter(function(l){return l!==r})}},assignSyncMedium:function(o){for(n=!0;s.length;){var r=s;s=[],r.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){n=!0;var r=[];if(s.length){var l=s;s=[],l.forEach(o),r=s}var u=function(){var f=r;r=[],f.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),s={push:function(f){r.push(f),d()},filter:function(f){return r=r.filter(f),s}}}};return i}function hz(e){e===void 0&&(e={});var t=dz(null);return t.options=Uo({async:!0,ssr:!1},e),t}var kk=function(e){var t=e.sideCar,s=Lk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Uo({},s))};kk.isSideCarExport=!0;function fz(e,t){return e.useMedium(t),kk}var Ik=hz(),aR=function(){},Gw=x.forwardRef(function(e,t){var s=x.useRef(null),n=x.useState({onScrollCapture:aR,onWheelCapture:aR,onTouchMoveCapture:aR}),i=n[0],o=n[1],r=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,g=e.shards,m=e.sideCar,C=e.noIsolation,w=e.inert,y=e.allowPinchZoom,R=e.as,A=R===void 0?"div":R,D=e.gapMode,E=Lk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=m,P=cz([s,t]),L=Uo(Uo({},E),i);return x.createElement(x.Fragment,null,f&&x.createElement(T,{sideCar:Ik,removeScrollBar:d,shards:g,noIsolation:C,inert:w,setCallbacks:o,allowPinchZoom:!!y,lockRef:s,gapMode:D}),r?x.cloneElement(x.Children.only(l),Uo(Uo({},L),{ref:P})):x.createElement(A,Uo({},L,{className:u,ref:P}),l))});Gw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gw.classNames={fullWidth:eb,zeroRight:JC};var gz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gz();return t&&e.setAttribute("nonce",t),e}function mz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Cz=function(){var e=0,t=null;return{add:function(s){e==0&&(t=pz())&&(mz(t,s),vz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bz=function(){var e=Cz();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Ok=function(){var e=bz(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},wz={left:0,top:0,right:0,gap:0},lR=function(e){return parseInt(e||"",10)||0},yz=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lR(s),lR(n),lR(i)]},Sz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wz;var t=yz(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},Rz=Ok(),qd="data-scroll-locked",xz=function(e,t,s,n){var i=e.left,o=e.top,r=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(oz,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(qd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(JC,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(eb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(JC," .").concat(JC,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(eb," .").concat(eb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qd,`] {
    `).concat(rz,": ").concat(l,`px;
  }
`)},r1=function(){var e=parseInt(document.body.getAttribute(qd)||"0",10);return isFinite(e)?e:0},Az=function(){x.useEffect(function(){return document.body.setAttribute(qd,(r1()+1).toString()),function(){var e=r1()-1;e<=0?document.body.removeAttribute(qd):document.body.setAttribute(qd,e.toString())}},[])},Ez=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Az();var o=x.useMemo(function(){return Sz(i)},[i]);return x.createElement(Rz,{styles:xz(o,!t,i,s?"":"!important")})},ix=!1;if(typeof window<"u")try{var PC=Object.defineProperty({},"passive",{get:function(){return ix=!0,!0}});window.addEventListener("test",PC,PC),window.removeEventListener("test",PC,PC)}catch{ix=!1}var Fd=ix?{passive:!1}:!1,Dz=function(e){return e.tagName==="TEXTAREA"},_k=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Dz(e)&&s[t]==="visible")},Tz=function(e){return _k(e,"overflowY")},Fz=function(e){return _k(e,"overflowX")},a1=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Nk(e,n);if(i){var o=Hk(e,n),r=o[1],l=o[2];if(r>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},Pz=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},Mz=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},Nk=function(e,t){return e==="v"?Tz(t):Fz(t)},Hk=function(e,t){return e==="v"?Pz(t):Mz(t)},Lz=function(e,t){return e==="h"&&t==="rtl"?-1:1},kz=function(e,t,s,n,i){var o=Lz(e,window.getComputedStyle(t).direction),r=o*n,l=s.target,u=t.contains(l),d=!1,f=r>0,g=0,m=0;do{var C=Hk(e,l),w=C[0],y=C[1],R=C[2],A=y-R-o*w;(w||A)&&Nk(e,l)&&(g+=A,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(g)<1||!f&&Math.abs(m)<1)&&(d=!0),d},MC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l1=function(e){return[e.deltaX,e.deltaY]},c1=function(e){return e&&"current"in e?e.current:e},Iz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_z=0,Pd=[];function Nz(e){var t=x.useRef([]),s=x.useRef([0,0]),n=x.useRef(),i=x.useState(_z++)[0],o=x.useState(Ok)[0],r=x.useRef(e);x.useEffect(function(){r.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=iz([e.lockRef.current],(e.shards||[]).map(c1),!0).filter(Boolean);return y.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(y,R){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!r.current.allowPinchZoom;var A=MC(y),D=s.current,E="deltaX"in y?y.deltaX:D[0]-A[0],T="deltaY"in y?y.deltaY:D[1]-A[1],P,L=y.target,N=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&N==="h"&&L.type==="range")return!1;var B=a1(N,L);if(!B)return!0;if(B?P=N:(P=N==="v"?"h":"v",B=a1(N,L)),!B)return!1;if(!n.current&&"changedTouches"in y&&(E||T)&&(n.current=P),!P)return!0;var W=n.current||P;return kz(W,R,y,W==="h"?E:T)},[]),u=x.useCallback(function(y){var R=y;if(!(!Pd.length||Pd[Pd.length-1]!==o)){var A="deltaY"in R?l1(R):MC(R),D=t.current.filter(function(P){return P.name===R.type&&(P.target===R.target||R.target===P.shadowParent)&&Iz(P.delta,A)})[0];if(D&&D.should){R.cancelable&&R.preventDefault();return}if(!D){var E=(r.current.shards||[]).map(c1).filter(Boolean).filter(function(P){return P.contains(R.target)}),T=E.length>0?l(R,E[0]):!r.current.noIsolation;T&&R.cancelable&&R.preventDefault()}}},[]),d=x.useCallback(function(y,R,A,D){var E={name:y,delta:R,target:A,should:D,shadowParent:Hz(A)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),f=x.useCallback(function(y){s.current=MC(y),n.current=void 0},[]),g=x.useCallback(function(y){d(y.type,l1(y),y.target,l(y,e.lockRef.current))},[]),m=x.useCallback(function(y){d(y.type,MC(y),y.target,l(y,e.lockRef.current))},[]);x.useEffect(function(){return Pd.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Fd),document.addEventListener("touchmove",u,Fd),document.addEventListener("touchstart",f,Fd),function(){Pd=Pd.filter(function(y){return y!==o}),document.removeEventListener("wheel",u,Fd),document.removeEventListener("touchmove",u,Fd),document.removeEventListener("touchstart",f,Fd)}},[]);var C=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(o,{styles:Oz(i)}):null,C?x.createElement(Ez,{gapMode:e.gapMode}):null)}function Hz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Bz=fz(Ik,Nz);var Bk=x.forwardRef(function(e,t){return x.createElement(Gw,Uo({},e,{ref:t,sideCar:Bz}))});Bk.classNames=Gw.classNames;function qo(e){return Object.keys(e)}function cR(e){return e&&typeof e=="object"&&!Array.isArray(e)}function bE(e,t){const s={...e},n=t;return cR(e)&&cR(t)&&Object.keys(t).forEach(i=>{cR(n[i])&&i in e?s[i]=bE(s[i],n[i]):s[i]=n[i]}),s}function Gz(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Vz(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function zz(e){const t=Vz(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function uR(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Gk(e,{shouldScale:t=!1}={}){function s(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const i=`${n/16}${e}`;return t?uR(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(o=>s(o)).join(",");if(n.includes(" "))return n.split(" ").map(o=>s(o)).join(" ");if(n.includes(e))return t?uR(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?uR(o):o}}return n}return s}const be=Gk("rem",{shouldScale:!0}),u1=Gk("em");function wE(e){return Object.keys(e).reduce((t,s)=>(e[s]!==void 0&&(t[s]=e[s]),t),{})}function Vk(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function yE(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==x.Fragment:!1}function Lu(e){const t=x.createContext(null);return[({children:i,value:o})=>_.jsx(t.Provider,{value:o,children:i}),()=>{const i=x.useContext(t);if(i===null)throw new Error(e);return i}]}function Vw(e=null){const t=x.createContext(e);return[({children:i,value:o})=>_.jsx(t.Provider,{value:o,children:i}),()=>x.useContext(t)]}function zb(e,t){let s=e;for(;(s=s.parentElement)&&!s.matches(t););return s}function Wz(e,t,s){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(s){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function Uz(e,t,s){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(s){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function jz(e,t,s){return zb(e,s)===zb(t,s)}function $z({parentSelector:e,siblingSelector:t,onKeyDown:s,loop:n=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:r}){return l=>{var m;s==null||s(l);const u=Array.from(((m=zb(l.currentTarget,e))==null?void 0:m.querySelectorAll(t))||[]).filter(C=>jz(l.currentTarget,C,e)),d=u.findIndex(C=>l.currentTarget===C),f=Uz(d,u,n),g=Wz(d,u,n);switch(l.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{l.stopPropagation(),l.preventDefault(),u[g].focus(),i&&u[g].click();break}case"ArrowDown":{l.stopPropagation(),l.preventDefault(),u[f].focus(),i&&u[f].click();break}case"Home":{l.stopPropagation(),l.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const C=u.length-1;!u[C].disabled&&u[C].focus();break}}}}const qz={app:100,modal:200,popover:300,overlay:400,max:9999};function Il(e){return qz[e]}const ox=()=>{};function Kz(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ox:s=>{var n;s.key==="Escape"&&(e(s),(n=t.onTrigger)==null||n.call(t))}}function Cs(e,t="size",s=!0){if(e!==void 0)return Vk(e)?s?be(e):e:`var(--${t}-${e})`}function Sl(e){return Cs(e,"mantine-spacing")}function hi(e){return e===void 0?"var(--mantine-radius-default)":Cs(e,"mantine-radius")}function yn(e){return Cs(e,"mantine-font-size")}function Yz(e){return Cs(e,"mantine-line-height",!1)}function SE(e){if(e)return Cs(e,"mantine-shadow",!1)}function Bn(e,t){return s=>{e==null||e(s),t==null||t(s)}}function Xz(e,t,s){var n;return s?Array.from(((n=zb(s,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(i=>i===s):null}function Qz(){const[e,t]=x.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Kd(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function rx(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Zz(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let i=0;i<n;i+=1){const o=s[i];if(!(o in t)||e[o]!==t[o])return!1}return!0}function cc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function zw(e,t){const s=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,i=cc(e),o=x.useRef(0),r=x.useRef(()=>{}),l=Object.assign(x.useCallback((...u)=>{window.clearTimeout(o.current);const d=()=>{o.current!==0&&(o.current=0,i(...u))};r.current=d,l.flush=d,o.current=window.setTimeout(d,s)},[i,s]),{flush:r.current});return x.useEffect(()=>()=>{window.clearTimeout(o.current),n&&l.flush()},[l,n]),l}const d1=["mousedown","touchstart"];function Jz(e,t,s){const n=x.useRef(null);return x.useEffect(()=>{const i=o=>{const{target:r}=o??{};if(Array.isArray(s)){const l=(r==null?void 0:r.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(r)&&r.tagName!=="HTML";s.every(d=>!!d&&!o.composedPath().includes(d))&&!l&&e()}else n.current&&!n.current.contains(r)&&e()};return(t||d1).forEach(o=>document.addEventListener(o,i)),()=>{(t||d1).forEach(o=>document.removeEventListener(o,i))}},[n,e,s]),n}function eW(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function tW(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function sW(e,t,{getInitialValueInEffect:s}={getInitialValueInEffect:!0}){const[n,i]=x.useState(s?t:tW(e)),o=x.useRef(null);return x.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),eW(o.current,r=>i(r.matches))},[e]),n}const Xm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function wu(e,t){const s=x.useRef(!1);x.useEffect(()=>()=>{s.current=!1},[]),x.useEffect(()=>{if(s.current)return e();s.current=!0},t)}function zk({opened:e,shouldReturnFocus:t=!0}){const s=x.useRef(null),n=()=>{var i;s.current&&"focus"in s.current&&typeof s.current.focus=="function"&&((i=s.current)==null||i.focus({preventScroll:!0}))};return wu(()=>{let i=-1;const o=r=>{r.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?s.current=document.activeElement:t&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),n}const nW=/input|select|textarea|button|object/,Wk="a, input, select, textarea, button, object, [tabindex]";function iW(e){return e.style.display==="none"}function oW(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let s=e;for(;s&&!(s===document.body||s.nodeType===11);){if(iW(s))return!1;s=s.parentNode}return!0}function Uk(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function ax(e){const t=e.nodeName.toLowerCase(),s=!Number.isNaN(Uk(e));return(nW.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||s)&&oW(e)}function jk(e){const t=Uk(e);return(Number.isNaN(t)||t>=0)&&ax(e)}function rW(e){return Array.from(e.querySelectorAll(Wk)).filter(jk)}function aW(e,t){const s=rW(e);if(!s.length){t.preventDefault();return}const n=s[t.shiftKey?0:s.length-1],i=e.getRootNode();let o=n===i.activeElement||e===i.activeElement;const r=i.activeElement;if(r.tagName==="INPUT"&&r.getAttribute("type")==="radio"&&(o=s.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===r.getAttribute("name")).includes(n)),!o)return;t.preventDefault();const u=s[t.shiftKey?s.length-1:0];u&&u.focus()}function lW(e=!0){const t=x.useRef(null),s=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const r=Array.from(i.querySelectorAll(Wk));o=r.find(jk)||r.find(ax)||null,!o&&ax(i)&&(o=i)}o&&o.focus({preventScroll:!0})},n=x.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&s(i)}),t.current=i):t.current=null)},[e]);return x.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>s(t.current));const i=o=>{o.key==="Tab"&&t.current&&aW(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n}const cW=ve.useId||(()=>{});function uW(){const e=cW();return e?`mantine-${e.replace(/:/g,"")}`:""}function Qm(e){const t=uW(),[s,n]=x.useState(t);return Xm(()=>{n(rx())},[]),typeof e=="string"?e:typeof window>"u"?t:s}function vp(e,t,s){x.useEffect(()=>(window.addEventListener(e,t,s),()=>window.removeEventListener(e,t,s)),[e,t])}function dW(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function $k(e){try{return e&&JSON.parse(e)}catch{return e}}function qk(e){return{getItem:i=>{try{return window[e].getItem(i)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(i,o)=>{try{window[e].setItem(i,o)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:i=>{try{window[e].removeItem(i)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function hW(e,t){const s="mantine-local-storage",{getItem:n,setItem:i,removeItem:o}=qk(e);return function({key:l,defaultValue:u,getInitialValueInEffect:d=!0,sync:f=!0,deserialize:g=$k,serialize:m=C=>dW(C,t)}){const C=x.useCallback(D=>{let E;try{E=typeof window>"u"||!(e in window)||window[e]===null||!!D}catch{E=!0}if(E)return u;const T=n(l);return T!==null?g(T):u},[l,u]),[w,y]=x.useState(C(d)),R=x.useCallback(D=>{D instanceof Function?y(E=>{const T=D(E);return i(l,m(T)),window.dispatchEvent(new CustomEvent(s,{detail:{key:l,value:D(E)}})),T}):(i(l,m(D)),window.dispatchEvent(new CustomEvent(s,{detail:{key:l,value:D}})),y(D))},[l]),A=x.useCallback(()=>{o(l),window.dispatchEvent(new CustomEvent(s,{detail:{key:l,value:u}}))},[]);return vp("storage",D=>{f&&D.storageArea===window[e]&&D.key===l&&y(g(D.newValue??void 0))}),vp(s,D=>{f&&D.detail.key===l&&y(D.detail.value)}),x.useEffect(()=>{u!==void 0&&w===void 0&&R(u)},[u,w,R]),x.useEffect(()=>{const D=C();D!==void 0&&R(D)},[l]),[w===void 0?u:w,R,A]}}function fW(e){const{getItem:t}=qk(e);return function({key:n,defaultValue:i,deserialize:o=$k}){let r;try{r=typeof window>"u"||!(e in window)||window[e]===null}catch{r=!0}if(r)return i;const l=t(n);return l!==null?o(l):i}}function lx(e){return hW("localStorage","use-local-storage")(e)}const cx=fW("localStorage");function Cp(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function gW(...e){const t=new Map;return s=>{if(e.forEach(n=>{const i=Cp(n,s);i&&t.set(n,i)}),t.size>0)return()=>{e.forEach(n=>{const i=t.get(n);i?i():Cp(n,null)}),t.clear()}}}function En(...e){return x.useCallback(gW(...e),e)}function pW(e,t,s="ltr"){const n=x.useRef(null),i=x.useRef(!1),o=x.useRef(!1),r=x.useRef(0),[l,u]=x.useState(!1);return x.useEffect(()=>{i.current=!0},[]),x.useEffect(()=>{const d=n.current,f=({x:E,y:T})=>{cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(i.current&&d){d.style.userSelect="none";const P=d.getBoundingClientRect();if(P.width&&P.height){const L=Kd((E-P.left)/P.width,0,1);e({x:s==="ltr"?L:1-L,y:Kd((T-P.top)/P.height,0,1)})}}})},g=()=>{document.addEventListener("mousemove",R),document.addEventListener("mouseup",w),document.addEventListener("touchmove",D),document.addEventListener("touchend",w)},m=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",w)},C=()=>{!o.current&&i.current&&(o.current=!0,u(!0),g())},w=()=>{o.current&&i.current&&(o.current=!1,u(!1),m(),setTimeout(()=>{},0))},y=E=>{C(),E.preventDefault(),R(E)},R=E=>f({x:E.clientX,y:E.clientY}),A=E=>{E.cancelable&&E.preventDefault(),C(),D(E)},D=E=>{E.cancelable&&E.preventDefault(),f({x:E.changedTouches[0].clientX,y:E.changedTouches[0].clientY})};return d==null||d.addEventListener("mousedown",y),d==null||d.addEventListener("touchstart",A,{passive:!1}),()=>{d&&(d.removeEventListener("mousedown",y),d.removeEventListener("touchstart",A))}},[s,e]),{ref:n,active:l}}function ku({value:e,defaultValue:t,finalValue:s,onChange:n=()=>{}}){const[i,o]=x.useState(t!==void 0?t:s),r=(l,...u)=>{o(l),n==null||n(l,...u)};return e!==void 0?[e,n,!0]:[i,r,!1]}function Ga(e,t){const s=t-e+1;return Array.from({length:s},(n,i)=>i+e)}const LC="dots";function mW({total:e,siblings:t=1,boundaries:s=1,page:n,initialPage:i=1,onChange:o}){const r=Math.max(Math.trunc(e),0),[l,u]=ku({value:n,onChange:o,defaultValue:i,finalValue:i}),d=y=>{y<=0?u(1):y>r?u(r):u(y)},f=()=>d(l+1),g=()=>d(l-1),m=()=>d(1),C=()=>d(r);return{range:x.useMemo(()=>{if(t*2+3+s*2>=r)return Ga(1,r);const R=Math.max(l-t,s),A=Math.min(l+t,r-s),D=R>s+2,E=A<r-(s+1);if(!D&&E){const T=t*2+s+2;return[...Ga(1,T),LC,...Ga(r-(s-1),r)]}if(D&&!E){const T=s+1+2*t;return[...Ga(1,s),LC,...Ga(r-T,r)]}return[...Ga(1,s),LC,...Ga(R,A),LC,...Ga(r-s+1,r)]},[r,t,l]),active:l,setPage:d,next:f,previous:g,first:m,last:C}}function Kk(e,t){return sW("(prefers-reduced-motion: reduce)",e,t)}const vW={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function CW(e){const t=x.useRef(0),s=x.useRef(null),[n,i]=x.useState(vW),o=x.useMemo(()=>typeof window<"u"?new ResizeObserver(r=>{const l=r[0];l&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var u,d;if(s.current){const f=((u=l.borderBoxSize)==null?void 0:u[0])||((d=l.contentBoxSize)==null?void 0:d[0]);if(f){const g=f.inlineSize,m=f.blockSize;i({width:g,height:m,x:l.contentRect.x,y:l.contentRect.y,top:l.contentRect.top,left:l.contentRect.left,bottom:l.contentRect.bottom,right:l.contentRect.right})}else i(l.contentRect)}}))}):null,[]);return x.useEffect(()=>(s.current&&(o==null||o.observe(s.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[s.current]),[s,n]}function bW(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!Zz(e[s],t[s]))return!1;return!0}function wW(e){const t=x.useRef([]),s=x.useRef(0);return bW(t.current,e)||(t.current=e,s.current+=1),[s.current]}function yW(e,t){x.useEffect(e,wW(t))}const h1={passive:!0};function SW(){const[e,t]=x.useState({width:0,height:0}),s=x.useCallback(()=>{t({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return vp("resize",s,h1),vp("orientationchange",s,h1),x.useEffect(s,[]),e}function Yk(e=!1,t){const{onOpen:s,onClose:n}={},[i,o]=x.useState(e),r=x.useCallback(()=>{o(d=>d||(s==null||s(),!0))},[s]),l=x.useCallback(()=>{o(d=>d&&(n==null||n(),!1))},[n]),u=x.useCallback(()=>{i?l():r()},[l,r,i]);return[i,{open:r,close:l,toggle:u}]}function RW(e,t,s={autoInvoke:!1}){const n=x.useRef(null),i=x.useCallback((...r)=>{n.current||(n.current=window.setTimeout(()=>{e(r),n.current=null},t))},[t]),o=x.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return x.useEffect(()=>(s.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function xW(e,t,s){const n=x.useRef(null),i=x.useRef(null);return x.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||i.current)&&(n.current=new MutationObserver(e),n.current.observe(o||i.current,t)),()=>{var r;(r=n.current)==null||r.disconnect()}},[e,t]),i}function AW(){const[e,t]=x.useState(!1);return x.useEffect(()=>t(!0),[]),e}var EW={};function DW(){return typeof process<"u"&&EW?"production":"development"}function TW(e){var s;const t=ve.version;return typeof ve.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(s=e==null?void 0:e.props)==null?void 0:s.ref}function Xk(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=Xk(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function Ds(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=Xk(e))&&(n&&(n+=" "),n+=t);return n}const FW={};function PW(e){const t={};return e.forEach(s=>{Object.entries(s).forEach(([n,i])=>{t[n]?t[n]=Ds(t[n],i):t[n]=i})}),t}function Ww({theme:e,classNames:t,props:s,stylesCtx:n}){const o=(Array.isArray(t)?t:[t]).map(r=>typeof r=="function"?r(e,s,n):r||FW);return PW(o)}function Wb({theme:e,styles:t,props:s,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((o,r)=>typeof r=="function"?{...o,...r(e,s,n)}:{...o,...r},{})}const Qk=x.createContext(null);function Ol(){const e=x.useContext(Qk);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function MW(){return Ol().cssVariablesResolver}function LW(){return Ol().classNamesPrefix}function RE(){return Ol().getStyleNonce}function kW(){return Ol().withStaticClasses}function IW(){return Ol().headless}function OW(){var e;return(e=Ol().stylesTransform)==null?void 0:e.sx}function _W(){var e;return(e=Ol().stylesTransform)==null?void 0:e.styles}function Zk(){return Ol().env||"default"}function NW(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function HW(e){let t=e.replace("#","");if(t.length===3){const r=t.split("");t=[r[0],r[0],r[1],r[1],r[2],r[2]].join("")}if(t.length===8){const r=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:r}}const s=parseInt(t,16),n=s>>16&255,i=s>>8&255,o=s&255;return{r:n,g:i,b:o,a:1}}function BW(e){const[t,s,n,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:s,b:n,a:i||1}}function GW(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,s=e.match(t);if(!s)return{r:0,g:0,b:0,a:1};const n=parseInt(s[1],10),i=parseInt(s[2],10)/100,o=parseInt(s[3],10)/100,r=s[5]?parseFloat(s[5]):void 0,l=(1-Math.abs(2*o-1))*i,u=n/60,d=l*(1-Math.abs(u%2-1)),f=o-l/2;let g,m,C;return u>=0&&u<1?(g=l,m=d,C=0):u>=1&&u<2?(g=d,m=l,C=0):u>=2&&u<3?(g=0,m=l,C=d):u>=3&&u<4?(g=0,m=d,C=l):u>=4&&u<5?(g=d,m=0,C=l):(g=l,m=0,C=d),{r:Math.round((g+f)*255),g:Math.round((m+f)*255),b:Math.round((C+f)*255),a:r||1}}function xE(e){return NW(e)?HW(e):e.startsWith("rgb")?BW(e):e.startsWith("hsl")?GW(e):{r:0,g:0,b:0,a:1}}function kC(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:s,g:n,b:i,a:o}=xE(e),r=1-t,l=u=>Math.round(u*r);return`rgba(${l(s)}, ${l(n)}, ${l(i)}, ${o})`}function bp(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function dR(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function VW(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function zW(e){if(e.startsWith("oklch("))return(VW(e)||0)/100;const{r:t,g:s,b:n}=xE(e),i=t/255,o=s/255,r=n/255,l=dR(i),u=dR(o),d=dR(r);return .2126*l+.7152*u+.0722*d}function Pg(e,t=.179){return e.startsWith("var(")?!1:zW(e)>t}function _l({color:e,theme:t,colorScheme:s}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:s==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Pg(s==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:s==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Pg(s==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Pg(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,i]=e.split("."),o=i?Number(i):void 0,r=n in t.colors;if(r){const l=o!==void 0?t.colors[n][o]:t.colors[n][bp(t,s||"light")];return{color:n,value:l,shade:o,isThemeColor:r,isLight:Pg(l,t.luminanceThreshold),variable:i?`--mantine-color-${n}-${o}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:r,isLight:Pg(e,t.luminanceThreshold),shade:o,variable:void 0}}function Qo(e,t){const s=_l({color:e||t.primaryColor,theme:t});return s.variable?`var(${s.variable})`:e}function ux(e,t){const s={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=Qo(s.from,t),i=Qo(s.to,t);return`linear-gradient(${s.deg}deg, ${n} 0%, ${i} 100%)`}function xo(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:s,g:n,b:i}=xE(e);return`rgba(${s}, ${n}, ${i}, ${t})`}const Md=xo,WW=({color:e,theme:t,variant:s,gradient:n,autoContrast:i})=>{const o=_l({color:e,theme:t}),r=typeof i=="boolean"?i:t.autoContrast;if(s==="filled"){const l=r&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${be(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:l,border:`${be(1)} solid transparent`}:{background:e,hover:kC(e,.1),color:l,border:`${be(1)} solid transparent`}}if(s==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${be(1)} solid transparent`};const l=t.colors[o.color][o.shade];return{background:xo(l,.1),hover:xo(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:xo(e,.1),hover:xo(e,.12),color:e,border:`${be(1)} solid transparent`}}if(s==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${be(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:xo(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${be(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:xo(e,.05),color:e,border:`${be(1)} solid ${e}`};if(s==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${be(1)} solid transparent`};const l=t.colors[o.color][o.shade];return{background:"transparent",hover:xo(l,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:"transparent",hover:xo(e,.12),color:e,border:`${be(1)} solid transparent`}}return s==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${be(1)} solid transparent`}:s==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:e,border:`${be(1)} solid transparent`}:s==="gradient"?{background:ux(n,t),hover:ux(n,t),color:"var(--mantine-color-white)",border:"none"}:s==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${be(1)} solid var(--mantine-color-default-border)`}:{}},UW={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},f1="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Uw={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:UW,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:WW,autoContrast:!1,luminanceThreshold:.3,fontFamily:f1,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:f1,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:be(34),lineHeight:"1.3"},h2:{fontSize:be(26),lineHeight:"1.35"},h3:{fontSize:be(22),lineHeight:"1.4"},h4:{fontSize:be(18),lineHeight:"1.45"},h5:{fontSize:be(16),lineHeight:"1.5"},h6:{fontSize:be(14),lineHeight:"1.5"}}},fontSizes:{xs:be(12),sm:be(14),md:be(16),lg:be(18),xl:be(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:be(2),sm:be(4),md:be(8),lg:be(16),xl:be(32)},spacing:{xs:be(10),sm:be(12),md:be(16),lg:be(20),xl:be(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), 0 ${be(1)} ${be(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(10)} ${be(15)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(7)} ${be(7)} ${be(-5)}`,md:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(20)} ${be(25)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(10)} ${be(10)} ${be(-5)}`,lg:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(28)} ${be(23)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(12)} ${be(12)} ${be(-7)}`,xl:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(36)} ${be(28)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(17)} ${be(17)} ${be(-7)}`},other:{},components:{}};function g1(e){return e==="auto"||e==="dark"||e==="light"}function jW({key:e="mantine-color-scheme-value"}={}){let t;return{get:s=>{if(typeof window>"u")return s;try{const n=window.localStorage.getItem(e);return g1(n)?n:s}catch{return s}},set:s=>{try{window.localStorage.setItem(e,s)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:s=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&g1(n.newValue)&&s(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const $W="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",p1="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function hR(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function m1(e){if(!(e.primaryColor in e.colors))throw new Error($W);if(typeof e.primaryShade=="object"&&(!hR(e.primaryShade.dark)||!hR(e.primaryShade.light)))throw new Error(p1);if(typeof e.primaryShade=="number"&&!hR(e.primaryShade))throw new Error(p1)}function qW(e,t){var n;if(!t)return m1(e),e;const s=bE(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(s.headings.fontFamily=t.fontFamily),m1(s),s}const AE=x.createContext(null),KW=()=>x.useContext(AE)||Uw;function tr(){const e=x.useContext(AE);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Jk({theme:e,children:t,inherit:s=!0}){const n=KW(),i=x.useMemo(()=>qW(s?n:Uw,e),[e,n,s]);return _.jsx(AE.Provider,{value:i,children:t})}Jk.displayName="@mantine/core/MantineThemeProvider";function YW(){const e=tr(),t=RE(),s=qo(e.breakpoints).reduce((n,i)=>{const o=e.breakpoints[i].includes("px"),r=zz(e.breakpoints[i]),l=o?`${r-.1}px`:u1(r-.1),u=o?`${r}px`:u1(r);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return _.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:s}})}function fR(e){return Object.entries(e).map(([t,s])=>`${t}: ${s};`).join("")}function Mg(e,t){return(Array.isArray(e)?e:[e]).reduce((n,i)=>`${i}{${n}}`,t)}function XW(e,t){const s=fR(e.variables),n=s?Mg(t,s):"",i=fR(e.dark),o=fR(e.light),r=i?Mg(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",l=o?Mg(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${n}${r}${l}`}function Zm({color:e,theme:t,autoContrast:s}){return(typeof s=="boolean"?s:t.autoContrast)&&_l({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function v1(e,t){return Zm({color:e.colors[e.primaryColor][bp(e,t)],theme:e,autoContrast:null})}function IC({theme:e,color:t,colorScheme:s,name:n=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(s==="light"){const l=bp(e,"light"),u={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:Md(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:Md(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:Md(e.colors[t][l],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...u}:u}const o=bp(e,"dark"),r={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${o})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${o===9?8:o+1})`,[`--mantine-color-${n}-light`]:Md(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${n}-light-hover`]:Md(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(o-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(o-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Md(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...r}:r}function QW(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ld(e,t,s){qo(t).forEach(n=>Object.assign(e,{[`--mantine-${s}-${n}`]:t[n]}))}const eI=e=>{const t=bp(e,"light"),s=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:be(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":s,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":v1(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":v1(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ld(n.variables,e.breakpoints,"breakpoint"),Ld(n.variables,e.spacing,"spacing"),Ld(n.variables,e.fontSizes,"font-size"),Ld(n.variables,e.lineHeights,"line-height"),Ld(n.variables,e.shadows,"shadow"),Ld(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,r)=>{n.variables[`--mantine-primary-color-${r}`]=`var(--mantine-color-${e.primaryColor}-${r})`}),qo(e.colors).forEach(o=>{const r=e.colors[o];if(QW(r)){Object.assign(n.light,IC({theme:e,name:r.name,color:r.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,IC({theme:e,name:r.name,color:r.dark,colorScheme:"dark",withColorValues:!0}));return}r.forEach((l,u)=>{n.variables[`--mantine-color-${o}-${u}`]=l}),Object.assign(n.light,IC({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,IC({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return qo(i).forEach(o=>{n.variables[`--mantine-${o}-font-size`]=i[o].fontSize,n.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,n.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),n};function ZW({theme:e,generator:t}){const s=eI(e),n=t==null?void 0:t(e);return n?bE(s,n):s}const gR=eI(Uw);function JW(e){const t={variables:{},light:{},dark:{}};return qo(e.variables).forEach(s=>{gR.variables[s]!==e.variables[s]&&(t.variables[s]=e.variables[s])}),qo(e.light).forEach(s=>{gR.light[s]!==e.light[s]&&(t.light[s]=e.light[s])}),qo(e.dark).forEach(s=>{gR.dark[s]!==e.dark[s]&&(t.dark[s]=e.dark[s])}),t}function e3(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function tI({cssVariablesSelector:e,deduplicateCssVariables:t}){const s=tr(),n=RE(),i=MW(),o=ZW({theme:s,generator:i}),r=e===":root"&&t,l=r?JW(o):o,u=XW(l,e);return u?_.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${u}${r?"":e3(e)}`}}):null}tI.displayName="@mantine/CssVariables";function t3(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function kd(e,t){var i,o;const s=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),n=e!=="auto"?e:s?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",n)}function s3({manager:e,defaultColorScheme:t,getRootElement:s,forceColorScheme:n}){const i=x.useRef(null),[o,r]=x.useState(()=>e.get(t)),l=n||o,u=x.useCallback(f=>{n||(kd(f,s),r(f),e.set(f))},[e.set,l,n]),d=x.useCallback(()=>{r(t),kd(t,s),e.clear()},[e.clear,t]);return x.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Xm(()=>{kd(e.get(t),s)},[]),x.useEffect(()=>{var g;if(n)return kd(n,s),()=>{};n===void 0&&kd(o,s),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=m=>{o==="auto"&&kd(m.matches?"dark":"light",s)};return(g=i.current)==null||g.addEventListener("change",f),()=>{var m;return(m=i.current)==null?void 0:m.removeEventListener("change",f)}},[o,n]),{colorScheme:l,setColorScheme:u,clearColorScheme:d}}function n3({respectReducedMotion:e,getRootElement:t}){Xm(()=>{var s;e&&((s=t())==null||s.setAttribute("data-respect-reduced-motion","true"))},[e])}t3();function sI({theme:e,children:t,getStyleNonce:s,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:r=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=jW(),defaultColorScheme:f="light",getRootElement:g=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:C,stylesTransform:w,env:y}){const{colorScheme:R,setColorScheme:A,clearColorScheme:D}=s3({defaultColorScheme:f,forceColorScheme:C,manager:d,getRootElement:g});return n3({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:g}),_.jsx(Qk.Provider,{value:{colorScheme:R,setColorScheme:A,clearColorScheme:D,getRootElement:g,classNamesPrefix:u,getStyleNonce:s,cssVariablesResolver:m,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:w,env:y},children:_.jsxs(Jk,{theme:e,children:[r&&_.jsx(tI,{cssVariablesSelector:l,deduplicateCssVariables:o}),i&&_.jsx(YW,{}),t]})})}sI.displayName="@mantine/core/MantineProvider";function jw({classNames:e,styles:t,props:s,stylesCtx:n}){const i=tr();return{resolvedClassNames:Ww({theme:i,classNames:e,props:s,stylesCtx:n||void 0}),resolvedStyles:Wb({theme:i,styles:t,props:s,stylesCtx:n||void 0})}}const i3={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function o3({theme:e,options:t,unstyled:s}){return Ds((t==null?void 0:t.focusable)&&!s&&(e.focusClassName||i3[e.focusRing]),(t==null?void 0:t.active)&&!s&&e.activeClassName)}function r3({selector:e,stylesCtx:t,options:s,props:n,theme:i}){return Ww({theme:i,classNames:s==null?void 0:s.classNames,props:(s==null?void 0:s.props)||n,stylesCtx:t})[e]}function C1({selector:e,stylesCtx:t,theme:s,classNames:n,props:i}){return Ww({theme:s,classNames:n,props:i,stylesCtx:t})[e]}function a3({rootSelector:e,selector:t,className:s}){return e===t?s:void 0}function l3({selector:e,classes:t,unstyled:s}){return s?void 0:t[e]}function c3({themeName:e,classNamesPrefix:t,selector:s,withStaticClass:n}){return n===!1?[]:e.map(i=>`${t}-${i}-${s}`)}function u3({themeName:e,theme:t,selector:s,props:n,stylesCtx:i}){return e.map(o=>{var r,l;return(l=Ww({theme:t,classNames:(r=t.components[o])==null?void 0:r.classNames,props:n,stylesCtx:i}))==null?void 0:l[s]})}function d3({options:e,classes:t,selector:s,unstyled:n}){return e!=null&&e.variant&&!n?t[`${s}--${e.variant}`]:void 0}function h3({theme:e,options:t,themeName:s,selector:n,classNamesPrefix:i,classNames:o,classes:r,unstyled:l,className:u,rootSelector:d,props:f,stylesCtx:g,withStaticClasses:m,headless:C,transformedStyles:w}){return Ds(o3({theme:e,options:t,unstyled:l||C}),u3({theme:e,themeName:s,selector:n,props:f,stylesCtx:g}),d3({options:t,classes:r,selector:n,unstyled:l}),C1({selector:n,stylesCtx:g,theme:e,classNames:o,props:f}),C1({selector:n,stylesCtx:g,theme:e,classNames:w,props:f}),r3({selector:n,stylesCtx:g,options:t,props:f,theme:e}),a3({rootSelector:d,selector:n,className:u}),l3({selector:n,classes:r,unstyled:l||C}),m&&!C&&c3({themeName:s,classNamesPrefix:i,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function f3({theme:e,themeName:t,props:s,stylesCtx:n,selector:i}){return t.map(o=>{var r;return Wb({theme:e,styles:(r=e.components[o])==null?void 0:r.styles,props:s,stylesCtx:n})[i]}).reduce((o,r)=>({...o,...r}),{})}function dx({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((s,n)=>({...s,...dx({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function g3(e){return e.reduce((t,s)=>(s&&Object.keys(s).forEach(n=>{t[n]={...t[n],...wE(s[n])}}),t),{})}function p3({vars:e,varsResolver:t,theme:s,props:n,stylesCtx:i,selector:o,themeName:r,headless:l}){var u;return(u=g3([l?{}:t==null?void 0:t(s,n,i),...r.map(d=>{var f,g,m;return(m=(g=(f=s.components)==null?void 0:f[d])==null?void 0:g.vars)==null?void 0:m.call(g,s,n,i)}),e==null?void 0:e(s,n,i)]))==null?void 0:u[o]}function m3({theme:e,themeName:t,selector:s,options:n,props:i,stylesCtx:o,rootSelector:r,styles:l,style:u,vars:d,varsResolver:f,headless:g,withStylesTransform:m}){return{...!m&&f3({theme:e,themeName:t,props:i,stylesCtx:o,selector:s}),...!m&&Wb({theme:e,styles:l,props:i,stylesCtx:o})[s],...!m&&Wb({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:o})[s],...p3({theme:e,props:i,stylesCtx:o,vars:d,varsResolver:f,selector:s,themeName:t,headless:g}),...r===s?dx({style:u,theme:e}):null,...dx({style:n==null?void 0:n.style,theme:e})}}function v3({props:e,stylesCtx:t,themeName:s}){var r;const n=tr(),i=(r=_W())==null?void 0:r();return{getTransformedStyles:l=>i?[...l.map(d=>i(d,{props:e,theme:n,ctx:t})),...s.map(d=>{var f;return i((f=n.components[d])==null?void 0:f.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function bt({name:e,classes:t,props:s,stylesCtx:n,className:i,style:o,rootSelector:r="root",unstyled:l,classNames:u,styles:d,vars:f,varsResolver:g}){const m=tr(),C=LW(),w=kW(),y=IW(),R=(Array.isArray(e)?e:[e]).filter(E=>E),{withStylesTransform:A,getTransformedStyles:D}=v3({props:s,stylesCtx:n,themeName:R});return(E,T)=>({className:h3({theme:m,options:T,themeName:R,selector:E,classNamesPrefix:C,classNames:u,classes:t,unstyled:l,className:i,rootSelector:r,props:s,stylesCtx:n,withStaticClasses:w,headless:y,transformedStyles:D([T==null?void 0:T.styles,d])}),style:m3({theme:m,themeName:R,selector:E,options:T,props:s,stylesCtx:n,rootSelector:r,styles:d,style:o,vars:f,varsResolver:g,headless:y,withStylesTransform:A})})}function EE(e,t){return typeof e=="boolean"?e:t.autoContrast}function Oe(e,t,s){var r;const n=tr(),i=(r=n.components[e])==null?void 0:r.defaultProps,o=typeof i=="function"?i(n):i;return{...t,...o,...wE(s)}}function pR(e){return qo(e).reduce((t,s)=>e[s]!==void 0?`${t}${Gz(s)}:${e[s]};`:t,"").trim()}function C3({selector:e,styles:t,media:s,container:n}){const i=t?pR(t):"",o=Array.isArray(s)?s.map(l=>`@media${l.query}{${e}{${pR(l.styles)}}}`):[],r=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${pR(l.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${r.join("")}`.trim()}function b3(e){const t=RE();return _.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:C3(e)}})}function $w(e){const{m:t,mx:s,my:n,mt:i,mb:o,ml:r,mr:l,me:u,ms:d,p:f,px:g,py:m,pt:C,pb:w,pl:y,pr:R,pe:A,ps:D,bd:E,bg:T,c:P,opacity:L,ff:N,fz:B,fw:W,lts:z,ta:q,lh:K,fs:$,tt:te,td:ee,w:G,miw:V,maw:U,h:re,mih:H,mah:Y,bgsz:Q,bgp:J,bgr:le,bga:ge,pos:pe,top:Te,left:ke,bottom:Ke,right:Pe,inset:wt,display:Et,flex:he,hiddenFrom:ye,visibleFrom:Me,lightHidden:He,darkHidden:ce,sx:Ce,...Re}=e;return{styleProps:wE({m:t,mx:s,my:n,mt:i,mb:o,ml:r,mr:l,me:u,ms:d,p:f,px:g,py:m,pt:C,pb:w,pl:y,pr:R,pe:A,ps:D,bd:E,bg:T,c:P,opacity:L,ff:N,fz:B,fw:W,lts:z,ta:q,lh:K,fs:$,tt:te,td:ee,w:G,miw:V,maw:U,h:re,mih:H,mah:Y,bgsz:Q,bgp:J,bgr:le,bga:ge,pos:pe,top:Te,left:ke,bottom:Ke,right:Pe,inset:wt,display:Et,flex:he,hiddenFrom:ye,visibleFrom:Me,lightHidden:He,darkHidden:ce,sx:Ce}),rest:Re}}const w3={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function DE(e,t){const s=_l({color:e,theme:t});return s.color==="dimmed"?"var(--mantine-color-dimmed)":s.color==="bright"?"var(--mantine-color-bright)":s.variable?`var(${s.variable})`:s.color}function y3(e,t){const s=_l({color:e,theme:t});return s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-text)`:DE(e,t)}function S3(e,t){if(typeof e=="number")return be(e);if(typeof e=="string"){const[s,n,...i]=e.split(" ").filter(r=>r.trim()!=="");let o=`${be(s)}`;return n&&(o+=` ${n}`),i.length>0&&(o+=` ${DE(i.join(" "),t)}`),o.trim()}return e}const b1={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function R3(e){return typeof e=="string"&&e in b1?b1[e]:e}const x3=["h1","h2","h3","h4","h5","h6"];function A3(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&x3.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?be(e):e}function E3(e){return e}const D3=["h1","h2","h3","h4","h5","h6"];function T3(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&D3.includes(e)?`var(--mantine-${e}-line-height)`:e}function F3(e){return typeof e=="number"?be(e):e}function P3(e,t){if(typeof e=="number")return be(e);if(typeof e=="string"){const s=e.replace("-","");if(!(s in t.spacing))return be(e);const n=`--mantine-spacing-${s}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const mR={color:DE,textColor:y3,fontSize:A3,spacing:P3,identity:E3,size:F3,lineHeight:T3,fontFamily:R3,border:S3};function w1(e){return e.replace("(min-width: ","").replace("em)","")}function M3({media:e,...t}){const n=Object.keys(e).sort((i,o)=>Number(w1(i))-Number(w1(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:n}}function L3(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function k3(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function I3(e){return typeof e=="object"&&e!==null?qo(e).filter(t=>t!=="base"):[]}function O3(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function _3({styleProps:e,data:t,theme:s}){return M3(qo(e).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const o=t[i],r=Array.isArray(o.property)?o.property:[o.property],l=k3(e[i]);if(!L3(e[i]))return r.forEach(d=>{n.inlineStyles[d]=mR[o.type](l,s)}),n;n.hasResponsiveStyles=!0;const u=I3(e[i]);return r.forEach(d=>{l&&(n.styles[d]=mR[o.type](l,s)),u.forEach(f=>{const g=`(min-width: ${s.breakpoints[f]})`;n.media[g]={...n.media[g],[d]:mR[o.type](O3(e[i],f),s)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function N3(){return`__m__-${x.useId().replace(/:/g,"")}`}function nI(e){return e.startsWith("data-")?e:`data-${e}`}function H3(e){return Object.keys(e).reduce((t,s)=>{const n=e[s];return n===void 0||n===""||n===!1||n===null||(t[nI(s)]=e[s]),t},{})}function iI(e){return e?typeof e=="string"?{[nI(e)]:!0}:Array.isArray(e)?[...e].reduce((t,s)=>({...t,...iI(s)}),{}):H3(e):null}function hx(e,t){return Array.isArray(e)?[...e].reduce((s,n)=>({...s,...hx(n,t)}),{}):typeof e=="function"?e(t):e??{}}function B3({theme:e,style:t,vars:s,styleProps:n}){const i=hx(t,e),o=hx(s,e);return{...i,...o,...n}}const oI=x.forwardRef(({component:e,style:t,__vars:s,className:n,variant:i,mod:o,size:r,hiddenFrom:l,visibleFrom:u,lightHidden:d,darkHidden:f,renderRoot:g,__size:m,...C},w)=>{var B;const y=tr(),R=e||"div",{styleProps:A,rest:D}=$w(C),E=OW(),T=(B=E==null?void 0:E())==null?void 0:B(A.sx),P=N3(),L=_3({styleProps:A,theme:y,data:w3}),N={ref:w,style:B3({theme:y,style:t,vars:s,styleProps:L.inlineStyles}),className:Ds(n,T,{[P]:L.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":Vk(r)?void 0:r||void 0,size:m,...iI(o),...D};return _.jsxs(_.Fragment,{children:[L.hasResponsiveStyles&&_.jsx(b3,{selector:`.${P}`,styles:L.styles,media:L.media}),typeof g=="function"?g(N):_.jsx(R,{...N})]})});oI.displayName="@mantine/core/Box";const qe=oI;function rI(e){return e}function G3(e){const t=e;return s=>{const n=x.forwardRef((i,o)=>_.jsx(t,{...s,...i,ref:o}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function nt(e){const t=x.forwardRef(e);return t.extend=rI,t.withProps=s=>{const n=x.forwardRef((i,o)=>_.jsx(t,{...s,...i,ref:o}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function da(e){const t=x.forwardRef(e);return t.withProps=s=>{const n=x.forwardRef((i,o)=>_.jsx(t,{...s,...i,ref:o}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=rI,t}const V3=x.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function qw(){return x.useContext(V3)}var Jm=Mk();const aI=vE(Jm);function Kw(){return typeof window<"u"}function wf(e){return lI(e)?(e.nodeName||"").toLowerCase():"#document"}function li(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sr(e){var t;return(t=(lI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lI(e){return Kw()?e instanceof Node||e instanceof li(e).Node:!1}function wn(e){return Kw()?e instanceof Element||e instanceof li(e).Element:!1}function Zo(e){return Kw()?e instanceof HTMLElement||e instanceof li(e).HTMLElement:!1}function y1(e){return!Kw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof li(e).ShadowRoot}function ev(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=lo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(i)}function z3(e){return["table","td","th"].includes(wf(e))}function Yw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function TE(e){const t=FE(),s=wn(e)?lo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function W3(e){let t=Al(e);for(;Zo(t)&&!af(t);){if(TE(t))return t;if(Yw(t))return null;t=Al(t)}return null}function FE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function af(e){return["html","body","#document"].includes(wf(e))}function lo(e){return li(e).getComputedStyle(e)}function Xw(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Al(e){if(wf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y1(e)&&e.host||sr(e);return y1(t)?t.host:t}function cI(e){const t=Al(e);return af(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zo(t)&&ev(t)?t:cI(t)}function wp(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=cI(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),r=li(i);if(o){const l=fx(r);return t.concat(r,r.visualViewport||[],ev(i)?i:[],l&&s?wp(l):[])}return t.concat(i,wp(i,[],s))}function fx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const co=Math.min,on=Math.max,Ub=Math.round,OC=Math.floor,Ko=e=>({x:e,y:e}),U3={left:"right",right:"left",bottom:"top",top:"bottom"},j3={start:"end",end:"start"};function gx(e,t,s){return on(e,co(t,s))}function ia(e,t){return typeof e=="function"?e(t):e}function uo(e){return e.split("-")[0]}function yf(e){return e.split("-")[1]}function PE(e){return e==="x"?"y":"x"}function ME(e){return e==="y"?"height":"width"}function Yo(e){return["top","bottom"].includes(uo(e))?"y":"x"}function LE(e){return PE(Yo(e))}function $3(e,t,s){s===void 0&&(s=!1);const n=yf(e),i=LE(e),o=ME(i);let r=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=jb(r)),[r,jb(r)]}function q3(e){const t=jb(e);return[px(e),t,px(t)]}function px(e){return e.replace(/start|end/g,t=>j3[t])}function K3(e,t,s){const n=["left","right"],i=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:n:t?n:i;case"left":case"right":return t?o:r;default:return[]}}function Y3(e,t,s,n){const i=yf(e);let o=K3(uo(e),s==="start",n);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(px)))),o}function jb(e){return e.replace(/left|right|bottom|top/g,t=>U3[t])}function X3(e){return{top:0,right:0,bottom:0,left:0,...e}}function kE(e){return typeof e!="number"?X3(e):{top:e,right:e,bottom:e,left:e}}function lf(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function S1(e,t,s){let{reference:n,floating:i}=e;const o=Yo(t),r=LE(t),l=ME(r),u=uo(t),d=o==="y",f=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let C;switch(u){case"top":C={x:f,y:n.y-i.height};break;case"bottom":C={x:f,y:n.y+n.height};break;case"right":C={x:n.x+n.width,y:g};break;case"left":C={x:n.x-i.width,y:g};break;default:C={x:n.x,y:n.y}}switch(yf(t)){case"start":C[r]-=m*(s&&d?-1:1);break;case"end":C[r]+=m*(s&&d?-1:1);break}return C}const Q3=async(e,t,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:r}=s,l=o.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(t));let d=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:g}=S1(d,n,u),m=n,C={},w=0;for(let y=0;y<l.length;y++){const{name:R,fn:A}=l[y],{x:D,y:E,data:T,reset:P}=await A({x:f,y:g,initialPlacement:n,placement:m,strategy:i,middlewareData:C,rects:d,platform:r,elements:{reference:e,floating:t}});f=D??f,g=E??g,C={...C,[R]:{...C[R],...T}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(d=P.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:g}=S1(d,m,u)),y=-1)}return{x:f,y:g,placement:m,strategy:i,middlewareData:C}};async function IE(e,t){var s;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:r,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:m=!1,padding:C=0}=ia(t,e),w=kE(C),R=l[m?g==="floating"?"reference":"floating":g],A=lf(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(R)))==null||s?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),D=g==="floating"?{x:n,y:i,width:r.floating.width,height:r.floating.height}:r.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),T=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},P=lf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:D,offsetParent:E,strategy:u}):D);return{top:(A.top-P.top+w.top)/T.y,bottom:(P.bottom-A.bottom+w.bottom)/T.y,left:(A.left-P.left+w.left)/T.x,right:(P.right-A.right+w.right)/T.x}}const Z3=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:i,rects:o,platform:r,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=ia(e,t)||{};if(d==null)return{};const g=kE(f),m={x:s,y:n},C=LE(i),w=ME(C),y=await r.getDimensions(d),R=C==="y",A=R?"top":"left",D=R?"bottom":"right",E=R?"clientHeight":"clientWidth",T=o.reference[w]+o.reference[C]-m[C]-o.floating[w],P=m[C]-o.reference[C],L=await(r.getOffsetParent==null?void 0:r.getOffsetParent(d));let N=L?L[E]:0;(!N||!await(r.isElement==null?void 0:r.isElement(L)))&&(N=l.floating[E]||o.floating[w]);const B=T/2-P/2,W=N/2-y[w]/2-1,z=co(g[A],W),q=co(g[D],W),K=z,$=N-y[w]-q,te=N/2-y[w]/2+B,ee=gx(K,te,$),G=!u.arrow&&yf(i)!=null&&te!==ee&&o.reference[w]/2-(te<K?z:q)-y[w]/2<0,V=G?te<K?te-K:te-$:0;return{[C]:m[C]+V,data:{[C]:ee,centerOffset:te-ee-V,...G&&{alignmentOffset:V}},reset:G}}}),J3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:i,middlewareData:o,rects:r,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...R}=ia(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const A=uo(i),D=Yo(l),E=uo(l)===l,T=await(u.isRTL==null?void 0:u.isRTL(d.floating)),P=m||(E||!y?[jb(l)]:q3(l)),L=w!=="none";!m&&L&&P.push(...Y3(l,y,w,T));const N=[l,...P],B=await IE(t,R),W=[];let z=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&W.push(B[A]),g){const ee=$3(i,r,T);W.push(B[ee[0]],B[ee[1]])}if(z=[...z,{placement:i,overflows:W}],!W.every(ee=>ee<=0)){var q,K;const ee=(((q=o.flip)==null?void 0:q.index)||0)+1,G=N[ee];if(G){var $;const U=g==="alignment"?D!==Yo(G):!1,re=(($=z[0])==null?void 0:$.overflows[0])>0;if(!U||re)return{data:{index:ee,overflows:z},reset:{placement:G}}}let V=(K=z.filter(U=>U.overflows[0]<=0).sort((U,re)=>U.overflows[1]-re.overflows[1])[0])==null?void 0:K.placement;if(!V)switch(C){case"bestFit":{var te;const U=(te=z.filter(re=>{if(L){const H=Yo(re.placement);return H===D||H==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(H=>H>0).reduce((H,Y)=>H+Y,0)]).sort((re,H)=>re[1]-H[1])[0])==null?void 0:te[0];U&&(V=U);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function uI(e){const t=co(...e.map(o=>o.left)),s=co(...e.map(o=>o.top)),n=on(...e.map(o=>o.right)),i=on(...e.map(o=>o.bottom));return{x:t,y:s,width:n-t,height:i-s}}function eU(e){const t=e.slice().sort((i,o)=>i.y-o.y),s=[];let n=null;for(let i=0;i<t.length;i++){const o=t[i];!n||o.y-n.y>n.height/2?s.push([o]):s[s.length-1].push(o),n=o}return s.map(i=>lf(uI(i)))}const tU=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:n,rects:i,platform:o,strategy:r}=t,{padding:l=2,x:u,y:d}=ia(e,t),f=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(n.reference))||[]),g=eU(f),m=lf(uI(f)),C=kE(l);function w(){if(g.length===2&&g[0].left>g[1].right&&u!=null&&d!=null)return g.find(R=>u>R.left-C.left&&u<R.right+C.right&&d>R.top-C.top&&d<R.bottom+C.bottom)||m;if(g.length>=2){if(Yo(s)==="y"){const z=g[0],q=g[g.length-1],K=uo(s)==="top",$=z.top,te=q.bottom,ee=K?z.left:q.left,G=K?z.right:q.right,V=G-ee,U=te-$;return{top:$,bottom:te,left:ee,right:G,width:V,height:U,x:ee,y:$}}const R=uo(s)==="left",A=on(...g.map(z=>z.right)),D=co(...g.map(z=>z.left)),E=g.filter(z=>R?z.left===D:z.right===A),T=E[0].top,P=E[E.length-1].bottom,L=D,N=A,B=N-L,W=P-T;return{top:T,bottom:P,left:L,right:N,width:B,height:W,x:L,y:T}}return m}const y=await o.getElementRects({reference:{getBoundingClientRect:w},floating:n.floating,strategy:r});return i.reference.x!==y.reference.x||i.reference.y!==y.reference.y||i.reference.width!==y.reference.width||i.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}};async function sU(e,t){const{placement:s,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),r=uo(s),l=yf(s),u=Yo(s)==="y",d=["left","top"].includes(r)?-1:1,f=o&&u?-1:1,g=ia(t,e);let{mainAxis:m,crossAxis:C,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof w=="number"&&(C=l==="end"?w*-1:w),u?{x:C*f,y:m*d}:{x:m*d,y:C*f}}const nU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:i,y:o,placement:r,middlewareData:l}=t,u=await sU(t,e);return r===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:r}}}}},iU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:l={fn:R=>{let{x:A,y:D}=R;return{x:A,y:D}}},...u}=ia(e,t),d={x:s,y:n},f=await IE(t,u),g=Yo(uo(i)),m=PE(g);let C=d[m],w=d[g];if(o){const R=m==="y"?"top":"left",A=m==="y"?"bottom":"right",D=C+f[R],E=C-f[A];C=gx(D,C,E)}if(r){const R=g==="y"?"top":"left",A=g==="y"?"bottom":"right",D=w+f[R],E=w-f[A];w=gx(D,w,E)}const y=l.fn({...t,[m]:C,[g]:w});return{...y,data:{x:y.x-s,y:y.y-n,enabled:{[m]:o,[g]:r}}}}}},oU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:o,middlewareData:r}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=ia(e,t),f={x:s,y:n},g=Yo(i),m=PE(g);let C=f[m],w=f[g];const y=ia(l,t),R=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const E=m==="y"?"height":"width",T=o.reference[m]-o.floating[E]+R.mainAxis,P=o.reference[m]+o.reference[E]-R.mainAxis;C<T?C=T:C>P&&(C=P)}if(d){var A,D;const E=m==="y"?"width":"height",T=["top","left"].includes(uo(i)),P=o.reference[g]-o.floating[E]+(T&&((A=r.offset)==null?void 0:A[g])||0)+(T?0:R.crossAxis),L=o.reference[g]+o.reference[E]+(T?0:((D=r.offset)==null?void 0:D[g])||0)-(T?R.crossAxis:0);w<P?w=P:w>L&&(w=L)}return{[m]:C,[g]:w}}}},rU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:i,rects:o,platform:r,elements:l}=t,{apply:u=()=>{},...d}=ia(e,t),f=await IE(t,d),g=uo(i),m=yf(i),C=Yo(i)==="y",{width:w,height:y}=o.floating;let R,A;g==="top"||g==="bottom"?(R=g,A=m===(await(r.isRTL==null?void 0:r.isRTL(l.floating))?"start":"end")?"left":"right"):(A=g,R=m==="end"?"top":"bottom");const D=y-f.top-f.bottom,E=w-f.left-f.right,T=co(y-f[R],D),P=co(w-f[A],E),L=!t.middlewareData.shift;let N=T,B=P;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(B=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=D),L&&!m){const z=on(f.left,0),q=on(f.right,0),K=on(f.top,0),$=on(f.bottom,0);C?B=w-2*(z!==0||q!==0?z+q:on(f.left,f.right)):N=y-2*(K!==0||$!==0?K+$:on(f.top,f.bottom))}await u({...t,availableWidth:B,availableHeight:N});const W=await r.getDimensions(l.floating);return w!==W.width||y!==W.height?{reset:{rects:!0}}:{}}}};function dI(e){const t=lo(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Zo(e),o=i?e.offsetWidth:s,r=i?e.offsetHeight:n,l=Ub(s)!==o||Ub(n)!==r;return l&&(s=o,n=r),{width:s,height:n,$:l}}function OE(e){return wn(e)?e:e.contextElement}function Yd(e){const t=OE(e);if(!Zo(t))return Ko(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:o}=dI(t);let r=(o?Ub(s.width):s.width)/n,l=(o?Ub(s.height):s.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const aU=Ko(0);function hI(e){const t=li(e);return!FE()||!t.visualViewport?aU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lU(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==li(e)?!1:t}function yu(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),o=OE(e);let r=Ko(1);t&&(n?wn(n)&&(r=Yd(n)):r=Yd(e));const l=lU(o,s,n)?hI(o):Ko(0);let u=(i.left+l.x)/r.x,d=(i.top+l.y)/r.y,f=i.width/r.x,g=i.height/r.y;if(o){const m=li(o),C=n&&wn(n)?li(n):n;let w=m,y=fx(w);for(;y&&n&&C!==w;){const R=Yd(y),A=y.getBoundingClientRect(),D=lo(y),E=A.left+(y.clientLeft+parseFloat(D.paddingLeft))*R.x,T=A.top+(y.clientTop+parseFloat(D.paddingTop))*R.y;u*=R.x,d*=R.y,f*=R.x,g*=R.y,u+=E,d+=T,w=li(y),y=fx(w)}}return lf({width:f,height:g,x:u,y:d})}function _E(e,t){const s=Xw(e).scrollLeft;return t?t.left+s:yu(sr(e)).left+s}function fI(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:_E(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function cU(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const o=i==="fixed",r=sr(n),l=t?Yw(t.floating):!1;if(n===r||l&&o)return s;let u={scrollLeft:0,scrollTop:0},d=Ko(1);const f=Ko(0),g=Zo(n);if((g||!g&&!o)&&((wf(n)!=="body"||ev(r))&&(u=Xw(n)),Zo(n))){const C=yu(n);d=Yd(n),f.x=C.x+n.clientLeft,f.y=C.y+n.clientTop}const m=r&&!g&&!o?fI(r,u,!0):Ko(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:s.y*d.y-u.scrollTop*d.y+f.y+m.y}}function uU(e){return Array.from(e.getClientRects())}function dU(e){const t=sr(e),s=Xw(e),n=e.ownerDocument.body,i=on(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=on(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let r=-s.scrollLeft+_E(e);const l=-s.scrollTop;return lo(n).direction==="rtl"&&(r+=on(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:r,y:l}}function hU(e,t){const s=li(e),n=sr(e),i=s.visualViewport;let o=n.clientWidth,r=n.clientHeight,l=0,u=0;if(i){o=i.width,r=i.height;const d=FE();(!d||d&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:r,x:l,y:u}}function fU(e,t){const s=yu(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,o=Zo(e)?Yd(e):Ko(1),r=e.clientWidth*o.x,l=e.clientHeight*o.y,u=i*o.x,d=n*o.y;return{width:r,height:l,x:u,y:d}}function R1(e,t,s){let n;if(t==="viewport")n=hU(e,s);else if(t==="document")n=dU(sr(e));else if(wn(t))n=fU(t,s);else{const i=hI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return lf(n)}function gI(e,t){const s=Al(e);return s===t||!wn(s)||af(s)?!1:lo(s).position==="fixed"||gI(s,t)}function gU(e,t){const s=t.get(e);if(s)return s;let n=wp(e,[],!1).filter(l=>wn(l)&&wf(l)!=="body"),i=null;const o=lo(e).position==="fixed";let r=o?Al(e):e;for(;wn(r)&&!af(r);){const l=lo(r),u=TE(r);!u&&l.position==="fixed"&&(i=null),(o?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ev(r)&&!u&&gI(e,r))?n=n.filter(f=>f!==r):i=l,r=Al(r)}return t.set(e,n),n}function pU(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const r=[...s==="clippingAncestors"?Yw(t)?[]:gU(t,this._c):[].concat(s),n],l=r[0],u=r.reduce((d,f)=>{const g=R1(t,f,i);return d.top=on(g.top,d.top),d.right=co(g.right,d.right),d.bottom=co(g.bottom,d.bottom),d.left=on(g.left,d.left),d},R1(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mU(e){const{width:t,height:s}=dI(e);return{width:t,height:s}}function vU(e,t,s){const n=Zo(t),i=sr(t),o=s==="fixed",r=yu(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=Ko(0);function d(){u.x=_E(i)}if(n||!n&&!o)if((wf(t)!=="body"||ev(i))&&(l=Xw(t)),n){const C=yu(t,!0,o,t);u.x=C.x+t.clientLeft,u.y=C.y+t.clientTop}else i&&d();o&&!n&&i&&d();const f=i&&!n&&!o?fI(i,l):Ko(0),g=r.left+l.scrollLeft-u.x-f.x,m=r.top+l.scrollTop-u.y-f.y;return{x:g,y:m,width:r.width,height:r.height}}function vR(e){return lo(e).position==="static"}function x1(e,t){if(!Zo(e)||lo(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return sr(e)===s&&(s=s.ownerDocument.body),s}function pI(e,t){const s=li(e);if(Yw(e))return s;if(!Zo(e)){let i=Al(e);for(;i&&!af(i);){if(wn(i)&&!vR(i))return i;i=Al(i)}return s}let n=x1(e,t);for(;n&&z3(n)&&vR(n);)n=x1(n,t);return n&&af(n)&&vR(n)&&!TE(n)?s:n||W3(e)||s}const CU=async function(e){const t=this.getOffsetParent||pI,s=this.getDimensions,n=await s(e.floating);return{reference:vU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bU(e){return lo(e).direction==="rtl"}const wU={convertOffsetParentRelativeRectToViewportRelativeRect:cU,getDocumentElement:sr,getClippingRect:pU,getOffsetParent:pI,getElementRects:CU,getClientRects:uU,getDimensions:mU,getScale:Yd,isElement:wn,isRTL:bU};function mI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yU(e,t){let s=null,n;const i=sr(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function r(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const d=e.getBoundingClientRect(),{left:f,top:g,width:m,height:C}=d;if(l||t(),!m||!C)return;const w=OC(g),y=OC(i.clientWidth-(f+m)),R=OC(i.clientHeight-(g+C)),A=OC(f),E={rootMargin:-w+"px "+-y+"px "+-R+"px "+-A+"px",threshold:on(0,co(1,u))||1};let T=!0;function P(L){const N=L[0].intersectionRatio;if(N!==u){if(!T)return r();N?r(!1,N):n=setTimeout(()=>{r(!1,1e-7)},1e3)}N===1&&!mI(d,e.getBoundingClientRect())&&r(),T=!1}try{s=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{s=new IntersectionObserver(P,E)}s.observe(e)}return r(!0),o}function SU(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=OE(e),f=i||o?[...d?wp(d):[],...wp(t)]:[];f.forEach(A=>{i&&A.addEventListener("scroll",s,{passive:!0}),o&&A.addEventListener("resize",s)});const g=d&&l?yU(d,s):null;let m=-1,C=null;r&&(C=new ResizeObserver(A=>{let[D]=A;D&&D.target===d&&C&&(C.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=C)==null||E.observe(t)})),s()}),d&&!u&&C.observe(d),C.observe(t));let w,y=u?yu(e):null;u&&R();function R(){const A=yu(e);y&&!mI(y,A)&&s(),y=A,w=requestAnimationFrame(R)}return s(),()=>{var A;f.forEach(D=>{i&&D.removeEventListener("scroll",s),o&&D.removeEventListener("resize",s)}),g==null||g(),(A=C)==null||A.disconnect(),C=null,u&&cancelAnimationFrame(w)}}const RU=nU,xU=iU,AU=J3,EU=rU,A1=Z3,DU=tU,TU=oU,FU=(e,t,s)=>{const n=new Map,i={platform:wU,...s},o={...i.platform,_c:n};return Q3(e,t,{...i,platform:o})};var tb=typeof document<"u"?x.useLayoutEffect:x.useEffect;function $b(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!$b(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!$b(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function E1(e,t){const s=vI(e);return Math.round(t*s)/s}function CR(e){const t=x.useRef(e);return tb(()=>{t.current=e}),t}function PU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:r}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,g]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,C]=x.useState(n);$b(m,n)||C(n);const[w,y]=x.useState(null),[R,A]=x.useState(null),D=x.useCallback(U=>{U!==L.current&&(L.current=U,y(U))},[]),E=x.useCallback(U=>{U!==N.current&&(N.current=U,A(U))},[]),T=o||w,P=r||R,L=x.useRef(null),N=x.useRef(null),B=x.useRef(f),W=u!=null,z=CR(u),q=CR(i),K=CR(d),$=x.useCallback(()=>{if(!L.current||!N.current)return;const U={placement:t,strategy:s,middleware:m};q.current&&(U.platform=q.current),FU(L.current,N.current,U).then(re=>{const H={...re,isPositioned:K.current!==!1};te.current&&!$b(B.current,H)&&(B.current=H,Jm.flushSync(()=>{g(H)}))})},[m,t,s,q,K]);tb(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[d]);const te=x.useRef(!1);tb(()=>(te.current=!0,()=>{te.current=!1}),[]),tb(()=>{if(T&&(L.current=T),P&&(N.current=P),T&&P){if(z.current)return z.current(T,P,$);$()}},[T,P,$,z,W]);const ee=x.useMemo(()=>({reference:L,floating:N,setReference:D,setFloating:E}),[D,E]),G=x.useMemo(()=>({reference:T,floating:P}),[T,P]),V=x.useMemo(()=>{const U={position:s,left:0,top:0};if(!G.floating)return U;const re=E1(G.floating,f.x),H=E1(G.floating,f.y);return l?{...U,transform:"translate("+re+"px, "+H+"px)",...vI(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:re,top:H}},[s,l,G.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:$,refs:ee,elements:G,floatingStyles:V}),[f,$,ee,G,V])}const MU=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?A1({element:n.current,padding:i}).fn(s):{}:n?A1({element:n,padding:i}).fn(s):{}}}},LU=(e,t)=>({...RU(e),options:[e,t]}),kU=(e,t)=>({...xU(e),options:[e,t]}),D1=(e,t)=>({...TU(e),options:[e,t]}),T1=(e,t)=>({...AU(e),options:[e,t]}),IU=(e,t)=>({...EU(e),options:[e,t]}),F1=(e,t)=>({...DU(e),options:[e,t]}),OU=(e,t)=>({...MU(e),options:[e,t]});function _U(e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})},e)}const CI={...QV},NU=CI.useInsertionEffect,HU=NU||(e=>e());function BU(e){const t=x.useRef(()=>{});return HU(()=>{t.current=e}),x.useCallback(function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var mx=typeof document<"u"?x.useLayoutEffect:x.useEffect;let P1=!1,GU=0;const M1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GU++;function VU(){const[e,t]=x.useState(()=>P1?M1():void 0);return mx(()=>{e==null&&t(M1())},[]),x.useEffect(()=>{P1=!0},[]),e}const zU=CI.useId,WU=zU||VU;function UU(){const e=new Map;return{emit(t,s){var n;(n=e.get(t))==null||n.forEach(i=>i(s))},on(t,s){e.set(t,[...e.get(t)||[],s])},off(t,s){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==s))||[])}}}const jU=x.createContext(null),$U=x.createContext(null),qU=()=>{var e;return((e=x.useContext(jU))==null?void 0:e.id)||null},KU=()=>x.useContext($U);function YU(e){const{open:t=!1,onOpenChange:s,elements:n}=e,i=WU(),o=x.useRef({}),[r]=x.useState(()=>UU()),l=qU()!=null,[u,d]=x.useState(n.reference),f=BU((C,w,y)=>{o.current.openEvent=C?w:void 0,r.emit("openchange",{open:C,event:w,reason:y,nested:l}),s==null||s(C,w,y)}),g=x.useMemo(()=>({setPositionReference:d}),[]),m=x.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return x.useMemo(()=>({dataRef:o,open:t,onOpenChange:f,elements:m,events:r,floatingId:i,refs:g}),[t,f,m,r,i,g])}function XU(e){e===void 0&&(e={});const{nodeId:t}=e,s=YU({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||s,i=n.elements,[o,r]=x.useState(null),[l,u]=x.useState(null),f=(i==null?void 0:i.domReference)||o,g=x.useRef(null),m=KU();mx(()=>{f&&(g.current=f)},[f]);const C=PU({...e,elements:{...i,...l&&{reference:l}}}),w=x.useCallback(E=>{const T=wn(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;u(T),C.refs.setReference(T)},[C.refs]),y=x.useCallback(E=>{(wn(E)||E===null)&&(g.current=E,r(E)),(wn(C.refs.reference.current)||C.refs.reference.current===null||E!==null&&!wn(E))&&C.refs.setReference(E)},[C.refs]),R=x.useMemo(()=>({...C.refs,setReference:y,setPositionReference:w,domReference:g}),[C.refs,y,w]),A=x.useMemo(()=>({...C.elements,domReference:f}),[C.elements,f]),D=x.useMemo(()=>({...C,...n,refs:R,elements:A,nodeId:t}),[C,R,A,t,n]);return mx(()=>{n.dataRef.current.floatingContext=D;const E=m==null?void 0:m.nodesRef.current.find(T=>T.id===t);E&&(E.context=D)}),x.useMemo(()=>({...C,context:D,refs:R,elements:A}),[C,R,A,D])}const[QU,Hi]=Lu("ScrollArea.Root component was not found in tree");function cf(e,t){const s=cc(t);Xm(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,s])}const ZU=x.forwardRef((e,t)=>{const{style:s,...n}=e,i=Hi(),[o,r]=x.useState(0),[l,u]=x.useState(0),d=!!(o&&l);return cf(i.scrollbarX,()=>{var g;const f=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),cf(i.scrollbarY,()=>{var g;const f=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(f),r(f)}),d?_.jsx("div",{...n,ref:t,style:{...s,width:o,height:l}}):null}),JU=x.forwardRef((e,t)=>{const s=Hi(),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?_.jsx(ZU,{...e,ref:t}):null}),e5={scrollHideDelay:1e3,type:"hover"},bI=x.forwardRef((e,t)=>{const s=Oe("ScrollAreaRoot",e5,e),{type:n,scrollHideDelay:i,scrollbars:o,...r}=s,[l,u]=x.useState(null),[d,f]=x.useState(null),[g,m]=x.useState(null),[C,w]=x.useState(null),[y,R]=x.useState(null),[A,D]=x.useState(0),[E,T]=x.useState(0),[P,L]=x.useState(!1),[N,B]=x.useState(!1),W=En(t,z=>u(z));return _.jsx(QU,{value:{type:n,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:f,content:g,onContentChange:m,scrollbarX:C,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:L,scrollbarY:y,onScrollbarYChange:R,scrollbarYEnabled:N,onScrollbarYEnabledChange:B,onCornerWidthChange:D,onCornerHeightChange:T},children:_.jsx(qe,{...r,ref:W,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${A}px`,"--sa-corner-height":o!=="xy"?"0px":`${E}px`}})})});bI.displayName="@mantine/core/ScrollAreaRoot";function wI(e,t){const s=e/t;return Number.isNaN(s)?0:s}function Qw(e){const t=wI(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-s)*t;return Math.max(n,18)}function yI(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}function t5(e,[t,s]){return Math.min(s,Math.max(t,e))}function L1(e,t,s="ltr"){const n=Qw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,r=t.content-t.viewport,l=o-n,u=s==="ltr"?[0,r]:[r*-1,0],d=t5(e,u);return yI([0,r],[0,l])(d)}function s5(e,t,s,n="ltr"){const i=Qw(s),o=i/2,r=t||o,l=i-r,u=s.scrollbar.paddingStart+r,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,f=s.content-s.viewport,g=n==="ltr"?[0,f]:[f*-1,0];return yI([u,d],g)(e)}function SI(e,t){return e>0&&e<t}function Rl(e){return e?parseInt(e,10):0}function du(e,t,{checkForDefaultPrevented:s=!0}={}){return n=>{e==null||e(n),(s===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[n5,RI]=Lu("ScrollAreaScrollbar was not found in tree"),xI=x.forwardRef((e,t)=>{const{sizes:s,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:r,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...g}=e,m=Hi(),[C,w]=x.useState(null),y=En(t,B=>w(B)),R=x.useRef(null),A=x.useRef(""),{viewport:D}=m,E=s.content-s.viewport,T=cc(d),P=cc(l),L=zw(f,10),N=B=>{if(R.current){const W=B.clientX-R.current.left,z=B.clientY-R.current.top;u({x:W,y:z})}};return x.useEffect(()=>{const B=W=>{const z=W.target;(C==null?void 0:C.contains(z))&&T(W,E)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[D,C,E,T]),x.useEffect(P,[s,P]),cf(C,L),cf(m.content,L),_.jsx(n5,{value:{scrollbar:C,hasThumb:n,onThumbChange:cc(i),onThumbPointerUp:cc(o),onThumbPositionChange:P,onThumbPointerDown:cc(r)},children:_.jsx("div",{...g,ref:y,"data-mantine-scrollbar":!0,style:{position:"absolute",...g.style},onPointerDown:du(e.onPointerDown,B=>{B.preventDefault(),B.button===0&&(B.target.setPointerCapture(B.pointerId),R.current=C.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N(B))}),onPointerMove:du(e.onPointerMove,N),onPointerUp:du(e.onPointerUp,B=>{const W=B.target;W.hasPointerCapture(B.pointerId)&&(B.preventDefault(),W.releasePointerCapture(B.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=A.current,R.current=null}})})}),AI=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,style:i,...o}=e,r=Hi(),[l,u]=x.useState(),d=x.useRef(null),f=En(t,d,r.onScrollbarXChange);return x.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),_.jsx(xI,{"data-orientation":"horizontal",...o,ref:f,sizes:s,style:{...i,"--sa-thumb-width":`${Qw(s)}px`},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(r.viewport){const C=r.viewport.scrollLeft+g.deltaX;e.onWheelScroll(C),SI(C,m)&&g.preventDefault()}},onResize:()=>{d.current&&r.viewport&&l&&n({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Rl(l.paddingLeft),paddingEnd:Rl(l.paddingRight)}})}})});AI.displayName="@mantine/core/ScrollAreaScrollbarX";const EI=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,style:i,...o}=e,r=Hi(),[l,u]=x.useState(),d=x.useRef(null),f=En(t,d,r.onScrollbarYChange);return x.useEffect(()=>{d.current&&u(window.getComputedStyle(d.current))},[]),_.jsx(xI,{...o,"data-orientation":"vertical",ref:f,sizes:s,style:{"--sa-thumb-height":`${Qw(s)}px`,...i},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(r.viewport){const C=r.viewport.scrollTop+g.deltaY;e.onWheelScroll(C),SI(C,m)&&g.preventDefault()}},onResize:()=>{d.current&&r.viewport&&l&&n({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Rl(l.paddingTop),paddingEnd:Rl(l.paddingBottom)}})}})});EI.displayName="@mantine/core/ScrollAreaScrollbarY";const Zw=x.forwardRef((e,t)=>{const{orientation:s="vertical",...n}=e,{dir:i}=qw(),o=Hi(),r=x.useRef(null),l=x.useRef(0),[u,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=wI(u.viewport,u.content),g={...n,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:C=>{r.current=C},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:C=>{l.current=C}},m=(C,w)=>s5(C,l.current,u,w);return s==="horizontal"?_.jsx(AI,{...g,ref:t,onThumbPositionChange:()=>{if(o.viewport&&r.current){const C=o.viewport.scrollLeft,w=L1(C,u,i);r.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollLeft=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollLeft=m(C,i))}}):s==="vertical"?_.jsx(EI,{...g,ref:t,onThumbPositionChange:()=>{if(o.viewport&&r.current){const C=o.viewport.scrollTop,w=L1(C,u);u.scrollbar.size===0?r.current.style.setProperty("--thumb-opacity","0"):r.current.style.setProperty("--thumb-opacity","1"),r.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollTop=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollTop=m(C))}}):null});Zw.displayName="@mantine/core/ScrollAreaScrollbarVisible";const NE=x.forwardRef((e,t)=>{const s=Hi(),{forceMount:n,...i}=e,[o,r]=x.useState(!1),l=e.orientation==="horizontal",u=zw(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,f=s.viewport.offsetHeight<s.viewport.scrollHeight;r(l?d:f)}},10);return cf(s.viewport,u),cf(s.content,u),n||o?_.jsx(Zw,{"data-state":o?"visible":"hidden",...i,ref:t}):null});NE.displayName="@mantine/core/ScrollAreaScrollbarAuto";const DI=x.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=Hi(),[o,r]=x.useState(!1);return x.useEffect(()=>{const{scrollArea:l}=i;let u=0;if(l){const d=()=>{window.clearTimeout(u),r(!0)},f=()=>{u=window.setTimeout(()=>r(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s||o?_.jsx(NE,{"data-state":o?"visible":"hidden",...n,ref:t}):null});DI.displayName="@mantine/core/ScrollAreaScrollbarHover";const i5=x.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=Hi(),o=e.orientation==="horizontal",[r,l]=x.useState("hidden"),u=zw(()=>l("idle"),100);return x.useEffect(()=>{if(r==="idle"){const d=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[r,i.scrollHideDelay]),x.useEffect(()=>{const{viewport:d}=i,f=o?"scrollLeft":"scrollTop";if(d){let g=d[f];const m=()=>{const C=d[f];g!==C&&(l("scrolling"),u()),g=C};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,o,u]),s||r!=="hidden"?_.jsx(Zw,{"data-state":r==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:du(e.onPointerEnter,()=>l("interacting")),onPointerLeave:du(e.onPointerLeave,()=>l("idle"))}):null}),vx=x.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=Hi(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:r}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?o(!0):r(!0),()=>{l?o(!1):r(!1)}),[l,o,r]),i.type==="hover"?_.jsx(DI,{...n,ref:t,forceMount:s}):i.type==="scroll"?_.jsx(i5,{...n,ref:t,forceMount:s}):i.type==="auto"?_.jsx(NE,{...n,ref:t,forceMount:s}):i.type==="always"?_.jsx(Zw,{...n,ref:t}):null});vx.displayName="@mantine/core/ScrollAreaScrollbar";function o5(e,t=()=>{}){let s={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},r=s.left!==o.left,l=s.top!==o.top;(r||l)&&t(),s=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const TI=x.forwardRef((e,t)=>{const{style:s,...n}=e,i=Hi(),o=RI(),{onThumbPositionChange:r}=o,l=En(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=zw(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const{viewport:f}=i;if(f){const g=()=>{if(d(),!u.current){const m=o5(f,r);u.current=m,r()}};return r(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,d,r]),_.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...s},onPointerDownCapture:du(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),C=f.clientX-m.left,w=f.clientY-m.top;o.onThumbPointerDown({x:C,y:w})}),onPointerUp:du(e.onPointerUp,o.onThumbPointerUp)})});TI.displayName="@mantine/core/ScrollAreaThumb";const Cx=x.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=RI();return s||i.hasThumb?_.jsx(TI,{ref:t,...n}):null});Cx.displayName="@mantine/core/ScrollAreaThumb";const FI=x.forwardRef(({children:e,style:t,...s},n)=>{const i=Hi(),o=En(n,i.onViewportChange);return _.jsx(qe,{...s,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:_.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});FI.displayName="@mantine/core/ScrollAreaViewport";var HE={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const PI={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},r5=(e,{scrollbarSize:t,overscrollBehavior:s})=>({root:{"--scrollarea-scrollbar-size":be(t),"--scrollarea-over-scroll-behavior":s}}),tv=nt((e,t)=>{const s=Oe("ScrollArea",PI,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,scrollbarSize:u,vars:d,type:f,scrollHideDelay:g,viewportProps:m,viewportRef:C,onScrollPositionChange:w,children:y,offsetScrollbars:R,scrollbars:A,onBottomReached:D,onTopReached:E,overscrollBehavior:T,...P}=s,[L,N]=x.useState(!1),[B,W]=x.useState(!1),[z,q]=x.useState(!1),K=bt({name:"ScrollArea",props:s,classes:HE,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:d,varsResolver:r5}),$=x.useRef(null),te=_U([C,$]);return x.useEffect(()=>{if(!$.current||R!=="present")return;const ee=$.current,G=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:U,scrollWidth:re,clientWidth:H}=ee;W(V>U),q(re>H)});return G.observe(ee),()=>G.disconnect()},[$,R]),_.jsxs(bI,{type:f==="never"?"always":f,scrollHideDelay:g,ref:t,scrollbars:A,...K("root"),...P,children:[_.jsx(FI,{...m,...K("viewport",{style:m==null?void 0:m.style}),ref:te,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":A||void 0,"data-horizontal-hidden":R==="present"&&!z?"true":void 0,"data-vertical-hidden":R==="present"&&!B?"true":void 0,onScroll:ee=>{var re;(re=m==null?void 0:m.onScroll)==null||re.call(m,ee),w==null||w({x:ee.currentTarget.scrollLeft,y:ee.currentTarget.scrollTop});const{scrollTop:G,scrollHeight:V,clientHeight:U}=ee.currentTarget;G-(V-U)>=0&&(D==null||D()),G===0&&(E==null||E())},children:y}),(A==="xy"||A==="x")&&_.jsx(vx,{...K("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||R==="present"&&!z?!0:void 0,forceMount:!0,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:_.jsx(Cx,{...K("thumb")})}),(A==="xy"||A==="y")&&_.jsx(vx,{...K("scrollbar"),orientation:"vertical","data-hidden":f==="never"||R==="present"&&!B?!0:void 0,forceMount:!0,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:_.jsx(Cx,{...K("thumb")})}),_.jsx(JU,{...K("corner"),"data-hovered":L||void 0,"data-hidden":f==="never"||void 0})]})});tv.displayName="@mantine/core/ScrollArea";const BE=nt((e,t)=>{const{children:s,classNames:n,styles:i,scrollbarSize:o,scrollHideDelay:r,type:l,dir:u,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:g,unstyled:m,variant:C,viewportProps:w,scrollbars:y,style:R,vars:A,onBottomReached:D,onTopReached:E,...T}=Oe("ScrollAreaAutosize",PI,e);return _.jsx(qe,{...T,ref:t,style:[{display:"flex",overflow:"auto"},R],children:_.jsx(qe,{style:{display:"flex",flexDirection:"column",flex:1},children:_.jsx(tv,{classNames:n,styles:i,scrollHideDelay:r,scrollbarSize:o,type:l,dir:u,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:g,unstyled:m,variant:C,viewportProps:w,vars:A,scrollbars:y,onBottomReached:D,onTopReached:E,children:s})})})});tv.classes=HE;BE.displayName="@mantine/core/ScrollAreaAutosize";BE.classes=HE;tv.Autosize=BE;var MI={root:"m_87cf2631"};const a5={__staticSelector:"UnstyledButton"},oa=da((e,t)=>{const s=Oe("UnstyledButton",a5,e),{className:n,component:i="button",__staticSelector:o,unstyled:r,classNames:l,styles:u,style:d,...f}=s,g=bt({name:o,props:s,classes:MI,className:n,style:d,classNames:l,styles:u,unstyled:r});return _.jsx(qe,{...g("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...f})});oa.classes=MI;oa.displayName="@mantine/core/UnstyledButton";var LI={root:"m_515a97f8"};const l5={},GE=nt((e,t)=>{const s=Oe("VisuallyHidden",l5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,...d}=s,f=bt({name:"VisuallyHidden",classes:LI,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l});return _.jsx(qe,{component:"span",ref:t,...f("root"),...d})});GE.classes=LI;GE.displayName="@mantine/core/VisuallyHidden";var kI={root:"m_1b7284a3"};const c5={},u5=(e,{radius:t,shadow:s})=>({root:{"--paper-radius":t===void 0?void 0:hi(t),"--paper-shadow":SE(s)}}),VE=da((e,t)=>{const s=Oe("Paper",c5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,withBorder:u,vars:d,radius:f,shadow:g,variant:m,mod:C,...w}=s,y=bt({name:"Paper",props:s,classes:kI,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:d,varsResolver:u5});return _.jsx(qe,{ref:t,mod:[{"data-with-border":u},C],...y("root"),variant:m,...w})});VE.classes=kI;VE.displayName="@mantine/core/Paper";function d5(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[s,n]=t.split("-"),i=s==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return t}function k1(e,t,s,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:s}:e==="start"?{top:s}:{}}function I1(e,t,s,n,i){return e==="center"||n==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:s}:e==="start"?{[i==="ltr"?"left":"right"]:s}:{}}const h5={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function f5({position:e,arrowSize:t,arrowOffset:s,arrowRadius:n,arrowPosition:i,arrowX:o,arrowY:r,dir:l}){const[u,d="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[h5[u]]:n},g=-t/2;return u==="left"?{...f,...k1(d,r,s,i),right:g,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...f,...k1(d,r,s,i),left:g,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...f,...I1(d,o,s,i,l),bottom:g,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...f,...I1(d,o,s,i,l),top:g,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const II=x.forwardRef(({position:e,arrowSize:t,arrowOffset:s,arrowRadius:n,arrowPosition:i,visible:o,arrowX:r,arrowY:l,style:u,...d},f)=>{const{dir:g}=qw();return o?_.jsx("div",{...d,ref:f,style:{...u,...f5({position:e,arrowSize:t,arrowOffset:s,arrowRadius:n,arrowPosition:i,dir:g,arrowX:r,arrowY:l})}}):null});II.displayName="@mantine/core/FloatingArrow";var OI={root:"m_9814e45f"};const g5={zIndex:Il("modal")},p5=(e,{gradient:t,color:s,backgroundOpacity:n,blur:i,radius:o,zIndex:r})=>({root:{"--overlay-bg":t||(s!==void 0||n!==void 0)&&xo(s||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${be(i)})`:void 0,"--overlay-radius":o===void 0?void 0:hi(o),"--overlay-z-index":r==null?void 0:r.toString()}}),Jw=da((e,t)=>{const s=Oe("Overlay",g5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,fixed:d,center:f,children:g,radius:m,zIndex:C,gradient:w,blur:y,color:R,backgroundOpacity:A,mod:D,...E}=s,T=bt({name:"Overlay",props:s,classes:OI,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:p5});return _.jsx(qe,{ref:t,...T("root"),mod:[{center:f,fixed:d},D],...E,children:g})});Jw.classes=OI;Jw.displayName="@mantine/core/Overlay";function bR(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function m5({target:e,reuseTargetNode:t,...s}){if(e)return typeof e=="string"?document.querySelector(e)||bR(s):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const i=bR(s);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return bR(s)}const v5={},_I=nt((e,t)=>{const{children:s,target:n,reuseTargetNode:i,...o}=Oe("Portal",v5,e),[r,l]=x.useState(!1),u=x.useRef(null);return Xm(()=>(l(!0),u.current=m5({target:n,reuseTargetNode:i,...o}),Cp(t,u.current),!n&&!i&&u.current&&document.body.appendChild(u.current),()=>{!n&&!i&&u.current&&document.body.removeChild(u.current)}),[n]),!r||!u.current?null:Jm.createPortal(_.jsx(_.Fragment,{children:s}),u.current)});_I.displayName="@mantine/core/Portal";const sv=nt(({withinPortal:e=!0,children:t,...s},n)=>Zk()==="test"||!e?_.jsx(_.Fragment,{children:t}):_.jsx(_I,{ref:n,...s,children:t}));sv.displayName="@mantine/core/OptionalPortal";const Lg=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),_C={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Lg("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Lg("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Lg("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Lg("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Lg("top"),common:{transformOrigin:"top right"}}},O1={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function C5({transition:e,state:t,duration:s,timingFunction:n}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${s}ms`,transitionTimingFunction:n};return typeof e=="string"?e in _C?{transitionProperty:_C[e].transitionProperty,...i,..._C[e].common,..._C[e][O1[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[O1[t]]}}function b5({duration:e,exitDuration:t,timingFunction:s,mounted:n,onEnter:i,onExit:o,onEntered:r,onExited:l,enterDelay:u,exitDelay:d}){const f=tr(),g=Kk(),m=f.respectReducedMotion?g:!1,[C,w]=x.useState(m?0:e),[y,R]=x.useState(n?"entered":"exited"),A=x.useRef(-1),D=x.useRef(-1),E=x.useRef(-1),T=L=>{const N=L?i:o,B=L?r:l;window.clearTimeout(A.current);const W=m?0:L?e:t;w(W),W===0?(typeof N=="function"&&N(),typeof B=="function"&&B(),R(L?"entered":"exited")):E.current=requestAnimationFrame(()=>{aI.flushSync(()=>{R(L?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof N=="function"&&N(),R(L?"entering":"exiting"),A.current=window.setTimeout(()=>{typeof B=="function"&&B(),R(L?"entered":"exited")},W)})})},P=L=>{if(window.clearTimeout(D.current),typeof(L?u:d)!="number"){T(L);return}D.current=window.setTimeout(()=>{T(L)},L?u:d)};return wu(()=>{P(n)},[n]),x.useEffect(()=>()=>{window.clearTimeout(A.current),cancelAnimationFrame(E.current)},[]),{transitionDuration:C,transitionStatus:y,transitionTimingFunction:s||"ease"}}function Sf({keepMounted:e,transition:t="fade",duration:s=250,exitDuration:n=s,mounted:i,children:o,timingFunction:r="ease",onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:g,exitDelay:m}){const C=Zk(),{transitionDuration:w,transitionStatus:y,transitionTimingFunction:R}=b5({mounted:i,exitDuration:n,duration:s,timingFunction:r,onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:g,exitDelay:m});return w===0||C==="test"?i?_.jsx(_.Fragment,{children:o({})}):e?o({display:"none"}):null:y==="exited"?e?o({display:"none"}):null:_.jsx(_.Fragment,{children:o(C5({transition:t,duration:w,state:y,timingFunction:R}))})}Sf.displayName="@mantine/core/Transition";const[w5,NI]=Lu("Popover component was not found in the tree");function ey({children:e,active:t=!0,refProp:s="ref",innerRef:n}){const i=lW(t),o=En(i,n);return yE(e)?x.cloneElement(e,{[s]:o}):e}function HI(e){return _.jsx(GE,{tabIndex:-1,"data-autofocus":!0,...e})}ey.displayName="@mantine/core/FocusTrap";HI.displayName="@mantine/core/FocusTrapInitialFocus";ey.InitialFocus=HI;var BI={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const y5={},zE=nt((e,t)=>{var R,A,D,E;const s=Oe("PopoverDropdown",y5,e),{className:n,style:i,vars:o,children:r,onKeyDownCapture:l,variant:u,classNames:d,styles:f,...g}=s,m=NI(),C=zk({opened:m.opened,shouldReturnFocus:m.returnFocus}),w=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},y=En(t,m.floating);return m.disabled?null:_.jsx(sv,{...m.portalProps,withinPortal:m.withinPortal,children:_.jsx(Sf,{mounted:m.opened,...m.transitionProps,transition:((R=m.transitionProps)==null?void 0:R.transition)||"fade",duration:((A=m.transitionProps)==null?void 0:A.duration)??150,keepMounted:m.keepMounted,exitDuration:typeof((D=m.transitionProps)==null?void 0:D.exitDuration)=="number"?m.transitionProps.exitDuration:(E=m.transitionProps)==null?void 0:E.duration,children:T=>_.jsx(ey,{active:m.trapFocus&&m.opened,innerRef:y,children:_.jsxs(qe,{...w,...g,variant:u,onKeyDownCapture:Kz(()=>{var P,L;(P=m.onClose)==null||P.call(m),(L=m.onDismiss)==null||L.call(m)},{active:m.closeOnEscape,onTrigger:C,onKeyDown:l}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:n,props:s,classNames:d,styles:f,style:[{...T,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:be(m.width)},m.resolvedStyles.dropdown,f==null?void 0:f.dropdown,i]}),children:[r,_.jsx(II,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:s,classNames:d,styles:f})})]})})})})});zE.classes=BI;zE.displayName="@mantine/core/PopoverDropdown";const S5={refProp:"ref",popupType:"dialog"},GI=nt((e,t)=>{const{children:s,refProp:n,popupType:i,...o}=Oe("PopoverTarget",S5,e);if(!yE(s))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const r=o,l=NI(),u=En(l.reference,TW(s),t),d=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return x.cloneElement(s,{...r,...d,...l.targetProps,className:Ds(l.targetProps.className,r.className,s.props.className),[n]:u,...l.controlled?null:{onClick:l.onToggle}})});GI.displayName="@mantine/core/PopoverTarget";function R5({opened:e,floating:t,position:s,positionDependencies:n}){const[i,o]=x.useState(0);x.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return SU(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,s]),wu(()=>{t.update()},n),wu(()=>{o(r=>r+1)},[e])}function x5(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function A5(e,t){const s=x5(e.middlewares),n=[LU(e.offset)];return s.shift&&n.push(kU(typeof s.shift=="boolean"?{limiter:D1(),padding:5}:{limiter:D1(),padding:5,...s.shift})),s.flip&&n.push(typeof s.flip=="boolean"?T1():T1(s.flip)),s.inline&&n.push(typeof s.inline=="boolean"?F1():F1(s.inline)),n.push(OU({element:e.arrowRef,padding:e.arrowOffset})),(s.size||e.width==="target")&&n.push(IU({...typeof s.size=="boolean"?{}:s.size,apply({rects:i,availableWidth:o,availableHeight:r,...l}){var f;const d=((f=t().refs.floating.current)==null?void 0:f.style)??{};s.size&&(typeof s.size=="object"&&s.size.apply?s.size.apply({rects:i,availableWidth:o,availableHeight:r,...l}):Object.assign(d,{maxWidth:`${o}px`,maxHeight:`${r}px`})),e.width==="target"&&Object.assign(d,{width:`${i.reference.width}px`})}})),n}function E5(e){const[t,s]=ku({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=x.useRef(t),i=()=>{t&&s(!1)},o=()=>s(!t),r=XU({strategy:e.strategy,placement:e.position,middleware:A5(e,()=>r)});return R5({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:r}),wu(()=>{var l;(l=e.onPositionChange)==null||l.call(e,r.placement)},[r.placement]),wu(()=>{var l,u;t!==n.current&&(t?(u=e.onOpen)==null||u.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:r,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const D5={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Il("popover"),__staticSelector:"Popover",width:"max-content"},T5=(e,{radius:t,shadow:s})=>({dropdown:{"--popover-radius":t===void 0?void 0:hi(t),"--popover-shadow":SE(s)}});function Iu(e){var ze,Lt,pt,je,tt,rs;const t=Oe("Popover",D5,e),{children:s,position:n,offset:i,onPositionChange:o,positionDependencies:r,opened:l,transitionProps:u,onExitTransitionEnd:d,onEnterTransitionEnd:f,width:g,middlewares:m,withArrow:C,arrowSize:w,arrowOffset:y,arrowRadius:R,arrowPosition:A,unstyled:D,classNames:E,styles:T,closeOnClickOutside:P,withinPortal:L,portalProps:N,closeOnEscape:B,clickOutsideEvents:W,trapFocus:z,onClose:q,onDismiss:K,onOpen:$,onChange:te,zIndex:ee,radius:G,shadow:V,id:U,defaultOpened:re,__staticSelector:H,withRoles:Y,disabled:Q,returnFocus:J,variant:le,keepMounted:ge,vars:pe,floatingStrategy:Te,withOverlay:ke,overlayProps:Ke,...Pe}=t,wt=bt({name:H,props:t,classes:BI,classNames:E,styles:T,unstyled:D,rootSelector:"dropdown",vars:pe,varsResolver:T5}),{resolvedStyles:Et}=jw({classNames:E,styles:T,props:t}),he=x.useRef(null),[ye,Me]=x.useState(null),[He,ce]=x.useState(null),{dir:Ce}=qw(),Re=Qm(U),De=E5({middlewares:m,width:g,position:d5(Ce,n),offset:typeof i=="number"?i+(C?w/2:0):i,arrowRef:he,arrowOffset:y,onPositionChange:o,positionDependencies:r,opened:l,defaultOpened:re,onChange:te,onOpen:$,onClose:q,onDismiss:K,strategy:Te});Jz(()=>{P&&(De.onClose(),K==null||K())},W,[ye,He]);const Ge=x.useCallback(as=>{Me(as),De.floating.refs.setReference(as)},[De.floating.refs.setReference]),Ye=x.useCallback(as=>{ce(as),De.floating.refs.setFloating(as)},[De.floating.refs.setFloating]),Xe=x.useCallback(()=>{var as;(as=u==null?void 0:u.onExited)==null||as.call(u),d==null||d()},[u==null?void 0:u.onExited,d]),Ae=x.useCallback(()=>{var as;(as=u==null?void 0:u.onEntered)==null||as.call(u),f==null||f()},[u==null?void 0:u.onEntered,f]);return _.jsxs(w5,{value:{returnFocus:J,disabled:Q,controlled:De.controlled,reference:Ge,floating:Ye,x:De.floating.x,y:De.floating.y,arrowX:(pt=(Lt=(ze=De.floating)==null?void 0:ze.middlewareData)==null?void 0:Lt.arrow)==null?void 0:pt.x,arrowY:(rs=(tt=(je=De.floating)==null?void 0:je.middlewareData)==null?void 0:tt.arrow)==null?void 0:rs.y,opened:De.opened,arrowRef:he,transitionProps:{...u,onExited:Xe,onEntered:Ae},width:g,withArrow:C,arrowSize:w,arrowOffset:y,arrowRadius:R,arrowPosition:A,placement:De.floating.placement,trapFocus:z,withinPortal:L,portalProps:N,zIndex:ee,radius:G,shadow:V,closeOnEscape:B,onDismiss:K,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Re}-target`,getDropdownId:()=>`${Re}-dropdown`,withRoles:Y,targetProps:Pe,__staticSelector:H,classNames:E,styles:T,unstyled:D,variant:le,keepMounted:ge,getStyles:wt,resolvedStyles:Et,floatingStrategy:Te},children:[s,ke&&_.jsx(Sf,{transition:"fade",mounted:De.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:as=>_.jsx(sv,{withinPortal:L,children:_.jsx(Jw,{...Ke,...wt("overlay",{className:Ke==null?void 0:Ke.className,style:[as,Ke==null?void 0:Ke.style]})})})})]})}Iu.Target=GI;Iu.Dropdown=zE;Iu.displayName="@mantine/core/Popover";Iu.extend=e=>e;var io={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const VI=x.forwardRef(({className:e,...t},s)=>_.jsxs(qe,{component:"span",className:Ds(io.barsLoader,e),...t,ref:s,children:[_.jsx("span",{className:io.bar}),_.jsx("span",{className:io.bar}),_.jsx("span",{className:io.bar})]}));VI.displayName="@mantine/core/Bars";const zI=x.forwardRef(({className:e,...t},s)=>_.jsxs(qe,{component:"span",className:Ds(io.dotsLoader,e),...t,ref:s,children:[_.jsx("span",{className:io.dot}),_.jsx("span",{className:io.dot}),_.jsx("span",{className:io.dot})]}));zI.displayName="@mantine/core/Dots";const WI=x.forwardRef(({className:e,...t},s)=>_.jsx(qe,{component:"span",className:Ds(io.ovalLoader,e),...t,ref:s}));WI.displayName="@mantine/core/Oval";const UI={bars:VI,oval:WI,dots:zI},F5={loaders:UI,type:"oval"},P5=(e,{size:t,color:s})=>({root:{"--loader-size":Cs(t,"loader-size"),"--loader-color":s?Qo(s,e):void 0}}),ty=nt((e,t)=>{const s=Oe("Loader",F5,e),{size:n,color:i,type:o,vars:r,className:l,style:u,classNames:d,styles:f,unstyled:g,loaders:m,variant:C,children:w,...y}=s,R=bt({name:"Loader",props:s,classes:io,className:l,style:u,classNames:d,styles:f,unstyled:g,vars:r,varsResolver:P5});return w?_.jsx(qe,{...R("root"),ref:t,...y,children:w}):_.jsx(qe,{...R("root"),ref:t,component:m[o],variant:C,size:n,...y})});ty.defaultLoaders=UI;ty.classes=io;ty.displayName="@mantine/core/Loader";const WE=x.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...s},n)=>_.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...s,children:_.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));WE.displayName="@mantine/core/CloseIcon";var jI={root:"m_86a44da5","root--subtle":"m_220c80f2"};const M5={variant:"subtle"},L5=(e,{size:t,radius:s,iconSize:n})=>({root:{"--cb-size":Cs(t,"cb-size"),"--cb-radius":s===void 0?void 0:hi(s),"--cb-icon-size":be(n)}}),sy=da((e,t)=>{const s=Oe("CloseButton",M5,e),{iconSize:n,children:i,vars:o,radius:r,className:l,classNames:u,style:d,styles:f,unstyled:g,"data-disabled":m,disabled:C,variant:w,icon:y,mod:R,__staticSelector:A,...D}=s,E=bt({name:A||"CloseButton",props:s,className:l,style:d,classes:jI,classNames:u,styles:f,unstyled:g,vars:o,varsResolver:L5});return _.jsxs(oa,{ref:t,...D,unstyled:g,variant:w,disabled:C,mod:[{disabled:C||m},R],...E("root",{variant:w,active:!C&&!m}),children:[y||_.jsx(WE,{}),i]})});sy.classes=jI;sy.displayName="@mantine/core/CloseButton";function k5(e){return x.Children.toArray(e).filter(Boolean)}var $I={root:"m_4081bf90"};const I5={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},O5=(e,{grow:t,preventGrowOverflow:s,gap:n,align:i,justify:o,wrap:r},{childWidth:l})=>({root:{"--group-child-width":t&&s?l:void 0,"--group-gap":Sl(n),"--group-align":i,"--group-justify":o,"--group-wrap":r}}),El=nt((e,t)=>{const s=Oe("Group",I5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,children:u,gap:d,align:f,justify:g,wrap:m,grow:C,preventGrowOverflow:w,vars:y,variant:R,__size:A,mod:D,...E}=s,T=k5(u),P=T.length,L=Sl(d??"md"),B={childWidth:`calc(${100/P}% - (${L} - ${L} / ${P}))`},W=bt({name:"Group",props:s,stylesCtx:B,className:i,style:o,classes:$I,classNames:n,styles:r,unstyled:l,vars:y,varsResolver:O5});return _.jsx(qe,{...W("root"),ref:t,variant:R,mod:[{grow:C},D],size:A,...E,children:T})});El.classes=$I;El.displayName="@mantine/core/Group";const[_5,ha]=Lu("ModalBase component was not found in tree");function N5({opened:e,transitionDuration:t}){const[s,n]=x.useState(e),i=x.useRef(-1),r=Kk()?0:t;return x.useEffect(()=>(e?(n(!0),window.clearTimeout(i.current)):r===0?n(!1):i.current=window.setTimeout(()=>n(!1),r),()=>window.clearTimeout(i.current)),[e,r]),s}function H5({id:e,transitionProps:t,opened:s,trapFocus:n,closeOnEscape:i,onClose:o,returnFocus:r}){const l=Qm(e),[u,d]=x.useState(!1),[f,g]=x.useState(!1),m=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,C=N5({opened:s,transitionDuration:m});return vp("keydown",w=>{var y;w.key==="Escape"&&i&&!w.isComposing&&s&&((y=w.target)==null?void 0:y.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),zk({opened:s,shouldReturnFocus:n&&r}),{_id:l,titleMounted:u,bodyMounted:f,shouldLockScroll:C,setTitleMounted:d,setBodyMounted:g}}const qI=x.forwardRef(({keepMounted:e,opened:t,onClose:s,id:n,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:r,trapFocus:l,closeOnEscape:u,returnFocus:d,closeOnClickOutside:f,withinPortal:g,portalProps:m,lockScroll:C,children:w,zIndex:y,shadow:R,padding:A,__vars:D,unstyled:E,removeScrollProps:T,...P},L)=>{const{_id:N,titleMounted:B,bodyMounted:W,shouldLockScroll:z,setTitleMounted:q,setBodyMounted:K}=H5({id:n,transitionProps:i,opened:t,trapFocus:l,closeOnEscape:u,onClose:s,returnFocus:d}),{key:$,...te}=T||{};return _.jsx(sv,{...m,withinPortal:g,children:_.jsx(_5,{value:{opened:t,onClose:s,closeOnClickOutside:f,onExitTransitionEnd:o,onEnterTransitionEnd:r,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${N}-title`,getBodyId:()=>`${N}-body`,titleMounted:B,bodyMounted:W,setTitleMounted:q,setBodyMounted:K,trapFocus:l,closeOnEscape:u,zIndex:y,unstyled:E},children:_.jsx(Bk,{enabled:z&&C,...te,children:_.jsx(qe,{ref:L,...P,__vars:{...D,"--mb-z-index":(y||Il("modal")).toString(),"--mb-shadow":SE(R),"--mb-padding":Sl(A)},children:w})},$)})})});qI.displayName="@mantine/core/ModalBase";function B5(){const e=ha();return x.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var uf={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const KI=x.forwardRef(({className:e,...t},s)=>{const n=B5(),i=ha();return _.jsx(qe,{ref:s,...t,id:n,className:Ds({[uf.body]:!i.unstyled},e)})});KI.displayName="@mantine/core/ModalBaseBody";const YI=x.forwardRef(({className:e,onClick:t,...s},n)=>{const i=ha();return _.jsx(sy,{ref:n,...s,onClick:o=>{i.onClose(),t==null||t(o)},className:Ds({[uf.close]:!i.unstyled},e),unstyled:i.unstyled})});YI.displayName="@mantine/core/ModalBaseCloseButton";const XI=x.forwardRef(({transitionProps:e,className:t,innerProps:s,onKeyDown:n,style:i,...o},r)=>{const l=ha();return _.jsx(Sf,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var u,d,f;(u=l.onExitTransitionEnd)==null||u.call(l),(f=(d=l.transitionProps)==null?void 0:d.onExited)==null||f.call(d)},onEntered:()=>{var u,d,f;(u=l.onEnterTransitionEnd)==null||u.call(l),(f=(d=l.transitionProps)==null?void 0:d.onEntered)==null||f.call(d)},...e,children:u=>_.jsx("div",{...s,className:Ds({[uf.inner]:!l.unstyled},s.className),children:_.jsx(ey,{active:l.opened&&l.trapFocus,innerRef:r,children:_.jsx(VE,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[i,u],className:Ds({[uf.content]:!l.unstyled},t),unstyled:l.unstyled,children:o.children})})})})});XI.displayName="@mantine/core/ModalBaseContent";const QI=x.forwardRef(({className:e,...t},s)=>{const n=ha();return _.jsx(qe,{component:"header",ref:s,className:Ds({[uf.header]:!n.unstyled},e),...t})});QI.displayName="@mantine/core/ModalBaseHeader";const G5={duration:200,timingFunction:"ease",transition:"fade"};function V5(e){const t=ha();return{...G5,...t.transitionProps,...e}}const ZI=x.forwardRef(({onClick:e,transitionProps:t,style:s,visible:n,...i},o)=>{const r=ha(),l=V5(t);return _.jsx(Sf,{mounted:n!==void 0?n:r.opened,...l,transition:"fade",children:u=>_.jsx(Jw,{ref:o,fixed:!0,style:[s,u],zIndex:r.zIndex,unstyled:r.unstyled,onClick:d=>{e==null||e(d),r.closeOnClickOutside&&r.onClose()},...i})})});ZI.displayName="@mantine/core/ModalBaseOverlay";function z5(){const e=ha();return x.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const JI=x.forwardRef(({className:e,...t},s)=>{const n=z5(),i=ha();return _.jsx(qe,{component:"h2",ref:s,className:Ds({[uf.title]:!i.unstyled},e),...t,id:n})});JI.displayName="@mantine/core/ModalBaseTitle";function W5({children:e}){return _.jsx(_.Fragment,{children:e})}const[U5,j5]=Vw({size:"sm"}),$5={},eO=nt((e,t)=>{const s=Oe("InputClearButton",$5,e),{size:n,variant:i,vars:o,classNames:r,styles:l,...u}=s,d=j5(),{resolvedClassNames:f,resolvedStyles:g}=jw({classNames:r,styles:l,props:s});return _.jsx(sy,{variant:i||"transparent",ref:t,size:n||(d==null?void 0:d.size)||"sm",classNames:f,styles:g,__staticSelector:"InputClearButton",...u})});eO.displayName="@mantine/core/InputClearButton";const[q5,nv]=Vw({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Bi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const _1={},K5=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${yn(t)} - ${be(2)})`}}),ny=nt((e,t)=>{const s=Oe("InputDescription",_1,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,size:d,__staticSelector:f,__inheritStyles:g=!0,variant:m,...C}=Oe("InputDescription",_1,s),w=nv(),y=bt({name:["InputWrapper",f],props:s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,rootSelector:"description",vars:u,varsResolver:K5}),R=g&&(w==null?void 0:w.getStyles)||y;return _.jsx(qe,{component:"p",ref:t,variant:m,size:d,...R("description",w!=null&&w.getStyles?{className:i,style:o}:void 0),...C})});ny.classes=Bi;ny.displayName="@mantine/core/InputDescription";const Y5={},X5=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${yn(t)} - ${be(2)})`}}),iy=nt((e,t)=>{const s=Oe("InputError",Y5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,size:d,__staticSelector:f,__inheritStyles:g=!0,variant:m,...C}=s,w=bt({name:["InputWrapper",f],props:s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,rootSelector:"error",vars:u,varsResolver:X5}),y=nv(),R=g&&(y==null?void 0:y.getStyles)||w;return _.jsx(qe,{component:"p",ref:t,variant:m,size:d,...R("error",y!=null&&y.getStyles?{className:i,style:o}:void 0),...C})});iy.classes=Bi;iy.displayName="@mantine/core/InputError";const N1={labelElement:"label"},Q5=(e,{size:t})=>({label:{"--input-label-size":yn(t),"--input-asterisk-color":void 0}}),oy=nt((e,t)=>{const s=Oe("InputLabel",N1,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,labelElement:d,size:f,required:g,htmlFor:m,onMouseDown:C,children:w,__staticSelector:y,variant:R,mod:A,...D}=Oe("InputLabel",N1,s),E=bt({name:["InputWrapper",y],props:s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,rootSelector:"label",vars:u,varsResolver:Q5}),T=nv(),P=(T==null?void 0:T.getStyles)||E;return _.jsxs(qe,{...P("label",T!=null&&T.getStyles?{className:i,style:o}:void 0),component:d,variant:R,size:f,ref:t,htmlFor:d==="label"?m:void 0,mod:[{required:g},A],onMouseDown:L=>{C==null||C(L),!L.defaultPrevented&&L.detail>1&&L.preventDefault()},...D,children:[w,g&&_.jsx("span",{...P("required"),"aria-hidden":!0,children:" *"})]})});oy.classes=Bi;oy.displayName="@mantine/core/InputLabel";const H1={},UE=nt((e,t)=>{const s=Oe("InputPlaceholder",H1,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,__staticSelector:d,variant:f,error:g,mod:m,...C}=Oe("InputPlaceholder",H1,s),w=bt({name:["InputPlaceholder",d],props:s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,rootSelector:"placeholder"});return _.jsx(qe,{...w("placeholder"),mod:[{error:!!g},m],component:"span",variant:f,ref:t,...C})});UE.classes=Bi;UE.displayName="@mantine/core/InputPlaceholder";function Z5(e,{hasDescription:t,hasError:s}){const n=e.findIndex(u=>u==="input"),i=e.slice(0,n),o=e.slice(n+1),r=t&&i.includes("description")||s&&i.includes("error");return{offsetBottom:t&&o.includes("description")||s&&o.includes("error"),offsetTop:r}}const J5={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},ej=(e,{size:t})=>({label:{"--input-label-size":yn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${yn(t)} - ${be(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${yn(t)} - ${be(2)})`}}),jE=nt((e,t)=>{const s=Oe("InputWrapper",J5,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,size:d,variant:f,__staticSelector:g,inputContainer:m,inputWrapperOrder:C,label:w,error:y,description:R,labelProps:A,descriptionProps:D,errorProps:E,labelElement:T,children:P,withAsterisk:L,id:N,required:B,__stylesApiProps:W,mod:z,...q}=s,K=bt({name:["InputWrapper",g],props:W||s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:ej}),$={size:d,variant:f,__staticSelector:g},te=Qm(N),ee=typeof L=="boolean"?L:B,G=(E==null?void 0:E.id)||`${te}-error`,V=(D==null?void 0:D.id)||`${te}-description`,U=te,re=!!y&&typeof y!="boolean",H=!!R,Y=`${re?G:""} ${H?V:""}`,Q=Y.trim().length>0?Y.trim():void 0,J=(A==null?void 0:A.id)||`${te}-label`,le=w&&_.jsx(oy,{labelElement:T,id:J,htmlFor:U,required:ee,...$,...A,children:w},"label"),ge=H&&_.jsx(ny,{...D,...$,size:(D==null?void 0:D.size)||$.size,id:(D==null?void 0:D.id)||V,children:R},"description"),pe=_.jsx(x.Fragment,{children:m(P)},"input"),Te=re&&x.createElement(iy,{...E,...$,size:(E==null?void 0:E.size)||$.size,key:"error",id:(E==null?void 0:E.id)||G},y),ke=C.map(Ke=>{switch(Ke){case"label":return le;case"input":return pe;case"description":return ge;case"error":return Te;default:return null}});return _.jsx(q5,{value:{getStyles:K,describedBy:Q,inputId:U,labelId:J,...Z5(C,{hasDescription:H,hasError:re})},children:_.jsx(qe,{ref:t,variant:f,size:d,mod:[{error:!!y},z],...K("root"),...q,children:ke})})});jE.classes=Bi;jE.displayName="@mantine/core/InputWrapper";const tj={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},sj=(e,t,s)=>({wrapper:{"--input-margin-top":s.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":s.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Cs(t.size,"input-height"),"--input-fz":yn(t.size),"--input-radius":t.radius===void 0?void 0:hi(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?be(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?be(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Cs(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),dn=da((e,t)=>{const s=Oe("Input",tj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,required:u,__staticSelector:d,__stylesApiProps:f,size:g,wrapperProps:m,error:C,disabled:w,leftSection:y,leftSectionProps:R,leftSectionWidth:A,rightSection:D,rightSectionProps:E,rightSectionWidth:T,rightSectionPointerEvents:P,leftSectionPointerEvents:L,variant:N,vars:B,pointer:W,multiline:z,radius:q,id:K,withAria:$,withErrorStyles:te,mod:ee,inputSize:G,__clearSection:V,__clearable:U,__defaultRightSection:re,...H}=s,{styleProps:Y,rest:Q}=$w(H),J=nv(),le={offsetBottom:J==null?void 0:J.offsetBottom,offsetTop:J==null?void 0:J.offsetTop},ge=bt({name:["Input",d],props:f||s,classes:Bi,className:i,style:o,classNames:n,styles:r,unstyled:l,stylesCtx:le,rootSelector:"wrapper",vars:B,varsResolver:sj}),pe=$?{required:u,disabled:w,"aria-invalid":!!C,"aria-describedby":J==null?void 0:J.describedBy,id:(J==null?void 0:J.inputId)||K}:{},Te=D||U&&V||re;return _.jsx(U5,{value:{size:g||"sm"},children:_.jsxs(qe,{...ge("wrapper"),...Y,...m,mod:[{error:!!C&&te,pointer:W,disabled:w,multiline:z,"data-with-right-section":!!Te,"data-with-left-section":!!y},ee],variant:N,size:g,children:[y&&_.jsx("div",{...R,"data-position":"left",...ge("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:y}),_.jsx(qe,{component:"input",...Q,...pe,ref:t,required:u,mod:{disabled:w,error:!!C&&te},variant:N,__size:G,...ge("input")}),Te&&_.jsx("div",{...E,"data-position":"right",...ge("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style}),children:Te})]})})});dn.classes=Bi;dn.Wrapper=jE;dn.Label=oy;dn.Error=iy;dn.Description=ny;dn.Placeholder=UE;dn.ClearButton=eO;dn.displayName="@mantine/core/Input";function nj(e,t,s){const n=Oe(e,t,s),{label:i,description:o,error:r,required:l,classNames:u,styles:d,className:f,unstyled:g,__staticSelector:m,__stylesApiProps:C,errorProps:w,labelProps:y,descriptionProps:R,wrapperProps:A,id:D,size:E,style:T,inputContainer:P,inputWrapperOrder:L,withAsterisk:N,variant:B,vars:W,mod:z,...q}=n,{styleProps:K,rest:$}=$w(q),te={label:i,description:o,error:r,required:l,classNames:u,className:f,__staticSelector:m,__stylesApiProps:C||n,errorProps:w,labelProps:y,descriptionProps:R,unstyled:g,styles:d,size:E,style:T,inputContainer:P,inputWrapperOrder:L,withAsterisk:N,variant:B,id:D,mod:z,...A};return{...$,classNames:u,styles:d,unstyled:g,wrapperProps:{...te,...K},inputProps:{required:l,classNames:u,styles:d,unstyled:g,size:E,__staticSelector:m,__stylesApiProps:C||n,error:r,variant:B,id:D}}}const ij={__staticSelector:"InputBase",withAria:!0},Rf=da((e,t)=>{const{inputProps:s,wrapperProps:n,...i}=nj("InputBase",ij,e);return _.jsx(dn.Wrapper,{...n,children:_.jsx(dn,{...s,...i,ref:t})})});Rf.classes={...dn.classes,...dn.Wrapper.classes};Rf.displayName="@mantine/core/InputBase";function oj(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function rj({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const i=x.useRef(-1),[o,r]=x.useState(!1),[l,u]=x.useState(typeof n=="boolean"?n:!1),d=()=>{if(!e||!t||!s.current)return;const C=e.getBoundingClientRect(),w=t.getBoundingClientRect(),y=window.getComputedStyle(e),R=window.getComputedStyle(t),A=Rl(y.borderTopWidth)+Rl(R.borderTopWidth),D=Rl(y.borderLeftWidth)+Rl(R.borderLeftWidth),E={top:C.top-w.top-A,left:C.left-w.left-D,width:C.width,height:C.height};s.current.style.transform=`translateY(${E.top}px) translateX(${E.left}px)`,s.current.style.width=`${E.width}px`,s.current.style.height=`${E.height}px`},f=()=>{window.clearTimeout(i.current),s.current&&(s.current.style.transitionDuration="0ms"),d(),i.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},g=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{if(d(),e)return g.current=new ResizeObserver(f),g.current.observe(e),t&&(m.current=new ResizeObserver(f),m.current.observe(t)),()=>{var C,w;(C=g.current)==null||C.disconnect(),(w=m.current)==null||w.disconnect()}},[t,e]),x.useEffect(()=>{if(t){const C=w=>{oj(w.target,t)&&(f(),u(!1))};return t.addEventListener("transitionend",C),()=>{t.removeEventListener("transitionend",C)}}},[t]),RW(()=>{DW()!=="test"&&r(!0)},20,{autoInvoke:!0}),xW(C=>{C.forEach(w=>{w.type==="attributes"&&w.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:l}}var tO={root:"m_96b553a6"};const aj={},lj=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),$E=nt((e,t)=>{const s=Oe("FloatingIndicator",aj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,target:d,parent:f,transitionDuration:g,mod:m,displayAfterTransitionEnd:C,...w}=s,y=bt({name:"FloatingIndicator",classes:tO,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:lj}),R=x.useRef(null),{initialized:A,hidden:D}=rj({target:d,parent:f,ref:R,displayAfterTransitionEnd:C}),E=En(t,R);return!d||!f?null:_.jsx(qe,{ref:E,mod:[{initialized:A,hidden:D},m],...y("root"),...w})});$E.displayName="@mantine/core/FloatingIndicator";$E.classes=tO;var sO={root:"m_7f854edf"};const cj={position:{bottom:0,right:0},zIndex:Il("modal"),withinPortal:!0},uj=(e,{zIndex:t,position:s})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":Sl(s==null?void 0:s.top),"--affix-left":Sl(s==null?void 0:s.left),"--affix-bottom":Sl(s==null?void 0:s.bottom),"--affix-right":Sl(s==null?void 0:s.right)}}),qE=nt((e,t)=>{const s=Oe("Affix",cj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,portalProps:d,zIndex:f,withinPortal:g,position:m,...C}=s,w=bt({name:"Affix",classes:sO,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:uj});return _.jsx(sv,{...d,withinPortal:g,children:_.jsx(qe,{ref:t,...w("root"),...C})})});qE.classes=sO;qE.displayName="@mantine/core/Affix";var nO={root:"m_b6d8b162"};function dj(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const hj={inherit:!1},fj=(e,{variant:t,lineClamp:s,gradient:n,size:i,color:o})=>({root:{"--text-fz":yn(i),"--text-lh":Yz(i),"--text-gradient":t==="gradient"?ux(n,e):void 0,"--text-line-clamp":typeof s=="number"?s.toString():void 0,"--text-color":o?Qo(o,e):void 0}}),oo=da((e,t)=>{const s=Oe("Text",hj,e),{lineClamp:n,truncate:i,inline:o,inherit:r,gradient:l,span:u,__staticSelector:d,vars:f,className:g,style:m,classNames:C,styles:w,unstyled:y,variant:R,mod:A,size:D,...E}=s,T=bt({name:["Text",d],props:s,classes:nO,className:g,style:m,classNames:C,styles:w,unstyled:y,vars:f,varsResolver:fj});return _.jsx(qe,{...T("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:R,mod:[{"data-truncate":dj(i),"data-line-clamp":typeof n=="number","data-inline":o,"data-inherit":r},A],size:D,...E})});oo.classes=nO;oo.displayName="@mantine/core/Text";var iO={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const gj=iO,oO=x.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:s,classNames:n,styles:i,unstyled:o,children:r,label:l,description:u,id:d,disabled:f,error:g,size:m,labelPosition:C="left",bodyElement:w="div",labelElement:y="label",variant:R,style:A,vars:D,mod:E,...T},P)=>{const L=bt({name:e,props:t,className:s,style:A,classes:iO,classNames:n,styles:i,unstyled:o});return _.jsx(qe,{...L("root"),ref:P,__vars:{"--label-fz":yn(m),"--label-lh":Cs(m,"label-lh")},mod:[{"label-position":C},E],variant:R,size:m,...T,children:_.jsxs(qe,{component:w,htmlFor:w==="label"?d:void 0,...L("body"),children:[r,_.jsxs("div",{...L("labelWrapper"),"data-disabled":f||void 0,children:[l&&_.jsx(qe,{component:y,htmlFor:y==="label"?d:void 0,...L("label"),"data-disabled":f||void 0,children:l}),u&&_.jsx(dn.Description,{size:m,__inheritStyles:!1,...L("description"),children:u}),g&&typeof g!="boolean"&&_.jsx(dn.Error,{size:m,__inheritStyles:!1,...L("error"),children:g})]})]})})});oO.displayName="@mantine/core/InlineInput";const rO=x.createContext(null),pj=rO.Provider,aO=()=>x.useContext(rO),[mj,vj]=Vw();var lO={card:"m_26775b0a"};const Cj={withBorder:!0},bj=(e,{radius:t})=>({card:{"--card-radius":hi(t)}}),KE=nt((e,t)=>{const s=Oe("CheckboxCard",Cj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,checked:d,mod:f,withBorder:g,value:m,onClick:C,defaultChecked:w,onChange:y,...R}=s,A=bt({name:"CheckboxCard",classes:lO,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:bj,rootSelector:"card"}),D=aO(),E=typeof d=="boolean"?d:D?D.value.includes(m||""):void 0,[T,P]=ku({value:E,defaultValue:w,finalValue:!1,onChange:y});return _.jsx(mj,{value:{checked:T},children:_.jsx(oa,{ref:t,mod:[{"with-border":g,checked:T},f],...A("card"),...R,role:"checkbox","aria-checked":T,onClick:L=>{C==null||C(L),D==null||D.onChange(m||""),P(!T)}})})});KE.displayName="@mantine/core/CheckboxCard";KE.classes=lO;function wj({children:e,role:t}){const s=nv();return s?_.jsx("div",{role:t,"aria-labelledby":s.labelId,"aria-describedby":s.describedBy,children:e}):_.jsx(_.Fragment,{children:e})}const yj={},YE=nt((e,t)=>{const{value:s,defaultValue:n,onChange:i,size:o,wrapperProps:r,children:l,readOnly:u,...d}=Oe("CheckboxGroup",yj,e),[f,g]=ku({value:s,defaultValue:n,finalValue:[],onChange:i}),m=C=>{const w=typeof C=="string"?C:C.currentTarget.value;!u&&g(f.includes(w)?f.filter(y=>y!==w):[...f,w])};return _.jsx(pj,{value:{value:f,onChange:m,size:o},children:_.jsx(dn.Wrapper,{size:o,ref:t,...r,...d,labelElement:"div",__staticSelector:"CheckboxGroup",children:_.jsx(wj,{role:"group",children:l})})})});YE.classes=dn.Wrapper.classes;YE.displayName="@mantine/core/CheckboxGroup";function Sj({size:e,style:t,...s}){const n=e!==void 0?{width:be(e),height:be(e),...t}:t;return _.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...s,children:_.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function cO({indeterminate:e,...t}){return e?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:_.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):_.jsx(Sj,{...t})}var uO={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const Rj={icon:cO},xj=(e,{radius:t,color:s,size:n,iconColor:i,variant:o,autoContrast:r})=>{const l=_l({color:s||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--checkbox-size":Cs(n,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hi(t),"--checkbox-color":o==="outline"?u:Qo(s,e),"--checkbox-icon-color":i?Qo(i,e):EE(r,e)?Zm({color:s,theme:e,autoContrast:r}):void 0}}},XE=nt((e,t)=>{const s=Oe("CheckboxIndicator",Rj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,icon:d,indeterminate:f,radius:g,color:m,iconColor:C,autoContrast:w,checked:y,mod:R,variant:A,disabled:D,...E}=s,T=d,P=bt({name:"CheckboxIndicator",classes:uO,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:xj,rootSelector:"indicator"}),L=vj(),N=typeof y=="boolean"||typeof f=="boolean"?y||f:(L==null?void 0:L.checked)||!1;return _.jsx(qe,{ref:t,...P("indicator",{variant:A}),variant:A,mod:[{checked:N,disabled:D},R],...E,children:_.jsx(T,{indeterminate:f,...P("icon")})})});XE.displayName="@mantine/core/CheckboxIndicator";XE.classes=uO;var dO={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Aj={labelPosition:"right",icon:cO},Ej=(e,{radius:t,color:s,size:n,iconColor:i,variant:o,autoContrast:r})=>{const l=_l({color:s||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--checkbox-size":Cs(n,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hi(t),"--checkbox-color":o==="outline"?u:Qo(s,e),"--checkbox-icon-color":i?Qo(i,e):EE(r,e)?Zm({color:s,theme:e,autoContrast:r}):void 0}}},xf=nt((e,t)=>{const s=Oe("Checkbox",Aj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,color:d,label:f,id:g,size:m,radius:C,wrapperProps:w,checked:y,labelPosition:R,description:A,error:D,disabled:E,variant:T,indeterminate:P,icon:L,rootRef:N,iconColor:B,onChange:W,autoContrast:z,mod:q,...K}=s,$=aO(),te=m||($==null?void 0:$.size),ee=L,G=bt({name:"Checkbox",props:s,classes:dO,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:Ej}),{styleProps:V,rest:U}=$w(K),re=Qm(g),H=$?{checked:$.value.includes(U.value),onChange:J=>{$.onChange(J),W==null||W(J)}}:{},Y=x.useRef(null),Q=t||Y;return x.useEffect(()=>{Q&&"current"in Q&&Q.current&&(Q.current.indeterminate=P||!1)},[P,Q]),_.jsx(oO,{...G("root"),__staticSelector:"Checkbox",__stylesApiProps:s,id:re,size:te,labelPosition:R,label:f,description:A,error:D,disabled:E,classNames:n,styles:r,unstyled:l,"data-checked":H.checked||y||void 0,variant:T,ref:N,mod:q,...V,...w,children:_.jsxs(qe,{...G("inner"),mod:{"data-label-position":R},children:[_.jsx(qe,{component:"input",id:re,ref:Q,checked:y,disabled:E,mod:{error:!!D,indeterminate:P},...G("input",{focusable:!0,variant:T}),onChange:W,...U,...H,type:"checkbox"}),_.jsx(ee,{indeterminate:P,...G("icon")})]})})});xf.classes={...dO,...gj};xf.displayName="@mantine/core/Checkbox";xf.Group=YE;xf.Indicator=XE;xf.Card=KE;var Af={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const B1={orientation:"horizontal"},Dj=(e,{borderWidth:t})=>({group:{"--button-border-width":be(t)}}),QE=nt((e,t)=>{const s=Oe("ButtonGroup",B1,e),{className:n,style:i,classNames:o,styles:r,unstyled:l,orientation:u,vars:d,borderWidth:f,variant:g,mod:m,...C}=Oe("ButtonGroup",B1,e),w=bt({name:"ButtonGroup",props:s,classes:Af,className:n,style:i,classNames:o,styles:r,unstyled:l,vars:d,varsResolver:Dj,rootSelector:"group"});return _.jsx(qe,{...w("group"),ref:t,variant:g,mod:[{"data-orientation":u},m],role:"group",...C})});QE.classes=Af;QE.displayName="@mantine/core/ButtonGroup";const G1={},Tj=(e,{radius:t,color:s,gradient:n,variant:i,autoContrast:o,size:r})=>{const l=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Cs(r,"section-height"),"--section-padding-x":Cs(r,"section-padding-x"),"--section-fz":r!=null&&r.includes("compact")?yn(r.replace("compact-","")):yn(r),"--section-radius":t===void 0?void 0:hi(t),"--section-bg":s||i?l.background:void 0,"--section-color":l.color,"--section-bd":s||i?l.border:void 0}}},ZE=nt((e,t)=>{const s=Oe("ButtonGroupSection",G1,e),{className:n,style:i,classNames:o,styles:r,unstyled:l,vars:u,variant:d,gradient:f,radius:g,autoContrast:m,...C}=Oe("ButtonGroupSection",G1,e),w=bt({name:"ButtonGroupSection",props:s,classes:Af,className:n,style:i,classNames:o,styles:r,unstyled:l,vars:u,varsResolver:Tj,rootSelector:"groupSection"});return _.jsx(qe,{...w("groupSection"),ref:t,variant:d,...C})});ZE.classes=Af;ZE.displayName="@mantine/core/ButtonGroupSection";const Fj={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${be(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Pj={},Mj=(e,{radius:t,color:s,gradient:n,variant:i,size:o,justify:r,autoContrast:l})=>{const u=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:l});return{root:{"--button-justify":r,"--button-height":Cs(o,"button-height"),"--button-padding-x":Cs(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?yn(o.replace("compact-","")):yn(o),"--button-radius":t===void 0?void 0:hi(t),"--button-bg":s||i?u.background:void 0,"--button-hover":s||i?u.hover:void 0,"--button-color":u.color,"--button-bd":s||i?u.border:void 0,"--button-hover-color":s||i?u.hoverColor:void 0}}},rn=da((e,t)=>{const s=Oe("Button",Pj,e),{style:n,vars:i,className:o,color:r,disabled:l,children:u,leftSection:d,rightSection:f,fullWidth:g,variant:m,radius:C,loading:w,loaderProps:y,gradient:R,classNames:A,styles:D,unstyled:E,"data-disabled":T,autoContrast:P,mod:L,...N}=s,B=bt({name:"Button",props:s,classes:Af,className:o,style:n,classNames:A,styles:D,unstyled:E,vars:i,varsResolver:Mj}),W=!!d,z=!!f;return _.jsxs(oa,{ref:t,...B("root",{active:!l&&!w&&!T}),unstyled:E,variant:m,disabled:l||w,mod:[{disabled:l||T,loading:w,block:g,"with-left-section":W,"with-right-section":z},L],...N,children:[_.jsx(Sf,{mounted:!!w,transition:Fj,duration:150,children:q=>_.jsx(qe,{component:"span",...B("loader",{style:q}),"aria-hidden":!0,children:_.jsx(ty,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...y})})}),_.jsxs("span",{...B("inner"),children:[d&&_.jsx(qe,{component:"span",...B("section"),mod:{position:"left"},children:d}),_.jsx(qe,{component:"span",mod:{loading:w},...B("label"),children:u}),f&&_.jsx(qe,{component:"span",...B("section"),mod:{position:"right"},children:f})]})]})});rn.classes=Af;rn.displayName="@mantine/core/Button";rn.Group=QE;rn.GroupSection=ZE;const Lj={multiple:!1},hO=x.forwardRef((e,t)=>{const{onChange:s,children:n,multiple:i,accept:o,name:r,form:l,resetRef:u,disabled:d,capture:f,inputProps:g,...m}=Oe("FileButton",Lj,e),C=x.useRef(null),w=()=>{var A;!d&&((A=C.current)==null||A.click())},y=A=>{s(i?Array.from(A.currentTarget.files):A.currentTarget.files[0]||null)};return Cp(u,()=>{C.current&&(C.current.value="")}),_.jsxs(_.Fragment,{children:[n({onClick:w,...m}),_.jsx("input",{style:{display:"none"},type:"file",accept:o,multiple:i,onChange:y,ref:En(t,C),name:r,form:l,capture:f,...g})]})});hO.displayName="@mantine/core/FileButton";function kj({open:e,close:t,openDelay:s,closeDelay:n}){const i=x.useRef(-1),o=x.useRef(-1),r=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},l=()=>{r(),s===0||s===void 0?e():i.current=window.setTimeout(e,s)},u=()=>{r(),n===0||n===void 0?t():o.current=window.setTimeout(t,n)};return x.useEffect(()=>r,[]),{openDropdown:l,closeDropdown:u}}const[Ij,iv]=Lu("Menu component was not found in the tree");var Ef={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Oj={},JE=nt((e,t)=>{const{classNames:s,className:n,style:i,styles:o,vars:r,...l}=Oe("MenuDivider",Oj,e),u=iv();return _.jsx(qe,{ref:t,...u.getStyles("divider",{className:n,style:i,styles:o,classNames:s}),...l})});JE.classes=Ef;JE.displayName="@mantine/core/MenuDivider";const _j={},eD=nt((e,t)=>{const{classNames:s,className:n,style:i,styles:o,vars:r,onMouseEnter:l,onMouseLeave:u,onKeyDown:d,children:f,...g}=Oe("MenuDropdown",_j,e),m=x.useRef(null),C=iv(),w=Bn(d,A=>{var D,E;(A.key==="ArrowUp"||A.key==="ArrowDown")&&(A.preventDefault(),(E=(D=m.current)==null?void 0:D.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||E.focus())}),y=Bn(l,()=>(C.trigger==="hover"||C.trigger==="click-hover")&&C.openDropdown()),R=Bn(u,()=>(C.trigger==="hover"||C.trigger==="click-hover")&&C.closeDropdown());return _.jsxs(Iu.Dropdown,{...g,onMouseEnter:y,onMouseLeave:R,role:"menu","aria-orientation":"vertical",ref:En(t,m),...C.getStyles("dropdown",{className:n,style:i,styles:o,classNames:s,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:w,children:[C.withInitialFocusPlaceholder&&_.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});eD.classes=Ef;eD.displayName="@mantine/core/MenuDropdown";const Nj={},tD=da((e,t)=>{const{classNames:s,className:n,style:i,styles:o,vars:r,color:l,closeMenuOnClick:u,leftSection:d,rightSection:f,children:g,disabled:m,"data-disabled":C,...w}=Oe("MenuItem",Nj,e),y=iv(),R=tr(),{dir:A}=qw(),D=x.useRef(null),E=y.getItemIndex(D.current),T=w,P=Bn(T.onMouseLeave,()=>y.setHovered(-1)),L=Bn(T.onMouseEnter,()=>y.setHovered(y.getItemIndex(D.current))),N=Bn(T.onClick,()=>{C||(typeof u=="boolean"?u&&y.closeDropdownImmediately():y.closeOnItemClick&&y.closeDropdownImmediately())}),B=Bn(T.onFocus,()=>y.setHovered(y.getItemIndex(D.current))),W=l?R.variantColorResolver({color:l,theme:R,variant:"light"}):void 0,z=l?_l({color:l,theme:R}):null;return _.jsxs(oa,{...w,unstyled:y.unstyled,tabIndex:y.menuItemTabIndex,onFocus:B,...y.getStyles("item",{className:n,style:i,styles:o,classNames:s}),ref:En(D,t),role:"menuitem",disabled:m,"data-menu-item":!0,"data-disabled":m||C||void 0,"data-hovered":y.hovered===E?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:L,onMouseLeave:P,onClick:N,onKeyDown:$z({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:y.loop,dir:A,orientation:"vertical",onKeyDown:T.onKeyDown}),__vars:{"--menu-item-color":z!=null&&z.isThemeColor&&(z==null?void 0:z.shade)===void 0?`var(--mantine-color-${z.color}-6)`:W==null?void 0:W.color,"--menu-item-hover":W==null?void 0:W.hover},children:[d&&_.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:s}),"data-position":"left",children:d}),g&&_.jsx("div",{...y.getStyles("itemLabel",{styles:o,classNames:s}),children:g}),f&&_.jsx("div",{...y.getStyles("itemSection",{styles:o,classNames:s}),"data-position":"right",children:f})]})});tD.classes=Ef;tD.displayName="@mantine/core/MenuItem";const Hj={},sD=nt((e,t)=>{const{classNames:s,className:n,style:i,styles:o,vars:r,...l}=Oe("MenuLabel",Hj,e),u=iv();return _.jsx(qe,{ref:t,...u.getStyles("label",{className:n,style:i,styles:o,classNames:s}),...l})});sD.classes=Ef;sD.displayName="@mantine/core/MenuLabel";const Bj={refProp:"ref"},fO=x.forwardRef((e,t)=>{const{children:s,refProp:n,...i}=Oe("MenuTarget",Bj,e);if(!yE(s))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=iv(),r=s.props,l=Bn(r.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),u=Bn(r.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),d=Bn(r.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return _.jsx(Iu.Target,{refProp:n,popupType:"menu",ref:t,...i,children:x.cloneElement(s,{onClick:l,onMouseEnter:u,onMouseLeave:d,"data-expanded":o.opened?!0:void 0})})});fO.displayName="@mantine/core/MenuTarget";const Gj={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function js(e){const t=Oe("Menu",Gj,e),{children:s,onOpen:n,onClose:i,opened:o,defaultOpened:r,trapFocus:l,onChange:u,closeOnItemClick:d,loop:f,closeOnEscape:g,trigger:m,openDelay:C,closeDelay:w,classNames:y,styles:R,unstyled:A,variant:D,vars:E,menuItemTabIndex:T,keepMounted:P,withInitialFocusPlaceholder:L,...N}=t,B=bt({name:"Menu",classes:Ef,props:t,classNames:y,styles:R,unstyled:A}),[W,{setHovered:z,resetHovered:q}]=Qz(),[K,$]=ku({value:o,defaultValue:r,finalValue:!1,onChange:u}),[te,ee]=x.useState(!1),G=()=>{$(!1),ee(!1),K&&(i==null||i())},V=()=>{$(!0),!K&&(n==null||n())},U=()=>{K?G():V()},{openDropdown:re,closeDropdown:H}=kj({open:V,close:G,closeDelay:w,openDelay:C}),Y=le=>Xz("[data-menu-item]","[data-menu-dropdown]",le),{resolvedClassNames:Q,resolvedStyles:J}=jw({classNames:y,styles:R,props:t});return wu(()=>{q()},[K]),_.jsx(Ij,{value:{getStyles:B,opened:K,toggleDropdown:U,getItemIndex:Y,hovered:W,setHovered:z,openedViaClick:te,setOpenedViaClick:ee,closeOnItemClick:d,closeDropdown:m==="click"?G:H,openDropdown:m==="click"?V:re,closeDropdownImmediately:G,loop:f,trigger:m,unstyled:A,menuItemTabIndex:T,withInitialFocusPlaceholder:L},children:_.jsx(Iu,{...N,opened:K,onChange:U,defaultOpened:r,trapFocus:P?!1:l,closeOnEscape:g,__staticSelector:"Menu",classNames:Q,styles:J,unstyled:A,variant:D,keepMounted:P,children:s})})}js.extend=e=>e;js.withProps=G3(js);js.classes=Ef;js.displayName="@mantine/core/Menu";js.Item=tD;js.Label=sD;js.Dropdown=eD;js.Target=fO;js.Divider=JE;const[Vj,Df]=Lu("Modal component was not found in tree");var fa={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const zj={},ry=nt((e,t)=>{const s=Oe("ModalBody",zj,e),{classNames:n,className:i,style:o,styles:r,vars:l,...u}=s,d=Df();return _.jsx(KI,{ref:t,...d.getStyles("body",{classNames:n,style:o,styles:r,className:i}),...u})});ry.classes=fa;ry.displayName="@mantine/core/ModalBody";const Wj={},ay=nt((e,t)=>{const s=Oe("ModalCloseButton",Wj,e),{classNames:n,className:i,style:o,styles:r,vars:l,...u}=s,d=Df();return _.jsx(YI,{ref:t,...d.getStyles("close",{classNames:n,style:o,styles:r,className:i}),...u})});ay.classes=fa;ay.displayName="@mantine/core/ModalCloseButton";const Uj={},ly=nt((e,t)=>{const s=Oe("ModalContent",Uj,e),{classNames:n,className:i,style:o,styles:r,vars:l,children:u,__hidden:d,...f}=s,g=Df(),m=g.scrollAreaComponent||W5;return _.jsx(XI,{...g.getStyles("content",{className:i,style:o,styles:r,classNames:n}),innerProps:g.getStyles("inner",{className:i,style:o,styles:r,classNames:n}),"data-full-screen":g.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...f,children:_.jsx(m,{style:{maxHeight:g.fullScreen?"100dvh":`calc(100dvh - (${be(g.yOffset)} * 2))`},children:u})})});ly.classes=fa;ly.displayName="@mantine/core/ModalContent";const jj={},cy=nt((e,t)=>{const s=Oe("ModalHeader",jj,e),{classNames:n,className:i,style:o,styles:r,vars:l,...u}=s,d=Df();return _.jsx(QI,{ref:t,...d.getStyles("header",{classNames:n,style:o,styles:r,className:i}),...u})});cy.classes=fa;cy.displayName="@mantine/core/ModalHeader";const $j={},uy=nt((e,t)=>{const s=Oe("ModalOverlay",$j,e),{classNames:n,className:i,style:o,styles:r,vars:l,...u}=s,d=Df();return _.jsx(ZI,{ref:t,...d.getStyles("overlay",{classNames:n,style:o,styles:r,className:i}),...u})});uy.classes=fa;uy.displayName="@mantine/core/ModalOverlay";const qj={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Il("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Kj=(e,{radius:t,size:s,yOffset:n,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:hi(t),"--modal-size":Cs(s,"modal-size"),"--modal-y-offset":be(n),"--modal-x-offset":be(i)}}),dy=nt((e,t)=>{const s=Oe("ModalRoot",qj,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,yOffset:d,scrollAreaComponent:f,radius:g,fullScreen:m,centered:C,xOffset:w,__staticSelector:y,...R}=s,A=bt({name:y,classes:fa,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:Kj});return _.jsx(Vj,{value:{yOffset:d,scrollAreaComponent:f,getStyles:A,fullScreen:m},children:_.jsx(qI,{ref:t,...A("root"),"data-full-screen":m||void 0,"data-centered":C||void 0,"data-offset-scrollbars":f===tv.Autosize||void 0,unstyled:l,...R})})});dy.classes=fa;dy.displayName="@mantine/core/ModalRoot";const[Yj,Xj]=Vw();function gO({children:e}){const[t,s]=x.useState([]),[n,i]=x.useState(Il("modal"));return _.jsx(Yj,{value:{stack:t,addModal:(o,r)=>{s(l=>[...new Set([...l,o])]),i(l=>typeof r=="number"&&typeof l=="number"?Math.max(l,r):l)},removeModal:o=>s(r=>r.filter(l=>l!==o)),getZIndex:o=>`calc(${n} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}gO.displayName="@mantine/core/ModalStack";const Qj={},hy=nt((e,t)=>{const s=Oe("ModalTitle",Qj,e),{classNames:n,className:i,style:o,styles:r,vars:l,...u}=s,d=Df();return _.jsx(JI,{ref:t,...d.getStyles("title",{classNames:n,style:o,styles:r,className:i}),...u})});hy.classes=fa;hy.displayName="@mantine/core/ModalTitle";const Zj={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Il("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},fo=nt((e,t)=>{const{title:s,withOverlay:n,overlayProps:i,withCloseButton:o,closeButtonProps:r,children:l,radius:u,opened:d,stackId:f,zIndex:g,...m}=Oe("Modal",Zj,e),C=Xj(),w=!!s||o,y=C&&f?{closeOnEscape:C.currentId===f,trapFocus:C.currentId===f,zIndex:C.getZIndex(f)}:{},R=n===!1?!1:f&&C?C.currentId===f:d;return x.useEffect(()=>{C&&f&&(d?C.addModal(f,g||Il("modal")):C.removeModal(f))},[d,f,g]),_.jsxs(dy,{ref:t,radius:u,opened:d,zIndex:C&&f?C.getZIndex(f):g,...m,...y,children:[n&&_.jsx(uy,{visible:R,transitionProps:C&&f?{duration:0}:void 0,...i}),_.jsxs(ly,{radius:u,__hidden:C&&f&&d?f!==C.currentId:!1,children:[w&&_.jsxs(cy,{children:[s&&_.jsx(hy,{children:s}),o&&_.jsx(ay,{...r})]}),_.jsx(ry,{children:l})]})]})});fo.classes=fa;fo.displayName="@mantine/core/Modal";fo.Root=dy;fo.Overlay=uy;fo.Content=ly;fo.Body=ry;fo.Header=cy;fo.Title=hy;fo.CloseButton=ay;fo.Stack=gO;function pO(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}var yp;(function(e){e.event="event",e.props="prop"})(yp||(yp={}));function $a(){}function Jj(e){var t,s=void 0;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return t&&n.length===t.length&&n.every(function(o,r){return o===t[r]})||(t=n,s=e.apply(void 0,n)),s}}function Sp(e){return!!(e||"").match(/\d/)}function Xd(e){return e==null}function e4(e){return typeof e=="number"&&isNaN(e)}function mO(e){return Xd(e)||e4(e)||typeof e=="number"&&!isFinite(e)}function vO(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function t4(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function s4(e,t,s){var n=t4(s),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(n,"$1"+t)}function n4(e){var t=x.useRef(e);t.current=e;var s=x.useRef(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return t.current.apply(t,n)});return s.current}function nD(e,t){t===void 0&&(t=!0);var s=e[0]==="-",n=s&&t;e=e.replace("-","");var i=e.split("."),o=i[0],r=i[1]||"";return{beforeDecimal:o,afterDecimal:r,hasNegation:s,addNegation:n}}function i4(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var s=e.split("."),n=s[0].replace(/^0+/,"")||"0",i=s[1]||"";return(t?"-":"")+n+(i?"."+i:"")}function CO(e,t,s){for(var n="",i=s?"0":"",o=0;o<=t-1;o++)n+=e[o]||i;return n}function V1(e,t){return Array(t+1).join(e)}function bO(e){var t=e+"",s=t[0]==="-"?"-":"";s&&(t=t.substring(1));var n=t.split(/[eE]/g),i=n[0],o=n[1];if(o=Number(o),!o)return s+i;i=i.replace(".","");var r=1+o,l=i.length;return r<0?i="0."+V1("0",Math.abs(r))+i:r>=l?i=i+V1("0",r-l):i=(i.substring(0,r)||"0")+"."+i.substring(r),s+i}function z1(e,t,s){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||s)&&t,i=nD(e),o=i.beforeDecimal,r=i.afterDecimal,l=i.hasNegation,u=parseFloat("0."+(r||"0")),d=r.length<=t?"0."+r:u.toFixed(t),f=d.split("."),g=o;o&&Number(f[0])&&(g=o.split("").reverse().reduce(function(y,R,A){return y.length>A?(Number(y[0])+Number(R)).toString()+y.substring(1,y.length):R+y},f[0]));var m=CO(f[1]||"",t,s),C=l?"-":"",w=n?".":"";return""+C+g+w+m}function uc(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var s=e.createTextRange();return s.move("character",t),s.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var wO=Jj(function(e,t){for(var s=0,n=0,i=e.length,o=t.length;e[s]===t[s]&&s<i;)s++;for(;e[i-1-n]===t[o-1-n]&&o-n>s&&i-n>s;)n++;return{from:{start:s,end:i-n},to:{start:s,end:o-n}}}),o4=function(e,t){var s=Math.min(e.selectionStart,t);return{from:{start:s,end:e.selectionEnd},to:{start:s,end:t}}};function r4(e,t,s){return Math.min(Math.max(e,t),s)}function wR(e){return Math.max(e.selectionStart,e.selectionEnd)}function a4(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function l4(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function c4(e){var t=e.currentValue,s=e.formattedValue,n=e.currentValueIndex,i=e.formattedValueIndex;return t[n]===s[i]}function u4(e,t,s,n,i,o,r){r===void 0&&(r=c4);var l=i.findIndex(function(T){return T}),u=e.slice(0,l);!t&&!s.startsWith(u)&&(t=u,s=u+s,n=n+u.length);for(var d=s.length,f=e.length,g={},m=new Array(d),C=0;C<d;C++){m[C]=-1;for(var w=0,y=f;w<y;w++){var R=r({currentValue:s,lastValue:t,formattedValue:e,currentValueIndex:C,formattedValueIndex:w});if(R&&g[w]!==!0){m[C]=w,g[w]=!0;break}}}for(var A=n;A<d&&(m[A]===-1||!o(s[A]));)A++;var D=A===d||m[A]===-1?f:m[A];for(A=n-1;A>0&&m[A]===-1;)A--;var E=A===-1||m[A]===-1?0:m[A]+1;return E>D?D:n-E<D-n?E:D}function W1(e,t,s,n){var i=e.length;if(t=r4(t,0,i),n==="left"){for(;t>=0&&!s[t];)t--;t===-1&&(t=s.indexOf(!0))}else{for(;t<=i&&!s[t];)t++;t>i&&(t=s.lastIndexOf(!0))}return t===-1&&(t=i),t}function d4(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),s=0,n=t.length;s<n;s++)t[s]=!!(Sp(e[s])||Sp(e[s-1]));return t}function yO(e,t,s,n,i,o){o===void 0&&(o=$a);var r=n4(function(w,y){var R,A;return mO(w)?(A="",R=""):typeof w=="number"||y?(A=typeof w=="number"?bO(w):w,R=n(A)):(A=i(w,void 0),R=n(A)),{formattedValue:R,numAsString:A}}),l=x.useState(function(){return r(Xd(e)?t:e,s)}),u=l[0],d=l[1],f=function(w,y){w.formattedValue!==u.formattedValue&&d({formattedValue:w.formattedValue,numAsString:w.value}),o(w,y)},g=e,m=s;Xd(e)&&(g=u.numAsString,m=!0);var C=r(g,m);return x.useMemo(function(){d(C)},[C.formattedValue]),[u,f]}function h4(e){return e.replace(/[^0-9]/g,"")}function f4(e){return e}function g4(e){var t=e.type;t===void 0&&(t="text");var s=e.displayType;s===void 0&&(s="input");var n=e.customInput,i=e.renderText,o=e.getInputRef,r=e.format;r===void 0&&(r=f4);var l=e.removeFormatting;l===void 0&&(l=h4);var u=e.defaultValue,d=e.valueIsNumericString,f=e.onValueChange,g=e.isAllowed,m=e.onChange;m===void 0&&(m=$a);var C=e.onKeyDown;C===void 0&&(C=$a);var w=e.onMouseUp;w===void 0&&(w=$a);var y=e.onFocus;y===void 0&&(y=$a);var R=e.onBlur;R===void 0&&(R=$a);var A=e.value,D=e.getCaretBoundary;D===void 0&&(D=d4);var E=e.isValidInputCharacter;E===void 0&&(E=Sp);var T=e.isCharacterSame,P=pO(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),L=yO(A,u,!!d,r,l,f),N=L[0],B=N.formattedValue,W=N.numAsString,z=L[1],q=x.useRef(),K=x.useRef({formattedValue:B,numAsString:W}),$=function(ce,Ce){K.current={formattedValue:ce.formattedValue,numAsString:ce.value},z(ce,Ce)},te=x.useState(!1),ee=te[0],G=te[1],V=x.useRef(null),U=x.useRef({setCaretTimeout:null,focusTimeout:null});x.useEffect(function(){return G(!0),function(){clearTimeout(U.current.setCaretTimeout),clearTimeout(U.current.focusTimeout)}},[]);var re=r,H=function(ce,Ce){var Re=parseFloat(Ce);return{formattedValue:ce,value:Ce,floatValue:isNaN(Re)?void 0:Re}},Y=function(ce,Ce,Re){ce.selectionStart===0&&ce.selectionEnd===ce.value.length||(uc(ce,Ce),U.current.setCaretTimeout=setTimeout(function(){ce.value===Re&&ce.selectionStart!==Ce&&uc(ce,Ce)},0))},Q=function(ce,Ce,Re){return W1(ce,Ce,D(ce),Re)},J=function(ce,Ce,Re){var De=D(Ce),Ge=u4(Ce,B,ce,Re,De,E,T);return Ge=W1(Ce,Ge,De),Ge},le=function(ce){var Ce=ce.formattedValue;Ce===void 0&&(Ce="");var Re=ce.input,De=ce.source,Ge=ce.event,Ye=ce.numAsString,Xe;if(Re){var Ae=ce.inputValue||Re.value,ze=wR(Re);Re.value=Ce,Xe=J(Ae,Ce,ze),Xe!==void 0&&Y(Re,Xe,Ce)}Ce!==B&&$(H(Ce,Ye),{event:Ge,source:De})};x.useEffect(function(){var ce=K.current,Ce=ce.formattedValue,Re=ce.numAsString;(B!==Ce||W!==Re)&&$(H(B,W),{event:void 0,source:yp.props})},[B,W]);var ge=V.current?wR(V.current):void 0,pe=typeof window<"u"?x.useLayoutEffect:x.useEffect;pe(function(){var ce=V.current;if(B!==K.current.formattedValue&&ce){var Ce=J(K.current.formattedValue,B,ge);ce.value=B,Y(ce,Ce,B)}},[B]);var Te=function(ce,Ce,Re){var De=Ce.target,Ge=q.current?o4(q.current,De.selectionEnd):wO(B,ce),Ye=Object.assign(Object.assign({},Ge),{lastValue:B}),Xe=l(ce,Ye),Ae=re(Xe);if(Xe=l(Ae,void 0),g&&!g(H(Ae,Xe))){var ze=Ce.target,Lt=wR(ze),pt=J(ce,B,Lt);return ze.value=B,Y(ze,pt,B),!1}return le({formattedValue:Ae,numAsString:Xe,inputValue:ce,event:Ce,source:Re,input:Ce.target}),!0},ke=function(ce,Ce){Ce===void 0&&(Ce=0);var Re=ce.selectionStart,De=ce.selectionEnd;q.current={selectionStart:Re,selectionEnd:De+Ce}},Ke=function(ce){var Ce=ce.target,Re=Ce.value,De=Te(Re,ce,yp.event);De&&m(ce),q.current=void 0},Pe=function(ce){var Ce=ce.target,Re=ce.key,De=Ce.selectionStart,Ge=Ce.selectionEnd,Ye=Ce.value;Ye===void 0&&(Ye="");var Xe;Re==="ArrowLeft"||Re==="Backspace"?Xe=Math.max(De-1,0):Re==="ArrowRight"?Xe=Math.min(De+1,Ye.length):Re==="Delete"&&(Xe=De);var Ae=0;Re==="Delete"&&De===Ge&&(Ae=1);var ze=Re==="ArrowLeft"||Re==="ArrowRight";if(Xe===void 0||De!==Ge&&!ze){C(ce),ke(Ce,Ae);return}var Lt=Xe;if(ze){var pt=Re==="ArrowLeft"?"left":"right";Lt=Q(Ye,Xe,pt),Lt!==Xe&&ce.preventDefault()}else Re==="Delete"&&!E(Ye[Xe])?Lt=Q(Ye,Xe,"right"):Re==="Backspace"&&!E(Ye[Xe])&&(Lt=Q(Ye,Xe,"left"));Lt!==Xe&&Y(Ce,Lt,Ye),C(ce),ke(Ce,Ae)},wt=function(ce){var Ce=ce.target,Re=function(){var De=Ce.selectionStart,Ge=Ce.selectionEnd,Ye=Ce.value;if(Ye===void 0&&(Ye=""),De===Ge){var Xe=Q(Ye,De);Xe!==De&&Y(Ce,Xe,Ye)}};Re(),requestAnimationFrame(function(){Re()}),w(ce),ke(Ce)},Et=function(ce){ce.persist&&ce.persist();var Ce=ce.target,Re=ce.currentTarget;V.current=Ce,U.current.focusTimeout=setTimeout(function(){var De=Ce.selectionStart,Ge=Ce.selectionEnd,Ye=Ce.value;Ye===void 0&&(Ye="");var Xe=Q(Ye,De);Xe!==De&&!(De===0&&Ge===Ye.length)&&Y(Ce,Xe,Ye),y(Object.assign(Object.assign({},ce),{currentTarget:Re}))},0)},he=function(ce){V.current=null,clearTimeout(U.current.focusTimeout),clearTimeout(U.current.setCaretTimeout),R(ce)},ye=ee&&a4()?"numeric":void 0,Me=Object.assign({inputMode:ye},P,{type:t,value:B,onChange:Ke,onKeyDown:Pe,onMouseUp:wt,onFocus:Et,onBlur:he});if(s==="text")return i?ve.createElement(ve.Fragment,null,i(B,P)||null):ve.createElement("span",Object.assign({},P,{ref:o}),B);if(n){var He=n;return ve.createElement(He,Object.assign({},Me,{ref:o}))}return ve.createElement("input",Object.assign({},Me,{ref:o}))}function U1(e,t){var s=t.decimalScale,n=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var r=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var u=fy(t),d=u.thousandSeparator,f=u.decimalSeparator,g=s!==0&&e.indexOf(".")!==-1||s&&n,m=nD(e,r),C=m.beforeDecimal,w=m.afterDecimal,y=m.addNegation;return s!==void 0&&(w=CO(w,s,!!n)),d&&(C=s4(C,d,l)),i&&(C=i+C),o&&(w=w+o),y&&(C="-"+C),e=C+(g&&f||"")+w,e}function fy(e){var t=e.decimalSeparator;t===void 0&&(t=".");var s=e.thousandSeparator,n=e.allowedDecimalSeparators;return s===!0&&(s=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:s,allowedDecimalSeparators:n}}function p4(e,t){e===void 0&&(e="");var s=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),i=s.test(e),o=n.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function m4(e,t){return new RegExp("(^-)|[0-9]|"+vO(e),"g")}function v4(e,t,s){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(s!=null&&s.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function C4(e,t,s){var n;t===void 0&&(t=l4(e));var i=s.allowNegative,o=s.prefix;o===void 0&&(o="");var r=s.suffix;r===void 0&&(r="");var l=s.decimalScale,u=t.from,d=t.to,f=d.start,g=d.end,m=fy(s),C=m.allowedDecimalSeparators,w=m.decimalSeparator,y=e[g]===w;if(Sp(e)&&(e===o||e===r)&&t.lastValue==="")return e;if(g-f===1&&C.indexOf(e[f])!==-1){var R=l===0?"":w;e=e.substring(0,f)+R+e.substring(f+1,e.length)}var A=function(V,U,re){var H=!1,Y=!1;o.startsWith("-")?H=!1:V.startsWith("--")?(H=!1,Y=!0):r.startsWith("-")&&V.length===r.length?H=!1:V[0]==="-"&&(H=!0);var Q=H?1:0;return Y&&(Q=2),Q&&(V=V.substring(Q),U-=Q,re-=Q),{value:V,start:U,end:re,hasNegation:H}},D=A(e,f,g),E=D.hasNegation;n=D,e=n.value,f=n.start,g=n.end;var T=A(t.lastValue,u.start,u.end),P=T.start,L=T.end,N=T.value,B=e.substring(f,g);e.length&&N.length&&(P>N.length-r.length||L<o.length)&&!(B&&r.startsWith(B))&&(e=N);var W=0;e.startsWith(o)?W+=o.length:f<o.length&&(W=f),e=e.substring(W),g-=W;var z=e.length,q=e.length-r.length;e.endsWith(r)?z=q:(g>q||g>e.length-r.length)&&(z=g),e=e.substring(0,z),e=p4(E?"-"+e:e,i),e=(e.match(m4(w))||[]).join("");var K=e.indexOf(w);e=e.replace(new RegExp(vO(w),"g"),function(V,U){return U===K?".":""});var $=nD(e,i),te=$.beforeDecimal,ee=$.afterDecimal,G=$.addNegation;return d.end-d.start<u.end-u.start&&te===""&&y&&!parseFloat(ee)&&(e=G?"-":""),e}function b4(e,t){var s=t.prefix;s===void 0&&(s="");var n=t.suffix;n===void 0&&(n="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,s.length+(o?1:0));var r=e.length;return i.fill(!1,r-n.length+1,r+1),i}function w4(e){var t=fy(e),s=t.thousandSeparator,n=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),s===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+s+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function y4(e){e=w4(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,s=e.allowNegative,n=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=$a);var o=e.onBlur;o===void 0&&(o=$a);var r=e.thousandSeparator,l=e.decimalScale,u=e.fixedDecimalScale,d=e.prefix;d===void 0&&(d="");var f=e.defaultValue,g=e.value,m=e.valueIsNumericString,C=e.onValueChange,w=pO(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=fy(e),R=y.decimalSeparator,A=y.allowedDecimalSeparators,D=function(G){return U1(G,e)},E=function(G,V){return C4(G,V,e)},T=Xd(g)?f:g,P=m??v4(T,d,t);Xd(g)?Xd(f)||(P=P||typeof f=="number"):P=P||typeof g=="number";var L=function(G){return mO(G)?G:(typeof G=="number"&&(G=bO(G)),P&&typeof l=="number"?z1(G,l,!!u):G)},N=yO(L(g),L(f),!!P,D,E,C),B=N[0],W=B.numAsString,z=B.formattedValue,q=N[1],K=function(G){var V=G.target,U=G.key,re=V.selectionStart,H=V.selectionEnd,Y=V.value;if(Y===void 0&&(Y=""),(U==="Backspace"||U==="Delete")&&H<d.length){G.preventDefault();return}if(re!==H){i(G);return}U==="Backspace"&&Y[0]==="-"&&re===d.length+1&&s&&uc(V,1),l&&u&&(U==="Backspace"&&Y[re-1]===R?(uc(V,re-1),G.preventDefault()):U==="Delete"&&Y[re]===R&&G.preventDefault()),A!=null&&A.includes(U)&&Y[re]===R&&uc(V,re+1);var Q=r===!0?",":r;U==="Backspace"&&Y[re-1]===Q&&uc(V,re-1),U==="Delete"&&Y[re]===Q&&uc(V,re+1),i(G)},$=function(G){var V=W;if(V.match(/\d/g)||(V=""),n||(V=i4(V)),u&&l&&(V=z1(V,l,u)),V!==W){var U=U1(V,e);q({formattedValue:U,value:V,floatValue:parseFloat(V)},{event:G,source:yp.event})}o(G)},te=function(G){return G===R?!0:Sp(G)},ee=function(G){var V=G.currentValue,U=G.lastValue,re=G.formattedValue,H=G.currentValueIndex,Y=G.formattedValueIndex,Q=V[H],J=re[Y],le=wO(U,V),ge=le.to,pe=function(Te){return E(Te).indexOf(".")+d.length};return g===0&&u&&l&&V[ge.start]===R&&pe(V)<H&&pe(re)>Y?!1:H>=ge.start&&H<ge.end&&A&&A.includes(Q)&&J===R?!0:Q===J};return Object.assign(Object.assign({},w),{value:z,valueIsNumericString:!1,isValidInputCharacter:te,isCharacterSame:ee,onValueChange:q,format:D,removeFormatting:E,getCaretBoundary:function(G){return b4(G,e)},onKeyDown:K,onBlur:$})}function S4(e){var t=y4(e);return ve.createElement(g4,Object.assign({},t))}function j1({direction:e,style:t,...s}){return _.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:_.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var bx={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const R4=/^(0\.0*|-0(\.0*)?)$/,x4=/^-?0\d+(\.\d+)?\.?$/;function wx(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function yR(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||wx(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function A4(e){return e.toString().replace(".","").length}function E4(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&A4(t)<14&&t!==""}function $1(e,t,s){if(e===void 0)return!0;const n=t===void 0||e>=t,i=s===void 0||e<=s;return n&&i}const D4={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},T4=(e,{size:t})=>({controls:{"--ni-chevron-size":Cs(t,"ni-chevron-size")}});function F4(e,t,s){const n=e.toString().replace(/^0+/,""),i=parseFloat(n);return Number.isNaN(i)?n:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):n:Kd(i,s,t)}const Rp=nt((e,t)=>{const s=Oe("NumberInput",D4,e),{className:n,classNames:i,styles:o,unstyled:r,vars:l,onChange:u,onValueChange:d,value:f,defaultValue:g,max:m,min:C,step:w,hideControls:y,rightSection:R,isAllowed:A,clampBehavior:D,onBlur:E,allowDecimal:T,decimalScale:P,onKeyDown:L,onKeyDownCapture:N,handlersRef:B,startValue:W,disabled:z,rightSectionPointerEvents:q,allowNegative:K,readOnly:$,size:te,rightSectionWidth:ee,stepHoldInterval:G,stepHoldDelay:V,allowLeadingZeros:U,withKeyboardEvents:re,trimLeadingZeroesOnBlur:H,...Y}=s,Q=bt({name:"NumberInput",classes:bx,props:s,classNames:i,styles:o,unstyled:r,vars:l,varsResolver:T4}),{resolvedClassNames:J,resolvedStyles:le}=jw({classNames:i,styles:o,props:s}),[ge,pe]=ku({value:f,defaultValue:g,finalValue:"",onChange:u}),Te=V!==void 0&&G!==void 0,ke=x.useRef(null),Ke=x.useRef(null),Pe=x.useRef(0),wt=(Ae,ze)=>{ze.source==="event"&&pe(E4(Ae.floatValue,Ae.value)&&!R4.test(Ae.value)&&!(U&&x4.test(Ae.value))?Ae.floatValue:Ae.value),d==null||d(Ae,ze)},Et=Ae=>{const ze=String(Ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ze?Math.max(0,(ze[1]?ze[1].length:0)-(ze[2]?+ze[2]:0)):0},he=Ae=>{ke.current&&typeof Ae<"u"&&ke.current.setSelectionRange(Ae,Ae)},ye=x.useRef(ox);ye.current=()=>{if(!yR(ge))return;let Ae;const ze=Et(ge),Lt=Et(w),pt=Math.max(ze,Lt),je=10**pt;if(!wx(ge)&&(typeof ge!="number"||Number.isNaN(ge)))Ae=Kd(W,C,m);else if(m!==void 0){const rs=(Math.round(Number(ge)*je)+Math.round(w*je))/je;Ae=rs<=m?rs:m}else Ae=(Math.round(Number(ge)*je)+Math.round(w*je))/je;const tt=Ae.toFixed(pt);pe(parseFloat(tt)),d==null||d({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"increment"}),setTimeout(()=>{var rs;return he((rs=ke.current)==null?void 0:rs.value.length)},0)};const Me=x.useRef(ox);Me.current=()=>{if(!yR(ge))return;let Ae;const ze=C!==void 0?C:K?Number.MIN_SAFE_INTEGER:0,Lt=Et(ge),pt=Et(w),je=Math.max(Lt,pt),tt=10**je;if(!wx(ge)&&typeof ge!="number"||Number.isNaN(ge))Ae=Kd(W,ze,m);else{const as=(Math.round(Number(ge)*tt)-Math.round(w*tt))/tt;Ae=ze!==void 0&&as<ze?ze:as}const rs=Ae.toFixed(je);pe(parseFloat(rs)),d==null||d({floatValue:parseFloat(rs),formattedValue:rs,value:rs},{source:"decrement"}),setTimeout(()=>{var as;return he((as=ke.current)==null?void 0:as.value.length)},0)};const He=Ae=>{L==null||L(Ae),!($||!re)&&(Ae.key==="ArrowUp"&&(Ae.preventDefault(),ye.current()),Ae.key==="ArrowDown"&&(Ae.preventDefault(),Me.current()))},ce=Ae=>{if(N==null||N(Ae),Ae.key==="Backspace"){const ze=ke.current;ze.selectionStart===0&&ze.selectionStart===ze.selectionEnd&&(Ae.preventDefault(),window.setTimeout(()=>he(0),0))}},Ce=Ae=>{let ze=ge;D==="blur"&&typeof ze=="number"&&(ze=Kd(ze,C,m)),H&&typeof ze=="string"&&Et(ze)<15&&(ze=F4(ze,m,C)),ge!==ze&&pe(ze),E==null||E(Ae)};Cp(B,{increment:ye.current,decrement:Me.current});const Re=Ae=>{Ae?ye.current():Me.current(),Pe.current+=1},De=Ae=>{if(Re(Ae),Te){const ze=typeof G=="number"?G:G(Pe.current);Ke.current=window.setTimeout(()=>De(Ae),ze)}},Ge=(Ae,ze)=>{var Lt;Ae.preventDefault(),(Lt=ke.current)==null||Lt.focus(),Re(ze),Te&&(Ke.current=window.setTimeout(()=>De(ze),V))},Ye=()=>{Ke.current&&window.clearTimeout(Ke.current),Ke.current=null,Pe.current=0},Xe=_.jsxs("div",{...Q("controls"),children:[_.jsx(oa,{...Q("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ge=="number"&&m!==void 0&&ge>=m,mod:{direction:"up"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Ge(Ae,!0)},onPointerUp:Ye,onPointerLeave:Ye,children:_.jsx(j1,{direction:"up"})}),_.jsx(oa,{...Q("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ge=="number"&&C!==void 0&&ge<=C,mod:{direction:"down"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Ge(Ae,!1)},onPointerUp:Ye,onPointerLeave:Ye,children:_.jsx(j1,{direction:"down"})})]});return _.jsx(Rf,{component:S4,allowNegative:K,className:Ds(bx.root,n),size:te,...Y,readOnly:$,disabled:z,value:ge,getInputRef:En(t,ke),onValueChange:wt,rightSection:y||$||!yR(ge)?R:R||Xe,classNames:J,styles:le,unstyled:r,__staticSelector:"NumberInput",decimalScale:T?P:0,onKeyDown:He,onKeyDownCapture:ce,rightSectionPointerEvents:q??(z?"none":void 0),rightSectionWidth:ee??`var(--ni-right-section-width-${te||"sm"})`,allowLeadingZeros:U,onBlur:Ce,isAllowed:Ae=>D==="strict"?A?A(Ae)&&$1(Ae.floatValue,C,m):$1(Ae.floatValue,C,m):A?A(Ae):!0})});Rp.classes={...Rf.classes,...bx};Rp.displayName="@mantine/core/NumberInput";const[P4,gy]=Lu("Pagination.Root component was not found in tree");var ov={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const M4={withPadding:!0},rv=nt((e,t)=>{const s=Oe("PaginationControl",M4,e),{classNames:n,className:i,style:o,styles:r,vars:l,active:u,disabled:d,withPadding:f,mod:g,...m}=s,C=gy(),w=d||C.disabled;return _.jsx(oa,{ref:t,disabled:w,mod:[{active:u,disabled:w,"with-padding":f},g],...C.getStyles("control",{className:i,style:o,classNames:n,styles:r,active:!w}),...m})});rv.classes=ov;rv.displayName="@mantine/core/PaginationControl";function av({style:e,children:t,path:s,...n}){return _.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...n,children:_.jsx("path",{d:s,fill:"currentColor"})})}const L4=e=>_.jsx(av,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),k4=e=>_.jsx(av,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),I4=e=>_.jsx(av,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),O4=e=>_.jsx(av,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),_4=e=>_.jsx(av,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),N4={icon:_4},py=nt((e,t)=>{const s=Oe("PaginationDots",N4,e),{classNames:n,className:i,style:o,styles:r,vars:l,icon:u,...d}=s,f=gy(),g=u;return _.jsx(qe,{ref:t,...f.getStyles("dots",{className:i,style:o,styles:r,classNames:n}),...d,children:_.jsx(g,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});py.classes=ov;py.displayName="@mantine/core/PaginationDots";function my({icon:e,name:t,action:s,type:n}){const i={icon:e},o=x.forwardRef((r,l)=>{const{icon:u,...d}=Oe(t,i,r),f=u,g=gy(),m=n==="next"?g.active===g.total:g.active===1;return _.jsx(rv,{disabled:g.disabled||m,ref:l,onClick:g[s],withPadding:!1,...d,children:_.jsx(f,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,o}const SO=my({icon:L4,name:"PaginationNext",action:"onNext",type:"next"}),RO=my({icon:k4,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),xO=my({icon:I4,name:"PaginationFirst",action:"onFirst",type:"previous"}),AO=my({icon:O4,name:"PaginationLast",action:"onLast",type:"next"});function iD({dotsIcon:e}){const t=gy(),s=t.range.map((n,i)=>{var o,r,l;return n==="dots"?_.jsx(py,{icon:e},i):_.jsx(rv,{active:n===t.active,"aria-current":n===t.active?"page":void 0,onClick:()=>t.onChange(n),disabled:t.disabled,...(o=t.getItemProps)==null?void 0:o.call(t,n),children:((l=(r=t.getItemProps)==null?void 0:r.call(t,n))==null?void 0:l.children)??n},i)});return _.jsx(_.Fragment,{children:s})}iD.displayName="@mantine/core/PaginationItems";const H4={siblings:1,boundaries:1},B4=(e,{size:t,radius:s,color:n,autoContrast:i})=>({root:{"--pagination-control-radius":s===void 0?void 0:hi(s),"--pagination-control-size":Cs(t,"pagination-control-size"),"--pagination-control-fz":yn(t),"--pagination-active-bg":n?Qo(n,e):void 0,"--pagination-active-color":EE(i,e)?Zm({color:n,theme:e,autoContrast:i}):void 0}}),vy=nt((e,t)=>{const s=Oe("PaginationRoot",H4,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,total:d,value:f,defaultValue:g,onChange:m,disabled:C,siblings:w,boundaries:y,color:R,radius:A,onNextPage:D,onPreviousPage:E,onFirstPage:T,onLastPage:P,getItemProps:L,autoContrast:N,...B}=s,W=bt({name:"Pagination",classes:ov,props:s,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:B4}),{range:z,setPage:q,next:K,previous:$,active:te,first:ee,last:G}=mW({page:f,initialPage:g,onChange:m,total:d,siblings:w,boundaries:y}),V=Bn(D,K),U=Bn(E,$),re=Bn(T,ee),H=Bn(P,G);return _.jsx(P4,{value:{total:d,range:z,active:te,disabled:C,getItemProps:L,onChange:q,onNext:V,onPrevious:U,onFirst:re,onLast:H,getStyles:W},children:_.jsx(qe,{ref:t,...W("root"),...B})})});vy.classes=ov;vy.displayName="@mantine/core/PaginationRoot";const G4={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},go=nt((e,t)=>{const s=Oe("Pagination",G4,e),{withEdges:n,withControls:i,getControlProps:o,nextIcon:r,previousIcon:l,lastIcon:u,firstIcon:d,dotsIcon:f,total:g,gap:m,hideWithOnePage:C,withPages:w,...y}=s;return g<=0||C&&g===1?null:_.jsx(vy,{ref:t,total:g,...y,children:_.jsxs(El,{gap:m,children:[n&&_.jsx(xO,{icon:d,...o==null?void 0:o("first")}),i&&_.jsx(RO,{icon:l,...o==null?void 0:o("previous")}),w&&_.jsx(iD,{dotsIcon:f}),i&&_.jsx(SO,{icon:r,...o==null?void 0:o("next")}),n&&_.jsx(AO,{icon:u,...o==null?void 0:o("last")})]})})});go.classes=ov;go.displayName="@mantine/core/Pagination";go.Root=vy;go.Control=rv;go.Dots=py;go.First=xO;go.Last=AO;go.Next=SO;go.Previous=RO;go.Items=iD;var EO={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const V4={withItemsBorders:!0},z4=(e,{radius:t,color:s,transitionDuration:n,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:hi(t),"--sc-color":s?Qo(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Cs(i,"sc-padding"),"--sc-font-size":yn(i)}}),oD=nt((e,t)=>{var ke,Ke;const s=Oe("SegmentedControl",V4,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,data:d,value:f,defaultValue:g,onChange:m,size:C,name:w,disabled:y,readOnly:R,fullWidth:A,orientation:D,radius:E,color:T,transitionDuration:P,transitionTimingFunction:L,variant:N,autoContrast:B,withItemsBorders:W,mod:z,...q}=s,K=bt({name:"SegmentedControl",props:s,classes:EO,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:z4}),$=tr(),te=d.map(Pe=>typeof Pe=="string"?{label:Pe,value:Pe}:Pe),ee=AW(),[G,V]=x.useState(rx()),[U,re]=x.useState(null),[H,Y]=x.useState({}),Q=(Pe,wt)=>{H[wt]=Pe,Y(H)},[J,le]=ku({value:f,defaultValue:g,finalValue:Array.isArray(d)?((ke=te.find(Pe=>!Pe.disabled))==null?void 0:ke.value)??((Ke=d[0])==null?void 0:Ke.value)??null:null,onChange:m}),ge=Qm(w),pe=te.map(Pe=>x.createElement(qe,{...K("control"),mod:{active:J===Pe.value,orientation:D},key:Pe.value},x.createElement("input",{...K("input"),disabled:y||Pe.disabled,type:"radio",name:ge,value:Pe.value,id:`${ge}-${Pe.value}`,checked:J===Pe.value,onChange:()=>!R&&le(Pe.value),"data-focus-ring":$.focusRing,key:`${Pe.value}-input`}),x.createElement(qe,{component:"label",...K("label"),mod:{active:J===Pe.value&&!(y||Pe.disabled),disabled:y||Pe.disabled,"read-only":R},htmlFor:`${ge}-${Pe.value}`,ref:wt=>Q(wt,Pe.value),__vars:{"--sc-label-color":T!==void 0?Zm({color:T,theme:$,autoContrast:B}):void 0},key:`${Pe.value}-label`},_.jsx("span",{...K("innerLabel"),children:Pe.label})))),Te=En(t,Pe=>re(Pe));return yW(()=>{V(rx())},[d.length]),d.length===0?null:_.jsxs(qe,{...K("root"),variant:N,size:C,ref:Te,mod:[{"full-width":A,orientation:D,initialized:ee,"with-items-borders":W},z],...q,role:"radiogroup","data-disabled":y,children:[typeof J=="string"&&_.jsx($E,{target:H[J],parent:U,component:"span",transitionDuration:"var(--sc-transition-duration)",...K("indicator")},G),pe]})});oD.classes=EO;oD.displayName="@mantine/core/SegmentedControl";var DO={root:"m_6d731127"};const W4={gap:"md",align:"stretch",justify:"flex-start"},U4=(e,{gap:t,align:s,justify:n})=>({root:{"--stack-gap":Sl(t),"--stack-align":s,"--stack-justify":n}}),Cy=nt((e,t)=>{const s=Oe("Stack",W4,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,vars:u,align:d,justify:f,gap:g,variant:m,...C}=s,w=bt({name:"Stack",props:s,classes:DO,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:u,varsResolver:U4});return _.jsx(qe,{ref:t,...w("root"),variant:m,...C})});Cy.classes=DO;Cy.displayName="@mantine/core/Stack";const j4={},by=nt((e,t)=>{const s=Oe("TextInput",j4,e);return _.jsx(Rf,{component:"input",ref:t,...s,__staticSelector:"TextInput"})});by.classes=Rf.classes;by.displayName="@mantine/core/TextInput";const $4=["h1","h2","h3","h4","h5","h6"],q4=["xs","sm","md","lg","xl"];function K4(e,t){const s=t!==void 0?t:`h${e}`;return $4.includes(s)?{fontSize:`var(--mantine-${s}-font-size)`,fontWeight:`var(--mantine-${s}-font-weight)`,lineHeight:`var(--mantine-${s}-line-height)`}:q4.includes(s)?{fontSize:`var(--mantine-font-size-${s})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:be(s),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var TO={root:"m_8a5d1357"};const Y4={order:1},X4=(e,{order:t,size:s,lineClamp:n,textWrap:i})=>{const o=K4(t,s);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":i}}},rD=nt((e,t)=>{const s=Oe("Title",Y4,e),{classNames:n,className:i,style:o,styles:r,unstyled:l,order:u,vars:d,size:f,variant:g,lineClamp:m,textWrap:C,mod:w,...y}=s,R=bt({name:"Title",props:s,classes:TO,className:i,style:o,classNames:n,styles:r,unstyled:l,vars:d,varsResolver:X4});return[1,2,3,4,5,6].includes(u)?_.jsx(qe,{...R("root"),component:`h${u}`,variant:g,ref:t,mod:[{order:u,"data-line-clamp":typeof m=="number"},w],size:f,...y}):null});rD.classes=TO;rD.displayName="@mantine/core/Title";const Q4=({template:e,data:t,rowIndex:s,templateOffset:n})=>{if(n!==-1)return n;const i=e,o=t[s];console.log("Current Row:",o);const r=Object.keys(o).find(d=>o[d]!==void 0&&d!=="apply-template"&&o[d].some(f=>f==null?void 0:f.index));if(console.log("Template Basis Key: ",r),r===void 0)return;const l=o[r];if(!(l!=null&&l.length)&&n===-1)return;console.log("Template Basis: ",l);const u=n===-1?l[0].index-i[r][0].index:n;return Math.abs(u)},Z4=({template:e,data:t,rowIndex:s,currentTextObjects:n,templateRowIndex:i,templateOffset:o})=>{const r=Q4({template:e,data:t,rowIndex:s,templateOffset:o}),l=e,u=[...t],d=u[s]??{};if(console.log("Current Row:",d),console.log(r),r===void 0)return;const f=r*(s-i);console.log("Offset: ",f);const g=d;return Object.keys(l).forEach(m=>{const C=[],w=l[m];if(w){console.log(m,w);for(const y of w){if(wy(y)||y.manual){C.push(y);continue}const R=y.index+f;C.push(n.find(A=>A.index===R))}g[m]=C}}),console.log(g),u.splice(s,1,g),{data:u,offsetUsed:r}},aD=e=>{let t=0;const s=[];if(!e)return console.log("no values, returning []"),[];for(;t<e.length;){const n=e[t];if(!n){t+=1;continue}if(wy(n)&&t<e.length-1){const i=J4(n),o=s.pop()??Number(e[t-1].str),r=i.apply(o,Number(e[t+1].str));s.push(r),t+=1}else if(n.manual)s.push(n.str);else if(!isNaN(Number(n.str)))s.push(Number(n.str));else if(typeof n.str=="string"){const i=s.pop();s.push(i?i+" "+n.str:n.str)}t+=1}return console.log(s),s},FO={rowIndex:0,colId:""},PO=x.createContext({activeCell:FO,setActiveCell:()=>{},templateRow:0,setTemplateRow:()=>{},deleteRow:()=>{},copyRow:()=>{},pasteRow:()=>{}}),ip="Manual Entry Mode",yx="Template Mode",wy=e=>Object.values(lD).some(t=>t.symbol===(e==null?void 0:e.symbol)),J4=e=>Object.values(lD).find(t=>t.symbol===(e==null?void 0:e.symbol)),lD={ADD:{symbol:"+",apply:(e,t)=>e+t},SUBTRACT:{symbol:"-",apply:(e,t)=>e-t},MULTIPLY:{symbol:"x",apply:(e,t)=>e*t},DIVIDE:{symbol:"/",apply:(e,t)=>e/t}},SR=e=>{if(!e)return;let t;return Object.values(e).forEach(s=>{Array.isArray(s)&&(t=s.find(n=>(n==null?void 0:n.index)!==void 0))}),t};var Su=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,s){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&s&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,s=!1){this.getListeners(e,s,!0).add(t)}removeEventListener(e,t,s=!1){const n=this.getListeners(e,s,!1);n&&(n.delete(t),n.size===0&&(s?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const s=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const n=(l,u)=>l.forEach(d=>{if(!u.has(d))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(f):f()}),i=this.getListeners(s,t,!1)??new Set,o=new Set(i);o.size>0&&n(o,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(s,e)):()=>l(s,e);t?this.dispatchAsync(u):u()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function e6(e,t){return t}function MO(e){return(e==null?void 0:e.getLocaleTextFunc())??e6}function ga(e,t,s){s==null||typeof s=="string"&&s==""?LO(e,t):po(e,t,s)}function po(e,t,s){e.setAttribute(kO(t),s.toString())}function LO(e,t){e.removeAttribute(kO(t))}function kO(e){return`aria-${e}`}function Dl(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function t6(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function s6(e){return e.getAttribute("aria-label")}function yy(e,t){ga(e,"label",t)}function Sx(e,t){ga(e,"labelledby",t)}function IO(e,t){ga(e,"live",t)}function n6(e,t){ga(e,"atomic",t)}function i6(e,t){ga(e,"relevant",t)}function o6(e,t){ga(e,"disabled",t)}function OO(e,t){ga(e,"hidden",t)}function Rx(e,t){po(e,"expanded",t)}function r6(e,t){po(e,"setsize",t)}function a6(e,t){po(e,"posinset",t)}function l6(e,t){po(e,"rowcount",t)}function _O(e,t){po(e,"rowindex",t)}function c6(e,t){po(e,"rowspan",t)}function u6(e,t){po(e,"colcount",t)}function NO(e,t){po(e,"colindex",t)}function d6(e,t){po(e,"colspan",t)}function h6(e,t){po(e,"sort",t)}function f6(e){LO(e,"sort")}function xx(e,t){ga(e,"selected",t)}function g6(e,t){ga(e,"controls",t.id),Sx(t,e.id)}function cD(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var RR,xR,AR,ER,Ax,Ex,DR;function Ou(){return RR===void 0&&(RR=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),RR}function HO(){return xR===void 0&&(xR=/(firefox)/i.test(navigator.userAgent)),xR}function BO(){return AR===void 0&&(AR=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),AR}function hu(){return ER===void 0&&(ER=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),ER}function Dx(e){if(!e)return null;const t=e.tabIndex,s=e.getAttribute("tabIndex");return t===-1&&(s===null||s===""&&!HO())?null:t.toString()}function p6(){if(DR!==void 0)return DR;if(!document.body)return-1;let e=1e6;const t=HO()?6e6:1e9,s=document.createElement("div");for(document.body.appendChild(s);;){const n=e*2;if(s.style.height=n+"px",n>t||s.clientHeight!==n)break;e=n}return document.body.removeChild(s),DR=e,e}function m6(){return Ex==null&&GO(),Ex}function GO(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;s===0&&t.clientWidth===0&&(s=null),t.parentNode&&t.parentNode.removeChild(t),s!=null&&(Ex=s,Ax=s===0)}function VO(){return Ax==null&&GO(),Ax}var v6="[tabindex], input, select, button, textarea, [href]",zO="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function uD(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,zO),o=Jo(e);return n&&!i&&o}function ts(e,t,s={}){const{skipAriaHidden:n}=s;e.classList.toggle("ag-hidden",!t),n||OO(e,!t)}function C6(e,t,s={}){const{skipAriaHidden:n}=s;e.classList.toggle("ag-invisible",!t),n||OO(e,!t)}function xp(e,t){const s="disabled",n=t?o=>o.setAttribute(s,""):o=>o.removeAttribute(s);n(e);const i=e.querySelectorAll("input")??[];for(const o of i)n(o)}function fu(e,t,s){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof s=="number"){if(++n>s)break}else if(e===s)break}return!1}function _u(e){const{height:t,width:s,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:r,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:f,marginTop:g,marginRight:m,marginBottom:C,marginLeft:w,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(s||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(g||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(w||"0"),boxSizing:y}}function dD(e){const t=_u(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ap(e){const t=_u(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function WO(e){const{height:t,marginBottom:s,marginTop:n}=_u(e);return Math.floor(t+s+n)}function qb(e){const{width:t,marginLeft:s,marginRight:n}=_u(e);return Math.floor(t+s+n)}function UO(e){const t=e.getBoundingClientRect(),{borderTopWidth:s,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=_u(e);return{top:t.top+(s||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function Kb(e,t){let s=e.scrollLeft;return t&&(s=Math.abs(s)),s}function Yb(e,t,s){s&&(t*=-1),e.scrollLeft=t}function di(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ra(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function jO(e){return!!e.offsetParent}function Jo(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!jO(e)||window.getComputedStyle(e).visibility!=="visible")}function Sy(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function b6(e){return e.clientWidth<e.scrollWidth}function w6(e){return e.clientHeight<e.scrollHeight}function Xb(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Xo(e,t)}function Xo(e,t){t=hD(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function op(e,t){t=hD(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function hD(e){return typeof e=="number"?`${e}px`:e}function fD(e){return e instanceof Node||e instanceof HTMLElement}function Ii(e,t,s){s==null||s===""?e.removeAttribute(t):e.setAttribute(t,s.toString())}function pa(e,t,s){const i=t_(e).ResizeObserver,o=i?new i(s):null;return o==null||o.observe(t),()=>o==null?void 0:o.disconnect()}function ma(e,t){const s=t_(e);s.requestAnimationFrame?s.requestAnimationFrame(t):s.webkitRequestAnimationFrame?s.webkitRequestAnimationFrame(t):s.setTimeout(t,0)}var $O="data-ref",TR;function q1(){return TR??(TR=document.createTextNode(" ")),TR.cloneNode()}function un(e){const{attrs:t,children:s,cls:n,ref:i,role:o,tag:r}=e,l=document.createElement(r);if(n&&(l.className=n),i&&l.setAttribute($O,i),o&&l.setAttribute("role",o),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(s)if(typeof s=="string")l.textContent=s;else{let u=!0;for(const d of s)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):(u&&(l.appendChild(q1()),u=!1),l.append(un(d)),l.appendChild(q1())))}return l}function Qr(e){return e==null||e===""?null:e}function Se(e){return e!=null&&e!==""}function Ut(e){return!Se(e)}function Tx(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Ep(e,t){const s=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return s===n}function y6(e,t,s=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(r,l){return r>l?1:r<l?-1:0}if(typeof e!="string"||!s)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var qO="https://www.ag-grid.com",K1={};function KO(e,t){K1[t]||(e(),K1[t]=!0)}function Ru(e,t,...s){e.get("debug")&&console.log("AG Grid: "+t,...s)}function rp(e,...t){KO(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Qd(e,...t){KO(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var S6={pending:!1,funcs:[]},R6={pending:!1,funcs:[]};function Fx(e,t="setTimeout",s){const n=t==="raf"?R6:S6;if(n.funcs.push(e),n.pending)return;n.pending=!0;const i=()=>{const o=n.funcs.slice();n.funcs.length=0,n.pending=!1,o.forEach(r=>r())};t==="raf"?ma(s,i):window.setTimeout(i,0)}function $s(e,t,s){let n;return function(...i){const o=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(o,i)},s)}}function Y1(e,t){let s=0;return function(...n){const i=this,o=Date.now();o-s<t||(s=o,e.apply(i,n))}}function x6(e,t,s=100,n){const i=Date.now();let o=null,r=!1;const l=()=>{const u=Date.now()-i>s;(e()||u)&&(t(),r=!0,o!=null&&(window.clearInterval(o),o=null))};l(),r||(o=window.setInterval(l,10))}var xe="33.2.4",X1=2e3,Q1=100,YO="_version_",sb=null,gu=`${qO}/javascript-data-grid`;function A6(e){sb=e}function E6(e){gu=e}function XO(e,t,s){return(sb==null?void 0:sb.getConsoleMessage(e,t))??[P6(e,t,s)]}function gD(e,t,s,n){e(`error #${t}`,...XO(t,s,n))}function D6(e){if(!e)return String(e);const t={};for(const s of Object.keys(e))typeof e[s]!="object"&&typeof e[s]!="function"&&(t[s]=e[s]);return JSON.stringify(t)}function T6(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=D6(e)),t}function Qb(e){return e===void 0?"undefined":e===null?"null":e}function Px(e,t){return`${e}?${t.toString()}`}function F6(e,t,s){const n=Array.from(t.entries()).sort((o,r)=>r[1].length-o[1].length);let i=Px(e,t);for(const[o,r]of n){if(o===YO)continue;const l=i.length-s;if(l<=0)break;const u="...",d=l+u.length,f=r.length-d>Q1?r.slice(0,r.length-d)+u:r.slice(0,Q1)+u;t.set(o,f),i=Px(e,t)}return i}function QO(e,t){const s=new URLSearchParams;if(s.append(YO,xe),t)for(const o of Object.keys(t))s.append(o,T6(t[o]));const n=`${gu}/errors/${e}`,i=Px(n,s);return i.length<=X1?i:F6(n,s,X1)}var P6=(e,t,s)=>{const n=QO(e,t);return`${s?s+` 
`:""}Visit ${n}${s?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function we(...e){gD(rp,e[0],e[1])}function At(...e){gD(Qd,e[0],e[1])}function Mx(e,t,s){gD(Qd,e,t,s)}function M6(e,t){const s=t[0];return`error #${s} `+XO(s,t[1],e).join(" ")}function xl(...e){return M6(void 0,e)}function ZO(e,t){return e.get("rowModelType")===t}function an(e,t){return ZO(e,"clientSide")}function Nu(e,t){return ZO(e,"serverSide")}function qs(e,t){return e.get("domLayout")===t}function pu(e){return Jb(e)!==void 0}function JO(e){return typeof e.get("getRowHeight")=="function"}function L6(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function df(e,t,s=!1,n){const{gos:i,environment:o}=e;if(n==null&&(n=o.getDefaultRowHeight()),JO(i)){if(s)return{height:n,estimated:!0};const u={node:t,data:t.data},d=i.getCallback("getRowHeight")(u);if(Lx(d))return d===0&&we(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&i.get("masterDetail"))return k6(i);const r=i.get("rowHeight");return{height:r&&Lx(r)?r:n,estimated:!1}}function k6(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Lx(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function mu(e){const{environment:t,gos:s}=e,n=s.get("rowHeight");if(!n||Ut(n))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(we(24),t.getDefaultRowHeight())}function Lx(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function e_(e,t,s){const n=t[e.getDomDataKey()];return n?n[s]:void 0}function xu(e,t,s,n){const i=e.getDomDataKey();let o=t[i];Ut(o)&&(o={},t[i]=o),o[s]=n}function ds(e){const{gos:t,eGridDiv:s}=e;let n=null;const i=t.get("getDocument");return i&&Se(i)?n=i():s&&(n=s.ownerDocument),n&&Se(n)?n:document}function t_(e){return ds(e).defaultView||window}function Dp(e){return e.eGridDiv.getRootNode()}function Kt(e){return Dp(e).activeElement}function pD(e){let t=null,s=null;try{t=ds(e).fullscreenElement}catch{}finally{t||(t=Dp(e));const n=t.querySelector("body");n?s=n:t instanceof ShadowRoot?s=t:t instanceof Document?s=t==null?void 0:t.documentElement:s=t}return s}function I6(e){const t=pD(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function O6(e){const t=pD(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function _6(e,t,s){const i=e.getBoundingClientRect().height,o=I6(s)-2,r=O6(s)-2;if(!e.offsetParent)return;const u=UO(e.offsetParent),{clientY:d,clientX:f}=t;let g=d-u.top-i/2,m=f-u.left-10;const C=ds(s),w=C.defaultView||window,y=w.pageYOffset||C.documentElement.scrollTop,R=w.pageXOffset||C.documentElement.scrollLeft;o>0&&m+e.clientWidth>o+R&&(m=o+R-e.clientWidth),m<0&&(m=0),r>0&&g+e.clientHeight>r+y&&(g=r+y-e.clientHeight),g<0&&(g=0),e.style.left=`${m}px`,e.style.top=`${g}px`}function s_(e){const t=ds(e),s=Kt(e);return s===null||s===t.body}function Zd(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function n_(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||qs(e,"print"))}function jo(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function kx(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function N6(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function mD(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function hf(e){const t=e.getCallback("getRowId");return t===void 0?t:s=>{let n=t(s);return typeof n!="string"&&(we(25,{id:n}),n=String(n)),n}}function H6(e,t){const s=e.get("groupHideParentOfSingleChild");return!!(s===!0||s==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function B6(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Jd(e){return(e==null?void 0:e.checkboxes)??!0}function nb(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function Zb(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function FR(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function G6(e){return typeof e.get("rowSelection")!="string"}function Tl(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function i_(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const s=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return s&&n?!1:s?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function V6(e){const t=i_(e);return t===!0||t==="enableSelection"}function z6(e){const t=i_(e);return t===!0||t==="enableDeselection"}function Ix(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Jb(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function ew(e){return Jb(e)==="multiRow"}function W6(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function tw(e){const t=e.get("rowSelection");if(typeof t=="string"){const s=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return s&&n?"filteredDescendants":s?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function o_(e,t=!0){const s=e.get("rowSelection");return typeof s!="object"?t?"all":void 0:s.mode==="multiRow"?s.selectAll:"all"}function Tp(e){const t=tw(e);return t==="descendants"||t==="filteredDescendants"}function Z1(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function PR(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function ri(e){return e.get("columnMenu")==="legacy"}function U6(e){return!ri(e)}function r_(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function j6(e,t,s){typeof e!="object"&&(e={});const n={...e};return s.forEach(i=>{const o=t[i];typeof o<"u"&&(n[i]=o)}),n}function $6(e,t){if(!e)return;const s={};let n=!1;if(Object.keys(e).forEach(r=>{s[r]=e[r],n=!0}),!n)return;const i={type:"gridOptionsChanged",options:s};t.dispatchEvent(i);const o={type:"componentStateChanged",...s};t.dispatchEvent(o)}function We(e,t){return e.addGridCommonParams(t)}function q6(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var a_="__ag_Grid_Stop_Propagation",K6=["touchstart","touchend","touchmove","touchcancel","scroll"],Y6=["wheel"],MR={};function ff(e){e[a_]=!0}function Zr(e){return e[a_]===!0}var l_=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return s=>{if(typeof MR[s]=="boolean")return MR[s];const n=document.createElement(e[s]||"div");return s="on"+s,MR[s]=s in n}})();function c_(e,t,s){let n=t;for(;n;){const i=e_(e,n,s);if(i)return i;n=n.parentElement}return null}function X6(e,t){return!t||!e?!1:Z6(t).indexOf(e)>=0}function Q6(e){const t=[];let s=e.target;for(;s;)t.push(s),s=s.parentElement;return t}function Z6(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Q6(t)}function J6(e,t,s,n){const i=u_(s);let o;i!=null&&(o={passive:i}),e&&e.addEventListener&&e.addEventListener(t,s,n,o)}var u_=e=>{const t=K6.includes(e),s=Y6.includes(e);if(t)return!0;if(s)return!1},ue=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,s){this.localEventService||(this.localEventService=new Su),this.localEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){var n;(n=this.localEventService)==null||n.removeEventListener(e,t,s)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const s=[];for(const n of Object.keys(t)){const i=t[n];i&&s.push(this._setupListener(e,n,i))}return s}_setupListener(e,t,s){if(this.destroyed)return()=>null;let n;return e$(e)?(e.__addEventListener(t,s),n=()=>(e.__removeEventListener(t,s),null)):(e instanceof HTMLElement?J6(this.beans.frameworkOverrides,e,t,s):e.addEventListener(t,s),n=()=>(e.removeEventListener(t,s),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupGridOptionListener(e,t){const{gos:s}=this;s.addPropertyEventListener(e,t);const n=()=>(s.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const s=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[s])return;this.lastChangeSetIdLookup[s]=i.changeSet.id}const o={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(o)};e.forEach(i=>this.setupGridOptionListener(i,n))}getLocaleTextFunc(){return MO(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const s=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),s}createBean(e,t,s){return(t||this.stubContext).createBean(e,s)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function e$(e){return e.__addEventListener!==void 0}var d_=new Set(["__proto__","constructor","prototype"]);function t$(e,t){if(e!=null){if(Array.isArray(e)){for(let s=0;s<e.length;s++)t(s.toString(),e[s]);return}for(const s of Object.keys(e))t(s,e[s])}}function Sn(e,t,s=!0,n=!1){Se(t)&&t$(t,(i,o)=>{if(d_.has(i))return;let r=e[i];r!==o&&(n&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[i]=r),J1(o)&&J1(r)&&!Array.isArray(r)?Sn(r,o,s,n):(s||o!==void 0)&&(e[i]=o))})}function ap(e,t,s){if(!t||!e)return;if(!s)return e[t];const n=t.split(".");let i=e;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}function J1(e){return typeof e=="object"&&e!==null}var s$=/[&<>"']/g,n$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jr(e,t){if(e==null)return null;const s=e.toString().toString();return t?s:s.replace(s$,n=>n$[n])}var i$={resizable:!0,sortable:!0},o$=0;function h_(){return o$++}function Fl(e){return e instanceof vD}var vD=class extends ue{constructor(e,t,s,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=s,this.primary=n,this.isColumn=!0,this.instanceId=h_(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Su,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Jr(s)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:s,colFlex:n}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,s==null||s.initCol(this),n==null||n.initCol(this)}setColDef(e,t,s){var i;const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&((i=this.beans.rowSpanSvc)==null||i.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",s)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:s}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Se(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=Se(s)&&s.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const s=e.width,n=e.initialWidth;return s!=null?t=s:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var n,i,o;this.frameworkEventListenerService=(i=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(n,this.frameworkEventListenerService,this.colEventSvc);const s=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.colEventSvc.addEventListener(e,s)}removeEventListener(e,t){var n;const s=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.colEventSvc.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return We(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??i$[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const s=this.createColumnFunctionCallbackParams(e);return t(s)}return!1}createColumnEvent(e,t){return We(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ut(this.sort)}isSorting(){return Se(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return we(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const s=e===!0;this.visible!==s&&(this.visible=s,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let s=!0;for(;e;){if(!e.isPadding()){s=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:s}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return We(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ut(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.colSpan(t);return Math.max(s,1)}getRowSpan(e){if(Ut(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.rowSpan(t);return Math.max(s,1)}setActualWidth(e,t,s=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),s||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,s){const n=this.createColumnEvent(e,t);s&&Sn(n,s),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Cn(e){return e instanceof ib}var ib=class extends ue{constructor(e,t,s,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=s,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=h_(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Fl(t)?e.push(t):Cn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,s=!1;const n=this.findChildrenRemovingPadding();for(let o=0,r=n.length;o<r;o++){const l=n[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,s=!0):u==="closed"?(t=!0,s=!0):(e=!0,t=!0)}const i=e&&t&&s;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=s=>{s.forEach(n=>{Cn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},r$={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},a$=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Tx(e);let s=0;for(;;){let n=e??t;if(n?s!==0&&(n+="_"+s):n=s,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);s++}}},eL=Object.freeze([]);function xt(e){if(e!=null&&e.length)return e[e.length-1]}function Hu(e,t,s){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>s?s(n,t[i]):t[i]===n)}function NC(e,t){if(e)for(const s of e)t(s)}function ho(e,t){const s=e.indexOf(t);s>=0&&e.splice(s,1)}function tL(e,t,s){for(let n=0;n<t.length;n++)ho(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(s,0,t[n])}var Ry="ag-Grid-AutoColumn",f_="ag-Grid-SelectionColumn",l$="ag-Grid-RowNumbersColumn";function g_(e){const t=[],s=n=>{for(let i=0;i<n.length;i++){const o=n[i];Fl(o)?t.push(o):Cn(o)&&s(o.getChildren())}};return s(e),t}function Ar(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}function sw(e,t,s){const n={};if(!t)return;ea(null,t,o=>{n[o.getInstanceId()]=o}),s&&ea(null,s,o=>{n[o.getInstanceId()]=null});const i=Object.values(n).filter(o=>o!=null);e.context.destroyBeans(i)}function CD(e){return e.getId().startsWith(Ry)}function aa(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(f_))??!1}function gf(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(l$))??!1}function nw(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function c$(e,t){return Hu(e,t,(s,n)=>s.getColId()===n.getColId())}function u$(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function eh(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function p_(e,t){const s=e===t,n=e.getColDef()===t,i=e.getColId()==t;return s||n||i}var d$=(e,t)=>(s,n)=>{const i={value1:void 0,value2:void 0};let o=!1;return e&&(e[s]!==void 0&&(i.value1=e[s],o=!0),Se(n)&&e[n]!==void 0&&(i.value2=e[n],o=!0)),!o&&t&&(t[s]!==void 0&&(i.value1=t[s]),Se(n)&&t[n]!==void 0&&(i.value2=t[n])),i};function h$(e,t=null,s,n,i){const o=new a$,{existingCols:r,existingGroups:l,existingColKeys:u}=f$(n);o.addExistingKeys(u);const d=m_(e,t,0,s,r,o,l,i),{colGroupSvc:f}=e,g=(f==null?void 0:f.findMaxDepth(d,0))??0,m=f?f.balanceColumnTree(d,0,g,o):d;return ea(null,m,(w,y)=>{Cn(w)&&w.setupExpandable(),w.originalParent=y}),{columnTree:m,treeDept:g}}function f$(e){const t=[],s=[],n=[];return e&&ea(null,e,i=>{if(Cn(i)){const o=i;s.push(o)}else{const o=i;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:s,existingColKeys:n}}function m_(e,t,s,n,i,o,r,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const g=t[f];u&&b$(g)?d[f]=u.createProvidedColumnGroup(n,g,s,i,o,r,l):d[f]=g$(e,n,g,i,o,l)}return d}function g$(e,t,s,n,i,o){var u;const r=m$(s,n);r&&(n==null||n.splice(r.idx,1));let l=r==null?void 0:r.column;if(l){const d=Ox(e,s,l.getColId());l.setColDef(d,s,o),p$(e,l,d,o)}else{const d=i.getUniqueKey(s.colId,s.field),f=Ox(e,s,d);l=new vD(f,s,d,t),e.context.createBean(l)}return(u=e.dataTypeSvc)==null||u.addColumnListeners(l),l}function v_(e,t,s,n,i,o,r,l){const{sortSvc:u,pinnedCols:d,colFlex:f}=e;s!==void 0&&t.setVisible(!s,l),u&&(u.updateColSort(t,n,l),i!==void 0&&u.setColSortIndex(t,i)),o!==void 0&&(d==null||d.setColPinned(t,o)),r!==void 0&&(f==null||f.setColFlex(t,r))}function p$(e,t,s,n){v_(e,t,s.hide,s.sort,s.sortIndex,s.pinned,s.flex,n);const i=t.getFlex();if(!(i!=null&&i>0))if(s.width!=null)t.setActualWidth(s.width,n);else{const o=t.getActualWidth();t.setActualWidth(o,n)}}function m$(e,t){if(t)for(let s=0;s<t.length;s++){const n=t[s].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[s].getId()===e.colId)return{idx:s,column:t[s]};continue}if(e.field!=null){if(n.field===e.field)return{idx:s,column:t[s]};continue}if(n===e)return{idx:s,column:t[s]}}}function Ox(e,t,s,n){const{gos:i,dataTypeSvc:o,validation:r}=e,l={},u=i.get("defaultColDef");Sn(l,u,!1,!0);const d=v$(e,l,t,s);d&&C$(e,d,l),Sn(l,t,!1,!0);const f=i.get("autoGroupColumnDef"),g=jo(i);return t.rowGroup&&f&&g&&Sn(l,{sort:f.sort,initialSort:f.initialSort},!1,!0),o==null||o.validateColDef(l),r==null||r.validateColDef(l,s,n),l}function v$(e,t,s,n){var r;const i=(r=e.dataTypeSvc)==null?void 0:r.updateColDefAndGetColumnType(t,s,n),o=s.type??i??t.type;return t.type=o,o?nw(o):void 0}function C$(e,t,s){if(!t.length)return;const n=Object.assign({},r$),i=e.gos.get("columnTypes")||{};for(const o of Object.keys(i)){const r=i[o];o in n?we(34,{key:o}):(r.type&&we(35),n[o]=r)}t.forEach(o=>{const r=n[o.trim()];r?Sn(s,r,!1,!0):we(36,{t:o})})}function b$(e){return e.children!==void 0}function ea(e,t,s){if(t)for(let n=0;n<t.length;n++){const i=t[n];Cn(i)&&ea(i,i.getChildren(),s),s(i,e)}}function C_(e,t){const s=[],n=[],i=[];return e.forEach(r=>{const l=r.getColDef().lockPosition;l==="right"?i.push(r):l==="left"||l===!0?s.push(r):n.push(r)}),t.get("enableRtl")?[...i,...n,...s]:[...s,...n,...i]}function b_(e,t){let s=!0;return ea(null,t,n=>{if(!Cn(n))return;const i=n,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const l=[];i.getLeafColumns().forEach(m=>{const C=e.indexOf(m);l.push(C)});const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=u-d,g=i.getLeafColumns().length-1;f>g&&(s=!1)}),s}function w_(e,t){if(!e||e.length==0)return;const s=t(e[0]);for(let n=1;n<e.length;n++)if(s!==t(e[n]))return;return s}function y_(e,t,s){if(!t.length)return;const n=t.length===1?t[0]:null,i=w_(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:n,source:s})}function w$(e,t,s){if(!t.length)return;const n=t.length===1?t[0]:null,i=w_(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:n,source:s})}function y$(e,t,s,n){e.dispatchEvent({type:t,columns:s,column:s&&s.length==1?s[0]:null,source:n})}function pf(e,t,s,n,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:s,source:n})}function ci(e,t,s){var T;const{colModel:n,rowGroupColsSvc:i,pivotColsSvc:o,autoColSvc:r,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:f,environment:g,valueColsSvc:m,eventSvc:C,gos:w}=e,y=n.getColDefCols()||[];if(!(y!=null&&y.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return we(32),!1;const R=(P,L,N,B,W)=>{if(!P)return;const z=d$(L,t.defaultState),q=z("flex").value1;if(v_(e,P,z("hide").value1,z("sort").value1,z("sortIndex").value1,z("pinned").value1,q,s),q==null){const K=z("width").value1;if(K!=null){const $=P.getColDef().minWidth??g.getDefaultColumnMinWidth();$!=null&&K>=$&&P.setActualWidth(K,s)}}W||!P.isPrimary()||(m==null||m.syncColumnWithState(P,s,z),i==null||i.syncColumnWithState(P,s,z,N),o==null||o.syncColumnWithState(P,s,z,B))},A=(P,L,N)=>{var H,Y;const B=S_(e,s),W=L.slice(),z={},q={},K=[],$=[],te=[];let ee=0;const G=(i==null?void 0:i.columns.slice())??[],V=(o==null?void 0:o.columns.slice())??[];P.forEach(Q=>{const J=Q.colId;if(J.startsWith(Ry)){K.push(Q),te.push(Q);return}if(aa(J)){$.push(Q),te.push(Q);return}const ge=N(J);ge?(R(ge,Q,z,q,!1),ho(W,ge)):(te.push(Q),ee+=1)});const U=Q=>R(Q,null,z,q,!1);W.forEach(U),i==null||i.sortColumns(sL.bind(i,z,G)),o==null||o.sortColumns(sL.bind(o,q,V)),n.refreshCols(!1);const re=(Q,J,le=[])=>{J.forEach(ge=>{const pe=Q(ge.colId);ho(le,pe),R(pe,ge,null,null,!0)}),le.forEach(U)};return re(Q=>(r==null?void 0:r.getColumn(Q))??null,K,(H=r==null?void 0:r.getColumns())==null?void 0:H.slice()),re(Q=>(l==null?void 0:l.getColumn(Q))??null,$,(Y=l==null?void 0:l.getColumns())==null?void 0:Y.slice()),R$(t,n,w),d.refresh(s),C.dispatchEvent({type:"columnEverythingChanged",source:s}),B(),{unmatchedAndAutoStates:te,unmatchedCount:ee}};u==null||u.start();let{unmatchedAndAutoStates:D,unmatchedCount:E}=A(t.state||[],y,P=>n.getColDefCol(P));if(D.length>0||Se(t.defaultState)){const P=((T=f==null?void 0:f.getPivotResultCols())==null?void 0:T.list)??[];E=A(D,P,L=>(f==null?void 0:f.getPivotResultCol(L))??null).unmatchedCount}return u==null||u.finish(),E===0}function S$(e,t){var R,A;const{colModel:s,autoColSvc:n,selectionColSvc:i}=e,o=s.getColDefCols();if(!(o!=null&&o.length))return;const r=s.getColDefColTree(),l=g_(r),u=[];let d=1e3,f=1e3;const g=D=>{const E=R_(D);Ut(E.rowGroupIndex)&&E.rowGroup&&(E.rowGroupIndex=d++),Ut(E.pivotIndex)&&E.pivot&&(E.pivotIndex=f++),u.push(E)};(R=n==null?void 0:n.getColumns())==null||R.forEach(g),(A=i==null?void 0:i.getColumns())==null||A.forEach(g),l==null||l.forEach(g),ci(e,{state:u},t);const m=(n==null?void 0:n.getColumns())??[],y=[...(i==null?void 0:i.getColumns())??[],...m,...o].map(D=>({colId:D.colId}));ci(e,{state:y,applyOrder:!0},t)}function S_(e,t){const{rowGroupColsSvc:s,pivotColsSvc:n,valueColsSvc:i,colModel:o,sortSvc:r,eventSvc:l}=e,u={rowGroupColumns:(s==null?void 0:s.columns.slice())??[],pivotColumns:(n==null?void 0:n.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},d=Fp(e),f={};return d.forEach(g=>{f[g.colId]=g}),()=>{const g=(L,N,B,W)=>{const z=N.map(W),q=B.map(W);if(Hu(z,q))return;const $=new Set(N);B.forEach(ee=>{$.delete(ee)||$.add(ee)});const te=[...$];l.dispatchEvent({type:L,columns:te,column:te.length===1?te[0]:null,source:t})},m=L=>{const N=[];return o.forAllCols(B=>{const W=f[B.getColId()];W&&L(W,B)&&N.push(B)}),N},C=L=>L.getColId();g("columnRowGroupChanged",u.rowGroupColumns,(s==null?void 0:s.columns)??[],C),g("columnPivotChanged",u.pivotColumns,(n==null?void 0:n.columns)??[],C);const y=m((L,N)=>{const B=L.aggFunc!=null,W=B!=N.isValueActive(),z=B&&L.aggFunc!=N.getAggFunc();return W||z});y.length>0&&y$(l,"columnValueChanged",y,t),pf(l,m((L,N)=>L.width!=N.getActualWidth()),!0,t),y_(l,m((L,N)=>L.pinned!=N.getPinned()),t),w$(l,m((L,N)=>L.hide==N.isVisible()),t);const T=m((L,N)=>L.sort!=N.getSort()||L.sortIndex!=N.getSortIndex());T.length>0&&(r==null||r.dispatchSortChangedEvents(t,T));const P=Fp(e);A$(d,P,t,o,l)}}function Fp(e){const{colModel:t,rowGroupColsSvc:s,pivotColsSvc:n}=e,i=t.getColDefCols();if(Ut(i)||!t.isAlive())return[];const o=s==null?void 0:s.columns,r=n==null?void 0:n.columns,l=[],u=f=>{const g=f.isRowGroupActive()&&o?o.indexOf(f):null,m=f.isPivotActive()&&r?r.indexOf(f):null,C=f.isValueActive()?f.getAggFunc():null,w=f.getSort()!=null?f.getSort():null,y=f.getSortIndex()!=null?f.getSortIndex():null;l.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:w,sortIndex:y,aggFunc:C,rowGroup:f.isRowGroupActive(),rowGroupIndex:g,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>u(f));const d=new Map(t.getCols().map((f,g)=>[f.getColId(),g]));return l.sort((f,g)=>{const m=d.has(f.colId)?d.get(f.colId):-1,C=d.has(g.colId)?d.get(g.colId):-1;return m-C}),l}function R_(e){const t=(w,y)=>w??y??null,s=e.getColDef(),n=t(s.sort,s.initialSort),i=t(s.sortIndex,s.initialSortIndex),o=t(s.hide,s.initialHide),r=t(s.pinned,s.initialPinned),l=t(s.width,s.initialWidth),u=t(s.flex,s.initialFlex);let d=t(s.rowGroupIndex,s.initialRowGroupIndex),f=t(s.rowGroup,s.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);let g=t(s.pivotIndex,s.initialPivotIndex),m=t(s.pivot,s.initialPivot);g==null&&(m==null||m==!1)&&(g=null,m=null);const C=t(s.aggFunc,s.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:o,pinned:r,width:l,flex:u,rowGroup:f,rowGroupIndex:d,pivot:m,pivotIndex:g,aggFunc:C}}function R$(e,t,s){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(i=>{i.colId!=null&&n.push(i.colId)}),x$(t.cols,n,t,s)}function x$(e,t,s,n){if(e==null)return;let i=[];const o={};t.forEach(l=>{if(o[l])return;const u=e.map[l];u&&(i.push(u),o[l]=!0)});let r=0;if(e.list.forEach(l=>{const u=l.getColId();if(o[u]!=null)return;u.startsWith(Ry)?i.splice(r++,0,l):i.push(l)}),i=C_(i,n),!b_(i,s.getColTree())){we(39);return}e.list=i}function A$(e,t,s,n,i){const o={};t.forEach(f=>o[f.colId]=f);const r={};e.forEach(f=>{o[f.colId]&&(r[f.colId]=!0)});const l=e.filter(f=>r[f.colId]),u=t.filter(f=>r[f.colId]),d=[];u.forEach((f,g)=>{const m=l&&l[g];if(m&&m.colId!==f.colId){const C=n.getCol(m.colId);C&&d.push(C)}}),d.length&&i.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:s})}var sL=(e,t,s,n)=>{const i=e[s.getId()],o=e[n.getId()],r=i!=null,l=o!=null;if(r&&l)return i-o;if(r)return-1;if(l)return 1;const u=t.indexOf(s),d=t.indexOf(n),f=u>=0,g=d>=0;return f&&g?u-d:f?-1:1},E$=class extends ue{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(eh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),eh(e.source)))}createColsFromColDefs(e){var D,E,T;const{beans:t}=this,{valueCache:s,colAutosize:n,rowGroupColsSvc:i,pivotColsSvc:o,valueColsSvc:r,visibleCols:l,colViewport:u,eventSvc:d}=t,f=this.colDefs?S_(t,e):void 0;s==null||s.expire();const g=(D=this.colDefCols)==null?void 0:D.list,m=(E=this.colDefCols)==null?void 0:E.tree,C=h$(t,this.colDefs,!0,m,e);sw(t,(T=this.colDefCols)==null?void 0:T.tree,C.columnTree);const w=C.columnTree,y=C.treeDept,R=g_(w),A={};R.forEach(P=>A[P.getId()]=P),this.colDefCols={tree:w,treeDepth:y,list:R,map:A},i==null||i.extractCols(e,g),o==null||o.extractCols(e,g),r==null||r.extractCols(e,g),this.ready=!0,this.refreshCols(!0),l.refresh(e),u.checkViewportColumns(),d.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(n==null||n.applyAutosizeStrategy())}refreshCols(e){var y;if(!this.colDefCols)return;const t=(y=this.cols)==null?void 0:y.tree;this.saveColOrder();const{autoColSvc:s,selectionColSvc:n,rowNumbersSvc:i,quickFilter:o,pivotResultCols:r,showRowGroupCols:l,rowAutoHeight:u,visibleCols:d,colViewport:f,eventSvc:g}=this.beans,m=this.selectCols(r,this.colDefCols);this.createColumnsForService([s,n,i],m);const C=L6(this.gos,this.showingPivotResult);(!e||C)&&this.restoreColOrder(m),this.positionLockedCols(m),l==null||l.refresh(),o==null||o.refreshCols(),this.setColSpanActive(),u==null||u.setAutoHeightActive(m),d.clear(),f.clear(),!Hu(t,this.cols.tree)&&g.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const s of e)s&&(s.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),s.addColumns(t))}selectCols(e,t){const s=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=s!=null;const{map:n,list:i,tree:o,treeDepth:r}=s??t;return this.cols={list:i.slice(),map:{...n},tree:o.slice(),treeDepth:r},s&&(s.list.some(u=>{var d;return((d=this.cols)==null?void 0:d.map[u.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var n;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(n=this.beans.valueColsSvc)==null?void 0:n.columns;return this.cols.list.filter(i=>{const o=CD(i);if(e){const r=t==null?void 0:t.includes(i);return o||r}else return o||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,s){ci(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},s)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const s=new Map(t.map((d,f)=>[d,f]));if(!e.list.some(d=>s.has(d)))return;const i=new Map(e.list.map(d=>[d,!0])),o=t.filter(d=>i.has(d)),r=new Map(o.map(d=>[d,!0])),l=e.list.filter(d=>!r.has(d)),u=o.slice();l.forEach(d=>{let f=d.getOriginalParent();if(!f){u.push(d);return}const g=[];for(;!g.length&&f;)f.getLeafColumns().forEach(y=>{const R=u.indexOf(y)>=0,A=g.indexOf(y)<0;R&&A&&g.push(y)}),f=f.getOriginalParent();if(!g.length){u.push(d);return}const m=g.map(w=>u.indexOf(w)),C=Math.max(...m);u.splice(C+1,0,d)}),e.list=u}positionLockedCols(e){e.list=C_(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:s,eventSvc:n}=this.beans;s.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var s;if(!this.cols)return;(s=this.beans.autoColSvc)==null||s.updateColumns(e);const t=eh(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;sw(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var i,o,r,l;const{pivotResultCols:t,autoColSvc:s,selectionColSvc:n}=this.beans;NC((i=this.colDefCols)==null?void 0:i.list,e),NC((o=s==null?void 0:s.columns)==null?void 0:o.list,e),NC((r=n==null?void 0:n.columns)==null?void 0:r.list,e),NC((l=t==null?void 0:t.getPivotResultCols())==null?void 0:l.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var i,o;if(t==null)return null;const{map:s,list:n}=t;if(typeof e=="string"&&s[e])return s[e];for(let r=0;r<n.length;r++)if(p_(n[r],e))return n[r];return((i=this.beans.autoColSvc)==null?void 0:i.getColumn(e))??((o=this.beans.selectionColSvc)==null?void 0:o.getColumn(e))??null}},x_=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let s;return typeof t!="number"?s=0:s=t+1,this.existingIds[e]=s,s}},Tf=class extends ue{};function lv(e,t,s){return s&&e.addDestroyFunc(()=>t.destroyBean(s)),s??e}var cv=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},D$=0,_e=null,jt=class extends ue{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=D$++,this.cssClassManager=new cv(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(s=>[s.selector,s])),e&&this.setTemplate(e)}preConstruct(){var t,s,n;this.wireTemplate(this.getGui());const e="component-"+((s=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:s.name);(n=this.css)==null||n.forEach(i=>this.beans.environment.addGlobalCSS(i,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute($O):null}applyElementsToComponent(e,t,s,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===_e)this[t]=n??e;else{const o=s&&s[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const s=[];for(const n of e.childNodes??[])s.push(n);s.forEach(n=>{if(!(n instanceof HTMLElement))return;const i=this.createComponentFromElement(n,o=>{const r=o.getGui();if(r)for(const l of n.attributes??[])r.setAttribute(l.name,l.value)},t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const o=Array.prototype.slice.call(n.children);i.addItems(o)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,s){const n=e.nodeName,i=this.getDataRefAttribute(e),o=n.indexOf("AG-")===0,r=o?this.componentSelectors.get(n):null;let l=null;if(r){const u=s&&i?s[i]:void 0;l=new r.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(o)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,i,s,l),l}swapComponentForNode(e,t,s){const n=e.getGui();t.replaceChild(n,s),t.insertBefore(document.createComment(s.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(s=>s.setAttribute("tabindex",t.toString()))}setTemplate(e,t,s){let n;typeof e=="string"||e==null?n=Sy(e):n=un(e),this.setTemplateFromElement(n,t,s)}setTemplateFromElement(e,t,s,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let i=0;i<t.length;i++){const o=t[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let s=t;return e==null?null:(s||(s=this.eGui),fD(e)?{element:e,parent:s}:{element:e.getGui(),parent:s})}prependChild(e,t){const{element:s,parent:n}=this.getContainerAndElement(e,t)||{};!s||!n||n.insertAdjacentElement("afterbegin",s)}appendChild(e,t){const{element:s,parent:n}=this.getContainerAndElement(e,t)||{};!s||!n||n.appendChild(s)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:s}=t;C6(this.eGui,e,{skipAriaHidden:s})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:s}=t;ts(this.eGui,e,{skipAriaHidden:s});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,s){this.eGui.addEventListener(e,t,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},zt=class Gg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(s=>this.onDone(s),s=>this.onReject(s))}static all(t){return t.length?new Gg(s=>{let n=t.length;const i=new Array(n);t.forEach((o,r)=>{o.then(l=>{i[r]=l,n--,n===0&&s(i)})})}):Gg.resolve()}static resolve(t=null){return new Gg(s=>s(t))}then(t){return new Gg(s=>{this.status===1?s(t(this.resolution)):this.waiters.push(n=>s(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(s=>s(t))}onReject(t){}};function T$(e){return e?e.prototype&&"getGui"in e.prototype:!1}function A_(e,t,s,n){const{name:i}=s;let o,r,l,u,d,f;if(t){const g=t,m=g[i+"Selector"],C=m?m(n):null,w=y=>{typeof y=="string"?o=y:y!=null&&y!==!0&&(e.isFrameworkComponent(y)?l=y:r=y)};C?(w(C.component),u=C.params,d=C.popup,f=C.popupPosition):w(g[i])}return{compName:o,jsComp:r,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}}var F$=class extends ue{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,s,n=!1){return this.getCompDetails(this.gridOptions,e,t,s,n)}getCompDetails(e,t,s,n,i=!1){var D;const{name:o,cellRenderer:r}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:f,popupFromSelector:g,popupPositionFromSelector:m}=A_(this.beans.frameworkOverrides,e,t,n),C;const w=E=>{const T=this.registry.getUserComponent(o,E);T&&(u=T.componentFromFramework?void 0:T.component,d=T.componentFromFramework?T.component:void 0,C=T.params)};if(l!=null&&w(l),u==null&&d==null&&s!=null&&w(s),u&&r&&!T$(u)&&(u=(D=this.agCompUtils)==null?void 0:D.adaptFunction(t,u)),!u&&!d){const{validation:E}=this.beans;i&&(l!==s||!s)?l?E!=null&&E.isProvidedUserComp(l)||At(50,{compName:l}):s?E||At(260,{...this.gos.getModuleErrorParams(),propName:o,compName:s}):At(216,{name:o}):s&&!E&&At(146,{comp:s});return}const y=this.mergeParams(e,t,n,f,C),R=u==null,A=u??d;return{componentFromFramework:R,componentClass:A,params:y,type:t,popupFromSelector:g,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(A,R,y,t)}}newAgStackInstance(e,t,s,n){var l;const i=!t;let o;i?o=new e:o=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(o);const r=(l=o.init)==null?void 0:l.call(o,s);return r==null?zt.resolve(o):r.then(()=>o)}mergeParams(e,t,s,n=null,i){const o={...s,...i},r=e,l=r&&r[t.name+"Params"];if(typeof l=="function"){const u=l(s);Sn(o,u)}else typeof l=="object"&&Sn(o,l);return Sn(o,n),o}},P$={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},M$={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},L$={name:"headerComponent",optionalMethods:["refresh"]},k$={name:"innerHeaderComponent"},I$={name:"innerHeaderGroupComponent"},O$={name:"headerGroupComponent"},_$={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},N$={name:"loadingCellRenderer",cellRenderer:!0},H$={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},B$={name:"loadingOverlayComponent",optionalMethods:["refresh"]},G$={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},V$={name:"tooltipComponent"},bD={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},z$={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},W$={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},U$={name:"loadingCellRenderer",cellRenderer:!0},j$={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},$$={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function q$(e,t){return e.getCompDetailsFromGridOptions(M$,"agDragAndDropImage",t,!0)}function K$(e,t,s){return e.getCompDetails(t,L$,"agColumnHeader",s)}function Y$(e,t,s){return e.getCompDetails(t,k$,void 0,s)}function X$(e,t){const s=t.columnGroup.getColGroupDef();return e.getCompDetails(s,O$,"agColumnGroupHeader",t)}function Q$(e,t,s){return e.getCompDetails(t,I$,void 0,s)}function Z$(e,t){return e.getCompDetailsFromGridOptions(W$,void 0,t,!0)}function J$(e,t){return e.getCompDetailsFromGridOptions(U$,"agLoadingCellRenderer",t,!0)}function e8(e,t){return e.getCompDetailsFromGridOptions(j$,"agGroupRowRenderer",t,!0)}function t8(e,t){return e.getCompDetailsFromGridOptions($$,"agDetailCellRenderer",t,!0)}function nL(e,t,s){return e.getCompDetails(t,_$,void 0,s)}function s8(e,t,s){return e.getCompDetails(t,N$,"agSkeletonCellRenderer",s,!0)}function iL(e,t,s){return e.getCompDetails(t,H$,"agCellEditor",s,!0)}function n8(e,t,s,n){return e.getCompDetails(t,bD,n,s,!0)}function i8(e,t,s){return e.getCompDetails(t,P$,"agDateInput",s,!0)}function o8(e,t){return e.getCompDetailsFromGridOptions(B$,"agLoadingOverlay",t,!0)}function r8(e,t){return e.getCompDetailsFromGridOptions(G$,"agNoRowsOverlay",t,!0)}function a8(e,t){return e.getCompDetails(t.colDef,V$,"agTooltipComponent",t,!0)}function l8(e,t,s,n){return e.getCompDetails(t,z$,n,s)}function c8(e,t){return A_(e,t,bD)}function u8(e,t,s){return e.mergeParams(t,bD,s)}function Pp(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var E_=new Set,iw={},vu={},ob,D_=!1,d8=!1;function h8(e){const[t,s]=e.version.split(".")||[],[n,i]=ob.split(".")||[];return t===n&&s===i}function f8(e){ob||(ob=e.version);const t=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(e.version?h8(e)||Qd(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${ob}.`)):Qd(t(`'${e.moduleName}' is incompatible.`)),e.validate){const s=e.validate();s.isValid||Qd(`${s.message}`)}}function Mp(e,t){f8(e);const s=e.rowModels??["all"];E_.add(e);let n;t!==void 0?(D_=!0,vu[t]===void 0&&(vu[t]={}),n=vu[t]):n=iw,s.forEach(i=>{n[i]===void 0&&(n[i]={}),n[i][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(i=>Mp(i,t))}function g8(e){delete vu[e]}function T_(e,t,s){const n=i=>{var o,r,l;return!!((o=iw[i])!=null&&o[e])||!!((l=(r=vu[t])==null?void 0:r[i])!=null&&l[e])};return n(s)||n("all")}function wD(){return D_}function p8(e,t){const s=vu[e]??{};return[...Object.values(iw.all??{}),...Object.values(s.all??{}),...Object.values(iw[t]??{}),...Object.values(s[t]??{})]}function m8(){return new Set(E_)}function v8(e,t){const s=vu[e]??{};return[...Object.values(s.all??{}),...Object.values(s[t]??{})]}function C8(){return d8}var b8=class{static register(e){Mp(e,void 0)}static registerModules(e){e.forEach(t=>Mp(t,void 0))}},w8=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const s of Object.keys(e.providedBeanInstances))this.beans[s]=e.providedBeanInstances[s];e.beanClasses.forEach(s=>{const n=new s;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${s.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(s=>{const{beanName:n,bean:i}=s(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(s=>{var n,i;(n=s.preWireBeans)==null||n.call(s,this.beans),(i=s.wireBeans)==null||i.call(s,this.beans)}),e.forEach(s=>{var n;return(n=s.preConstruct)==null?void 0:n.call(s)}),t&&e.forEach(t),e.forEach(s=>{var n;return(n=s.postConstruct)==null?void 0:n.call(s)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},y8=class extends w8{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),g8(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},S8="ag-column-first",R8="ag-column-last";function F_(e,t,s,n){return Ut(e)?[]:A8(e.headerClass,e,t,s,n)}function P_(e,t,s){e.addOrRemoveCssClass(S8,s.isColAtEdge(t,"first")),e.addOrRemoveCssClass(R8,s.isColAtEdge(t,"last"))}function x8(e,t,s,n){return We(t,{colDef:e,column:s,columnGroup:n})}function A8(e,t,s,n,i){if(Ut(e))return[];let o;if(typeof e=="function"){const r=x8(t,s,n,i);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var ae={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},_x=!1,ow=0;function E8(e){ow>0||(e.addEventListener("keydown",rw),e.addEventListener("mousedown",rw))}function D8(e){ow>0||(e.removeEventListener("keydown",rw),e.removeEventListener("mousedown",rw))}function rw(e){const t=_x,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||t!==s&&(_x=s)}function T8(e){const t=ds(e);return E8(t),ow++,()=>{ow--,D8(t)}}function F8(){return _x}function P8(e,t,s){t.addManagedElementListeners(s,{keydown:n=>{if(!n.defaultPrevented&&n.key===ae.TAB){const i=n.shiftKey;Bu(e,s,!1,i)||mf(e,i)&&n.preventDefault()}}})}function th(e,t,s=!1){const n=v6;let i=zO;t&&(i+=", "+t),s&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(u=>Jo(u)),r=Array.prototype.slice.apply(e.querySelectorAll(i));return r.length?((u,d)=>u.filter(f=>d.indexOf(f)===-1))(o,r):o}function Au(e,t=!1,s=!1,n=!1){const i=th(e,n?".ag-tab-guard":null,s),o=t?xt(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}function Bu(e,t,s,n){const i=th(t,s?':not([tabindex="-1"])':null),o=Kt(e);let r;s?r=i.findIndex(u=>u.contains(o)):r=i.indexOf(o);const l=r+(n?-1:1);return l<0||l>=i.length?null:i[l]}function M_(e,t=5){let s=0;for(;e&&Dx(e)===null&&++s<=t;)e=e.parentElement;return Dx(e)===null?null:e}function M8(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Cu(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function xy(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function mf(e,t,s=!1){const n=e.ctrlsSvc.get("gridCtrl");return!s&&n.focusNextInnerContainer(t)?!0:((s||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function L8(e,t=!1){return e===ae.DELETE?!0:!t&&e===ae.BACKSPACE?BO():!1}var k8=class extends ue{constructor(e,t,s,n){super(),this.cellCtrl=e,this.rowNode=s,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ae.ENTER:this.onEnterKeyDown(e);break;case ae.F2:this.onF2KeyDown(e);break;case ae.ESCAPE:this.onEscapeKeyDown(e);break;case ae.TAB:this.onTabKeyDown(e);break;case ae.BACKSPACE:case ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ae.DOWN:case ae.UP:case ae.RIGHT:case ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var s;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const n=this.cellCtrl.getFocusedCellPosition();(s=this.beans.navigation)==null||s.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:s}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(s==null||s.ensureCellVisible(n))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var u;const{cellCtrl:s,beans:n,rowNode:i}=this,{gos:o,rangeSvc:r,eventSvc:l}=n;if(!s.editing){if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),L8(e,o.get("enableCellEditingOnBackspace"))){if(r&&Tl(o))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(s.isCellEditable()){const{column:d}=s,f=this.beans.valueSvc.getDeleteValue(d,i);i.setDataValue(d,f,"cellClear")}}else(u=n.editSvc)==null||u.startRowOrCellEdit(s,e,t);l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var n,i,o;const{cellCtrl:t,beans:s}=this;if(t.editing||this.rowCtrl.editing)(n=this.beans.editSvc)==null||n.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(s.gos.get("enterNavigatesVertically")){const r=e.shiftKey?ae.UP:ae.DOWN;(i=s.navigation)==null||i.navigateToNextCell(null,r,t.cellPosition,!1)}else(o=s.editSvc)==null||o.startRowOrCellEdit(t,ae.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var n;const{cellCtrl:t,beans:s}=this;t.editing||(n=s.editSvc)==null||n.startRowOrCellEdit(t,ae.F2,e)}onEscapeKeyDown(e){var n;const{cellCtrl:t,beans:s}=this;t.editing&&((n=s.editSvc)==null||n.stopRowOrCellEdit(t,!0))}processCharacter(e){var i;if(e.target!==this.eGui||this.cellCtrl.editing)return;const n=e.key;n===ae.SPACE?this.onSpaceKeyDown(e):(i=this.beans.editSvc)!=null&&i.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){var s;const{gos:t}=this.beans;!this.cellCtrl.editing&&pu(t)&&((s=this.beans.selectionSvc)==null||s.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},I8=class extends ue{constructor(e,t,s){super(),this.cellCtrl=e,this.column=s,this.beans=t}onMouseEvent(e,t){if(!Zr(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var d;if((d=this.beans.touchSvc)!=null&&d.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:s,gos:n,editSvc:i}=this.beans,o=e.ctrlKey||e.metaKey;s&&o&&s.getCellRangeCount(this.cellCtrl.cellPosition)>1&&s.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);const l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{l.onCellClicked(r)})},0),(n.get("singleClickEdit")||l.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(s==null?void 0:s.getCellRanges().length)!=0)&&(i==null||i.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:s,cellCtrl:n}=this,{eventSvc:i,frameworkOverrides:o,gos:r,editSvc:l}=s,u=t.getColDef(),d=n.createEvent(e,"cellDoubleClicked");i.dispatchEvent(d),typeof u.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&(l==null||l.startRowOrCellEdit(n,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:s,shiftKey:n}=e,i=e.target,{cellCtrl:o,beans:r}=this,{eventSvc:l,rangeSvc:u,rowNumbersSvc:d,focusSvc:f,gos:g}=r;if(this.isRightClickInExistingRange(e))return;const m=u&&!u.isEmpty(),C=this.containsWidget(i),{cellPosition:w}=o,y=gf(w.column);if(d&&y&&!d.handleMouseDownOnCell(w,e)){u&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!m){const A=g.get("enableCellTextSelection")&&e.defaultPrevented,D=(Ou()||A)&&!o.editing&&!uD(i)&&!C;o.focusCell(D)}if(n&&m&&!f.isCellFocused(w)){e.preventDefault();const R=f.getFocusedCell();if(R){const{column:A,rowIndex:D,rowPinned:E}=R,T=r.rowRenderer.getRowByPosition({rowIndex:D,rowPinned:E}),P=T==null?void 0:T.getCellCtrl(A);P!=null&&P.editing&&P.stopEditing(),f.setFocusedCell({column:A,rowIndex:D,rowPinned:E,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!C){if(u)if(y&&e.preventDefault(),n)u.extendLatestRangeToCell(w);else{const R=t||s;u.setRangeToCell(w,R)}l.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const s=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(s&&n)return!0}return!1}containsWidget(e){return fu(e,"ag-selection-checkbox",3)||fu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),s==null||s.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),s==null||s.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,s=t.contains(e.target),n=t.contains(e.relatedTarget);return s&&n}destroy(){super.destroy()}},O8=class extends ue{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Hu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,s=e.getColSpan(t),n=[];if(s===1)n.push(e);else{let i=e;const o=e.getPinned();for(let r=0;i&&r<s&&(n.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Ut(i)||o!==i.getPinned()));r++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=xt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,s=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return s+n+(e||0)}return s+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const s=mu(this.beans)*this.rowSpan;this.eContent.style.height=`${s}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},_8="ag-cell",N8="ag-cell-auto-height",H8="ag-cell-normal-height",B8="ag-cell-focus",G8="ag-cell-first-right-pinned",V8="ag-cell-last-left-pinned",z8="ag-cell-not-inline-editing",W8="ag-cell-wrap-text",aw="cellCtrl";function L_(e,t){return c_(e,t,aw)}var U8=0,lp=class extends ue{constructor(e,t,s,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=s;const{colId:i,colIdSanitised:o}=e;this.instanceId=i+"-"+U8++,this.colIdSanitised=o,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var n;const{beans:e}=this;this.positionFeature=new O8(this,e),this.customStyleFeature=(n=e.cellStyles)==null?void 0:n.createCellCustomStyleFeature(this,e),this.mouseListener=new I8(this,e,this.column),this.keyboardListener=new k8(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Tl(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,s,n,i,o,r){var l,u,d,f,g,m;this.comp=e,this.eGui=t,this.printLayout=i,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(l=this.positionFeature)==null||l.init(),(u=this.customStyleFeature)==null||u.setComp(e),(d=this.tooltipFeature)==null||d.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(g=this.rangeFeature)==null||g.setComp(e),o&&this.isCellEditable()?(m=this.beans.editSvc)==null||m.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(C=>C()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var s;this.isAutoHeight=((s=this.beans.rowAutoHeight)==null?void 0:s.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var g,m;const{beans:s,column:n,rowNode:i,rangeFeature:o}=this,{userCompFactory:r}=s,l=this.getValueToDisplay();let u;const d=i.stub&&((g=i.groupData)==null?void 0:g[n.getId()])==null,f=n.getColDef();if(d||this.isCellRenderer()){const C=this.createCellRendererParams();!d||gf(n)?u=nL(r,f,C):u=s8(r,f,C)}if(!u&&!d&&((m=s.findSvc)!=null&&m.isMatch(i,n))){const C=this.createCellRendererParams();u=nL(r,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},C)}this.comp.setRenderDetails(u,l,e),!t&&o&&ma(s,()=>o==null?void 0:o.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:s}=this.beans.gridOptions,n=Zb(t),i=aa(this.column);return s==="custom"&&n!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Jd(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),s=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||s||n||i}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:s,rowNode:n,comp:i,eGui:o,beans:{valueSvc:r,gos:l}}=this;return We(l,{value:e,valueFormatted:t,getValue:()=>r.getValueForDisplay(s,n),setValue:d=>r.setValue(n,s,d),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:s.getPinned(),colDef:s.getColDef(),column:s,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,g,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{var g;l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),(g=this.tooltipFeature)==null||g.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var d,f,g,m,C,w;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),s=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,i=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||i||s,r=!!this.comp,l=this.updateAndFormatValue(r),u=o||l;if(r){if(u){this.showValue(s,!1);const y=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!n&&!y&&t.enableCellChangeFlash&&((f=this.beans.cellFlashSvc)==null||f.flashCell(this)),(g=this.customStyleFeature)==null||g.applyUserStyles(),(m=this.customStyleFeature)==null||m.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshTooltip(),(w=this.customStyleFeature)==null||w.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,s=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(e,t){const s=this.column.getColDef();return s.equals?s.equals(e,t):e===t}addDomData(e){const t=this.eGui;xu(this.beans.gos,t,aw,this),e.addDestroyFunc(()=>xu(this.beans.gos,t,aw,null))}createEvent(e,t){const{rowNode:s,column:n,value:i,beans:o}=this;return We(o.gos,{type:t,node:s,data:s.data,value:i,column:n,colDef:n.getColDef(),rowPinned:s.rowPinned,event:e,rowIndex:s.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var s;(s=this.mouseListener)==null||s.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:s}=this;P_(e,t,s.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);NO(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const s=this.comp.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(gf(this.column)&&(e=!0),Ii(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(G8,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(V8,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var i;const{beans:t}=this;if(xy(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const s=this.isCellFocused();if(this.comp.addOrRemoveCssClass(B8,s),s&&e&&e.forceBrowserFocus){let o=this.comp.getFocusableElement();if(this.editing){const r=th(o,null,!0);r.length&&(o=r[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const n=t.gos.get("editType")==="fullRow";!s&&!n&&this.editing&&((i=t.editSvc)==null||i.stopRowOrCellEdit(this)),s&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Qr(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(_8,!0),e.addOrRemoveCssClass(z8,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(N8,t),e.addOrRemoveCssClass(H8,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(W8,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),s=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(s),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(s)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Kt(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,s);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,s){var i;const n=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,s);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},k_="__ag_grid_instance";function I_(e,t){t[k_]=e.gridInstanceId}function Lp(e,t){return O_(e,t.target)}function O_(e,t){let s=t;for(;s;){const n=s[k_];if(Se(n))return n===e.gridInstanceId;s=s.parentElement}return!1}function j8(e,t){var s;return((s=L_(e,t.target))==null?void 0:s.getFocusedCellPosition())??null}function LR(e,t){const s=qs(e.gos,"normal"),n=t;let i,o;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,o=n.clientY):(i=n.x,o=n.y),s){const r=e.ctrlsSvc.getScrollFeature(),l=r.getVScrollPosition(),u=r.getHScrollPosition();i+=u.left,o+=l.top}return{x:i,y:o}}var $8=class extends ue{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const s={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:s,dragSource:e}),this.dragSvc.addDragSource(s)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:s}=this,n=t.find(i=>i.dragSource===e);n&&(s.removeDragSource(n.params),ho(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:s}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,s.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(s=e.onDragStarted)==null||s.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var s,n;(n=(s=this.dragSource)==null?void 0:s.onDragStopped)==null||n.call(s);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var s;const{dragSource:e,lastDropTarget:t}=this;(s=e==null?void 0:e.onDragCancelled)==null||s.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var f,g;const s=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(m=>this.isMouseOnDropTarget(e,m)),o=this.findCurrentDropTarget(e,i),{lastDropTarget:r,dragSource:l,dragAndDropImageComp:u,dragItem:d}=this;if(o!==r){if(this.leaveLastTargetIfExists(e,s,n,t),r!==null&&o===null&&((f=l==null?void 0:l.onGridExit)==null||f.call(l,d)),r===null&&o!==null&&((g=l==null?void 0:l.onGridEnter)==null||g.call(l,d)),this.enterDragTargetIfExists(o,e,s,n,t),o&&u){const{comp:m,promise:C}=u;m?m.setIcon(o.getIconName?o.getIconName():null,!1):C.then(w=>{w&&w.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){const m=this.createDropTargetEvent(o,e,s,n,t);o.onDragging(m)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,s=[[e.getContainer()]];return t?s.concat(t):s}isMouseOnDropTarget(e,t){const s=this.getAllContainersFromDropTarget(t);let n=!1;const i=(l,u)=>{for(const d of u){const{width:f,height:g,left:m,right:C,top:w,bottom:y}=d.getBoundingClientRect();if(f===0||g===0)return!1;const R=l.clientX>=m&&l.clientX<C,A=l.clientY>=w&&l.clientY<y;if(!R||!A)return!1}return!0};for(const l of s)if(i(e,l)){n=!0;break}const{eElement:o,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(r,o)}findCurrentDropTarget(e,t){const s=t.length;if(s===0)return null;if(s===1)return t[0];const i=Dp(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const r of t)if(this.getAllContainersFromDropTarget(r).flatMap(u=>u).indexOf(o)!==-1)return r;return null}enterDragTargetIfExists(e,t,s,n,i){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,s,n,i);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,s,n){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const r=this.createDropTargetEvent(i,e,t,s,n);i.onDragLeave(r)}const o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(s=>s.external).find(s=>s.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const s=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return s.contains(n)}getHorizontalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientX,s=e.clientX;return t===s?null:t>s?"left":"right"}getVerticalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientY,s=e.clientY;return t===s?null:t>s?"up":"down"}createDropTargetEvent(e,t,s,n,i){const o=e.getContainer(),r=o.getBoundingClientRect(),{dragItem:l,dragSource:u,gos:d}=this,f=t.clientX-r.left,g=t.clientY-r.top;return We(d,{event:t,x:f,y:g,vDirection:n,hDirection:s,dragSource:u,fromNudge:i,dragItem:l,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&_6(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:s}=e;if(s){const n=s.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(n),this.destroyBean(s)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:s}=this;if(!e)return;const n=q$(s,We(t,{dragSource:e}));if(!n)return;const i=n.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:s}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),I_(this.gos,n),s.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),n.style.top="20px",n.style.left="20px";const o=pD(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(n):we(54)}registerGridDropTarget(e,t){const s={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(s),t.addDestroyFunc(()=>this.removeDropTarget(s))}},q8=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const s=t||this.shouldSkipVerticalScroll();if(s&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!s,this.tickDown=e.clientY>n.bottom-i&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function K8(e){const{rowIndex:t,rowPinned:s,column:n}=e;return`${t}.${s??"null"}.${n.getId()}`}function __(e,t){const s=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return s&&n&&i}function Y8(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Se(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function X8(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Q8(e){let t=0,s;const{pinnedRowModel:n,rowModel:i,pageBounds:o}=e;return n!=null&&n.getPinnedTopRowCount()?s="top":i.getRowCount()?(s=null,t=o.getFirstRow()):n!=null&&n.getPinnedBottomRowCount()&&(s="bottom"),s===void 0?null:{rowIndex:t,rowPinned:s}}function Z8(e){let t,s=null;const{pinnedRowModel:n,pageBounds:i}=e,o=n==null?void 0:n.getPinnedBottomRowCount(),r=n==null?void 0:n.getPinnedTopRowCount();return o?(s="bottom",t=o-1):e.rowModel.getRowCount()?(s=null,t=i.getLastRow()):r&&(s="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:s}}function lw(e,t){var s,n;switch(t.rowPinned){case"top":return(s=e.pinnedRowModel)==null?void 0:s.getPinnedTopRow(t.rowIndex);case"bottom":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Ud(e,t){var i;const s=(i=e.spannedRowRenderer)==null?void 0:i.getCellByPosition(t);if(s)return s;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function cw(e,t){const{rowIndex:s,rowPinned:n}=t,{pageBounds:i,pinnedRowModel:o,rowModel:r}=e;if(s===0)return n==="top"?null:n==="bottom"&&r.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:o!=null&&o.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const l=n?void 0:r.getRow(s);return N_(e,l,!0)??{rowIndex:s-1,rowPinned:n}}function oL(e,t){const{rowIndex:s,rowPinned:n}=t,{pageBounds:i,pinnedRowModel:o,rowModel:r}=e;if(J8(e,t))return n==="bottom"?null:n==="top"&&r.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const l=n?void 0:r.getRow(s);return N_(e,l)??{rowIndex:s+1,rowPinned:n}}function N_(e,t,s){const{gos:n,rowRenderer:i}=e;if(!(t!=null&&t.sticky)||!n_(n))return;const o=s?i.getStickyTopRowCtrls():i.getStickyBottomRowCtrls();let r;for(let l=0;l<o.length;l++)if(o[l].rowNode.rowIndex===t.rowIndex){r=o[l+(s?-1:1)];break}return r?{rowIndex:r.rowNode.rowIndex,rowPinned:null}:void 0}function J8(e,t){const{rowPinned:s,rowIndex:n}=t,{pinnedRowModel:i,pageBounds:o}=e;return s==="top"?((i==null?void 0:i.getPinnedTopRowCount())??0)-1<=n:s==="bottom"?((i==null?void 0:i.getPinnedBottomRowCount())??0)-1<=n:o.getLastRow()<=n}var e7=class extends ue{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:s}=this.beans;an(t)&&(this.clientSideRowModel=e),s.whenReady(this,n=>{const i=n.gridBodyCtrl;this.autoScrollService=new q8({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>i.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>i.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:s}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(s==null?void 0:s.isSortActive()))}getRowNodes(e){var n;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[]].sort((o,r)=>o.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(r));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=LR(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:s,gos:n}=this.beans,i=this.isFromThisGrid(e),o=n.get("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(n.get("suppressMoveWhenRowDragging")||!i?s.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(xt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,s=t.getLastHighlightedRowNode(),n=s&&s.highlighted==="Below",i=LR(this.beans,e).y,o=e.dragItem.rowNodes;let r=n?1:0;if(this.isFromThisGrid(e))o.forEach(l=>{l.rowTop<i&&(r-=1)}),this.moveRows(o,i,r);else{const l=hf(this.gos);let u=t.getRowIndexAtPixel(i)+1;t.getHighlightPosition(i)==="Above"&&u--,t.updateRowData({add:o.filter(d=>!t.getRowNode((l==null?void 0:l({data:d.data,level:0,rowPinned:d.rowPinned}))??d.data.id)).map(d=>d.data),addIndex:u})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,s=0){const n=this.beans.focusSvc,i=n.getFocusedCell(),o=i&&Ud(this.beans,i);this.clientSideRowModel.ensureRowsAtPixel(e,t,s)&&(o?o.focusCell():n.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){we(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){we(56);return}let s={getContainer:e.getContainer};e.fromGrid?s=e:(e.onDragEnter&&(s.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(s.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(s.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(s.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(s.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const n={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...s};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),s=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),o=this.onDragStop.bind(this),r=this.onDragCancel.bind(this);let l;return e?l={getContainer:t,onDragEnter:e.onDragEnter?u=>{s(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:s,onDragLeave:e.onDragLeave?u=>{n(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:n,onDragging:e.onDragging?u=>{i(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:i,onDragStop:e.onDragStop?u=>{o(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:o,onDragCancel:e.onDragCancel?u=>{r(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:r,fromGrid:!0}:l={getContainer:t,onDragEnter:s,onDragLeave:n,onDragging:i,onDragStop:o,onDragCancel:r,fromGrid:!0},l}draggingToRowDragEvent(e,t){const s=this.beans,{pageBounds:n,rowModel:i,gos:o}=s,r=LR(s,t).y,l=r>n.getCurrentPageHeight();let u=-1,d;return l||(u=i.getRowIndexAtPixel(r),d=i.getRow(u)),We(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:u,overNode:d,y:r,vDirection:t.vDirection})}dispatchGridEvent(e,t){const s=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(s)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function H_(e,t,s){if(s===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=s}var t7=class extends ue{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,s=e.mouseDownListener;if(t.removeEventListener("mousedown",s),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,s=t.find(n=>n.dragSource===e);s&&(this.removeListener(s),ho(t,s))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:s,includeTouch:n,stopPropagationForTouch:i}=e;s.addEventListener("mousedown",t);let o=null;const r=this.gos.get("suppressTouch");n&&!r&&(o=l=>{uD(l.target)||(i&&l.stopPropagation(),this.onTouchStart(e,l))},s.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const s=t.touches[0];this.touchLastTime=s,this.touchStart=s;const n=u=>this.onTouchMove(u,e.eElement),i=u=>this.onTouchUp(u,e.eElement),o=u=>{u.cancelable&&u.preventDefault()},r=t.target,l=[{target:Dp(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:r,type:"touchmove",listener:n,options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(s,this.touchStart,e.eElement)}onMouseDown(e,t){const s=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=d=>this.onMouseMove(d,e.eElement),i=d=>this.onMouseUp(d,e.eElement),o=d=>d.preventDefault(),r=d=>{d.key===ae.ESCAPE&&this.cancelDrag(e.eElement)},l=Dp(this.beans),u=[{target:l,type:"mousemove",listener:n},{target:l,type:"mouseup",listener:i},{target:l,type:"contextmenu",listener:o},{target:l,type:"keydown",listener:r}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:s,type:n,listener:i,options:o}=t;s.addEventListener(n,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:s,type:n,listener:i,options:o}=t;s.removeEventListener(n,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:s}=this.currentDragParams,n=Se(s)?s:4;return H_(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,s){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:s}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const s=this.getFirstActiveTouch(e.touches);s&&this.onCommonMove(s,this.touchStart,t)}onMouseMove(e,t){var s;Ou()&&((s=ds(this.beans).getSelection())==null||s.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,s=t.get("enableCellTextSelection"),n=e.type==="mousemove",i=o=>{const r=o.target,l=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(l!=null&&l.match("^a$|textarea|input|select|button"))};return s&&n&&e.cancelable&&Lp(t,e)&&!i(e)}onTouchUp(e,t){let s=this.getFirstActiveTouch(e.changedTouches);s||(s=this.touchLastTime),this.onUpCommon(s,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,s;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(s=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||s.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function B_(e,t){return e+"_"+t}function es(e){return e instanceof G_}var G_=class extends ue{constructor(e,t,s,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=s,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return B_(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{es(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=xt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(s=>{e+=s.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Fl(t)?e.push(t):es(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Fl(t)?e.push(t):es(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(s=>{if(es(s)&&(!s.displayedChildren||!s.displayedChildren.length))return;switch(s.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(s);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Nx="row-group-",V_="t-",z_="b-",s7=0,vf=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=s7++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var l;const{valueCache:s,selectionSvc:n,eventSvc:i}=this.beans,o=this.data;this.data=e,s==null||s.onDataChanged(),this.updateDataOnDetailNode(),n==null||n.updateRowSelectable(this),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,o,t);(l=this.__localEventService)==null||l.dispatchEvent(r),i.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,s){return{type:"dataChanged",node:this,oldData:t,newData:e,update:s}}getRowIndexString(){return this.rowIndex==null?(At(13),null):this.rowPinned==="top"?V_+this.rowIndex:this.rowPinned==="bottom"?z_+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var r,l;const{selectionSvc:s}=this.beans,n=(r=s==null?void 0:s.createDaemonNode)==null?void 0:r.call(s,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),s&&(s.updateRowSelectable(this),s.syncInRowNode(this,n));const o=this.createDataChangedEvent(e,i,!1);(l=this.__localEventService)==null||l.dispatchEvent(o)}setId(e){var s;const t=hf(this.beans.gos);if(t)if(this.data){const n=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Nx)&&At(14,{groupPrefix:Nx})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,s){var n;(n=this.beans.expansionSvc)==null||n.setExpanded(this,e,t,s)}setDataValue(e,t,s){const{colModel:n,valueSvc:i,gos:o,selectionSvc:r}=this.beans,l=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!l)return!1;const u=i.getValueForDisplay(l,this);if(o.get("readOnlyEdit")){const{beans:{eventSvc:f},data:g,rowIndex:m,rowPinned:C}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:C,column:l,colDef:l.colDef,data:g,node:this,oldValue:u,newValue:t,value:t,source:s}),!1}const d=i.setValue(this,l,t,s);return this.dispatchCellChangedEvent(l,t,u),r==null||r.updateRowSelectable(this),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,s){var i;const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:s};(i=this.__localEventService)==null||i.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(s=>s.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,s="api"){var n;(n=this.beans.selectionSvc)==null||n.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:s})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Su),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var n,i,o,r;(n=this.beans.validation)==null||n.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Su),this.frameworkEventListenerService=(o=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:o.call(i,this.frameworkEventListenerService,this.__localEventService);const s=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.__localEventService.addEventListener(e,s)}removeEventListener(e,t){var n;const s=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.removeLocalListener(e,s)}removeLocalListener(e,t){var s,n;(s=this.__localEventService)==null||s.removeEventListener(e,t),(n=this.__localEventService)!=null&&n.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(we(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function n7(e,t,s){return We(t,{type:s,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var i7={tag:"div",cls:"ag-filter"},o7=class extends jt{constructor(e,t){super(i7),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??zt.resolve()}afterGuiAttached(e){var t,s;(s=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||s.then(n=>{var i;(i=n==null?void 0:n.afterGuiAttached)==null||i.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(s=>{var n;(n=s==null?void 0:s.afterGuiDetached)==null||n.call(s)})}createFilter(e){var n,i;const{column:t,source:s}=this;this.filterWrapper=((n=this.beans.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const r=o.getGui();Se(r)||we(69,{guiFromFilter:r}),this.appendChild(r),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:s,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(di(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},W_="ag-resizer-wrapper",Va=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),r7={tag:"div",cls:W_,children:[Va("eTopLeft","topLeft"),Va("eTop","top"),Va("eTopRight","topRight"),Va("eRight","right"),Va("eBottomRight","bottomRight"),Va("eBottom","bottom"),Va("eBottomLeft","bottomLeft"),Va("eLeft","left")]},a7=class extends ue{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,s=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(s,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:s,width:n,minHeight:i,height:o,x:r,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,d=0;const f=Jo(this.element);if(f){const g=this.findBoundaryElement(),m=window.getComputedStyle(g);if(m.minWidth!=null){const C=g.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-C}if(m.minHeight!=null){const C=g.offsetHeight-this.element.offsetHeight;u=parseInt(m.minHeight,10)-C}}if(this.minHeight=i||u,this.minWidth=s||d,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(r||l)this.offsetElement(r,l);else if(f&&t){let g=this.boundaryEl,m=!0;if(g||(g=this.findBoundaryElement(),m=!1),g){const C=parseFloat(g.style.top),w=parseFloat(g.style.left);m?this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C):this.setPosition(w,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var n,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const s=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((n=this.dragSvc)==null||n.addDragSource(s),this.moveElementDragListener=s):((i=this.dragSvc)==null||i.removeDragSource(s),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var r;const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:l=>this.onResizeStart(l,t),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,t)};(n||!this.isAlive()&&!n)&&(n?((r=this.dragSvc)==null||r.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,s=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)op(s,e),e=WO(s),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(s.style.maxHeight="unset",s.style.minHeight="unset"):t?op(s,e):(s.style.height=`${e}px`,s.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:s}=this.offsetParent;if(!s)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,r=e?0:i.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-n.bottom}}return s+r-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:s}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Xo(t,e),e=qb(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=s?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Xo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var i;const{forcePopupParentAsOffsetParent:s}=this.config,n=s?this.boundaryEl:this.element;n&&((i=this.popupSvc)==null||i.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){var s;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=pa(this.beans,(s=this.popupSvc)==null?void 0:s.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:s,isTop:n,anywhereWithin:i,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!s,!!i,r)?0:r,d=this.shouldSkipY(t,!!n,o,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,s,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:i.left;let u=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return u?!0:(t?u=n<0&&e.clientX>l+o.left||n>0&&e.clientX<l+o.left:s?u=n<0&&e.clientX>r.right||n>0&&e.clientX<l+o.left:u=n<0&&e.clientX>r.right||n>0&&e.clientX<r.right,u)}shouldSkipY(e,t,s=0,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:i.top;let u=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return u?!0:(t?u=n<0&&e.clientY>l+o.top+s||n>0&&e.clientY<l+o.top:u=n<0&&e.clientY>r.bottom||n>0&&e.clientY<r.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(un(r7)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${W_}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:s,forcePopupParentAsOffsetParent:n}=this.config;!s&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(s=>!s.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,s=0;for(let n=0;n<e.length;n++){const i=e[n],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let r=this.minHeight||0,l=this.minWidth||0;if(o){const u=window.getComputedStyle(i);u.minHeight&&(r=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else r=i.offsetHeight,l=i.offsetWidth;t+=r,s+=l}return{height:t,width:s}}applySizeToSiblings(e){let t=null;const s=this.getSiblings();if(s){for(let n=0;n<s.length;n++){const i=s[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=s[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:s}=this.config,{isTop:n,isRight:i,isBottom:o,isLeft:r}=this.currentResizer,l=i||r,u=o||n,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:r,isTop:n}),g=this.position.x,m=this.position.y;let C=0,w=0;if(l&&d){const y=r?-1:1,R=this.getWidth(),A=R+d*y;let D=!1;r&&(C=R-A,(g+C<=0||A<=this.minWidth)&&(D=!0,C=0)),D||this.setWidth(A)}if(u&&f){const y=n?-1:1,R=this.getHeight(),A=R+f*y;let D=!1;n?(w=R-A,(m+w<=0||A<=this.minHeight)&&(D=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<A&&this.getMinSizeOfSiblings().height+A>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(A)}this.updateDragStartPosition(e.clientX,e.clientY),((t||s)&&C||w)&&this.offsetElement(g+C,m+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:s}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,s+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},l7="ag-focus-managed",Ff=class extends ue{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const n=Bu(this.beans,this.eFocusable,!1,s.shiftKey);n&&(n.focus(),s.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:s}}=this;e.classList.add(l7),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),s&&this.addManagedElementListeners(e,{focusout:s})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Zr(t))return;const{callbacks:s}=this;if(s.shouldStopEventPropagation(t)){ff(t);return}t.key===ae.TAB?s.onTabKeyDown(t):s.handleKeyDown&&s.handleKeyDown(t)}})}},U_={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function yD(e,t){const{debounceMs:s}=e;return uw(e)?(s!=null&&we(71),0):s??t}function uw(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var c7=class extends jt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=_e,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ff(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new a7(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t==null||t.removeEventListener("submit",this.onFormSubmit);const s={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(s,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=uw(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=uw(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:s,readOnly:n}=t??{},{buttons:i,readOnly:o}=e;if(n===o&&Ep(s,i))return;const r=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(di(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):r&&(this.eButtonsPanel=un({tag:"div",cls:"ag-filter-apply-panel"})),!r){this.eButtonsPanel&&ra(this.eButtonsPanel);return}const l=document.createDocumentFragment(),u=d=>{let f;const g=d?this.translate(`${d}Filter`):void 0;switch(d){case"apply":f=w=>this.onBtApply(!1,!1,w);break;case"clear":f=()=>this.onBtClear();break;case"reset":f=()=>this.onBtReset();break;case"cancel":f=w=>{this.onBtCancel(w)};break;default:we(75);return}const C=Sy(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${g}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:f})),l.append(C)};i.forEach(d=>u(d)),this.eButtonsPanel.append(l),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=yD(this.params,this.defaultDebounceMs),t=$s(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const s=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(s):this.resetUiToDefaults().then(s)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const s=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(s,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,s){s&&s.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.params;n&&this.applyActive&&!e&&!t&&this.close(s)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,s=t&&t.key;let n;(s==="Enter"||s==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const s=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&xp(n,!s)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:s}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,U_[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function u7(e,t,s){if(t==null)return null;let n=null;const{compName:i,jsComp:o,fwComp:r}=c8(e,t);return i?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:o==null&&r==null&&t.filter===!0&&(n=s()),n}var rb={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},SD=class extends ue{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},s=t.autoHeight?rb.AUTO_HEIGHT:t.print?rb.PRINT:rb.NORMAL;this.view.updateLayoutClasses(s,t)}},za="Viewport",rL="fakeVScrollComp",aL=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],lL=100,kR=150,d7=class extends ue{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=$s(this,()=>this.lastScrollSource[1]=null,kR),this.resetLastVScrollDebounced=$s(this,()=>this.lastScrollSource[0]=null,kR)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,s=>{this.centerRowsCtrl=s.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,za)});for(const e of aL){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),s=t?$s(this,this.onVScroll.bind(this,za),lL):this.onVScroll.bind(this,za),n=t?$s(this,this.onVScroll.bind(this,rL),lL):this.onVScroll.bind(this,rL);this.addManagedElementListeners(this.eBodyViewport,{scroll:s}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...aL,za]){if(this.lastScrollSource[1]===t)continue;const s=this.getViewportForSource(t);Yb(s,e,this.enableRtl)}}getViewportForSource(e){return e===za?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:s}=t;if(this.shouldBlockScrollUpdate(1,s,!0))return;const n=Kb(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===za?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:s}=this;s==null||s.setScrollTop(t),this.nextScrollTop=t,e===za?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,s!=null&&s.active?s.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},kR)}shouldBlockScrollUpdate(e,t,s=!1){return s&&!hu()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=dD(this.eBodyViewport),{scrollHeight:s}=this.eBodyViewport;return e<0||e+t>s}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:s}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>s}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(za)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Yb(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:s,lastScrollTop:n}=this;return{top:n,bottom:n+s}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:s}=this.beans,n=s.getRowCount();let i=-1;for(let o=0;o<n;o++){const r=s.getRow(o);if(typeof e=="function"){if(r&&e(r)){i=o;break}}else if(e===r||e===r.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(qs(this.gos,"print"))return;const{rowModel:s}=this.beans,n=s.getRowCount();if(typeof e!="number"||e<0||e>=n){we(88,{index:e});return}const{frameworkOverrides:i,pageBounds:o,rowContainerHeight:r,rowRenderer:l}=this.beans;i.wrapIncoming(()=>{var C;const u=this.ctrlsSvc.getGridBodyCtrl(),d=s.getRow(e);let f,g,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:w,stickyBottomHeight:y}=u,R=d.rowTop,A=d.rowHeight,D=o.getPixelOffset(),E=d.rowTop-D,T=E+d.rowHeight,P=this.getVScrollPosition(),L=r.divStretchOffset,N=P.top+L,B=P.bottom+L,W=B-N,z=r.getScrollPositionForPixel(E),q=r.getScrollPositionForPixel(T-W),K=Math.min((z+q)/2,E),$=N+w>E,te=B-y<T;let ee=null;t==="top"?ee=z-w:t==="bottom"?ee=q+y:t==="middle"?ee=K:$?ee=z-w:te&&(ee=q+y),ee!==null&&(this.setVerticalScrollPosition(ee),l.redraw({afterScroll:!0})),f=R!==d.rowTop||A!==d.rowHeight,g=w!==u.stickyTopHeight||y!==u.stickyBottomHeight,m++}while((f||g)&&m<10);(C=this.animationFrameSvc)==null||C.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:s,frameworkOverrides:n}=this.beans,i=s.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);n.wrapIncoming(()=>{var r;o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),(r=this.animationFrameSvc)==null||r.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:s,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl;let l=(r?s:n)||i,u=r?n:s;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:f,colMiddle:g,colRight:m}=this.getColumnBounds(e);return d?g-o/2:l?r?m:f:r?f-o:m-o}return null}isColumnOutsideViewport(e){const{start:t,end:s}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>i:s<i,l=o?s<n:t>n;return{columnBeforeStart:r,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,s=this.visibleCols.bodyWidth,n=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,r=t?s-i:i,l=r+n*o,u=r+n/2*o;return{colLeft:r,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),s=t,n=e+t;return{start:s,end:n,width:e}}},RD=class extends ue{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=qs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:s}=this.beans,n=t.bodyWidth,i=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let r;e?r=n+i+o:(r=n,this.addSpacer&&(this.gos.get("enableRtl")?i:o)===0&&s.verticalScrollShowing&&(r+=s.getScrollbarWidth())),this.callback(r)}},h7=class extends ue{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:s}=this,n=()=>{ma(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),s.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const s=this.centerContainerCtrl.getCenterWidth();s!==this.centerWidth&&(this.centerWidth=s,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=dD(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function xD(e,t,s,n,i,o){if(s==null&&t==null)return;const r={},l={},u=(d,f)=>{d.split(" ").forEach(g=>{g.trim()!=""&&f(g)})};if(s){const d=Object.keys(s);for(let f=0;f<d.length;f++){const g=d[f],m=s[g];let C;typeof m=="string"?C=e?e.evaluate(m,n):!0:typeof m=="function"&&(C=m(n)),u(g,w=>{C?r[w]=!0:l[w]=!0})}}t&&o&&Object.keys(t).forEach(d=>u(d,f=>{r[f]||(l[f]=!0)})),o&&Object.keys(l).forEach(o),Object.keys(r).forEach(i)}function cL(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var f7=class extends ue{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const s=this.gos,n=r=>{typeof r=="string"?e.push(r):Array.isArray(r)&&r.forEach(l=>e.push(l))},i=s.get("rowClass");i&&n(i);const o=s.getCallback("getRowClass");if(o){const r={data:t.data,node:t,rowIndex:t.rowIndex},l=o(r);n(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,s=>{e.push(s)},()=>{})}processRowClassRules(e,t,s){const{gos:n,expressionSvc:i}=this.beans,o=We(n,{data:e.data,node:e,rowIndex:e.rowIndex});xD(i,void 0,n.get("rowClassRules"),o,t,s)}processStylesFromGridOptions(e){const t=this.gos,s=t.get("rowStyle"),n=t.getCallback("getRowStyle");let i;if(n){const o={data:e.data,node:e,rowIndex:e.rowIndex};i=n(o)}if(i||s)return Object.assign({},s,i)}},g7=0,dw="renderedRow",hw=class extends ue{constructor(e,t,s,n,i){var o;super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((o=t.pagination)==null?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+g7++,this.rowId=Jr(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=cL(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Jr(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,s,n){var g;const{context:i,focusSvc:o}=this.beans;n=lv(this,i,n);const r={rowComp:e,element:t,containerType:s,compBean:n};this.allRowGuis.push(r),this.updateGui(s,r),this.initialiseRowComp(r);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const f=(g=this.fullWidthGui)==null?void 0:g.element;f&&!this.editing&&o.isRowFocused(l.rowIndex,l.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>f.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),pu(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>s.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Rx(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),xu(t,e.element,dw,this),e.compBean.addDestroyFunc(()=>xu(t,e.element,dw,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Jr(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Fx(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Fx(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var n;const t=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const s=this.createBean(t,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),s=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(s)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var n;return(n=s==null?void 0:s.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:s,beans:{visibleCols:n}}=this,i=!!e||!n.isPinningLeft(),o=!!t,r=!!s||!n.isPinningRight();return i&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&mD(this.gos,n);e?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:s}=this.beans;if(!(s!=null&&s.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(s.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var s;if(!((s=this.beans.rowSpanSvc)!=null&&s.isCellSpanning(e,this.rowNode)))return new lp(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,s=null){const n={list:[],map:{}},i=(d,f,g)=>{g!=null?n.list.splice(g,0,f):n.list.push(f),n.map[d]=f},o=[];for(const d of t){const f=d.getInstanceId();let g=e.map[f];g&&!this.isCorrectCtrlForSpan(g)&&(g.destroy(),g=void 0),g||(g=this.getNewCellCtrl(d)),g&&i(f,g)}for(const d of e.list){const f=d.column.getInstanceId();if(n.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(d,s)?o.push([f,d]):d.destroy()}if(o.length)for(const[d,f]of o){const g=n.list.findIndex(C=>C.column.getLeft()>f.column.getLeft()),m=g===-1?void 0:Math.max(g-1,0);i(d,f,m)}const{focusSvc:r,visibleCols:l}=this.beans,u=r.getFocusedCell();if(u&&u.column.getPinned()==s){const d=u.column.getInstanceId();if(!n.map[d]&&l.allCols.includes(u.column)){const g=this.createFocusedCellCtrl();if(g){const m=n.list.findIndex(w=>w.column.getLeft()>g.column.getLeft()),C=m===-1?void 0:Math.max(m-1,0);i(d,g,C)}}}return n}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,s=e.getFocusedCell();if(!s)return;const n=t==null?void 0:t.getCellSpan(s.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(s))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(s.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const s=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(s,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:o}=e,{visibleCols:r}=this.beans,l=e.isCellFocused();return o||l?!(r.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||qs(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Se(this.rowNode.oldRowTop),{visibleCols:s}=this.beans,n=s.isPinningLeft(),i=s.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(r,l)=>r?r.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(r.element,l).params):!0,t=e(this.fullWidthGui,null),s=e(this.centerGui,null),n=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&s&&n&&i}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(s=>{this.addRowDraggerToRow(s)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const s=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Qr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:s,column:n}=t;if(!(s.element===e.target))return;const r=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),f={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:(d==null?void 0:d.column)??n};u==null||u.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){var l;if(e.defaultPrevented||Zr(e))return;const t=this.allRowGuis.find(u=>u.element.contains(e.target)),s=t?t.element:null,n=s===e.target,i=Kt(this.beans);let o=!1;s&&i&&(o=s.contains(i)&&i.classList.contains("ag-cell"));let r=null;!n&&!o&&(r=Bu(this.beans,s,!1,e.shiftKey)),(this.isFullWidth()&&n||!r)&&((l=this.beans.navigation)==null||l.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(s=>Jo(s.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(s=>{Ii(s.element,"tabindex",t)})}onFullWidthRowFocused(e){var i,o,r;const t=this.rowNode,s=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{const l=this.beans.colModel.getCol(e==null?void 0:e.column),u=l==null?void 0:l.pinned;u?n=u==="right"?(i=this.rightGui)==null?void 0:i.element:(o=this.leftGui)==null?void 0:o.element:n=(r=this.centerGui)==null?void 0:r.element}n&&(n.classList.toggle("ag-full-width-focus",s),s&&(e!=null&&e.forceBrowserFocus)&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const s={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(s.list.push(n),s.map[n.column.getInstanceId()]=n)}),s}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:s}=this;return We(this.gos,{type:e,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned,event:t})}createRowEventWithSource(e,t){const s=this.createRowEvent(e,t);return s.source=this,s}onRowDblClick(e){Zr(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),s=this.getColumnForFullWidth(t);if(!(!t||!s))return{rowGui:t,column:s}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=fu(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:s,focusSvc:n}=this.beans;s==null||s.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:o,column:r}=i,l=o.element,u=e.target;let d=e.defaultPrevented||Ou();l&&l.contains(u)&&uD(u)&&(d=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:r,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(Zr(e)||this.lastMouseDownOnDragger)return;const{eventSvc:s,selectionSvc:n}=this.beans;s.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n==null||n.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:s,rowNode:n}=this,i=We(s,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,l,u,d)=>this.addFullWidthRowDragging(r,l,u,d),setTooltip:(r,l)=>{s.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(r,l)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return t8(o,i);case"FullWidthGroup":return i.value=n.groupValue,i.valueFormatted=n.rowGroupColumn?this.beans.valueSvc.formatValue(n.rowGroupColumn,n,i.value):i.value,e8(o,i);case"FullWidthLoading":return J$(o,i);default:return Z$(o,i)}}refreshRowTooltip(e,t){var s;this.fullWidthGui&&(this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,s="",n){const{rowDragSvc:i,context:o}=this.beans;if(!i||!this.isFullWidth())return;const r=i.createRowDragComp(()=>s,this.rowNode,void 0,e,t,n);this.createBean(r,o),this.addDestroyFunc(()=>{this.destroyBean(r,o)})}onUiLevelChanged(){const e=cL(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(s=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(s,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var l;const t=this.getPinnedForContainer(e),s=this.isFullWidth(),{rowNode:n,beans:i}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&o.push("ag-row-pinned"),n.isSelected()&&o.push("ag-row-selected"),n.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),n.stub&&o.push("ag-row-loading"),s&&o.push("ag-full-width-row"),(l=i.expansionSvc)==null||l.addExpandedCss(o,n),n.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:r}=i;return r&&(r.processClassesFromGridOptions(o,n),r.preProcessRowClassRules(o,n)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),s&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,s=>{(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:s}=e,{rowNode:n,beans:i,gos:o}=this;s.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),s.addManagedListeners(n,{mouseEnter:()=>{var r;!((r=i.dragSvc)!=null&&r.dragging)&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(s=>s.element);for(const s of t)s.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(s,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),i=JO(this.gos)?df(this.beans,this.rowNode).height:void 0,o=i?`${Math.min(s,i)-2}px`:void 0;this.forEachGui(e,r=>{r.element.style.height=`${t}px`,o&&r.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){var n;this.active=!1;const{rowNode:t}=this;if(!e&&Zd(this.gos)&&!t.sticky)if(t.rowTop!=null){const o=this.roundRowTopToBounds(t.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));(n=this.fullWidthGui)!=null&&n.element.contains(Kt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const s=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(s),this.beans.eventSvc.dispatchEvent(s),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=s=>(s.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,s=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);s!==this.rowFocused&&(this.rowFocused=s,this.setFocusedClasses()),!s&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const s=this.beans.pageBounds.getPixelOffset();return e+s*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Se(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let s;if(t.sticky)s=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(n);s=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return s+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let s=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(s=n)}),s!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(s=n)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var o,r;const t=this.rowNode.getRowIndexString();if(t===null)return;const s=(((o=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:o.getRowCount())??0)+(((r=this.beans.filterManager)==null?void 0:r.getHeaderRowCount())??0),n=this.rowNode.rowIndex%2===0,i=s+this.rowNode.rowIndex+1;this.forEachGui(e,l=>{l.rowComp.setRowIndex(t),l.rowComp.addOrRemoveCssClass("ag-row-even",n),l.rowComp.addOrRemoveCssClass("ag-row-odd",!n),_O(l.element,i)})}};function j_(e){var s;return e.altKey||e.ctrlKey||e.metaKey?!1:((s=e.key)==null?void 0:s.length)===1}function Hx(e,t,s,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r=We(e,{event:t,editing:i,column:n,node:s,data:s.data,colDef:n.getColDef()});return!!(o&&o(r))}function p7(e){const{pinnedRowModel:t,rowModel:s}=e,[n,i]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],o=n?null:"top";let r,l;i?(r=null,l=s.getRowCount()-1):(r="bottom",l=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:u,rangeSvc:d}=e,f=u.allCols;!d||!(f!=null&&f.length)||d.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:r})}var m7=65,v7=67,C7=86,b7=68,w7=90,y7=89;function S7(e){const{keyCode:t}=e;let s;switch(t){case m7:s=ae.A;break;case v7:s=ae.C;break;case C7:s=ae.V;break;case b7:s=ae.D;break;case w7:s=ae.Z;break;case y7:s=ae.Y;break;default:s=e.code}return s}var R7=class extends ue{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",l_("touchstart")?"touchstart":"mousedown"].forEach(s=>{const n=this.processMouseEvent.bind(this,s);this.addManagedElementListeners(this.element,{[s]:n})})}processMouseEvent(e,t){var i;if(!Lp(this.gos,t)||Zr(t))return;const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(s!=null&&s.column&&s.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,n,s)):(s&&s.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:L_(t,e),rowCtrl:c_(t,e,dw)}}processKeyboardEvent(e,t){const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(s?this.processCellKeyboardEvent(s,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,s){var l;const{rowNode:n,column:i,editing:o}=e;!Hx(this.gos,s,n,i,o)&&t==="keydown"&&(!o&&((l=this.beans.navigation)!=null&&l.handlePageScrollingKey(s))||e.onKeyDown(s),this.doGridOperations(s,e.editing),j_(s)&&e.processCharacter(s)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(s,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,s){const{rowNode:n}=e,{focusSvc:i,navigation:o}=this.beans,r=i.getFocusedCell(),l=r&&r.column;if(!Hx(this.gos,s,n,l,!1)){const d=s.key;if(t==="keydown")switch(d){case ae.PAGE_HOME:case ae.PAGE_END:case ae.PAGE_UP:case ae.PAGE_DOWN:o==null||o.handlePageScrollingKey(s,!0);break;case ae.LEFT:case ae.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case ae.UP:case ae.DOWN:e.onKeyboardNavigate(s);break;case ae.TAB:e.onTabKeyDown(s);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",s))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Lp(this.gos,e))return;const s=S7(e),{clipboardSvc:n,undoRedo:i}=this.beans;if(s===ae.A)return this.onCtrlAndA(e);if(s===ae.C)return this.onCtrlAndC(n,e);if(s===ae.D)return this.onCtrlAndD(n,e);if(s===ae.V)return this.onCtrlAndV(n,e);if(s===ae.X)return this.onCtrlAndX(n,e);if(s===ae.Y)return this.onCtrlAndY(i);if(s===ae.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:s,selectionSvc:n},gos:i}=this;s&&Tl(i)&&t.isRowsToRender()?p7(this.beans):n&&(n==null||n.selectAllRowNodes({source:"keyboardSelectAll",selectAll:o_(i)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||n!=null&&n.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||n!=null&&n.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||n!=null&&n.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},$_=class extends ue{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,s=t!=null?`${t}px`:"";this.eContainer.style.height=s,this.eViewport&&(this.eViewport.style.height=s)}},HC=e=>e.topRowCtrls,BC=e=>e.getStickyTopRowCtrls(),GC=e=>e.getStickyBottomRowCtrls(),VC=e=>e.bottomRowCtrls,zC=e=>e.allRowCtrls,IR=e=>e.getCtrls("top"),OR=e=>e.getCtrls("center"),_R=e=>e.getCtrls("bottom"),x7={center:{type:"center",name:"center-cols",getRowCtrls:zC,getSpannedRowCtrls:OR},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:zC,getSpannedRowCtrls:OR},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:zC,getSpannedRowCtrls:OR},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:zC},topCenter:{type:"center",name:"floating-top",getRowCtrls:HC,getSpannedRowCtrls:IR},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:HC,getSpannedRowCtrls:IR},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:HC,getSpannedRowCtrls:IR},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:HC},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:BC},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:BC},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:BC},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:BC},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:GC},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:GC},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:GC},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:GC},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:VC,getSpannedRowCtrls:_R},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:VC,getSpannedRowCtrls:_R},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:VC,getSpannedRowCtrls:_R},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:VC}};function q_(e){return`ag-${uv(e).name}-viewport`}function ab(e){const t=uv(e);return t.container??`ag-${t.name}-container`}function A7(e){return`ag-${uv(e).name}-spanned-cells-container`}function uv(e){return x7[e]}var E7=["topCenter","topLeft","topRight"],D7=["bottomCenter","bottomLeft","bottomRight"],T7=["center","left","right"],F7=["center","left","right","fullWidth"],P7=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],M7=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],L7=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],K_=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Y_=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],k7=[...K_,"stickyTopFullWidth",...Y_,"stickyBottomFullWidth"],I7=[...E7,...D7,...T7,...K_,...Y_],O7=class extends ue{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=uv(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new h7(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,s,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=s,this.eViewport=n,this.createManagedBean(new R7(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:o}=this.beans,r=()=>this.onPinnedWidthChanged();this.forContainers(M7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(L7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(F7,()=>this.createManagedBean(new $_(this.eContainer,this.name==="center"?n:void 0))),o&&this.forContainers(I7,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(P7,()=>this.createManagedBean(new RD(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:s=>this.onDisplayedRowsChanged(s.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const s=this.options.getSpannedRowCtrls(e);s&&this.comp.setSpannedRowCtrls(s,!1)}})}listenOnDomOrder(){if(k7.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const s=this.gos.get("ensureDomOrder"),n=qs(this.gos,"print");this.comp.setDomOrder(s||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=s=>{e.dragging&&s.cancelable&&s.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,s,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ap(this.eViewport)}getCenterViewportScrollLeft(){return Kb(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=pa(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return jO(this.eViewport)}getViewportScrollLeft(){return Kb(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||b6(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Yb(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const s=qs(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||s,o=t.filter(r=>{const l=r.isFullWidth();return this.options.fullWidth?!i&&l:i||!l});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},_7="ag-force-vertical-scroll",N7="ag-selectable",H7="ag-column-moving",B7=class extends ue{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,s,n,i,o,r){var l,u;this.comp=e,this.eGridBody=t,this.eBodyViewport=s,this.eTop=n,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=r,this.eCenterColsViewport=s.querySelector(`.${q_("center")}`),this.eFullWidthContainer=s.querySelector(`.${ab("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${ab("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=r.querySelector(`.${ab("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new SD(this.comp)),this.scrollFeature=this.createManagedBean(new d7(this.eBodyViewport)),(l=this.beans.rowDragSvc)==null||l.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,s,i,o,r]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(u=this.filterManager)==null||u.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const s=t&&e.getScrollbarWidth()||0,n=VO()?16:0,i=`calc(100% + ${s+n}px)`;ma(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let s=this.gos.get("treeData");if(!s){const n=t.isPivotMode();s=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(s?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:s=>{const{target:n}=s,i=fu(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:s=>{const{target:n,relatedTarget:i}=s,o=t.contains(i),r=fu(i,"ag-root",t);fu(n,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(H7,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(N7,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,o;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((o=this.filterManager)==null?void 0:o.getHeaderRowCount())??0),{rowModel:t}=this.beans,s=t.isLastRowIndexKnown()?t.getRowCount():-1,n=s===-1?-1:e+s;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?_7:null,s=qs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||s&&w6(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let s=t.sizesMeasured;const n=()=>{const i=s&&Zd(this.gos)&&!e.stretching,o=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!s&&t.sizesMeasured&&(s=!0,n())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:s}),t==null||t.mockBodyContextMenu(this,s),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:s,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(s))&&Lp(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:s,shiftKey:n}=e,i=n||Math.abs(t)>Math.abs(s),o=e.target;i?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(s))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:s}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||s})}onBodyViewportContextMenu(e,t,s){var i;if(!e&&!s)return;this.gos.get("preventDefaultOnContextMenu")&&(e||s).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:s,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,s=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(s),this.comp.setTopInvisible(t<=0),this.comp.setBottomInvisible(s<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,o;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),s=((o=this.pinnedRowModel)==null?void 0:o.getPinnedTopTotalHeight())??0;let n=0;t>0&&(n+=t),s>0&&(n+=s),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:s}=this,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,r=n+o;s.setStickyBottomBottom(`${r}px`)}},X_=class extends jt{constructor(e,t){super(),this.direction=t,this.eViewport=_e,this.eContainer=_e,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",BO()||hu())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=VO(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),s=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:s,touchend:s})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ma(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;x6(()=>Jo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},G7={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},V7=class extends X_{constructor(){super(G7,"horizontal"),this.eLeftSpacer=_e,this.eRightSpacer=_e,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new RD(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const s=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();s&&(t+=n),Xo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=n),Xo(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,s=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=s?0:n===0&&t?16:n,r=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),op(this.getGui(),o),op(this.eViewport,o),op(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return Kb(this.eViewport,this.enableRtl)}setScrollPosition(e){Jo(this.eViewport)||this.attemptSettingScrollPosition(e),Yb(this.eViewport,e,this.enableRtl)}},z7={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},W7=class extends X_{constructor(){super(z7,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new $_(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,s=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,i=n===0&&s?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),Xo(this.getGui(),i),Xo(this.eViewport,i),Xo(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const s=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),i=s.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Jo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function U7(e){return e.cols?e.cols.treeDepth+1:-1}function $o(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function AD(e){const t=[],s=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of s){if(!n)continue;const i=n.getGroupRowCount()||0;for(let o=0;o<i;o++){const r=n.getGroupRowCtrlAtIndex(o),l=t[o];if(r){const u=j7(e,r);(l==null||u>l)&&(t[o]=u)}}}return t}function j7(e,t){let n=e.colModel.isPivotMode()?q7(e):Z_(e);const i=t.getHeaderCellCtrls();for(const o of i){const{column:r}=o,l=r.getAutoHeaderHeight();l!=null&&l>n&&r.isAutoHeaderHeight()&&(n=l)}return n}function ED(e){let s=e.colModel.isPivotMode()?$7(e):dv(e);return e.colModel.forAllCols(n=>{const i=n.getAutoHeaderHeight();i!=null&&i>s&&n.isAutoHeaderHeight()&&(s=i)}),s}function dv(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function Q_(e){return e.gos.get("floatingFiltersHeight")??dv(e)}function Z_(e){return e.gos.get("groupHeaderHeight")??dv(e)}function $7(e){return e.gos.get("pivotHeaderHeight")??dv(e)}function q7(e){return e.gos.get("pivotGroupHeaderHeight")??Z_(e)}var K7=class extends ue{setComp(e,t,s){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:i,touchSvc:o,ctrlsSvc:r}=n;i&&this.createManagedBean(new Ff(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),o==null||o.mockHeaderContextMenu(this,l),r.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ma(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var o;const{beans:e}=this;let t=0;const s=AD(e).reduce((r,l)=>r+l,0),n=ED(e);if((o=e.filterManager)!=null&&o.hasFloatingFilters()&&(t+=Q_(e)),t+=s,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const s=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",s)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),s=e.shiftKey,n=s!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:o,focusSvc:r}=i;(o.navigateHorizontally(n,!0,e)||!s&&r.focusOverlay(!1)||mf(i,s,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:s}=this.beans;switch(e.key){case ae.LEFT:t="LEFT";case ae.RIGHT:{Se(t)||(t="RIGHT"),s.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ae.UP:t="UP";case ae.DOWN:{Se(t)||(t="DOWN"),s.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:s,beans:n}=this;!t&&s.contains(Kt(n))||s.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,s){var r;const{menuSvc:n,ctrlsSvc:i}=this.beans;if(!e&&!s||!(n!=null&&n.isHeaderContextMenuEnabled()))return;const{target:o}=e??t;(o===this.eGui||o===((r=i.getHeaderRowContainerCtrl())==null?void 0:r.eViewport))&&n.showHeaderContextMenu(void 0,e,s)}},DD=class extends ue{constructor(e,t,s,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=s}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?xt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,s=e.get("suppressColumnMoveAnimation"),n=Se(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&n&&!s?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),s=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=s,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:s,visibleCols:n}=this.beans;if(!qs(s,"print")||e.getPinned()==="left")return t;const o=n.getColsLeftWidth();if(e.getPinned()==="right"){const r=n.bodyWidth;return o+r+t}return o+t}setLeft(e){if(Se(e)&&(this.eCell.style.left=`${e}px`),es(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&d6(this.ariaEl,t.length)}}},Y7=0,J_="headerCtrl",TD=class extends ue{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Y7++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:s}=this.beans.focusSvc.focusedHeader,n=s.getDefinition(),i=n&&n.suppressHeaderKeyboardEvent;if(!Se(i))return!1;const o=We(this.gos,{colDef:n,column:s,headerRowIndex:t,event:e});return!!i(o)}getWrapperHasFocus(){return Kt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let s;if(typeof t=="function"){const n=this.getHeaderClassParams();s=t(n)}else s=t;s&&this.comp.setUserStyles(s)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:s,compBean:n}=e,{beans:i}=this,o=g=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:m,paddingBottom:C,borderBottomWidth:w,borderTopWidth:y}=_u(this.eGui),R=m+C+w+y,D=t.offsetHeight+R;if(g<5){const E=ds(i),T=!E||!E.contains(t),P=D==0;if(T||P){Fx(()=>o(g+1),"raf",i);return}}this.setColHeaderHeight(this.column,D)};let r=!1,l;const u=()=>{const g=this.column.isAutoHeaderHeight();g&&!r&&d(),!g&&r&&f()},d=()=>{r=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),l=pa(this.beans,t,()=>o(0))},f=()=>{r=!1,l&&l(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),l=void 0};u(),n.addDestroyFunc(()=>f()),n.addManagedListeners(this.column,{widthChanged:()=>r&&o(0)}),n.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout(()=>o(0))}}),s&&s(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:s,eGui:n}=this;!e||!t||!n||(P_(e,t,s.visibleCols),NO(n,s.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Cu(this.beans);this.eGui&&Ii(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const t=Kt(this.beans),s=e.key===ae.LEFT||e.key===ae.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const i=e.key===ae.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:s}=this.beans;return s?s.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:s}=this;let n=e.key===ae.LEFT!==t.get("enableRtl");const i=s.getPinned(),o=t.get("enableRtl");return i&&o!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=J_,{eGui:s,gos:n}=this;xu(n,s,t,this),e.addDestroyFunc(()=>xu(n,s,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,s){const n=e??t,{menuSvc:i,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&n.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(s)&&i.showHeaderContextMenu(s,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:s}=this;e.isColumn?s.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):s.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},X7=class extends TD{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,s,n,i){this.comp=e;const{rowCtrl:o,column:r,beans:l}=this,{colResize:u,context:d,colHover:f,rangeSvc:g}=l,m=lv(this,d,i);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:w=>this.setRefreshFunction("measuring",w),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(o.pinned,r,s,e,this)):ts(s,!1),f==null||f.createHoverFeature(m,[r],t),g==null||g.createRangeHighlightFeature(m,r,e),m.createManagedBean(new DD(r,t,l)),m.createManagedBean(new Ff(t,{shouldStopEventPropagation:w=>this.shouldStopEventPropagation(w),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(r,{colDefChanged:()=>this.refresh()}),m.addManagedListeners(r,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const C=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:C,columnRowGroupChanged:C,columnPivotChanged:C,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var s;(s=this.beans.colResize)==null||s.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.colDef;return We(t.gos,{colDef:s,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return K$(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:s,gos:n}=this.beans;return We(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!s&&(!this.openFilterEnabled||ri(this.gos)),showColumnMenu:(o,r)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:r})},showColumnMenuAfterMouseClick:(o,r)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:r})},showFilter:o=>{e==null||e.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t==null||t.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,r)=>{t==null||t.setSortForColumn(this.column,o,!!r,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,r)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===ae.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===ae.ENTER&&this.onEnterKeyDown(e),e.key===ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const s=this.comp.getUserCompInstance();uL(s)&&s.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),F8()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),s=F_(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(s),s.forEach(i=>{n.has(i)?n.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const s=this.column.getActualWidth();this.comp.setWidth(`${s}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var s;(s=this.comp)==null||s.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const s=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",s),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,s=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:s,beans:n}=this,i=AD(this.beans),o=i.reduce((f,g)=>f+=g,0)===0;if(s.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),s.addOrRemoveCssClass("ag-header-span-height",!1),s.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:r,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();s.addOrRemoveCssClass("ag-header-span-height",r>0);const u=ED(n);if(r===0){s.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}s.addOrRemoveCssClass("ag-header-span-total",l);let d=0;for(let f=0;f<r;f++)d+=i[i.length-1-f];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${u+d}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),s=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(t6(s)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!ri(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Kt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((s,n)=>s==="filter"?-1:n.charCodeAt(0)-s.charCodeAt(0)).map(s=>this.ariaDescriptionProperties.get(s)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),s=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return uL(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function uL(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Q7=0,NR=class extends ue{constructor(e,t,s){super(),this.rowIndex=e,this.pinned=t,this.type=s,this.instanceId=Q7++,this.allCtrls=[];const n=s=="group"?"ag-header-row-column-group":s=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=qs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,s=!0){this.comp=e,t=lv(this,this.beans.context,t),s&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),s=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:s,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",s),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=qs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],s=AD(this.beans),n=ED(this.beans);t.push(...s),t.push(n),e!=null&&e.hasFloatingFilters()&&t.push(Q_(this.beans));let i=0;for(let r=0;r<this.rowIndex;r++)i+=t[r];const o=t[this.rowIndex];return{topOffset:i,rowHeight:o}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),s=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,s,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);const s=n=>{const{focusSvc:i,visibleCols:o}=this.beans;return i.isHeaderWrapperFocused(n)?o.isVisible(n.column):!1};if(e)for(const[n,i]of e)s(i)?this.ctrlsById.set(n,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,s){if(e.isEmptyGroup())return;const n=e.getUniqueId();let i;if(s&&(i=s.get(n),s.delete(n)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new X7(e,this));break}t.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:s}=this.beans;return["left",null,"right"].forEach(n=>{const i=s.getHeadersToRender(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const s=this.allCtrls.find(i=>i.column==e);return s?s.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},Z7=class extends ue{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:s,ctrlsSvc:n,colModel:i,colMoves:o,filterManager:r}=this.beans;this.setupCenterWidth(),s==null||s.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const l=this.onDisplayedColumnsChanged.bind(this,r);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:l,advancedFilterEnabledChanged:l});const u=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(u,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:s,filterManager:n}=this.beans;let i=0;const o=t.getFocusHeaderToUseAfterRefresh(),r=()=>{const f=U7(s)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let g=0;g<f;g++){const m=this.createBean(new NR(i++,this.pinned,"group"));this.groupsRowCtrls.push(m)}},l=()=>{const f=i++,g=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==f);(g||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),g&&(this.columnsRowCtrl=this.createBean(new NR(f,this.pinned,"column")))},u=()=>{this.includeFloatingFilter=!!(n!=null&&n.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}const g=i++;if(this.filtersRowCtrl){const m=this.filtersRowCtrl.rowIndex!==g;(!e||m)&&f()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new NR(g,this.pinned,"filter")))};r(),l(),u();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){const t=s=>s==null?void 0:s.getHeaderCellCtrls().find(n=>n.column===e);if(Fl(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let s=0;s<this.groupsRowCtrls.length;s++){const n=t(this.groupsRowCtrls[s]);if(n)return n}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,s){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,s):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const s=e==null?void 0:e.createBodyDropTarget(this.pinned,t);s&&this.createManagedBean(s)}restoreFocusOnHeader(e,t){if(!t)return;const{column:s}=t;s.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new RD(e=>this.comp.setCenterWidth(`${e}px`),!0))}},J7=class extends ue{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:s}=this.beans,n=t&&ri(this.gos)?t:s;this.showColumnMenuCommon(n,e,e.containerType,!0)}showHeaderContextMenu(e,t,s){var n;(n=this.activeMenuFactory)==null||n.showMenuAfterContextMenuEvent(e,t,s)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var s;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((s=this.activeMenuFactory)!=null&&s.isMenuEnabled(e))&&(ri(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Fl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(hu()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!ri(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!ri(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return ri(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,s,n){const{positionBy:i,onClosedCallback:o}=t,r=t.column;if(i==="button"){const{buttonElement:l}=t;e==null||e.showMenuAfterButtonClick(r,l,s,o,n)}else if(i==="mouse"){const{mouseEvent:l}=t;e==null||e.showMenuAfterMouseEvent(r,l,s,o,n)}else if(r){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(r,"auto"),ma(l,()=>{var f;const d=(f=u.getHeaderRowContainerCtrl(r.getPinned()))==null?void 0:f.getHeaderCtrlForColumn(r);d&&(e==null||e.showMenuAfterButtonClick(r,d.getAnchorElementForMenu(n),s,o,!0))})}}};function dL(e,t,s){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",s))}var eN=class extends jt{constructor(){super()}},e9={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},t9=class extends eN{init(){var t;const e=Qr((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??e9),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("loadingOoo","Loading...")})}}},s9={tag:"span",cls:"ag-overlay-no-rows-center"},n9=class extends eN{init(){var t;const e=Qr((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??s9),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("noRowsToShow","No Rows To Show")})}}};function i9(e,t,s){const n=Li(e,t,s);if(n){const{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}const i=un({tag:"span"});return i.appendChild(n),i}function Li(e,t,s){var o;let n=null;e==="smallDown"?we(262):e==="smallLeft"?we(263):e==="smallRight"&&we(264);const i=s&&s.getColDef().icons;if(i&&(n=i[e]),t.gos&&!n){const r=t.gos.get("icons");r&&(n=r[e])}if(n){let r;if(typeof n=="function")r=n();else if(typeof n=="string")r=n;else{we(38,{iconName:e});return}if(typeof r=="string")return Sy(r);if(fD(r))return r;we(133,{iconName:e});return}else{const r=t.registry.getIcon(e);return r||(o=t.validation)==null||o.validateIcon(e),un({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var o9=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",r9={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},a9=class extends jt{constructor(){super(),this.dragSource=null,this.eIcon=_e,this.eLabel=_e,this.eGhost=_e,this.registerCSS(o9)}postConstruct(){const e=t=>i9(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(r9),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:s,dragSource:n,dropIconMap:i,gos:o}=this;di(s);let r=null;e||(e=n!=null&&n.getDefaultIconName?n.getDefaultIconName():"notAllowed"),r=i[e],s.classList.toggle("ag-shake-left-to-right",t),!(r===i.hide&&o.get("suppressDragLeaveHidesColumns"))&&r&&s.appendChild(r)}setLabel(e){this.eLabel.textContent=e}},l9=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",c9=class extends jt{constructor(e,t,s){super(t,s),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(l9)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:s,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),s!=null&&this.setLabelWidth(s),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;di(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(ts(t,!1),Dl(t,"presentation")):(ts(t,!0),Dl(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const s=this.getGui().classList;return s.toggle("ag-label-align-left",e==="left"),s.toggle("ag-label-align-right",e==="right"),s.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Xb(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return xp(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},tN=class extends c9{constructor(e,t,s,n){super(e,t,s),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:s}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),s!=null&&this.onValueChange(s),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),s=this.getLabel();s==null||s==""||s6(e)!==null?Sx(e,""):Sx(e,t??"")}setAriaLabel(e){return yy(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Xo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function u9(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var gc=class extends tN{constructor(e,t,s="text",n="input"){super(e,(e==null?void 0:e.template)??u9(n),[],t),this.inputType=s,this.displayFieldTag=n,this.eLabel=_e,this.eWrapper=_e,this.eInput=_e}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:s,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),s.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),s.id=s.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:o}=this.config;i!=null&&this.setInputName(i),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([s])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Xb(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ii(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return yy(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return xp(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ii(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ii(this.eInput,"autocomplete",t)}return this}},FD=class extends gc{constructor(e,t="ag-checkbox",s="checkbox"){super(e,t,s),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const s=this.eInput;s.checked=e,s.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,s){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:s});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),s=this.selected=e.target.checked;this.refreshSelectedClass(s),this.dispatchChange(s,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},PD={selector:"AG-CHECKBOX",component:FD},d9=".ag-checkbox-cell{height:100%}",h9={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},f9=class extends jt{constructor(){super(h9,[PD]),this.eCheckbox=_e,this.registerCSS(d9)}init(e){this.refresh(e);const{eCheckbox:t,beans:s}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),IO(n,"polite"),this.addManagedListeners(n,{click:i=>{if(ff(i),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:i=>{ff(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===ae.SPACE&&!t.isDisabled()){e.eGridCell===Kt(s)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,s=!0;const{value:n,column:i,node:o}=e;if(o.group&&i)if(typeof n=="boolean")t=n;else{const g=i.getColId();g.startsWith(Ry)?t=n==null||n===""?void 0:n==="true":o.aggData&&o.aggData[g]!==void 0?t=n??void 0:s=!1}else t=n??void 0;const{eCheckbox:r}=this;if(!s){r.setDisplayed(!1);return}r.setValue(t);const l=e.disabled??!(i!=null&&i.isCellEditable(o));r.setDisabled(l);const u=this.getLocaleTextFunc(),d=cD(u,t),f=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;r.setInputAriaLabel(f)}onCheckboxChanged(e){const{eventSvc:t,params:s}=this,{column:n,node:i,value:o}=s,r={column:n,colDef:n.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:o};t.dispatchEvent({type:"cellEditingStarted",...r});const l=i.setDataValue(n,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...r,oldValue:o,newValue:e,valueChanged:l}),l||this.updateCheckbox(s)}},g9="ROOT_NODE_ID",p9=class extends ue{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(s=>s.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=g9,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,s)=>this.createRowNode(t,s)))??[]}setImmutableRowData(e,t){const s=hf(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,o=new Set,r=this.rootNode,l=r.allLeafChildren,u=l.length;let d=!1,f=!1,g=!1,m=!1;for(let w=0,y=-1,R=t.length;w<R;w++){const A=t[w];let D=this.getRowNode(s({data:A,level:0}));if(!D)d=!0,D=this.createRowNode(A,-1),i.add(D);else{if(n){const E=D.sourceRowIndex;m||(m=E<=y||d),y=E}D.data!==A&&(g=!0,D.updateData(A),i.update(D))}o.add(D)}const C=[];for(let w=0;w<u;w++){const y=l[w];o.has(y)||(f=!0,y.isSelected()&&C.push(y),this.rowNodeDeleted(y),i.remove(y))}if(d||f||m){const w=new Array(o.size);let y=0;if(!n)for(let A=0;A<u;++A){const D=l[A];o.delete(D)&&(D.sourceRowIndex=y,w[y++]=D)}for(const A of o)A.sourceRowIndex=y,w[y++]=A;r.allLeafChildren=w;const R=r.sibling;R&&(R.allLeafChildren=w),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=m)}(d||f||m||g)&&(this.deselectNodes(C),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,s=this.allNodesMap;s[t]===e&&delete s[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const s={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],i=hf(this.gos);return this.executeRemove(i,e,s,n),this.executeUpdate(i,e,s,n),this.executeAdd(e,s),this.deselectNodes(n),s}executeAdd(e,t){const s=e.add;if(!(s!=null&&s.length))return;let n=this.rootNode.allLeafChildren,i=n.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let g=0;g<n.length;g++){const m=n[g];if((m==null?void 0:m.rowIndex)==i-1){i=g+1;break}}const o=s.length,r=t.changedRowNodes,l=new Array(o);for(let f=0;f<o;f++){const g=this.createRowNode(s[f],i+f);r.add(g),l[f]=g}const u=this.rootNode;if(i<n.length){const f=n.slice(0,i),g=n.slice(i,n.length),m=f.length+l.length;for(let C=0,w=g.length;C<w;++C)g[C].sourceRowIndex=m+C;n=[...f,...l,...g],t.rowsInserted=!0}else n=n.concat(l);u.allLeafChildren=n;const d=u.sibling;d&&(d.allLeafChildren=n),t.rowNodeTransaction.add=l}executeRemove(e,t,{changedRowNodes:s,rowNodeTransaction:n},i){var d,f;const{remove:o}=t;if(!(o!=null&&o.length))return;const r={};o.forEach(g=>{const m=this.lookupRowNode(e,g);m&&(m.isSelected()&&i.push(m),m.clearRowTopAndRowIndex(),r[m.id]=!0,delete this.allNodesMap[m.id],n.remove.push(m),s.remove(m))});const l=this.rootNode;l.allLeafChildren=((d=l.allLeafChildren)==null?void 0:d.filter(g=>!r[g.id]))??null,(f=l.allLeafChildren)==null||f.forEach((g,m)=>{g.sourceRowIndex=m});const u=l.sibling;u&&(u.allLeafChildren=l.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:s,rowNodeTransaction:n},i){const{update:o}=t;o!=null&&o.length&&o.forEach(r=>{const l=this.lookupRowNode(e,r);l&&(l.updateData(r),!l.selectable&&l.isSelected()&&i.push(l),n.update.push(l),s.update(l))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var i;const t="rowDataChanged",s=this.beans.selectionSvc,n=e.length>0;n&&(s==null||s.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(i=s==null?void 0:s.updateGroupsFromChildrenSelections)==null||i.call(s,t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(s==null?void 0:s.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var s;const t=((s=this.rootNode.allLeafChildren)==null?void 0:s.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const s=new vf(this.beans);return s.parent=this.rootNode,s.level=0,s.group=!1,s.expanded=!1,s.sourceRowIndex=t,s.setDataAndId(e,String(this.nextId)),this.allNodesMap[s.id]&&we(2,{nodeId:s.id}),this.allNodesMap[s.id]=s,this.nextId++,s}lookupRowNode(e,t){var n,i;let s;if(e){const o=e({data:t,level:0});if(s=this.allNodesMap[o],!s)return At(4,{id:o}),null}else if(s=(i=(n=this.rootNode)==null?void 0:n.allLeafChildren)==null?void 0:i.find(o=>o.data===t),!s)return At(5,{data:t}),null;return s||null}},m9={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},v9=class extends jt{constructor(){super(m9,[PD]),this.eCheckbox=_e}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:s}=this,n=t.isSelected(),i=cD(e,n),[o,r]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(o,r);s.setValue(n,!0),s.setInputAriaLabel(`${l} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:ff,click:n=>{var i;ff(n),(i=this.beans.selectionSvc)==null||i.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const o=typeof n=="object"?FR(n):void 0,r=typeof i=="object"?FR(i):void 0;o!==r&&this.onSelectableChanged()}),Ix(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:s,gos:n}=this;let i=t.selectable;const o=this.getIsVisible();if(i)if(typeof o=="function"){const u=s==null?void 0:s.callbackParams;if(!e)i=o({...u,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);i=o({...u,...d})}}else i=o??!1;const r=n.get("rowSelection");if(r&&typeof r!="string"?!FR(r):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!i),this.setVisible(!0),this.setDisplayed(!0);return}if(s!=null&&s.removeHidden){this.setDisplayed(i);return}this.setVisible(i)}getIsVisible(){var s,n;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Jd(t):(n=(s=this.column)==null?void 0:s.getColDef())==null?void 0:n.checkboxSelection}},C9=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const s=t[0].id===this.rootId,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),o=t.slice(n+1);return this.setEndRange(e),s?{keep:i,discard:o}:{keep:o,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const s=this.getRoot();if(s==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&i.push(o)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const n=this.rowModel.getNodesInRangeForSelection(s,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},b9=class extends ue{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Kt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new FD);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Dl(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:n})=>{const i=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;i(s)!==i(n)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,s=this.cbSelectAll,n=t.getSelectAllState(e);s.setValue(n);const i=t.hasNodesToSelect(e);s.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:s,cbSelectAll:n,cbSelectAllVisible:i}=this,r=n.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");s.setAriaDescriptionProperty("selectAll",i?`${l} (${r})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||s.announceAriaDescription()}checkSelectionType(e){return ew(this.gos)?!0:(we(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:s}=this.beans;return an(t)||Nu(t)?!0:(we(129,{feature:e,rowModel:s.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let s="uiSelectAll";t==="currentPage"?s="uiSelectAllCurrentPage":t==="filtered"&&(s="uiSelectAllFiltered");const n={source:s,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(n):i.deselectAllRowNodes(n)}isCheckboxSelection(){var d;const{column:e,gos:t,beans:s}=this,n=t.get("rowSelection"),i=e.getColDef(),{headerCheckboxSelection:o}=i;let r=!1;const l=typeof n=="object";if(l){const f=aa(e),g=CD(e);(Zb(n)==="autoGroupColumn"&&g||f&&((d=s.selectionColSvc)!=null&&d.isSelectionColumnEnabled()))&&(r=nb(n))}else typeof o=="function"?r=o(We(t,{column:e,colDef:i})):r=!!o;const u=l?"headerCheckbox":"headerCheckboxSelection";return r&&this.checkRightRowModelType(u)&&this.checkSelectionType(u)}getSelectAllMode(){const e=o_(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:s}=this.column.getColDef();return t?"currentPage":s?"filtered":"all"}},w9=class extends ue{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new C9(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const s=Ix(e);s!==this.isRowSelectable&&(this.isRowSelectable=s,this.updateSelectable())}),this.isRowSelectable=Ix(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new v9}createSelectAllFeature(e){return new b9(e)}isMultiSelect(){return ew(this.gos)}onRowCtrlSelected(e,t,s){const n=!!e.rowNode.isSelected();e.forEachGui(s,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",n);const o=i.element;xx(o,n),o.contains(Kt(this.beans))&&t(i)})}announceAriaRowSelection(e){var i;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(i=this.beans.ariaAnnounce)==null||i.announceValue(n,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!pu(this.gos)}updateRowSelectable(e,t){var n;const s=((n=this.isRowSelectable)==null?void 0:n.call(this,e))??!0;return this.setRowSelectable(e,s,t),s}setRowSelectable(e,t,s){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),s)return;if(Tp(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var n;let t=!1,s=!1;if(!((n=e.childrenAfterGroup)!=null&&n.length))return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];let r=o.isSelected();if(!o.selectable){const l=this.calculateSelectedFromChildren(o);if(l===null)continue;r=l}switch(r){case!0:t=!0;break;case!1:s=!0;break;default:return}}if(!(t&&s))return t?!0:s?!1:e.selectable?e.__selected:null}selectRowNode(e,t,s,n="api"){const i=!e.selectable&&t,o=e.__selected===t;if(i||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const r=e.sibling;return r&&r.footer&&r.__localEventService&&r.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...n7(e,this.gos,"rowSelected"),event:s||null,source:n}),!0}isCellCheckboxSelection(e,t){const s=this.gos.get("rowSelection");if(s&&typeof s!="string"){const n=aa(e)&&Jd(s);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,s,n){const{gos:i,selectionCtx:o}=this,r=e.isSelected(),l=Tp(i),u=V6(i),d=z6(i),f=this.isMultiSelect(),g=n==="rowClicked";if(g&&l&&e.group||g&&!(u||d))return null;if(t&&s&&f){const m=o.getRoot();if(m)if(m.isSelected()){const C=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{deselect:C.discard,select:C.keep,reset:!1}}else{const C=o.extend(e,l);return{select:[],deselect:C.keep,reset:!1}}else return null}else if(t&&f){const m=o.selectAll?this.beans.rowModel.getRow(0):void 0,C=o.getRoot(m),w=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{select:w.keep,deselect:w.discard,reset:o.selectAll||!!(C&&!C.isSelected())}}else{if(s)return o.setRoot(e),g&&r&&!d?null:{node:e,newValue:!r,clearSelection:!f};{o.setRoot(e);const m=W6(i),C=tw(i)==="filteredDescendants",w=g&&(!m||!u);if(C&&r===void 0&&an(i))return{node:e,newValue:!1,clearSelection:!f||w};if(g){const y=r?!m:u;return y===r&&!w||y&&!u||!y&&!d?null:{node:e,newValue:y,clearSelection:!f||w}}return{node:e,newValue:!r,clearSelection:!f||w}}}}},y9=class extends FD{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Gu=class extends gc{constructor(e,t="ag-text-field",s="text"){super(e,t,s)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const s=this.eInput;return s.value!==e&&(s.value=Se(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=s=>{j_(s)&&s.key&&!e.test(s.key)&&s.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:s=>{var i;const n=(i=s.clipboardData)==null?void 0:i.getData("text");n&&n.split("").some(o=>!e.test(o))&&s.preventDefault()}})}},Ay={selector:"AG-INPUT-TEXT-FIELD",component:Gu},S9=class extends gc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const s=super.setValue(e,t);return this.eInput.value=e,s}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},R9={selector:"AG-INPUT-TEXT-AREA",component:S9},MD=class extends Gu{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=parseFloat(e.value),r=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:s,max:n,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof s=="number"&&this.setMin(s),typeof n=="number"&&this.setMax(n),typeof i=="number"&&this.setStep(i)}onWheel(e){Kt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:s,max:n}=this;return s!=null&&t<s?e=s.toString():n!=null&&t>n&&(e=n.toString()),e}adjustPrecision(e,t){const s=this.precision;if(s==null)return e;if(t){const i=parseFloat(e).toFixed(s);return parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=s)return e;if(s>0)return`${n[0]}.${n[1].slice(0,s)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Ii(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ii(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ii(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(s=>super.setValue(s,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,s){if(Se(s)){let n=this.isScientificNotation(s);if(n&&this.eInput.validity.valid)return e(s);if(!n){s=this.adjustPrecision(s);const i=this.normalizeValue(s);n=s!=i}if(n)return t(s)}return e(s)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},x9={selector:"AG-INPUT-NUMBER-FIELD",component:MD};function cp(e,t){return e.toString().padStart(t,"0")}function Oi(e,t=!0,s="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>cp(i,2)).join(s);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>cp(i,2)).join(":")),n}var HR=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function up(e,t="YYYY-MM-DD"){const s=cp(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>s.slice(s.length-4,s.length),YY:()=>s.slice(s.length-2,s.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>cp(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${HR(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${HR(e.getDate())}`,DD:()=>cp(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${HR(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,l=>l in o?o[l]():l)}function Gn(e){if(!e)return null;const[t,s]=e.split(" ");if(!t)return null;const n=t.split("-").map(g=>parseInt(g,10));if(n.filter(g=>!isNaN(g)).length!==3)return null;const[i,o,r]=n,l=new Date(i,o-1,r);if(l.getFullYear()!==i||l.getMonth()!==o-1||l.getDate()!==r)return null;if(!s||s==="00:00:00")return l;const[u,d,f]=s.split(":").map(g=>parseInt(g,10));return u>=0&&u<24&&l.setHours(u),d>=0&&d<60&&l.setMinutes(d),f>=0&&f<60&&l.setSeconds(f),l}var A9=class extends Gu{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Ou();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Kt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Oi(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Ii(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Oi(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Ii(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Ii(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Gn(this.getValue())??void 0}setDate(e,t){this.setValue(Oi(e??null,!1),t)}},sN={selector:"AG-INPUT-DATE-FIELD",component:A9},E9=1e3,D9=1e3,hL=100,fL,WC=!1,T9=class extends ue{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,s,n,i;return e==="show"?((s=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:s.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((i=(n=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:i.call(n))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!hu()&&(WC?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},hL):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const t=e.relatedTarget,s=this.tooltipCtrl.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||s.contains(t)||this.interactionEnabled&&(n!=null&&n.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||WC)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-fL<E9}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var r,l,u,d,f,g,m;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Se(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const s=(r=t.getRowNode)==null?void 0:r.call(t),n=We(this.gos,{location:((l=t.getLocation)==null?void 0:l.call(t))??"UNKNOWN",colDef:(u=t.getColDef)==null?void 0:u.call(t),column:(d=t.getColumn)==null?void 0:d.call(t),rowIndex:(f=t.getRowIndex)==null?void 0:f.call(t),node:s,data:s==null?void 0:s.data,value:e,valueFormatted:(g=t.getValueFormatted)==null?void 0:g.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((m=t.getAdditionalParams)==null?void 0:m.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=a8(this.userCompFactory,n);o==null||o.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),fL=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var r;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),o=(r=this.popupSvc)==null?void 0:r.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ds(this.beans),{keydown:l=>{n.contains(l==null?void 0:l.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const e=(s=this.tooltipComp)==null?void 0:s.getGui(),t=Kt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,s;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(s=this.popupSvc)==null||s.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,s=this.tooltipTrigger===0?D9:0;window.setTimeout(()=>{e(),this.destroyBean(t)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){WC=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},hL)}unlockService(){WC=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function BR(e){return e.get("tooltipShowMode")==="whenTruncated"}function lb(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var F9=class extends ue{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",s=this.ctrl.getGui();s&&(e!=null&&e!=""?s.setAttribute(t,e):s.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new T9(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},P9=class extends jt{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case ae.DOWN:case ae.UP:e.preventDefault(),this.navigate(t);break;case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ae.DOWN;let s;const{itemEls:n,highlightedEl:i}=this;if(!i)s=n[t?0:n.length-1];else{let r=n.indexOf(i)+(t?1:-1);r=Math.min(Math.max(r,0),n.length-1),s=n[r]}this.highlightItem(s)}navigateToPage(e){const{itemEls:t,highlightedEl:s}=this;if(!s||t.length===0)return;const n=t.indexOf(s),i=this.options.length-1,o=t[0].clientHeight,r=Math.floor(this.getGui().clientHeight/o);let l=-1;e===ae.PAGE_HOME?l=0:e===ae.PAGE_END?l=i:e===ae.PAGE_DOWN?l=Math.min(n+r,i):e===ae.PAGE_UP&&(l=Math.max(n-r,0)),l!==-1&&this.highlightItem(t[l])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:s}=e,n=s||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{ra(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Dl(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,s)=>{a6(t,s+1),r6(t,e.length)})}renderOption(e,t){const s=ds(this.beans),n=s.createElement("div");Dl(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=s.createElement("span");n.appendChild(i),i.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const s=this.options.findIndex(n=>n.value===e);if(s!==-1){const n=this.options[s];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[s]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Jo(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),xx(e,!0);const t=this.getGui(),{scrollTop:s,clientHeight:n}=t,{offsetTop:i,offsetHeight:o}=e;(i+o>s+n||i<s)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Jo(e)||(e.classList.remove(this.activeClass),xx(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},M9=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",L9={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},k9=class extends tN{constructor(e){if(super(e,(e==null?void 0:e.template)||L9,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=_e,this.eWrapper=_e,this.eDisplayField=_e,this.eIcon=_e,this.registerCSS(M9),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:s,variableWidth:n,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,s!=null&&this.setPickerMaxHeight(s),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:s,inputWidth:n}=this.config;if(s){const i=Li(s,this.beans);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Rx(e,!1),this.ariaRole&&Dl(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ae.UP:case ae.DOWN:case ae.ENTER:case ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:s,pickerAriaLabelValue:n,modalPicker:i=!0},maxPickerHeight:o,minPickerWidth:r,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:f}=this,g={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const y=s_(d);this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(s,n),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,C=m.addPopup(g);u?(r&&(e.style.minWidth=r),e.style.width=hD(qb(f)),l&&(e.style.maxWidth=l)):Xb(e,l??qb(f));const w=o??`${dD(m.getPopupParent())}px`;return e.style.setProperty("max-height",w),this.alignPickerToComponent(),C.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:s,gos:n},eWrapper:i,pickerComponent:o}=this,r=n.get("enableRtl")?"right":"left";s.positionPopupByComponent({type:t,eventSource:i,ePopup:o.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Rx(t,e);const s=this.eWrapper.classList;s.toggle("ag-picker-expanded",e),s.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return Xb(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},I9=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",LD=class extends k9{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(I9)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:lb(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:s}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),s&&t==null&&(this.eDisplayField.textContent=s),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new P9("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),s=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",s),g6(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n==null||n.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var s;const{key:t}=e;switch(t===ae.TAB&&this.hidePicker(),t){case ae.ENTER:case ae.UP:case ae.DOWN:case ae.PAGE_UP:case ae.PAGE_DOWN:case ae.PAGE_HOME:case ae.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(s=this.listComponent)==null||s.handleKeyDown(e):super.onKeyDown(e);break;case ae.ESCAPE:super.onKeyDown(e);break;case ae.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,s){const{listComponent:n,config:{placeholder:i},eDisplayField:o,tooltipFeature:r}=this;if(this.value===e||!n)return this;if(s||n.setValue(e,!0),n.getValue()===this.getValue())return this;let u=n.getDisplayValue();return u==null&&i&&(u=i),o.textContent=u,r==null||r.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},O9={selector:"AG-SELECT",component:LD},sh={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},nN=class extends ue{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:s,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:r,focusInnerElement:l,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:f,onTabKeyDown:g,handleKeyDown:m,isEmpty:C,eFocusableElement:w}=e;this.comp=t,this.eTopGuard=s,this.eBottomGuard=n,this.providedFocusInnerElement=l,this.eFocusableElement=w,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!r,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=g,this.providedHandleKeyDown=m,this.providedIsEmpty=C}postConstruct(){this.createManagedBean(new Ff(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():th(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var u;const t=ds(this.beans),s=th(t.body,null,!0),n=s.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,o;e?(i=0,o=n):(i=n+1,o=s.length);const r=s.slice(i,o),l=this.gos.get("tabIndex");r.sort((d,f)=>{const g=parseInt(d.getAttribute("tabindex")||"0"),m=parseInt(f.getAttribute("tabindex")||"0");return m===l?1:g===l?-1:g===0?1:m===0?-1:g-m}),(u=r[e?r.length-1:0])==null||u.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const s=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),s&&(s.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=th(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Bu(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},_9=class extends ue{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:s,eFocusableElement:n}=this,i=[t,s],o={setTabIndex:R=>{i.forEach(A=>R!=null?A.setAttribute("tabindex",R):A.removeAttribute("tabindex"))}};this.addTabGuards(t,s);const{focusTrapActive:r=!1,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:g,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:y}=e;this.tabGuardCtrl=this.createManagedBean(new nN({comp:o,focusTrapActive:r,eTopGuard:t,eBottomGuard:s,eFocusableElement:n,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:g,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=ds(this.beans).createElement("div"),s=e==="top"?sh.TAB_GUARD_TOP:sh.TAB_GUARD_BOTTOM;return t.classList.add(sh.TAB_GUARD,s),Dl(t,"presentation"),t}addTabGuards(e,t){const s=this.eFocusableElement;s.insertAdjacentElement("afterbegin",e),s.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];di(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,s){fD(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,s)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;ra(e),ra(t),super.destroy()}},N9=class extends jt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new _9(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,s){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,s)}},Pf=class extends jt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Od=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Su,this.preventMouseClick=t;const s=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",s,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",s,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const s=this.touchStart===t;if(this.touching&&s&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!H_(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const s={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(s),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},iN=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${qO}/${this.frameworkName}-data-grid`,E6(this.baseDocLink)}setInterval(e,t){return new zt(s=>{s(window.setInterval(e,t))})}addEventListener(e,t,s,n){let i={};if(typeof n=="object"?i=n:typeof n=="boolean"&&(i={capture:n}),i.passive==null){const o=u_(t);o!=null&&(i.passive=o)}e.addEventListener(t,s,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function H9(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var B9=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],gL=Object.fromEntries(B9.map((e,t)=>[e,t]));function G9(e,t){const s=(e.beanName?gL[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?gL[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return s-n}function V9(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var z9=class extends ue{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,s){this.view=e,this.eGridHostDiv=t,this.eGui=s,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:i}=this.beans;n==null||n.registerGridDropTarget(()=>this.eGui,this),I_(this.gos,t),this.createManagedBean(new SD(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=pa(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=M_(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,s,n,i;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(s=e.sideBar)==null?void 0:s.getSelector(),statusBarSelector:(n=e.registry)==null?void 0:n.getSelector("AG-STATUS-BAR"),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:s,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(s>0){const{visibleCols:i,focusSvc:o}=this.beans,r=i.allCols,l=xt(r);if(o.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const s=this.getFocusableContainers(),{focusSvc:n,visibleCols:i}=this.beans,o=i.allCols;if(e){if(s.length>1)return this.focusContainer(xt(s),e);const r=xt(o);if(n.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Cu(this.beans)){if(n.focusGridView({column:o[0],backwards:e}))return!0;for(let r=1;r<s.length;r++)if(Au(s[r].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:s,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||s<0||s>=t.length)return;const i=t[s];(o=i.setAllowFocus)==null||o.call(i,!0),setTimeout(()=>{var r;(r=i.setAllowFocus)==null||r.call(i,!1)})}isFocusable(){var t,s;const e=this.beans;return!xy(e)||!Cu(e)||!!((s=(t=e.sideBar)==null?void 0:t.comp)!=null&&s.isDisplayed())}getNextFocusableIndex(e,t){const s=Kt(this.beans),n=e.findIndex(o=>o.getGui().contains(s)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){var n,i;(n=e.setAllowFocus)==null||n.call(e,!0);const s=Au(e.getGui(),t,!1,!0);return(i=e.setAllowFocus)==null||i.call(e,!1),s}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ze=(e,t)=>{for(const s of Object.keys(t))t[s]=e;return t},pL={dispatchEvent:"CommunityCore",...Ze("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...Ze("GridState",{getState:0}),...Ze("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ze("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ze("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ze("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ze("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ze("ValueCache",{expireValueCache:0}),...Ze("CellApi",{getCellValue:0}),...Ze("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ze("Sort",{onSortChanged:0}),...Ze("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...Ze("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ze("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ze("HighlightChanges",{flashCells:0}),...Ze("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Ze("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ze("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ze("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ze("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ze("ColumnResize",{setColumnWidths:0}),...Ze("ColumnHover",{isColumnHovered:0}),...Ze("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Ze("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ze("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ze("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Ze("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ze("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ze("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ze("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ze("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ze("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ze("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ze("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ze("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ze("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ze("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ze("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ze("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ze("ContextMenu",{showContextMenu:0}),...Ze("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ze("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ze("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ze("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ze("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ze("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ze("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ze("StatusBar",{getStatusPanel:0})},GR={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},W9=(e,t)=>e.eventSvc.dispatchEvent(t),oN=class{};Reflect.defineProperty(oN,"name",{value:"GridApi"});var U9=class extends ue{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new oN,this.fns={...GR,dispatchEvent:W9},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(pL))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:s,beans:n}=this;s!==GR&&(s[e]=((i=n==null?void 0:n.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:s,fns:{[e]:n}}=this;return n?n(s,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:s,preDestroyLink:n}=this;if(!t)we(26,{fnName:e,preDestroyLink:n});else{const i=pL[e];s.assertModuleRegistered(i,`api.${e}`)&&we(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=GR,this.beans=null}};function j9(e){return e.context.getGridId()}function $9(e){e.gridDestroySvc.destroy()}function q9(e){return e.gridDestroySvc.destroyCalled}function K9(e,t){return e.gos.get(t)}function Y9(e,t,s){rN(e,{[t]:s})}function rN(e,t){e.gos.updateGridOptions({options:t})}var X9={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Q9=class extends jt{constructor(e,t,s){super(X9),this.rowNode=e,this.column=t,this.eCell=s}postConstruct(){this.getGui().appendChild(Li("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:s,eCell:n,gos:i}=this,o=s.getColDef().dndSourceOnRowDrag,r=e.dataTransfer;if(r.setDragImage(n,0,0),o){const l=We(i,{rowNode:t,dragEvent:e});o(l)}else try{const l=JSON.stringify(t.data);r.setData("application/json",l),r.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Z9(e,t){var s,n;(n=(s=e.rowDragSvc)==null?void 0:s.rowDragFeature)==null||n.addRowDropZone(t)}function J9(e,t){var n,i;const s=(n=e.dragAndDrop)==null?void 0:n.findExternalZone(t);s&&((i=e.dragAndDrop)==null||i.removeDropTarget(s))}function eq(e,t){var s,n;return(n=(s=e.rowDragSvc)==null?void 0:s.rowDragFeature)==null?void 0:n.getRowDropZone(t)}var tq=class extends ue{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:s}=this.beans;return s.addDragSource(t),()=>s.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const s=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(s)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},sq={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},nq=class extends jt{constructor(e,t,s,n,i,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=s,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:s,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(sq),this.getGui().appendChild(Li("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=n.get("rowDragManaged")?new oq(this,t,s):new iq(this,t,s);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var n;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const s=((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[];return s.indexOf(e)!==-1?s:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const s=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var r;const n=this.getDragItem(),i=((r=n.rowNodes)==null?void 0:r.length)||1,o=this.getRowDragText(this.column);return o?o(n,i):i===1?this.cellValueFn():`${i} ${s("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},aN=class extends ue{constructor(e,t,s){super(),this.parent=e,this.rowNode=t,this.column=s}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let s=!0,n=!1;const{column:i,rowNode:o,parent:r}=this;i&&(s=i.isRowDrag(o)||r.isCustomGui(),n=typeof i.getColDef().rowDrag=="function"),n?(r.setDisplayed(!0,t),r.setVisible(s,t)):(r.setDisplayed(s,t),r.setVisible(!0,t))}}},iq=class extends aN{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},oq=class extends aN{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:s}=this.beans,n=e.rowDragFeature,i=n&&n.shouldPreventRowMove(),o=s.get("suppressRowDrag"),r=t.hasExternalDropZones(),l=i&&!r||o;this.setDisplayedOrVisible(l)}},rq=class extends ue{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const s=t.createManagedBean(new e7(e)),n=this.beans.dragAndDrop;n.addDropTarget(s),t.addDestroyFunc(()=>n.removeDropTarget(s)),this.rowDragFeature=s}createRowDragComp(e,t,s,n,i,o){return new nq(e,t,s,n,i,o)}createRowDragCompForRow(e,t){if(Tl(this.gos))return;const s=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${s("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,s,n,i,o){const r=this.gos;return r.get("rowDragManaged")&&(!an(r)||r.get("pagination"))?void 0:this.createRowDragComp(s,e,t,n,i,o)}},lN={moduleName:"Drag",version:xe,beans:[t7]},aq={moduleName:"DragAndDrop",version:xe,dynamicBeans:{dndSourceComp:Q9},icons:{rowDrag:"grip"}},cN={moduleName:"SharedDragAndDrop",version:xe,beans:[$8],dependsOn:[lN],userComponents:{agDragAndDropImage:a9},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},lq={moduleName:"RowDrag",version:xe,beans:[rq],apiFunctions:{addRowDropZone:Z9,removeRowDropZone:J9,getRowDropZoneParams:eq},dependsOn:[cN]},cq={moduleName:"HorizontalResize",version:xe,beans:[tq],dependsOn:[lN]},uq=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",dq=class extends ue{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:s,executeLaterFuncs:n}=this;if(s.length===0&&n.length===0){e(),t();return}const i=o=>{for(;o.length;){const r=o.pop();r&&r()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(s)},0),window.setTimeout(()=>{t(),i(n)},200)})}};function hq(e,t,s){var n;(n=e.colMoves)==null||n.moveColumnByIndex(t,s,"api")}function fq(e,t,s){var n;(n=e.colMoves)==null||n.moveColumns(t,s,"api")}var gq=class extends ue{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(s=>{s.isPrimary()&&(s.isAnyFunctionActive()||(s.isAllowValue()?this.columnsToAggregate.push(s):s.isAllowRowGroup()?this.columnsToGroup.push(s):s.isAllowPivot()&&this.columnsToPivot.push(s)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:s,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(s==null||s.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(n==null||n.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function pq(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,i)=>{const o=e.indexOf(n),r=e.indexOf(i);return o-r})}function uN(e){const{isFromHeader:t,fromLeft:s,xPosition:n,fromEnter:i,fakeEvent:o,pinned:r,gos:l,colModel:u,colMoves:d,visibleCols:f}=e;let{allMovingColumns:g}=e;if(t){const P=[];g.forEach(L=>{var W;let N=null,B=L.getParent();for(;B!=null&&B.getDisplayedLeafColumns().length===1;)N=B,B=B.getParent();N!=null?(!!((W=N.getColGroupDef())!=null&&W.marryChildren)?N.getProvidedColumnGroup().getLeafColumns():N.getLeafColumns()).forEach(K=>{P.includes(K)||P.push(K)}):P.includes(L)||P.push(L)}),g=P}const m=g.slice();pq(u.getCols(),m);const C=bq({movingCols:m,draggingRight:s,xPosition:n,pinned:r,gos:l,colModel:u,visibleCols:f}),w=mq(m,u);if(C.length===0)return;const y=C[0];let R=w!==null&&!i;if(t&&(R=w!==null),R&&!o&&(!s&&y>=w||s&&y<=w))return;const A=f.allCols,D=[];let E=null;for(let P=0;P<C.length;P++){const L=C[P],N=d.getProposedColumnOrder(m,L);if(!d.doesOrderPassRules(N))continue;const B=N.filter(z=>A.includes(z));if(E===null)E=B;else if(!Hu(B,E))break;const W=vq(N);D.push({move:L,fragCount:W})}if(D.length===0)return;D.sort((P,L)=>P.fragCount-L.fragCount);const T=D[0].move;if(!(T>u.getCols().length-g.length))return{columns:g,toIndex:T}}function dN(e){const{columns:t,toIndex:s}=uN(e)||{},{finished:n,colMoves:i}=e;return!t||s==null?null:(i.moveColumns(t,s,"uiColumnMoved",n),n?null:{columns:t,toIndex:s})}function mq(e,t){const s=t.getCols(),n=e.map(u=>s.indexOf(u)).sort((u,d)=>u-d),i=n[0];return xt(n)-i!==n.length-1?null:i}function vq(e){function t(n){const i=[];let o=n.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let s=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),o=t(e[n+1]);[i,o]=i.length>o.length?[i,o]:[o,i],i.forEach(r=>{o.indexOf(r)===-1&&s++})}return s}function Cq(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function bq(e){const{movingCols:t,draggingRight:s,xPosition:n,pinned:i,gos:o,colModel:r,visibleCols:l}=e;if(o.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const d=Cq(l,i),f=r.getCols(),g=d.filter(E=>t.includes(E)),m=d.filter(E=>!t.includes(E)),C=f.filter(E=>!t.includes(E));let w=0,y=n;if(s){let E=0;g.forEach(T=>E+=T.getActualWidth()),y-=E}if(y>0){for(let E=0;E<m.length;E++){const T=m[E];if(y-=T.getActualWidth(),y<0)break;w++}s&&w++}let R;if(w>0){const E=m[w-1];R=C.indexOf(E)+1}else R=C.indexOf(m[0]),R===-1&&(R=0);const A=[R],D=(E,T)=>E-T;if(s){let E=R+1;const T=f.length-1;for(;E<=T;)A.push(E),E++;A.sort(D)}else{let E=R;const T=f.length-1;let P=f[E];for(;E<=T&&d.indexOf(P)<0;)E++,A.push(E),P=f[E];E=R-1;const L=0;for(;E>=L;)A.push(E),E--;A.sort(D).reverse()}return A}function Bx(e){var d;const{pinned:t,fromKeyboard:s,gos:n,ctrlsSvc:i,useHeaderRow:o,skipScrollPadding:r}=e;let l=(d=i.getHeaderRowContainerCtrl(t))==null?void 0:d.eViewport,{x:u}=e;return l?(s&&(u-=l.getBoundingClientRect().left),n.get("enableRtl")&&(o&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!r&&(u+=i.get("center").getCenterViewportScrollLeft()),u):0}function VR(e,t){for(const s of e)s.moving=t,s.dispatchColEvent("movingChanged","uiColumnMoved")}var mL=7,Gx=100,UC=Gx/2,wq=5,yq=100,Sq=class extends ue{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Se(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,s=(t==null?void 0:t.dragItem.columns)??[];for(const n of s){const i=n.getPinned();if(n.getColDef().lockPinned){if(i==e)return"move";continue}if(i===e||!e)return"move";if(!i&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,s=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(s,!0,"uiColumnDragged");else{const i=t.visibleState,o=(s||[]).filter(r=>i[r.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(s,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,s=!1,n=!1){const{gos:i,ctrlsSvc:o}=this.beans,r=i.get("suppressMoveWhenColumnDragging");if(n&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Ut(e.hDirection))return;const l=Bx({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:o});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,s,l,n):this.handleColumnDragWhileAllowingMovement(e,t,s,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,s){if(!e)return;const n=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,s)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:s}=e;this.beans.colMoves.moveColumns(t,s,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,s,n,i){const o=this.getAllMovingColumns(e,!0);if(i){const r=this.isAttemptingToPin(o);r&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(o,r)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:u,fromEnter:t,fakeEvent:s,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,n)}}handleColumnDragWhileAllowingMovement(e,t,s,n,i){const o=this.getAllMovingColumns(e),r=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:l,xPosition:n,fromLeft:r,fromEnter:t,fakeEvent:s}),d=dN({...u,finished:i});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const s=e.dragSource.getDragItem();let n=null;t?(n=s.columnsInSplit,n||(n=s.columns)):n=s.columns;const i=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return n?n.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:s,xPosition:n,fromLeft:i,fromEnter:o,fakeEvent:r}=e,{gos:l,colModel:u,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:s,fromLeft:i,xPosition:n,pinned:this.pinned,fromEnter:o,fakeEvent:r,gos:l,colModel:u,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){var f;const{gos:s,colModel:n}=this.beans,i=s.get("enableRtl"),o=n.getCols().filter(g=>g.isVisible()&&g.getPinned()===this.pinned);let r=null,l=null,u=null;for(const g of o){if(l=g.getActualWidth(),r=this.getNormalisedColumnLeft(g,0,i),r!=null){const m=r+l;if(r<=t&&m>=t){u=g;break}}r=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let g=o.length-1;g>=0;g--){const m=o[g],C=o[g].getParent();if(!C){u=m;break}const w=C==null?void 0:C.getDisplayedLeafColumns();if(w.length){u=xt(w);break}}if(!u)return;r=this.getNormalisedColumnLeft(u,0,i),l=u.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==u&&this.clearHighlighted(),u==null||r==null||l==null)return;let d;t-r<l/2!==i?d=0:d=1,vL(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:s,visibleCols:n}=this.beans,i=s.get("enableRtl"),{firstMovingCol:o,column:r,position:l}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!r||l==null)return;const u=n.allCols,d=u.indexOf(o),f=u.indexOf(r),g=l===0!==i,m=d<f||d===f&&!g;let C=0;if(g?m&&(C-=1):m||(C+=1),f+C===d)return;const w=u[f+C];if(!w)return;const y=this.getNormalisedColumnLeft(w,20,i);return{fromLeft:m,xPosition:y}}getColumnMoveAndTargetInfo(e,t,s){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=Rq(e);if(!i||!o||n.column||!t)return{firstMovingCol:i,...n};const l=this.getPinDirection()==="left";return{firstMovingCol:i,position:l?1:0,column:l!==s?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,s){const{gos:n,ctrlsSvc:i}=this.beans,o=e.getLeft();if(o==null)return null;const r=e.getActualWidth();return Bx({x:s?o+r-t:o+t,pinned:e.getPinned(),useHeaderRow:s,skipScrollPadding:!0,gos:n,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,s=this.failedMoveAttempts>mL;return t&&s||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:s,fromEnter:n,fakeEvent:i,fromLeft:o}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:s,fromLeft:o,fromEnter:n,fakeEvent:i}),{columns:l,toIndex:u}=uN(r)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(vL(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),s=t.getCenterViewportScrollLeft(),n=s+t.getCenterWidth();let i,o;this.gos.get("enableRtl")?(i=e<s+UC,o=e>n-UC):(o=e<s+UC,i=e>n-UC),this.needToMoveRight=i,this.needToMoveLeft=o,o||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),yq),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var n,i;let e;this.intervalCount++,e=10+this.intervalCount*wq,e>Gx&&(e=Gx);let t=null;const s=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=s.scrollHorizontally(-e):this.needToMoveRight&&(t=s.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:r,gos:l}=this.beans;if(this.failedMoveAttempts<=mL+1||!o)return;if((n=r.getDragAndDropImageComponent())==null||n.setIcon("pinned",!1),!l.get("suppressMoveWhenColumnDragging")){const u=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(u,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,s=!1){const n=(e||[]).filter(r=>!r.getColDef().lockPinned);if(!n.length)return 0;s&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:o}=this.beans;return i==null||i.setColsPinned(n,t,"uiColumnDragged"),s&&o.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function vL(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Rq(e){const t=e.length;let s,n;for(let i=0;i<t;i++){if(!s){const o=e[i];o.getLeft()!=null&&(s=o)}if(!n){const o=e[t-1-i];o.getLeft()!=null&&(n=o)}if(s&&n)break}return{firstMovingCol:s,lastMovingCol:n}}var xq=class extends ue{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,s=this.pinned;e.whenReady(this,n=>{let i;const o=n.gridBodyCtrl.eBodyViewport;switch(s){case"left":i=[[o,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":i=[[o,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:i=[[o,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new Sq(s)),this.bodyDropPivotTarget=this.createManagedBean(new gq(s)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Aq=class extends ue{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,s){const n=this.beans.colModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,s)}moveColumns(e,t,s,n=!0){const{colModel:i,colAnimation:o,visibleCols:r,eventSvc:l}=this.beans,u=i.getCols();if(!u)return;if(t>u.length-e.length){we(30,{toIndex:t});return}o==null||o.start();const d=i.getColsForKeys(e);this.doesMovePassRules(d,t)&&(tL(i.getCols(),d,t),r.refresh(s),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:n,source:s})),o==null||o.finish()}doesMovePassRules(e,t){const s=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(s)}doesOrderPassRules(e){const{colModel:t,gos:s}=this.beans;return!(!b_(e,t.getColTree())||!(i=>{const o=d=>d?d==="left"||d===!0?-1:1:0,r=s.get("enableRtl");let l=r?1:-1,u=!0;return i.forEach(d=>{const f=o(d.getColDef().lockPosition);r?f>l&&(u=!1):f<l&&(u=!1),l=f}),u})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return tL(n,e,t),n}createBodyDropTarget(e,t){return new xq(e,t)}moveHeader(e,t,s,n,i){const{ctrlsSvc:o,gos:r,colModel:l,visibleCols:u,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),g=f.left,m=es(s),C=m?f.width:s.getActualWidth(),w=e==="left"!==r.get("enableRtl"),y=Bx({x:w?g-20:g+C+20,pinned:n,fromKeyboard:!0,gos:r,ctrlsSvc:o}),R=d.focusedHeader;dN({allMovingColumns:m?s.getLeafColumns():[s],isFromHeader:!0,fromLeft:e==="right",xPosition:y,pinned:n,fromEnter:!1,fakeEvent:!1,gos:r,colModel:l,colMoves:this,visibleCols:u,finished:!0});let A;if(m){const D=s.getDisplayedLeafColumns();A=w?D[0]:xt(D)}else A=s;if(o.getScrollFeature().ensureColumnVisible(A,"auto"),(!i.isAlive()||r.get("ensureDomOrder"))&&R){let D;if(m){const E=s.getGroupId(),T=s.getLeafColumns();if(!T.length)return;const P=T[0].getParent();if(!P)return;D=Eq(P,E)}else D=s;D&&d.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,s){const{gos:n,colModel:i,dragAndDrop:o,visibleCols:r}=this.beans;let l=!n.get("suppressDragLeaveHidesColumns");const u=es(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],g={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>Tq(t,r.allCols):()=>Dq(t),dragItemName:s,onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),VR(d,!0)},onDragStopped:()=>VR(d,!1),onDragCancelled:()=>VR(d,!1),onGridEnter:m=>{if(l){const{columns:C=[],visibleState:w}=m??{},y=u?A=>!w||w[A.getColId()]:()=>!0,R=C.filter(A=>!A.getColDef().lockVisible&&y(A));i.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{var C;if(l){const w=((C=m==null?void 0:m.columns)==null?void 0:C.filter(y=>!y.getColDef().lockVisible))||[];i.setColsVisible(w,!1,"uiColumnMoved")}}};return o.addDragSource(g,!0),g}};function Eq(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Dq(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function Tq(e,t){const s=e.getProvidedColumnGroup().getLeafColumns(),n={};s.forEach(l=>n[l.getId()]=l.isVisible());const i=[];t.forEach(l=>{s.indexOf(l)>=0&&(i.push(l),ho(s,l))}),s.forEach(l=>i.push(l));const o=[],r=e.getLeafColumns();for(const l of i)r.indexOf(l)!==-1&&o.push(l);return{columns:i,columnsInSplit:o,visibleState:n}}var Fq={moduleName:"ColumnMove",version:xe,beans:[Aq,dq],apiFunctions:{moveColumnByIndex:hq,moveColumns:fq},dependsOn:[cN],css:[uq]},Pq=class extends ue{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const s=this.getHeaderCellForColumn(e);if(!s)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(s),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const s=document.createElement("form");s.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,s)),n.appendChild(s);const i=s.offsetWidth;return n.removeChild(s),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(s=>{const n=s.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const s=e.cloneNode(!0);s.style.width="",s.style.position="static",s.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>s.classList.contains(l))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(u=>r.classList.contains(u))){for(let u=0;u<r.classList.length;u++){const d=r.classList[u];d!="ag-row-position-absolute"&&i.add(d)}break}r=r.parentElement}n.appendChild(s),t.appendChild(n)}},hN={moduleName:"AutoWidth",version:xe,beans:[Pq]};function Mq(e,t,s=!0,n="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,s,n)}var Lq=class extends ue{constructor(e,t,s,n){super(),this.comp=e,this.eResize=t,this.pinned=s,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:s}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&s&&this.addDestroyFunc(s.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:s,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:r}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=s,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r,this.toggleColumnResizing(!0)}onResizing(e,t,s="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,s,e)}getInitialValues(e){var u;const t=d=>d.reduce((f,g)=>f+g.getActualWidth(),0),s=(d,f)=>d.map(g=>g.getActualWidth()/f),n=this.getColumnsToResize(),i=t(n),o=s(n,i),r={columnsToResize:n,resizeStartWidth:i,resizeRatios:o};let l=null;if(e&&(l=((u=this.beans.colGroupSvc)==null?void 0:u.getGroupAtDirection(this.columnGroup,"After"))??null),l){const d=l.getDisplayedLeafColumns(),f=r.groupAfterColumns=d.filter(m=>m.isResizable()),g=r.groupAfterStartWidth=t(f);r.groupAfterRatios=s(f,g)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),s=this.getInitialValues();t>s.resizeStartWidth&&this.resizeColumns(s,t,e,!0)}resizeColumnsFromLocalValues(e,t,s=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,s)}resizeColumns(e,t,s,n=!0){var g;const{columnsToResize:i,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,f=[];if(f.push({columns:i,ratios:r,width:t}),l){const m=t-o;f.push({columns:l,ratios:d,width:u-m})}(g=this.beans.colResize)==null||g.resizeColumnSets({resizeSets:f,finished:n,source:s}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},kq=class extends ue{constructor(e,t,s,n,i){super(),this.pinned=e,this.column=t,this.eResize=s,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,s;const n=()=>{if(ts(this.eResize,t),!t)return;const{horizontalResizeSvc:r,colAutosize:l}=this.beans,u=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),s&&l&&e.push(l.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(r=>r()),e.length=0},o=()=>{const r=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||l!==s)&&(t=r,s=l,i(),n())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:s,lastResizeAmount:n,resizeStartWidth:i,beans:o}=this,r=this.normaliseResizeAmount(t),l=i+r,u=[{key:s,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:g}=o;if(this.column.getPinned()){const m=(d==null?void 0:d.leftWidth)??0,C=(d==null?void 0:d.rightWidth)??0,w=Ap(f.getGridBodyCtrl().eBodyViewport)-50;if(m+C+(r-n)>w)return}this.lastResizeAmount=r,g==null||g.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const s=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?s&&(t*=-1):n&&(t*=-1),t}},Iq=class extends ue{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,s,n){const i=[],{colModel:o,gos:r,visibleCols:l}=this.beans;e.forEach(u=>{const d=o.getColDefCol(u.key)||o.getCol(u.key);if(!d)return;if(i.push({width:u.newWidth,ratios:[1],columns:[d]}),r.get("colResizeDefault")==="shift"&&(t=!t),t){const g=l.getColAfter(d);if(!g)return;const m=d.getActualWidth()-u.newWidth,C=g.getActualWidth()+m;i.push({width:C,ratios:[1],columns:[g]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:s,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:s,source:n}=e;if(!(!t||t.every(f=>Oq(f)))){if(s){const f=t&&t.length>0?t[0].columns:null;pf(this.eventSvc,f,s,n)}return}const o=[],r=[];t.forEach(f=>{const{width:g,columns:m,ratios:C}=f,w={},y={};m.forEach(D=>r.push(D));let R=!0,A=0;for(;R;){if(A++,A>1e3){At(31);break}R=!1;const D=[];let E=0,T=g;m.forEach((L,N)=>{if(y[L.getId()])T-=w[L.getId()];else{D.push(L);const W=C[N];E+=W}});const P=1/E;D.forEach((L,N)=>{const B=N===D.length-1;let W;B?W=T:(W=Math.round(C[N]*g*P),T-=W);const z=L.getMinWidth(),q=L.getMaxWidth();W<z?(W=z,y[L.getId()]=!0,R=!0):q>0&&W>q&&(W=q,y[L.getId()]=!0,R=!0),w[L.getId()]=W})}m.forEach(D=>{const E=w[D.getId()];D.getActualWidth()!==E&&(D.setActualWidth(E,n),o.push(D))})});const l=o.length>0;let u=[];if(l){const{colFlex:f,visibleCols:g,colViewport:m}=this.beans;u=(f==null?void 0:f.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}))??[],g.setLeftValues(n),g.updateBodyWidths(),m.checkViewportColumns()}const d=r.concat(u);(l||s)&&pf(this.eventSvc,d,s,n,u)}resizeHeader(e,t,s){if(!e.isResizable())return;const n=e.getActualWidth(),i=e.getMinWidth(),o=e.getMaxWidth(),r=Math.min(Math.max(n+t,i),o);this.setColumnWidths([{key:e,newWidth:r}],s,!0,"uiColumnResized")}createResizeFeature(e,t,s,n,i){return new kq(e,t,s,n,i)}createGroupResizeFeature(e,t,s,n){return new Lq(e,t,s,n)}};function Oq(e){const{columns:t,width:s}=e;let n=0,i=0,o=!0;t.forEach(u=>{const d=u.getMinWidth();n+=d||0;const f=u.getMaxWidth();f>0?i+=f:o=!1});const r=s>=n,l=!o||s<=i;return r&&l}var _q={moduleName:"ColumnResize",version:xe,beans:[Iq],apiFunctions:{setColumnWidths:Mq},dependsOn:[cq,hN]},Nq=class extends ue{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Hq=class extends TD{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,s,n,i){const{column:o,beans:r}=this,{context:l,colNames:u,colHover:d,rangeSvc:f,colResize:g}=r;this.comp=e,i=lv(this,l,i),this.setGui(t,i),this.displayName=u.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,C=o.getProvidedColumnGroup().getLeafColumns();d==null||d.createHoverFeature(i,C,t),f==null||f.createRangeHighlightFeature(i,o,e),i.createManagedBean(new DD(o,t,r)),i.createManagedBean(new Nq(e,o)),g?this.resizeFeature=i.createManagedBean(g.createGroupResizeFeature(e,s,m,o)):e.setResizableDisplayed(!1),i.createManagedBean(new Ff(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,C),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.getDefinition();return We(t.gos,{colDef:s,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,s=e.get("groupHeaderHeight");s!=null?s===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(s):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const s of t)e.addManagedListeners(s,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,s)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),s=t[0]===e,n=xt(t)===e;if(!s&&!n)return;const i=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let r=!1,l=!1;if(o){const u=this.beans.gos.get("enableRtl"),d=i===1,f=i===0;s&&(u?l=d:r=f),n&&(u?r=f:l=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",r),this.comp.addOrRemoveCssClass("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:s}=this;if(!s)return;const n=s.getInitialValues(t);s.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:s}=this.beans,n=We(s,{displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,r)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}}),i=X$(t,n);i&&this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),s=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const s=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:s,expandableChanged:s})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),s=F_(t,this.gos,null,e);e.isPadding()?(s.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&s.push("ag-header-span-height")):(s.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&s.push("ag-header-cell-wrap-text")),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(o=>{e.addManagedListeners(o,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ae.ENTER){const s=this.column,n=!s.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Bq(e,t,s){var n;(n=e.colGroupSvc)==null||n.setColumnGroupOpened(t,s,"api")}function Gq(e,t,s){var n;return((n=e.colGroupSvc)==null?void 0:n.getColumnGroup(t,s))??null}function Vq(e,t){var s;return((s=e.colGroupSvc)==null?void 0:s.getProvidedColGroup(t))??null}function zq(e,t,s){return e.colNames.getDisplayNameForColumnGroup(t,s)||""}function Wq(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Uq(e,t){var s;(s=e.colGroupSvc)==null||s.setColumnGroupState(t,"api")}function jq(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function $q(e){return e.visibleCols.treeLeft}function qq(e){return e.visibleCols.treeCenter}function Kq(e){return e.visibleCols.treeRight}function Yq(e){return e.visibleCols.getAllTrees()}function Xq(e,t){for(let s=0;s<t.length;s++){const n=e.indexOf(t[s]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var Qq=class extends ue{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var l;const{colModel:s,colGroupSvc:n,colViewport:i}=this.beans;t||this.buildTrees(s,n),n==null||n.updateOpenClosedVisibility();const o=zR(this.treeLeft);this.leftCols=o,this.centerCols=zR(this.treeCenter);const r=zR(this.treeRight);this.rightCols=r,this.joinColsAriaOrder(s),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(u=>u.isAutoHeight()),(l=this.beans.colFlex)==null||l.refreshFlexedColumns(),this.updateBodyWidths(),i.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(s,o,r,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Ar(this.centerCols),t=Ar(this.leftCols),s=Ar(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==s)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=s,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,s,n){let i,o;this.gos.get("enableRtl")?(i=t?t[0]:null,o=s?xt(s):null):(i=t?xt(t):null,o=s?s[0]:null),e.getCols().forEach(r=>{r.setLastLeftPinned(r===i,n),r.setFirstRightPinned(r===o,n)})}buildTrees(e,t){const s=e.getColsToShow(),n=s.filter(u=>u.getPinned()=="left"),i=s.filter(u=>u.getPinned()=="right"),o=s.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),r=new x_,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:n,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),s=[],n=[],i=[];for(const o of t){const r=o.getPinned();r?r===!0||r==="left"?s.push(o):i.push(o):n.push(o)}this.ariaOrderColumns=s.concat(n).concat(i)}getAriaColIndex(e){let t;return es(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{es(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(i){let r=Ar(o);o.forEach(l=>{r-=l.getActualWidth(),l.setLeft(r,e)})}else{let r=0;o.forEach(l=>{l.setLeft(r,e),r+=l.getActualWidth()})}Xq(n,o)}),n.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,s,n){const i=[];let o=null;for(let r=0;r<t.length;r++){const l=t[r],u=t.length-r,d=Math.min(l.getColSpan(e),u),f=[l];if(d>1){const m=d-1;for(let C=1;C<=m;C++)f.push(t[r+C]);r+=m}let g;s?(g=!1,f.forEach(m=>{s(m)&&(g=!0)})):g=!0,g&&(i.length===0&&o&&(n&&n(l))&&i.push(o),i.push(l)),o=l}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,s=t.indexOf(e);return s>0?t[s-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};bu(this.treeCenter,!1,e),bu(this.treeLeft,!1,e),bu(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let s=0;s<t.length;s++){const n=this[t[s]];if(n.length)return e?xt(n):n[0]}return null}getColAfter(e){const t=this.allCols,s=t.indexOf(e);return s<t.length-1?t[s+1]:null}getColsLeftWidth(){return Ar(this.leftCols)}getDisplayedColumnsRightWidth(){return Ar(this.rightCols)}isColAtEdge(e,t){const s=this.allCols;if(!s.length)return!1;const n=t==="first";let i;if(es(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=n?o[0]:xt(o)}else i=e;return(n?s[0]:xt(s))===i}};function bu(e,t,s){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(es(i)){const o=t?i.getDisplayedChildren():i.getChildren();bu(o,t,s)}s(i)}}function zR(e){const t=[];return bu(e,!0,s=>{Fl(s)&&t.push(s)}),t}var Zq=class extends ue{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return ea(null,t,s=>{Cn(s)&&e.push({groupId:s.getGroupId(),open:s.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const s=[];ea(null,t,n=>{if(Cn(n)){const i=n.getColGroupDef(),o={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};s.push(o)}}),this.setColumnGroupState(s,e)}setColumnGroupState(e,t){const{colModel:s,colAnimation:n,visibleCols:i,eventSvc:o}=this.beans;if(!s.getColTree().length)return;n==null||n.start();const l=[];e.forEach(u=>{const d=u.groupId,f=u.open,g=this.getProvidedColGroup(d);g&&g.isExpanded()!==f&&(g.setExpanded(f),l.push(g))}),i.refresh(t,!0),l.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),n==null||n.finish()}setColumnGroupOpened(e,t,s){let n;Cn(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],s)}getProvidedColGroup(e){let t=null;return ea(null,this.beans.colModel.getColTree(),s=>{Cn(s)&&s.getId()===e&&(t=s)}),t}getGroupAtDirection(e,t){const s=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?xt(n):n[0],o=`getCol${t}`;for(;;){const r=this.beans.visibleCols[o](i);if(!r)return null;const l=this.getColGroupAtLevel(r,s);if(l!==e)return l}}getColGroupAtLevel(e,t){let s=e.getParent(),n,i;for(;n=s.getProvidedColumnGroup().getLevel(),i=s.getPaddingLevel(),!(n+i<=t);)s=s.getParent();return s}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();bu(e,!1,t=>{es(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(es(e))return e;const s=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let i=null;return bu(s,!1,o=>{if(es(o)){const r=o;let l;n?l=e===r.getGroupId()&&t===r.getPartId():l=e===r.getGroupId(),l&&(i=r)}}),i}createColumnGroups(e){const{columns:t,idCreator:s,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(i),l=[];let u=t;for(;u.length;){const d=u;u=[];let f=0;const g=m=>{const C=f;f=m;const w=d[C],R=(es(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(R==null){for(let D=C;D<m;D++)l.push(d[D]);return}const A=this.createColumnGroup(R,s,r,n,o);for(let D=C;D<m;D++)A.addChild(d[D]);u.push(A)};for(let m=1;m<d.length;m++){const C=d[m],y=(es(C)?C.getProvidedColumnGroup():C).getOriginalParent(),R=d[f],D=(es(R)?R.getProvidedColumnGroup():R).getOriginalParent();y!==D&&g(m)}f<d.length&&g(d.length)}return o||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,s,n,i,o,r){const l=i.getUniqueKey(t.groupId||null,null),u=this.createMergedColGroupDef(t,l),d=new ib(u,l,!1,s);this.createBean(d);const f=this.findExistingGroup(t,o);f&&o.splice(f.idx,1);const g=f==null?void 0:f.group;g&&d.setExpanded(g.isExpanded());const m=m_(this.beans,u.children,s+1,e,n,i,o,r);return d.setChildren(m),d}balanceColumnTree(e,t,s,n){const i=[];for(let o=0;o<e.length;o++){const r=e[o];if(Cn(r)){const l=r,u=this.balanceColumnTree(l.getChildren(),t+1,s,n);l.setChildren(u),i.push(l)}else{let l,u;for(let d=s-1;d>=t;d--){const f=n.getUniqueKey(null,null),g=this.createMergedColGroupDef(null,f),m=new ib(g,f,!0,t);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(i.push(l),e.some(f=>Cn(f))){u.setChildren([r]);continue}else{u.setChildren(e);break}i.push(r)}}return i}findDepth(e){let t=0,s=e;for(;s&&s[0]&&Cn(s[0]);)t++,s=s[0].getChildren();return t}findMaxDepth(e,t){let s=t;for(let n=0;n<e.length;n++){const i=e[n];if(Cn(i)){const o=i,r=this.findMaxDepth(o.getChildren(),t+1);s<r&&(s=r)}}return s}balanceTreeForAutoCols(e,t){const s=[];return e.forEach(n=>{let i=n;for(let o=t-1;o>=0;o--){const r=new ib(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(r),r.setChildren([i]),i.originalParent=r,i=r}t===0&&(n.originalParent=null),s.push(i)}),s}createMergedColGroupDef(e,t){const s={},{gos:n,validation:i}=this.beans;return Object.assign(s,n.get("defaultColGroupDef")),Object.assign(s,e),i==null||i.validateColDef(s,t),s}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}createColumnGroup(e,t,s,n,i){const o=e.getGroupId(),r=t.getInstanceIdForKey(o),l=B_(o,r);let u=s[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),Se(u)?u.reset():(u=new G_(e,o,r,n),i||this.createBean(u)),u}mapOldGroupsById(e){const t={},s=n=>{n.forEach(i=>{if(es(i)){const o=i;t[i.getUniqueId()]=o,s(o.getChildren())}})};return e&&s(e),t}setupParentsIntoCols(e,t){e.forEach(s=>{if(s.parent=t,es(s)){const n=s;this.setupParentsIntoCols(n.getChildren(),n)}})}},Jq={moduleName:"ColumnGroup",version:xe,dynamicBeans:{headerGroupCellCtrl:Hq},beans:[Zq],apiFunctions:{getAllDisplayedColumnGroups:Yq,getCenterDisplayedColumnGroups:qq,getColumnGroup:Gq,getColumnGroupState:Wq,getDisplayNameForColumnGroup:zq,getLeftDisplayedColumnGroups:$q,getProvidedColumnGroup:Vq,getRightDisplayedColumnGroups:Kq,resetColumnGroupState:jq,setColumnGroupOpened:Bq,setColumnGroupState:Uq}},eK={moduleName:"CheckboxCellRenderer",version:xe,userComponents:{agCheckboxCellRenderer:f9}};function tK(e,t){const s=e.colModel.getColDefCol(t);return s?s.getColDef():null}function sK(e){return e.colModel.getColumnDefs()}function nK(e,t,s){return e.colNames.getDisplayNameForColumn(t,s)||""}function iK(e,t){return e.colModel.getColDefCol(t)}function oK(e){return e.colModel.getColDefCols()}function rK(e,t){return ci(e,t,"api")}function aK(e){return Fp(e)}function lK(e){S$(e,"api")}function cK(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function uK(e){return e.visibleCols.isPinningLeft()}function dK(e){return e.visibleCols.isPinningRight()}function hK(e,t){return e.visibleCols.getColAfter(t)}function fK(e,t){return e.visibleCols.getColBefore(t)}function gK(e,t,s){e.colModel.setColsVisible(t,s,"api")}function pK(e,t,s){var n;(n=e.pinnedCols)==null||n.setColsPinned(t,s,"api")}function mK(e){return e.colModel.getCols()}function vK(e){return e.visibleCols.leftCols}function CK(e){return e.visibleCols.centerCols}function bK(e){return e.visibleCols.rightCols}function wK(e){return e.visibleCols.allCols}function yK(e){return e.colViewport.getViewportColumns()}function Vx(e,t){if(!e)return;const s=e,n={};return Object.keys(s).forEach(i=>{if(t&&t.indexOf(i)>=0||d_.has(i))return;const o=s[i];typeof o=="object"&&o!==null&&o.constructor===Object?n[i]=Vx(o):n[i]=o}),n}var SK=class extends ue{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,s,n){var l,u;const i=e.slice();t?i.sort((d,f)=>s.indexOf(d)-s.indexOf(f)):s&&i.sort((d,f)=>n.indexOf(d)-n.indexOf(f));const o=(l=this.rowGroupColsSvc)==null?void 0:l.columns,r=(u=this.pivotColsSvc)==null?void 0:u.columns;return this.buildColumnDefs(i,o,r)}buildColumnDefs(e,t=[],s=[]){const n=[],i={};return e.forEach(o=>{const r=this.createDefFromColumn(o,t,s);let l=!0,u=r,d=o.getOriginalParent(),f=null;for(;d;){let g=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=i[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(g=this.createDefFromGroup(d),g&&(g.children=[u],i[g.groupId]=g,u=g,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&n.push(u)}),n}createDefFromGroup(e){const t=Vx(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,s){const n=Vx(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?s.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},RK=class extends ue{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const s=this.flexViewportWidth;if(!s)return[];const{visibleCols:n}=this.beans,i=n.centerCols;let o=-1;if(e.resizingCols){const w=new Set(e.resizingCols);for(let y=i.length-1;y>=0;y--)if(w.has(i[y])){o=y;break}}let r=!1;const l=i.map((w,y)=>{const R=w.getFlex(),A=R!=null&&R>0&&y>o;return r||(r=A),{col:w,isFlex:A,flex:Math.max(0,R??0),initialSize:w.getActualWidth(),min:w.getMinWidth(),max:w.getMaxWidth(),targetSize:0}});if(!r)return[];let u=l.length,d=l.reduce((w,y)=>w+y.flex,0),f=s;const g=(w,y)=>{w.frozenSize=y,w.col.setActualWidth(y,t),f-=y,d-=w.flex,u-=1},m=w=>w.frozenSize!=null;for(const w of l)w.isFlex||g(w,w.initialSize);for(;u>0;){const w=Math.round(d<1?f*d:f);let y,R=0,A=0;for(const T of l){if(m(T))continue;y=T,A+=w*(T.flex/d);const P=A-R,L=Math.round(P);T.targetSize=L,R+=L}y&&(y.targetSize+=w-R);let D=0;for(const T of l){if(m(T))continue;const P=T.targetSize,L=Math.min(Math.max(P,T.min),T.max);D+=L-P,T.violationType=L===P?void 0:L<P?"max":"min",T.targetSize=L}const E=D===0?"all":D>0?"min":"max";for(const T of l)m(T)||(E==="all"||T.violationType===E)&&g(T,T.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const C=l.filter(w=>w.isFlex&&!w.violationType).map(w=>w.col);if(e.fireResizedEvent){const w=l.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),y=l.filter(R=>R.flex).map(R=>R.col);pf(this.eventSvc,w,!0,t,y)}return C}initCol(e){const{flex:t,initialFlex:s}=e.colDef;t!==void 0?e.flex=t:s!==void 0&&(e.flex=s)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},xK=class extends ue{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const s={};this.formatValueFuncs=s;const n=r=>l=>{const{column:u,node:d,value:f}=l;let g=u.getColDef().valueFormatter;return g===r.groupSafeValueFormatter&&(g=r.valueFormatter),this.beans.valueSvc.formatValue(u,d,f,g)};for(const r of Object.keys(e)){const l=e[r],u={...l,groupSafeValueFormatter:wL(l,this.gos)};t[r]=u,s[r]=n(u)}const i=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o;for(const r of Object.keys(i)){const l=i[r],u=this.processDataTypeDefinition(l,i,[r],e);u&&(t[r]=u,l.dataTypeMatcher&&(o[r]=l.dataTypeMatcher),s[r]=n(u))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{const l=o[r];l&&delete o[r],o[r]=l??e[r].dataTypeMatcher})}processDataTypeDefinition(e,t,s,n){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=n[o];const l=t[o];if(r&&l&&(r=l),!bL(e,r,o))return;i=CL(r,e)}else{if(s.includes(o)){we(44);return}const r=t[o];if(!bL(e,r,o))return;const l=this.processDataTypeDefinition(r,t,[...s,o],n);if(!l)return;i=CL(l,e)}return{...i,groupSafeValueFormatter:wL(i,this.gos)}}updateColDefAndGetColumnType(e,t,s){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,s):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){we(47,{cellDataType:n});return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,o,s),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const s=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",s),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",s))}canInferCellDataType(e,t){const{gos:s}=this;if(!an(s))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(WR(t,n))return!1;const i=t.type===null?e.type:t.type;if(i){const o=s.get("columnTypes")??{};if(nw(i).some(l=>{const u=o[l.trim()];return u&&WR(u,n)}))return!1}return!WR(e,n)}inferCellDataType(e,t){if(!e)return;let s;const n=this.getInitialData();if(n){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");s=ap(n,e,i)}else this.initWaitForRowData(t);if(s!=null)return Object.keys(this.dataTypeMatchers).find(i=>this.dataTypeMatchers[i](s))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const s=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(s!=null&&s.length)return s[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:s,eventSvc:n}=this.beans;t&&s&&(s.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:r}=o;r&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&(s==null||s.processResizeOperations()),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const s=[];this.destroyColumnStateUpdateListeners();const n={},i={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const r=this.columnStateUpdatesPendingInference[o],l=this.colModel.getCol(o);if(!l)return;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))return;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const f=EK(l,r);f.rowGroup&&f.rowGroupIndex==null&&(n[o]=f),f.pivot&&f.pivotIndex==null&&(i[o]=f),s.push(f)}}t&&s.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,i)),s.length&&ci(this.beans,{state:s},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const s={},{rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;return n==null||n.restoreColumnOrder(s,e),i==null||i.restoreColumnOrder(s,t),Object.values(s)}resetColDefIntoCol(e,t){const s=e.getUserProvidedColDef();if(!s)return!1;const n=Ox(this.beans,s,e.getColId());return e.setColDef(n,s,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,s=e.object;this.hasObjectValueParser=t.valueParser!==s.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==s.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const s=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return s?s(t):!0}validateColDef(e){const t=s=>we(48,{property:s});if(e.cellDataType==="object"){const{object:s}=this.dataTypeDefinitions;e.valueFormatter===s.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===s.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,s,n){var o;const i=this.formatValueFuncs[t];switch(s.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=r=>!!r.colDef.editable&&r.event.key===ae.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(r,l)=>{const u=this.colModel.getColDefCol(n),d=u==null?void 0:u.getColDef();if(!u||!d)return 0;const f=r==null?"":i({column:u,node:null,value:r}),g=l==null?"":i({column:u,node:null,value:l});return f===g?0:f>g?1:-1},e.keyCreator=i;break}}(o=this.beans.filterManager)==null||o.setColDefPropertiesForDataType(e,s,i)}getDefaultDataTypes(){const e=s=>!!s.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:s=>{var n,i;return((i=(n=s.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:Number(s.newValue)},valueFormatter:s=>s.value==null?"":typeof s.value!="number"||isNaN(s.value)?t("invalidNumber","Invalid Number"):String(s.value),dataTypeMatcher:s=>typeof s=="number"},text:{baseDataType:"text",valueParser:s=>s.newValue===""?null:Tx(s.newValue),dataTypeMatcher:s=>typeof s=="string"},boolean:{baseDataType:"boolean",valueParser:s=>{var n,i;return s.newValue==null?s.newValue:((i=(n=s.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:String(s.newValue).toLowerCase()==="true"},valueFormatter:s=>s.value==null?"":String(s.value),dataTypeMatcher:s=>typeof s=="boolean"},date:{baseDataType:"date",valueParser:s=>Gn(s.newValue==null?null:String(s.newValue)),valueFormatter:s=>s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):Oi(s.value,!1)??"",dataTypeMatcher:s=>s instanceof Date},dateString:{baseDataType:"dateString",dateParser:s=>Gn(s)??void 0,dateFormatter:s=>Oi(s??null,!1)??void 0,valueParser:s=>e(String(s.newValue))?s.newValue:null,valueFormatter:s=>e(String(s.value))?s.value:"",dataTypeMatcher:s=>typeof s=="string"&&e(s)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:s=>Tx(s.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function CL(e,t){const s={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(s.columnTypes=[...nw(e.columnTypes),...nw(t.columnTypes)]),s}function bL(e,t,s){return t?t.baseDataType!==e.baseDataType?(we(46),!1):!0:(we(45,{parentCellDataType:s}),!1)}function wL(e,t){if(e.valueFormatter)return s=>{var n,i;if((n=s.node)!=null&&n.group){const o=(s.colDef.pivotValueColumn??s.column).getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(s);if(e.baseDataType==="number"&&o!=="count"){if(typeof s.value=="number")return e.valueFormatter(s);if(typeof s.value=="object"){if(!s.value)return;if("toNumber"in s.value)return e.valueFormatter({...s,value:s.value.toNumber()});if("value"in s.value)return e.valueFormatter({...s,value:s.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&s.column.isRowGroupActive()&&typeof s.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,s.value)))return;return e.valueFormatter(s)}}function AK(e,t,s,n){if(!t[s])return!1;const i=e[s];return i===null?(t[s]=!1,!1):n===void 0?!!i:i===n}function WR(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([s,n])=>AK(e,t,s,n))}function EK(e,t){const s=R_(e);return t.forEach(n=>{delete s[n],n==="rowGroup"?delete s.rowGroupIndex:n==="pivot"&&delete s.pivotIndex}),s}var DK={moduleName:"DataType",version:xe,beans:[xK],dependsOn:[eK]},TK={moduleName:"ColumnFlex",version:xe,beans:[RK]},FK={moduleName:"ColumnApi",version:xe,beans:[SK],apiFunctions:{getColumnDef:tK,getDisplayNameForColumn:nK,getColumn:iK,getColumns:oK,applyColumnState:rK,getColumnState:aK,resetColumnState:lK,isPinning:cK,isPinningLeft:uK,isPinningRight:dK,getDisplayedColAfter:hK,getDisplayedColBefore:fK,setColumnsVisible:gK,setColumnsPinned:pK,getAllGridColumns:mK,getDisplayedLeftColumns:vK,getDisplayedCenterColumns:CK,getDisplayedRightColumns:bK,getAllDisplayedColumns:wK,getAllDisplayedVirtualColumns:yK,getColumnDefs:sK}};function PK(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,s=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(s,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var MK=class extends ue{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,s=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return s&&i?i.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,s){const n=t==null?void 0:t.getColGroupDef();return n?this.getHeaderName(n,null,e,t,s):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,s,n,i){var r;const o=e.headerValueGetter;if(o){const l=We(this.gos,{colDef:e,column:t,columnGroup:s,providedColumnGroup:n,location:i});return typeof o=="function"?o(l):typeof o=="string"?((r=this.beans.expressionSvc)==null?void 0:r.evaluate(o,l))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return PK(e.field)}return""}},LK=class extends ue{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,s=!1){const{visibleCols:n}=this,i=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const r=n.bodyWidth;this.viewportLeft=r-t-e,this.viewportRight=r-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(s)}}getHeadersToRender(e,t){let s;switch(e){case"left":s=this.rowsOfHeadersToRenderLeft[t];break;case"right":s=this.rowsOfHeadersToRenderRight[t];break;default:s=this.rowsOfHeadersToRenderCenter[t];break}return s||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||kK(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,s=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,o=t<n&&s<n,r=t>i&&s>i;return!o&&!r}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const r=o.getLeft();return Se(r)&&r>this.viewportLeft},s=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,i=n.centerCols;return n.getColsForRow(e,i,s,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:s,treeLeft:n,treeRight:i,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(s).forEach(u=>e[u.getId()]=!0);const l=(u,d,f)=>{let g=!1;for(let m=0;m<u.length;m++){const C=u[m];let w=!1;if(Fl(C))w=e[C.getId()]===!0;else{const R=C.getDisplayedChildren();R&&(w=l(R,d,f+1))}w&&(g=!0,d[f]||(d[f]=[]),d[f].push(C))}return g};l(n,this.rowsOfHeadersToRenderLeft,0),l(i,this.rowsOfHeadersToRenderRight,0),l(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),s=this.colsWithinViewportHash!==t;return s&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),s}};function kK(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var IK=class extends ue{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class s{refresh(){return!1}getGui(){return this.eGui}init(i){const o=t(i),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=Sy("<span>"+o+"</span>");return}if(o==null){this.eGui=un({tag:"span"});return}this.eGui=o}}return s}},OK={moduleName:"CellRendererFunction",version:xe,beans:[IK]},_K=class extends ue{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:s,dynamicBeans:n,selectors:i}=e;if(s){const o=(r,l,u)=>{this.agGridDefaults[r]=l,u&&(this.agGridDefaultParams[r]=u)};for(const r of Object.keys(s)){const l=s[r];typeof l=="object"?o(r,l.classImp,l.params):o(r,l)}}if(n)for(const o of Object.keys(n))this.dynamicBeans[o]=n[o];if(i==null||i.forEach(o=>{this.selectors[o.selector]=o}),t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var l;const s=(u,d,f)=>({componentFromFramework:d,component:u,params:f}),{frameworkOverrides:n}=this.beans,i=n.frameworkComponent(t,this.gos.get("components"));if(i!=null)return s(i,!0);const o=this.jsComps[t];if(o){const u=n.isFrameworkComponent(o);return s(o,u)}const r=this.agGridDefaults[t];return r?s(r,!1,this.agGridDefaultParams[t]):((l=this.beans.validation)==null||l.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...s){const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(xl(256));return}return new n(...s)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},NK=23,HK=class extends ue{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(s=>s(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===NK&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const s=this.readyCallbacks.indexOf(t);s>=0&&this.readyCallbacks.splice(s,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:s}=this.params;return[e,s,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},BK=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',Ek,Dk,kD=typeof window!="object"||!((Dk=(Ek=window==null?void 0:window.document)==null?void 0:Ek.fonts)!=null&&Dk.forEach),zx=new WeakMap,Cf=(e,t,s,n,i,o)=>{if(kD)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let r=zx.get(t);if(r||(r=[],zx.set(t,r)),r.find(f=>f.css===e))return;const l=document.createElement("style");o&&l.setAttribute("nonce",o),l.dataset.agGlobalCss=s,l.textContent=e;const u={css:e,el:l,priority:i};let d;for(const f of r){if(f.priority>i)break;d=f}if(d){d.el.insertAdjacentElement("afterend",l);const f=r.indexOf(d);r.splice(f+1,0,u)}else t.insertBefore(l,t.querySelector(":not(title, meta)")),r.push(u)},fN=(e,t,s)=>{Cf(BK,e,"core",t,0,s),Array.from(m8()).sort((n,i)=>n.moduleName.localeCompare(i.moduleName)).forEach(n=>{var i;return(i=n.css)==null?void 0:i.forEach(o=>Cf(o,e,`module-${n.moduleName}`,t,0,s))})},Wx=new Set,GK=e=>{Wx.add(e)},VK=e=>{if(Wx.delete(e),Wx.size===0){zx=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},la=e=>new gN(e),ja="$default",zK=0,gN=class{constructor({feature:e,params:t,modeParams:s={},css:n,cssImports:i}){this.feature=e,this.css=n,this.cssImports=i,this.modeParams={[ja]:{...s[ja]??{},...t??{}},...s}}use(e,t,s){let n=this._inject;if(n==null){let{css:i}=this;if(i){const o=`ag-theme-${this.feature??"part"}-${++zK}`;typeof i=="function"&&(i=i()),i=`:where(.${o}) {
${i}
}
`;for(const r of this.cssImports??[])i=`@import url(${JSON.stringify(r)});
${i}`;n={css:i,class:o}}else n=!1;this._inject=n}return n&&e&&Cf(n.css,e,n.class,t,1,s),n?n.class:!1}},WK=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),pN=e=>`--ag-${WK(e)}`,er=e=>`var(${pN(e)})`,UK=(e,t,s)=>Math.max(t,Math.min(s,e)),jK=e=>{const t=new Map;return s=>{const n=s;return t.has(n)||t.set(n,e(s)),t.get(n)}},Ao=e=>({ref:"accentColor",mix:e}),Ri=e=>({ref:"foregroundColor",mix:e}),ro=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),$K=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),ai={ref:"backgroundColor"},kg={ref:"foregroundColor"},qa={ref:"accentColor"},fw={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Ri(.15),chromeBackgroundColor:ro(.02),browserColorScheme:"light"},qK={...fw,textColor:kg,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:ai,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:qa,rangeSelectionBackgroundColor:Ao(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Ao(.5),rangeHeaderHighlightColor:$K(.08),rowNumbersSelectedColor:Ao(.5),rowHoverColor:Ao(.08),columnHoverColor:Ao(.05),selectedRowBackgroundColor:Ao(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:ai,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:ai,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Ri(.7),focusShadow:{spread:3,color:Ao(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Ri(.1),iconButtonActiveColor:qa,iconButtonActiveBackgroundColor:Ao(.28),iconButtonActiveIndicatorColor:qa,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:qa,toggleButtonOffBackgroundColor:ro(.3),toggleButtonSwitchBackgroundColor:ai,toggleButtonSwitchInset:2,menuBorder:{color:Ri(.2)},menuBackgroundColor:ro(.03),menuTextColor:ro(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Ri(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:qa},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Ri(.2)},panelBackgroundColor:ai,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Ri(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Ri(.13)},selectCellBackgroundColor:Ri(.07),selectCellBorder:{color:Ri(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:kg,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:kg,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Ri(.15),statusBarLabelColor:kg,statusBarLabelFontWeight:500,statusBarValueColor:kg,statusBarValueFontWeight:500},KK=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",YK={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},XK=()=>la({feature:"buttonStyle",params:{...YK,buttonBackgroundColor:ai,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:qa}},css:KK}),QK=XK(),ZK=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",JK=()=>la({feature:"columnDropStyle",css:ZK}),mN=JK(),eY=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],tY=jK(e=>(e=e.toLowerCase(),eY.find(t=>e.endsWith(t.toLowerCase()))??"length")),Ey=e=>typeof e=="object"&&(e!=null&&e.ref)?er(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,ID=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=er(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?er(e.onto):"transparent"}, ${t} ${UK(e.mix*100,0,100)}%)`}return!1},sY=Ey,jd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,s=>s[0]==="-"?s:` ${er(s)} `)})`:e&&"ref"in e?er(e.ref):!1,nY=Ey,iY=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?er(e.ref):vN(e.style??"solid")+" "+jd(e.width??1)+" "+ID(e.color??{ref:"borderColor"}),oY=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?er(e.ref):[jd(e.offsetX??0),jd(e.offsetY??0),jd(e.radius??0),jd(e.spread??0),ID(e.color??{ref:"foregroundColor"})].join(" "),vN=Ey,CN=e=>typeof e=="string"?e.includes(",")?e:yL(e):e&&"googleFont"in e?CN(e.googleFont):e&&"ref"in e?er(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),yL(t))).join(", "):!1,yL=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),rY=Ey,bN=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?bN({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?er(e.ref):!1,aY=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&At(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?er(e.ref):!1,lY={color:ID,colorScheme:sY,length:jd,scale:nY,border:iY,borderStyle:vN,shadow:oY,image:bN,fontFamily:CN,fontWeight:rY,duration:aY},cY=(e,t)=>{const s=tY(e);return lY[s](t,e)},uY=()=>new wN().withPart(QK).withPart(mN),wN=class yN{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof gN?new yN([...this.parts,t]):(Mx(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(la({feature:t}))}withParams(t,s=ja){return this.withPart(la({modeParams:{[s]:t}}))}_startUse({styleContainer:t,cssLayer:s,nonce:n,loadThemeGoogleFonts:i}){if(kD)return;hY(),fN(t,s,n);const o=dY(this);if(o.length>0)for(const r of o)i&&gY(r,n);for(const r of this.parts)r.use(t,s,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=SL(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const s={[ja]:{...qK}};for(const n of SL(this.parts))for(const i of Object.keys(n.modeParams)){const o=n.modeParams[i];if(o){const r=s[i]??(s[i]={}),l=new Set;for(const u of Object.keys(o)){const d=o[u];d!==void 0&&(r[u]=d,l.add(u))}if(i===ja)for(const u of Object.keys(s)){const d=s[u];if(u!==ja)for(const f of l)delete d[f]}}}this._paramsCache=t=s}return t}_getPerGridCss(t){const s="##SELECTOR##";let n=this._paramsCssCache;if(!n){let i="",o="";const r=this._getModeParams();for(const u of Object.keys(r)){const d=r[u];if(u!==ja){const g=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(u):u}"]) & {
`;i+=g,o+=g}for(const f of Object.keys(d).sort()){const g=d[f],m=cY(f,g);if(m===!1)At(107,{key:f,value:g});else{const C=pN(f),w=C.replace("--ag-","--ag-inherited-");i+=`	${C}: var(${w}, ${m});
`,o+=`	${w}: var(${C});
`}}u!==ja&&(i+=`}
`,o+=`}
`)}let l=`${s} {
${i}}
`;l+=`:has(> ${s}):not(${s}) {
${o}}
`,this._paramsCssCache=n=l}return n.replaceAll(s,`:where(.${t})`)}},SL=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const s=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&s.push(n);return s},dY=e=>{const t=new Set,s=o=>{if(Array.isArray(o))o.forEach(s);else{const r=o==null?void 0:o.googleFont;typeof r=="string"&&t.add(r)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(s),Array.from(t).sort()},RL=!1,hY=()=>{if(!RL){RL=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},fY=new Set,gY=async(e,t)=>{fY.add(e);const s=`@import url('https://${pY}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Cf(s,document.head,`googleFont:${e}`,void 0,0,t)},pY="fonts.googleapis.com",mY='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',vY=()=>la({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:ai,checkboxUncheckedBorderColor:ro(.3),checkboxCheckedBackgroundColor:qa,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:ai,checkboxIndeterminateBackgroundColor:ro(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:ai,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:mY}),CY=vY(),SN=()=>({...fw,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ro(.05),rowHoverColor:Ao(.15),selectedRowBackgroundColor:Ao(.2),menuBackgroundColor:ro(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:ai,findActiveMatchColor:ai,checkboxUncheckedBorderColor:ro(.4),toggleButtonOffBackgroundColor:ro(.4)}),bY=()=>({...SN(),backgroundColor:"#1f2836"}),wY=()=>la({feature:"colorScheme",params:fw,modeParams:{light:fw,dark:SN(),"dark-blue":bY()}}),yY=wY(),RN={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},xN={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},SY=(e={})=>{let t="";for(const s of[...Object.keys(RN),...Object.keys(xN)]){const n=RY(s,e.strokeWidth);t+=`.ag-icon-${s}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},RY=(e,t=1.5)=>{const s=xN[e];if(s)return s;const n=RN[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},xY=(e={})=>la({feature:"iconSet",css:()=>SY(e)}),AY=xY(),EY=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',DY=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",TY={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},FY=()=>la({feature:"inputStyle",params:{...TY,inputBackgroundColor:ai,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:qa},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ro(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>EY+DY}),PY=FY(),MY='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',LY={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},kY=()=>la({feature:"tabStyle",params:{...LY,tabBarBorder:!0,tabBarBackgroundColor:Ri(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:ai},css:MY}),IY=kY(),OY=()=>uY().withPart(CY).withPart(yY).withPart(AY).withPart(IY).withPart(PY).withPart(mN).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),_Y=OY(),NY={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},HY={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},BY={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},xL={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},AL={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},EL={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},UR={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},GY=0,VY=class extends ue{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++GY}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:s}=e;this.eGridDiv=t,this.eStyleContainer=s.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=s.themeCssLayer,this.styleNonce=s.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(xL),this.getSizeEl(AL),this.getSizeEl(EL),this.getSizeEl(UR),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>VK(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(xL)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(AL)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(NY)}getDefaultIndentation(){return this.getCSSVariablePixelValue(HY)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(BY)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),s=this.getDefaultRowGroupIndentSize();return e-1+s*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(EL)}getRowBorderWidth(){return this.getCSSVariablePixelValue(UR)}applyThemeClasses(e){const{gridTheme:t}=this;let s="";if(t)s=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let i=!1;for(const o of Array.from(n.classList))o.startsWith("ag-theme-")&&(i=!0,s=s?`${s} ${o}`:o);i&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(s){const n=e.className;e.className=n+(n?" ":"")+s}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),s=this.gos.get("rowHeight");if(s==null||isNaN(s)||!isFinite(s))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${s}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),s):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Cf(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const s=this.measureSizeEl(e);return s==="detached"||s==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,s),s)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const s=t.offsetWidth;return s===jR?"no-styles":(this.sizesMeasured=!0,s)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=un({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const s=this.getMeasurementContainer();t=un({tag:"div"});const{border:n,noWarn:i}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${jR}px)`)):t.style.width=`var(${e.cssName}, ${jR}px)`,s.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!i&&we(9,{variable:e});const r=pa(this.beans,t,()=>{const l=this.measureSizeEl(e);l==="detached"||l==="no-styles"||(this.lastKnownValues.set(e,l),l!==o&&(o=l,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(UR);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:s,gridTheme:n}=this,i=e.get("theme");let o;if(i==="legacy")o=void 0;else{const r=i??_Y;r instanceof wN?o=r:At(240,{theme:r})}if(o!==n){if(o){GK(this),fN(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[l,u]of s)Cf(l,this.eStyleContainer,u,this.cssLayer,0,this.styleNonce);s.length=0}this.gridTheme=o,o==null||o._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let r=this.eParamsStyle;if(!r){r=this.eParamsStyle=un({tag:"style"});const l=this.gos.get("styleNonce");l&&r.setAttribute("nonce",l),t.appendChild(r)}kD||(r.textContent=(o==null?void 0:o._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&At(i?106:239)}},jR=15538,zY=class extends ue{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Su}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,s){this.globalEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){this.globalEventService.removeEventListener(e,t,s)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(We(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(We(this.gos,e))}};function AN(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function Ux(e,t){let s;if(es(e)&&AN(e)&&e.isPadding()){const n=e;s=n.getLeafColumns()[0];let i=s;for(;i!==n;)t++,i=i.getParent()}return{column:s||e,headerRowIndex:t}}var WY=class extends ue{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,s=>{this.gridBodyCon=s.gridBodyCtrl});const t=ds(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let s;const{colModel:n,colGroupSvc:i,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(s=n.getCol(e),s||(s=(i==null?void 0:i.getColumnGroup(e))??null)):s=e,!s)return null;const r=o.getHeaderRowContainerCtrl(),l=r==null?void 0:r.getAllCtrls(),u=xt(l||[]).type==="filter",d=$o(this.beans)-1;let f=-1,g=s;for(;g;)f++,g=g.getParent();let m=f;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:s}}navigateVertically(e,t,s){const n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;const{headerRowIndex:i}=t,o=t.column,r=$o(this.beans),l=e==="UP",u=this.getHeaderRowType(i);let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:g}=l?UY(u,o,i):jY(u,o,i),m=!1;return d<0&&(d=0,f=o,m=!0),d>=r?(d=-1,this.currentHeaderRowWithoutSpan=-1):g!==void 0&&(this.currentHeaderRowWithoutSpan=g),!m&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:s})}navigateHorizontally(e,t=!1,s){const{focusSvc:n,gos:i}=this.beans,o=n.focusedHeader;let r,l;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(l="Before",r=this.findHeader(o,l)):(l="After",r=this.findHeader(o,l));const u=i.getCallback("tabToNextHeader");if(t&&u){const d=n.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:r,direction:l});if(d){const{headerRowIndex:f}=n.focusedHeader||{};f!=null&&f!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return d}return r||!t?n.focusHeaderPosition({headerPosition:r,direction:l,fromTab:t,allowUserOverride:!0,event:s}):this.focusNextHeaderRow(o,l,s)}focusNextHeaderRow(e,t,s){const n=e.headerRowIndex;let i=null,o;const r=this.beans;if(t==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,i=this.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<$o(r)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,i=this.findColAtEdgeForHeaderRow(o,"start")),!i)return!1;const{column:l,headerRowIndex:u}=Ux(i.column,i==null?void 0:i.headerRowIndex);return r.focusSvc.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:s})}scrollToColumn(e,t="After"){if(e.getPinned())return;let s;if(es(e)){const n=e.getDisplayedLeafColumns();s=t==="Before"?xt(n):n[0]}else s=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(s)}findHeader(e,t){let s,n;const{colGroupSvc:i,visibleCols:o}=this.beans;if(es(e.column)?s=(i==null?void 0:i.getGroupAtDirection(e.column,t))??void 0:(n=`getCol${t}`,s=o[n](e.column)),!s)return;const{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const d=[s];for(;s.getParent();)s=s.getParent(),d.push(s);s=d[Math.max(0,d.length-1-r)]}const{column:l,headerRowIndex:u}=Ux(s,r);return{column:l,headerRowIndex:u}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:s,ctrlsSvc:n,colGroupSvc:i}=this.beans,o=s.allCols,r=o[t==="start"?0:o.length-1];if(!r)return;const l=n.getHeaderRowContainerCtrl(r.getPinned()),u=l==null?void 0:l.getRowType(e);if(u=="group"){const d=i==null?void 0:i.getColGroupAtLevel(r,e);return{headerRowIndex:e,column:d}}return{headerRowIndex:u==null?-1:e,column:r}}};function UY(e,t,s){const n=e==="filter",i=e==="column";let o=n?t:t.getParent(),r=s-1,l=r;if(i&&AN(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;l=r,r<0&&(o=t,r=s,l=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:l}}function jY(e,t,s,n="After"){let i=t,o=s+1;const r=o;if(e==="group"){const l=t.getDisplayedLeafColumns(),u=n==="After"?l[0]:xt(l),d=[];let f=u;for(;f.getParent()!==t;)f=f.getParent(),d.push(f);if(i=u,u.isSpanHeaderHeight())for(let g=d.length-1;g>=0;g--){const m=d[g];if(!m.isPadding()){i=m;break}o++}else i=xt(d),i||(i=u)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:r}}var $Y=class extends ue{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(T8(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Kt(this.beans),J_)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Kt(this.beans);return this.isDomDataPresentInHierarchy(e,aw)?!0:this.isDomDataPresentInHierarchy(e,dw)}isDomDataPresentInHierarchy(e,t){let s=e;for(;s;){if(e_(this.gos,s,t))return!0;s=s.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:s,column:n}=e,i={rowIndex:t,rowPinned:s,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:s});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:s,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=e,r=this.colModel.getCol(t);if(!r){this.focusedCell=null;return}this.focusedCell={rowIndex:s,rowPinned:Qr(n),column:r},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCell==null?!1:__(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:s,pinned:n}}=e,{column:i,headerRowIndex:o}=this.focusedHeader;return t===i&&s===o&&n==i.getPinned()}focusHeaderPosition(e){var u;if(this.setFocusRecovered(),Cu(this.beans))return!1;const{direction:t,fromTab:s,allowUserOverride:n,event:i,fromCell:o,rowWithoutSpanValue:r}=e;let{headerPosition:l}=e;if(o&&((u=this.filterManager)!=null&&u.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(l);if(n){const d=this.focusedHeader,f=$o(this.beans);if(s){const g=this.gos.getCallback("tabToNextHeader");g&&(l=this.getHeaderPositionFromUserFunc({userFunc:g,direction:t,currentPosition:d,headerPosition:l,headerRowCount:f}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&i){const m={key:i.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:f,event:i};l=g(m)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:i,fromCell:o,rowWithoutSpanValue:r}):!1}focusHeaderPositionFromUserFunc(e){if(Cu(this.beans))return!1;const{userFunc:t,headerPosition:s,direction:n,event:i}=e,o=this.focusedHeader,r=$o(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:o,headerPosition:s,headerRowCount:r});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:s,currentPosition:n,headerPosition:i,headerRowCount:o}=e,l=t({backwards:s==="Before",previousHeaderPosition:n,nextHeaderPosition:i,headerRowCount:o});return l===!0?n:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:s,fromCell:n,rowWithoutSpanValue:i,event:o}=e,{column:r,headerRowIndex:l}=t,{filterManager:u,ctrlsSvc:d,headerNavigation:f}=this.beans;if(l===-1)return u!=null&&u.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:r,event:o});f==null||f.scrollToColumn(r,s);const g=d.getHeaderRowContainerCtrl(r.getPinned()),m=(g==null?void 0:g.focusHeader(t.headerRowIndex,r,o))||!1;return f&&m&&(i!=null||n)&&(f.currentHeaderRowWithoutSpan=i??-1),m}focusFirstHeader(){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const s=Ux(e,0);return this.focusHeaderPosition({headerPosition:s,rowWithoutSpanValue:0})}focusLastHeader(e){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay(!0))return!0;const t=$o(this.beans)-1,s=xt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Qr(t)}focusOverlay(e){var s,n;const t=((s=this.overlays)==null?void 0:s.isVisible())&&((n=this.overlays.eWrapper)==null?void 0:n.getGui());return!!t&&Au(t,e)}focusGridView(e){var o,r,l,u,d,f;const{backwards:t=!1,canFocusOverlay:s=!0,event:n}=e;if((o=this.overlays)!=null&&o.isExclusive())return s&&this.focusOverlay(t);if(xy(this.beans))return t&&!Cu(this.beans)?this.focusLastHeader():s&&this.focusOverlay(t)?!0:t?!1:mf(this.beans,t);const i=t?Z8(this.beans):Q8(this.beans);if(i){const g=e.column??((r=this.focusedHeader)==null?void 0:r.column),{rowIndex:m,rowPinned:C}=i,w=lw(this.beans,i);if(!g||!w||m==null)return!1;if(g.isSuppressNavigable(w)){const y=this.gos.get("enableRtl");let R;return!n||n.key===ae.TAB?R=y?ae.LEFT:ae.RIGHT:R=n.key,(l=this.beans.navigation)==null||l.navigateToNextCell(null,R,{rowIndex:m,column:g,rowPinned:C||null},!0),!0}if((u=this.navigation)==null||u.ensureCellVisible({rowIndex:m,column:g,rowPinned:C}),t){const y=this.rowRenderer.getRowByPosition(i);if(y!=null&&y.isFullWidth()&&((d=this.navigation)!=null&&d.tryToFocusFullWidthRow(i,t)))return!0}return this.setFocusedCell({rowIndex:m,column:g,rowPinned:Qr(C),forceBrowserFocus:!0}),(f=this.beans.rangeSvc)==null||f.setRangeToCell({rowIndex:m,rowPinned:C,column:g}),!0}return!!(s&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var n;const s=(t?void 0:this.advFilterFocusColumn)??((n=this.visibleCols.allCols)==null?void 0:n[0]);return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:$o(this.beans)-1}}):this.focusGridView({column:s})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},qY=class extends ue{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var s;const e=this.ctrlsSvc.get("center");if(!e||(s=this.colAnimation)!=null&&s.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),s=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==s)&&(this.horizontalScrollGap=t,this.verticalScrollGap=s,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),s=typeof e=="number"&&e>=0?e:m6();s!=null&&(this.scrollbarWidth=s,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},KY=class extends ue{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var n;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:s}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(n=t.get("gridCtrl"))==null||n.destroyGridUi(),s.destroy(),super.destroy()}},cb=new Set(["gridPreDestroyed","fillStart","pasteStart"]),YY={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},XY=0,QY=0,ZY=class extends ue{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=QY++,this.propEventSvc=new Su,this.globalEventHandlerFactory=e=>(t,s)=>{if(!this.isAlive())return;const n=cb.has(t);if(n&&!e||!n&&e)return;const i=r_(t),o=this.gridOptions[i];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??YY[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Se(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>e(this.addGridCommonParams(s)))}updateGridOptions({options:e,force:t,source:s="api"}){const n={id:XY++,properties:[]},i=[],{gridOptions:o,validation:r}=this;for(const l of Object.keys(e)){const u=e[l];r==null||r.warnOnInitialPropertyUpdate(s,l);const d=t||typeof u=="object"&&s==="api",f=o[l];if(d||f!==u){o[l]=u;const g={type:l,currentValue:u,previousValue:f,changeSet:n,source:s};i.push(g)}}r==null||r.processGridOptions(this.gridOptions),n.properties=i.map(l=>l.type),i.forEach(l=>{Ru(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const s=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return s||At(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),s}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:wD(),rowModelType:this.get("rowModelType"),isUmd:C8()}}isModuleRegistered(e){return T_(e,this.gridId,this.get("rowModelType"))}};function EN(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var JY=EN(!0),eX=EN(!1),tX=class extends jt{constructor(){super(...arguments),this.eFilter=_e,this.eFilterButton=_e,this.eSortIndicator=_e,this.eMenu=_e,this.eLabel=_e,this.eText=_e,this.eSortOrder=_e,this.eSortAsc=_e,this.eSortDesc=_e,this.eSortMixed=_e,this.eSortNone=_e,this.isLoadingInnerComponent=!1}refresh(e){var s,n,i;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((s=this.beans)!=null&&s.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const o={...e};Sn(o,e.innerHeaderComponentParams),(i=(n=this.innerHeaderComponent).refresh)==null||i.call(n,o)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const s=e.template;return s?s!=null&&s.trim?s.trim():s:t?JY:eX}init(e){this.params=e;const{sortSvc:t,touchSvc:s,rowNumbersSvc:n,userCompFactory:i}=this.beans,o=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),s==null||s.setupForHeader(this),this.setMenu(),this.setupSort(),n==null||n.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const s=Y$(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,s=this.currentDisplayName;if(this.currentDisplayName=t,s===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const n=Jr(t,!0);this.eText.textContent=n}addInIcon(e,t,s){if(t==null)return;const n=Li(e,this.beans,s);n&&t.appendChild(n)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ra(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:s}=this,n=ri(e);this.addInIcon(n?"menu":"menuAlt",t,s.column),t.classList.toggle("ag-header-menu-icon",!n);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:s}=this;t||this.toggleMenuAlwaysShow(!0),s.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var u;const{params:t,gos:s,beans:n,eMenu:i,eFilterButton:o}=this,r=t.column,l=ri(s);if(e&&!l){if((u=n.menuSvc)!=null&&u.isFilterMenuInHeaderEnabled(r))return t.showFilter(o??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:s}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:i,eSortAsc:o,eSortDesc:r,eSortMixed:l,eSortNone:u}=this;n.attachCustomElements(i,o,r,l,u)}this.eSortIndicator.setupSort(s),this.currentSort&&e.setupHeader(this,s,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,s,n){if(!e)return ra(t),!1;const i=this.params.column;return this.addInIcon(n,t,i),this.addManagedListeners(i,{filterChanged:s}),s(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();ts(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:s}=this;return e?t??s??this.getGui():s??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},sX={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},nX=class extends jt{constructor(){super(sX),this.agOpened=_e,this.agClosed=_e,this.agLabel=_e,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&we(89)}workOutInnerHeaderGroupComponent(e,t){const s=Q$(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:s},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=u=>{if(Zr(u))return;const d=!s.isExpanded();n.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,i),this.addTouchAndClickListeners(n,e,i);const o=u=>{ff(u)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const r=s.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t,s){var n;(n=e.touchSvc)==null||n.setupForHeaderGroup(this,t,s),this.addManagedElementListeners(t,{click:s})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:s}}=this;if(s.isExpandable()){const n=s.isExpanded();ts(e,n),ts(t,!n)}else ts(e,!1),ts(t,!1)}addInIcon(e,t){const s=Li(e,this.beans,null);s&&t.appendChild(s)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:s}=this;ts(t,!1),ts(s,!1);return}}setupLabel(e){var i;const{displayName:t,columnGroup:s}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(Se(t)&&!n){const o=Jr(t,!0);this.agLabel.textContent=o}this.addOrRemoveCssClass("ag-sticky-label",!((i=s.getColGroupDef())!=null&&i.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},iX={moduleName:"ColumnHeaderComp",version:xe,userComponents:{agColumnHeader:tX},icons:{menu:"menu",menuAlt:"menu-alt"}},oX={moduleName:"ColumnGroupHeaderComp",version:xe,userComponents:{agColumnGroupHeader:nX},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},rX=class extends ue{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&we(92)}createTask(e,t,s,n){this.verify();let i=s;n&&this.batchFrameworkComps&&(i="f1");const o={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((s,n)=>s.index!==n.index?t*(n.index-s.index):n.createOrder-s.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:s,f1:n,destroyTasks:i,beans:o}=this,{ctrlsSvc:r,frameworkOverrides:l}=o,u=t.list,d=s.list,f=n.list,g=Date.now();let m=0;const C=e<=0,w=r.getScrollFeature();for(;C||m<e;){if(!w.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(s),R=d.pop().task;else if(f.length)l.wrapOutgoing(()=>{for(;(C||m<e)&&!w.scrollGridIfNeeded();){if(f.length)this.sortTaskList(n),R=f.pop().task,R();else break;m=Date.now()-g}}),R=()=>{};else if(i.length)R=i.pop();else break;R()}m=Date.now()-g}u.length||d.length||f.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ma(this.beans,e)}isQueueEmpty(){return!this.ticking}},aX={moduleName:"AnimationFrame",version:xe,beans:[rX]},lX=class extends ue{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!hu())return;const t=(s,n,i)=>{var l;const{rowCtrl:o,cellCtrl:r}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);r!=null&&r.column&&r.dispatchCellContextMenuEvent(i??null),(l=this.beans.contextMenuSvc)==null||l.handleContextMenuMouseEvent(void 0,i,o,r)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!hu()||l_("dblclick"))return!1;const n=Date.now(),i=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:s}=this.beans;if(t.get("suppressTouch"))return;const{params:n,eMenu:i,eFilterButton:o}=e,r=new Od(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&Se(i),d=u?new Od(i,!0):r;if(n.enableMenu){const f=u?"tap":"longTap",g=m=>n.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:g})}if(n.enableSorting){const f=g=>{const m=g.touchStart.target;l&&(i!=null&&i.contains(m)||o!=null&&o.contains(m))||s==null||s.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(r,{tap:f})}if(n.enableFilterButton&&o){const f=new Od(o,!0);e.addManagedListeners(f,{tap:()=>n.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>r.destroy()),u&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e,t,s){const n=new Od(t,!0);e.addManagedListeners(n,{tap:s}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,s){if(!hu())return;const n=new Od(t),i=o=>{Lp(this.gos,o.touchEvent)&&s(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}},cX={moduleName:"Touch",version:xe,beans:[lX]},uX=class extends ue{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,s=!1){return s?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const s=e===ae.UP,n=e===ae.DOWN,i=e===ae.LEFT;let o,r;const{pageBounds:l,gos:u,visibleCols:d}=this.beans;if(s||n)r=s?l.getFirstRow():l.getLastRow(),o=t.column;else{const f=u.get("enableRtl");r=t.rowIndex,o=(i!==f?d.allCols:[...d.allCols].reverse()).find(m=>this.isCellGoodToFocusOn({rowIndex:r,rowPinned:null,column:m}))}return o?{rowIndex:r,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let s=t,n=!1;for(;!n;){switch(e){case ae.UP:s=this.getCellAbove(s);break;case ae.DOWN:s=this.getCellBelow(s);break;case ae.RIGHT:s=this.gos.get("enableRtl")?this.getCellToLeft(s):this.getCellToRight(s);break;case ae.LEFT:s=this.gos.get("enableRtl")?this.getCellToRight(s):this.getCellToLeft(s);break;default:s=null,we(8,{key:e});break}s?n=this.isCellGoodToFocusOn(s):n=!0}return s}isCellGoodToFocusOn(e){const t=e.column;let s;const{pinnedRowModel:n,rowModel:i}=this.beans;switch(e.rowPinned){case"top":s=n==null?void 0:n.getPinnedTopRow(e.rowIndex);break;case"bottom":s=n==null?void 0:n.getPinnedBottomRow(e.rowIndex);break;default:s=i.getRow(e.rowIndex);break}return s?!this.isSuppressNavigable(t,s):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellEnd(e))??e,s=oL(this.beans,t);return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getCellAbove(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellStart(e))??e,s=cw(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:s}=this.beans,n=t.allCols;let i=e.rowIndex,o=e.rowPinned,r=t.getColAfter(e.column);if(!r){r=n[0];const l=oL(this.beans,e);if(Ut(l)||!l.rowPinned&&!((s==null?void 0:s.isRowInPage(l.rowIndex))??!0))return null;i=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:i,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:s,pagination:n}=t,i=s.allCols;let o=e.rowIndex,r=e.rowPinned,l=s.getColBefore(e.column);if(!l){l=xt(i);const u=cw(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ut(u)||!u.rowPinned&&!((n==null?void 0:n.isRowInPage(u.rowIndex))??!0))return null;o=u?u.rowIndex:null,r=u?u.rowPinned:null}return{rowIndex:o,column:l,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:s}=e.colDef;if(typeof s=="boolean")return s;if(typeof s=="function"){const n=e.createColumnFunctionCallbackParams(t);return s(n)}return!1}};function dX(e){return e.focusSvc.getFocusedCell()}function hX(e){return e.focusSvc.clearFocusedCell()}function fX(e,t,s,n){e.focusSvc.setFocusedCell({rowIndex:t,column:s,rowPinned:n,forceBrowserFocus:!0})}function gX(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!1,t))??!1}function pX(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!0,t))??!1}function mX(e,t,s=!1){var i;const n=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,s);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var vX=class extends ue{constructor(){super(),this.beanName="navigation",this.onPageDown=Y1(this.onPageDown,100),this.onPageUp=Y1(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const s=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,r=j8(this.gos,e);let l=!1;switch(s){case ae.PAGE_HOME:case ae.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(s),l=!0);break;case ae.LEFT:case ae.RIGHT:case ae.UP:case ae.DOWN:if(!r)return!1;i&&!n&&!o&&(this.onCtrlUpDownLeftRight(s,r),l=!0);break;case ae.PAGE_DOWN:case ae.PAGE_UP:!i&&!n&&(l=this.handlePageUpDown(s,r,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,s){return s&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:s,scrollColumn:n,focusIndex:i,focusColumn:o}=e,{scrollFeature:r}=this.gridBodyCon;Se(n)&&!n.isPinned()&&r.ensureColumnVisible(n),Se(t)&&r.ensureIndexVisible(t,s),e.isAsync||r.ensureIndexVisible(i);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:i,column:o,rowPinned:null,forceBrowserFocus:!0}),u==null||u.setRangeToCell({rowIndex:i,rowPinned:null,column:o})}onPageDown(e){const t=this.beans,s=$R(t),n=this.getViewportHeight(),{pageBounds:i,rowModel:o,rowAutoHeight:r}=t,l=i.getPixelOffset(),u=s.top+n,d=o.getRowIndexAtPixel(u+l);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,s=$R(t),{pageBounds:n,rowModel:i,rowAutoHeight:o}=t,r=n.getPixelOffset(),l=s.top,u=i.getRowIndexAtPixel(l+r);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,s=!1){const{pageBounds:n,rowModel:i}=this.beans,o=this.getViewportHeight(),r=n.getFirstRow(),l=n.getLastRow(),u=n.getPixelOffset(),d=i.getRow(e.rowIndex),f=s?(d==null?void 0:d.rowHeight)-o-u:o-u,g=(d==null?void 0:d.rowTop)+f;let m=i.getRowIndexAtPixel(g+u);if(m===e.rowIndex){const w=s?-1:1;t=m=e.rowIndex+w}let C;s?(C="bottom",m<r&&(m=r),t<r&&(t=r)):(C="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(i.getRow(m))&&(t=m,C="top"),this.navigateTo({scrollIndex:t,scrollType:C,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,s=!1){this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,s);this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const s=t?-1:1,n=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,r=i.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=r;){const d=o.getRow(u);if(d){const f=d.rowHeight??0;if(l+f>n)break;l+=f}u+=s}return Math.max(0,Math.min(u,r))}getViewportHeight(){const e=this.beans,t=$R(e),s=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=s),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const s=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=s,i=s.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===ae.PAGE_HOME,{visibleCols:s,pageBounds:n,rowModel:i}=this.beans,o=s.allCols,r=t?n.getFirstRow():n.getLastRow(),l=i.getRow(r);if(!l)return;const u=(t?o:[...o].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:u,focusIndex:r,focusColumn:u})}onTabKeyDown(e,t){const s=t.shiftKey,n=this.tabToNextCellCommon(e,s,t),i=this.beans,{ctrlsSvc:o,pageBounds:r,focusSvc:l,gos:u}=i;if(n!==!1){n?t.preventDefault():n===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(s);return}if(s){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===r.getFirstRow())&&(u.get("headerHeight")===0||Cu(i)?mf(i,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof lp&&e.focusCell(!0),(!s&&l.focusOverlay(!1)||mf(i,s))&&t.preventDefault()}tabToNextCell(e,t){const s=this.beans,{focusSvc:n,rowRenderer:i}=s,o=n.getFocusedCell();if(!o)return!1;let r=Ud(s,o);return!r&&(r=i.getRowByPosition(o),!r||!r.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t)}tabToNextCellCommon(e,t,s){let n=e.editing;if(!n&&e instanceof lp){const r=e.rowCtrl;r&&(n=r.editing)}let i;return n?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,s):i=this.moveToNextEditingCell(e,t,s):i=this.moveToNextCellNotEditing(e,t,s),i===null?i:i||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,s=null){var o;const n=e.cellPosition;e.eGui.focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return i===!1?null:i==null?!1:((o=this.beans.editSvc)==null||o.startEditing(i,null,!0,s),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,s=null){const n=e.cellPosition,i=this.findNextCellToFocusOn(n,t,!0);if(i===!1)return null;if(i==null)return!1;const o=i.cellPosition,r=this.isCellEditable(n),l=this.isCellEditable(o),u=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned,{editSvc:d,rowEditSvc:f}=this.beans;if(r&&(d==null||d.setFocusOutOnEditor(e)),!u){const g=e.rowCtrl;d==null||d.stopRowEditing(g);const m=i.rowCtrl;f==null||f.startEditing(m,void 0,void 0,s)}return l?(d==null||d.setFocusInOnEditor(i),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t,s){const n=this.beans.visibleCols.allCols;let i;if(e instanceof hw){if(i={...e.getRowPosition(),column:t?n[0]:xt(n)},this.gos.get("embedFullWidthRows")&&s){const r=e.findFullWidthInfoForEvent(s);r&&(i.column=r.column)}}else i=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(i,t,!1);if(o===!1)return null;if(o instanceof lp)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return Se(o)}findNextCellToFocusOn(e,t,s){let n=e;const i=this.beans,{cellNavigation:o,gos:r,focusSvc:l,rowRenderer:u,rangeSvc:d}=i;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=o.getNextTabbedCell(n,t);const f=r.getCallback("tabToNextCell");if(Se(f)){const w=f({backwards:t,editing:s,previousCellPosition:e,nextCellPosition:n||null});if(w===!0)n=e;else{if(w===!1)return!1;n={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const C=$o(i);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+n.rowIndex,column:n.column},fromCell:!0}),null}const g=r.get("editType")==="fullRow";if(s&&!g&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const m=Ud(i,n);if(!m){const C=u.getRowByPosition(n);if(!C||!C.isFullWidth()||s)continue;return{...C.getRowPosition(),column:n==null?void 0:n.column}}if(!o.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(n),d==null||d.setRangeToCell(n),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:s,rowModel:n}=this.beans;return t==="top"?s==null?void 0:s.getPinnedTopRow(e):t==="bottom"?s==null?void 0:s.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,s,n){let i=s,o=!1;const r=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=r;for(;i&&(i===s||!this.isValidNavigateCell(i));)d.get("enableRtl")?t===ae.LEFT&&(i=this.getLastCellOfColSpan(i)):t===ae.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=l.getNextCellToFocus(t,i),o=Ut(i);if(o&&e&&e.key===ae.UP&&(i={rowIndex:-1,rowPinned:null,column:s.column}),n){const g=d.getCallback("navigateToNextCell");if(Se(g)){const C=g({key:t,previousCellPosition:s,nextCellPosition:i||null,event:e});Se(C)?i={rowPinned:C.rowPinned,rowIndex:C.rowIndex,column:C.column}:i=null}}if(!i)return;if(i.rowIndex<0){const g=$o(r);u.focusHeaderPosition({headerPosition:{headerRowIndex:g+i.rowIndex,column:s.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(i);f?this.focusPosition(f):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){var n;if(!!((n=this.beans.spannedRowRenderer)!=null&&n.getCellByPosition(e)))return e;this.ensureCellVisible(e);const s=Ud(this.beans,e);return s?(e=s.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:s,rowRenderer:n,focusSvc:i,eventSvc:o}=this.beans,r=s.allCols,l=n.getRowByPosition(e);if(!l||!l.isFullWidth())return!1;const u=i.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?xt(r):r[0])};this.focusPosition(d);const f=t??(u!=null&&Y8(d,u));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:s}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),s==null||s.setRangeToCell(e)}isValidNavigateCell(e){return!!lw(this.beans,e)}getLastCellOfColSpan(e){const t=Ud(this.beans,e);if(!t)return e;const s=t.getColSpanningList();return s.length===1?e:{rowIndex:e.rowIndex,column:xt(s),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=n_(this.gos),s=this.beans.rowModel.getRow(e.rowIndex),n=t&&(s==null?void 0:s.sticky),{scrollFeature:i}=this.gridBodyCon;!n&&Ut(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}};function $R(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var CX={moduleName:"KeyboardNavigation",version:xe,beans:[vX,uX,WY],apiFunctions:{getFocusedCell:dX,clearFocusedCell:hX,setFocusedCell:fX,setFocusedHeader:mX,tabToNextCell:gX,tabToPreviousCell:pX}},bX=class extends ue{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:s}=this.beans;t?t.calculatePages():e.calculateBounds(0,s.getRowCount()-1)}},wX=class extends ue{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,s=(e==null?void 0:e.rowTop)??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:s,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:s}=this.beans,n=s.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const i=s.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},yX=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",SX=class extends ue{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const s of this.elements)s&&(ts(s,t),Xo(s,e))}},RX=class extends ue{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:s}=this.beans,n=qs(e,"print"),i=n?0:t.getColsLeftWidth(),o=n?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,s.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,s.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ap(e);if(t<=50)return;const s=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:o}=s;let r=i;!r.length&&!o||(n&&(r=n({columns:r,viewportWidth:t})),!(!r||!r.length)&&(r=r.filter(l=>!gf(l)),this.setColsPinned(r,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new SX(e,t)}setColsPinned(e,t,s){const{colModel:n,colAnimation:i,visibleCols:o,gos:r}=this.beans;if(!n.cols||!(e!=null&&e.length))return;if(qs(r,"print")){we(37);return}i==null||i.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];e.forEach(d=>{if(!d)return;const f=n.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),u.push(f))}),u.length&&(o.refresh(s),y_(this.eventSvc,u,s)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:s}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,s)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const s=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const i=()=>{const o=s?this.leftWidth:this.rightWidth;if(o==null)return;const r=o==0,l=e.hidden!==r,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),g=t.verticalScrollShowing&&(u&&s||!u&&n)?o+d:o;e.comp.setPinnedContainerWidth(`${g}px`),e.comp.setDisplayed(!r),l&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:i}=this,o=Ap(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+i+e>o)if(o>n+i)e=o-n-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,s=this.leftWidth??0,n=t+s;let i=!1;if(n<e)return{columns:[],hasLockedPinned:i};const{visibleCols:o}=this.beans,r=[...o.leftCols],l=[...o.rightCols];let u=0,d=0;const f=0,g=[];let m=n-f-e;for(;(d<r.length||u<l.length)&&m>0;){if(u<l.length){const C=l[u++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),g.push(C)}if(d<r.length&&m>0){const C=r[d++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),g.push(C)}}return{columns:g,hasLockedPinned:i}}},xX={moduleName:"PinnedColumn",version:xe,beans:[RX],css:[yX]},AX=class extends ue{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=$s(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=ds(e),s=this.descriptionContainer=t.createElement("div");s.classList.add("ag-aria-description-container"),IO(s,"polite"),i6(s,"additions text"),n6(s,!0),e.eGridDiv.appendChild(s)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(di(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},EX={moduleName:"Aria",version:xe,beans:[AX]};function DX(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function TX(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function FX(e){var t;(t=e.overlays)==null||t.hideOverlay()}var PX=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",MX={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},DN=class extends jt{constructor(){super(MX),this.eOverlayWrapper=_e,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(PX)}handleKeyDown(e){if(e.key!==ae.TAB||e.defaultPrevented||Zr(e))return;const t=this.beans;if(Bu(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:xt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=mf(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const s=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:i,PRINT:o}=rb;s.toggle(n,t.autoHeight),s.toggle(i,t.normal),s.toggle(o,t.print)}postConstruct(){this.createManagedBean(new SD(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,s,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),s&&this.isGridFocused()){const i=Kt(this.beans);i&&!s_(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:r})=>{var l;(l=o.refresh)==null||l.call(o,We(this.gos,{...r??{}}))})}s&&this.isGridFocused()&&Au(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const s=this.updateListenerDestroyFunc;s&&(s(),this.updateListenerDestroyFunc=null),this.destroyBean(e),di(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Kt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},LX={selector:"AG-OVERLAY-WRAPPER",component:DN},kX=class extends ue{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=an(this.gos),this.isServerSide=!this.isClientSide&&Nu(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){we(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return LX}getOverlayWrapperCompClass(){return DN}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:s,beans:{gos:n,colModel:i,rowModel:o}}=this;let r=this.gos.get("loading");r!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&r===void 0&&!n.get("suppressLoadingOverlay")&&(r=!n.get("columnDefs")||!i.ready||!n.get("rowData")&&t),r?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!s&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(o8(this.beans.userCompFactory,We(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(r8(this.beans.userCompFactory,We(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,s){var i;const n=(e==null?void 0:e.newAgStackInstance())??null;(i=this.eWrapper)==null||i.showOverlay(n,t,this.isExclusive(),s),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const s=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(s==null?void 0:s.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},IX={moduleName:"Overlay",version:xe,userComponents:{agLoadingOverlay:t9,agNoRowsOverlay:n9},apiFunctions:{showLoadingOverlay:DX,showNoRowsOverlay:TX,hideOverlay:FX},beans:[kX]},OX=class extends ue{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=p6(),Ru(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Ru(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),s=e/t;return this.maxScrollY*s}},_X=400,NX=class extends ue{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},s=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Tl(this.gos)?s():n()}),Tl(this.gos)&&s()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:i})=>{(!i&&n||i&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:s}=this.beans;if(s&&this.addManagedPropertyListener("showOpenedGroup",()=>{const n=s.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=qs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new HX(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var n;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),s=((n=this.cachedRowCtrls)==null?void 0:n.getEntries())??[];t.length>0||s.length>0?this.allRowCtrls=[...e,...t,...s]:this.allRowCtrls=e}isCellBeingRendered(e,t){var i;const s=this.rowCtrlsByRowIndex[e];return!t||!s?!!s:s.isFullWidth()?!0:!!((i=this.beans.spannedRowRenderer)==null?void 0:i.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!s.getCellCtrl(t)||!s.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(s=>t.onFlashCells(s,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const s=u=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&u(d)})},n=()=>{s(u=>u.onLeftChanged())},i=()=>{s(u=>u.onWidthChanged())},o=()=>{s(u=>u.onFirstRightPinnedChanged())},r=()=>{s(u=>u.onLastLeftPinnedChanged())},l=()=>{s(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",r),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",r),t.__removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=qs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),s=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,s&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(s=>{var i;const n=(i=s.getCellCtrl(e,!0))==null?void 0:i.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:s,beans:n,printLayout:i}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));s==null||s.forEachPinnedRow(t,(l,u)=>{const d=e[u];d&&s.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o?(e[u]=o[l.id],delete o[l.id]):e[u]=new hw(l,n,!1,!1,i)});const r=(t==="top"?s==null?void 0:s.getPinnedTopRowCount():s==null?void 0:s.getPinnedBottomRowCount())??0;e.length=r}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var s,n;if(e.sticky)(s=this.stickyRowFeature)==null||s.refreshStickyNode(e);else if((n=this.cachedRowCtrls)!=null&&n.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=o=>{const r=o[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var r;this.getLockOnRefresh();const t=(r=this.beans.focusSvc)==null?void 0:r.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const s=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Zd(this.gos),i=s?this.getRowsToRecycle():null;s||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o}=this;if(o){o.checkStickyRows();const l=o.extraTopHeight+o.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,s=this.gos.get("suppressScrollOnNewData");t&&!s&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let s=this.pageBounds.getCurrentPageHeight();s===0&&(s=1),t.setModelHeight(s+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(xl(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,s=this.findPositionToFocus(e);if(!s){t.focusHeaderPosition({headerPosition:{headerRowIndex:$o(this.beans)-1,column:e.column}});return}if(e.rowIndex!==s.rowIndex||e.rowPinned!=s.rowPinned){t.setFocusedCell({...s,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(We(this.gos,{...s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:s}=this.beans;let n=e;for(n.rowPinned==null&&t&&s&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:s.getFirstRow()});n;){if(n.rowPinned==null&&s)if(n.rowIndex<s.getFirstRow()){if(n=cw(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>s.getLastRow()&&(n={rowPinned:null,rowIndex:s.getLastRow()});const i=this.getRowByPosition(n);if(i!=null&&i.isAlive())return{...i.getRowPosition(),column:e.column};n=cw(this.beans,n)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),s=t.length;for(let n=0;n<s;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let r=0;r<o;r++)e.push(i[r])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),s=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...s,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,s){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,s)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const s of this.getCellCtrls(e.rowNodes,e.columns))s.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const s of this.getRowCtrls(e)){if(!s.isFullWidth())continue;s.refreshFullWidth()||(t=!0,this.redrawRow(s.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=jx(e),s=this.getAllRowCtrls();return!e||!t?s:s.filter(n=>{const i=n.rowNode;return $x(i,t)})}getCellCtrls(e,t){let s;Se(t)&&(s={},t.forEach(i=>{const o=this.colModel.getCol(i);Se(o)&&(s[o.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(o=>{const r=o.column.getId();s&&!s[r]||n.push(o)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var s;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(s=this.stickyRowFeature)==null||s.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const s of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[s].rowNode.id==null&&e.push(s);this.removeRowCtrls(e);const t={};for(const s of Object.values(this.rowCtrlsByRowIndex)){const n=s.rowNode;t[n.id]=s}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(s=>{const n=this.rowCtrlsByRowIndex[s];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[s]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:s}=this.beans,{afterScroll:n}=e;let i;const o=this.stickyRowFeature;o&&(i=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const r=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(o){u=o.checkStickyRows();const f=o.extraTopHeight+o.extraBottomHeight;f&&this.updateContainerHeights(f)}const d=this.firstRenderedRow!==r||this.lastRenderedRow!==l;if(!(n&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!u),i!=null)){const f=t==null?void 0:t.getFocusCellToUseAfterRefresh();i!=null&&f==null&&(s==null||s.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const s={};e.forEach(o=>s[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!s[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){var r,l;const t=[];for(let u=this.firstRenderedRow;u<=this.lastRenderedRow;u++)t.push(u);const s=this.beans.pagination,n=(l=(r=this.beans.focusSvc)==null?void 0:r.getFocusedCell())==null?void 0:l.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!s||s.isRowInPage(n))&&t.push(n);const i=u=>{const d=u.rowNode.rowIndex;d==null||d===n||(d<this.firstRenderedRow||d>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(u)&&t.push(d)};for(const u of Object.values(this.rowCtrlsByRowIndex))i(u);if(e)for(const u of Object.values(e))i(u);t.sort((u,d)=>u-d);const o=[];for(let u=0;u<t.length;u++){const d=t[u],f=this.rowModel.getRow(d);f&&!f.sticky&&o.push(d)}return o}recycleRows(e,t=!1,s=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||s)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,s)}),e){const{animationFrameSvc:i}=this.beans;(i==null?void 0:i.active)&&s&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),s=e.isPinningRight();(this.pinningLeft!==t||s!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const s=t.rowNode.rowIndex;e.push(s.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=jx(e);return this.getAllRowCtrls().filter(s=>{if(!s.isFullWidth())return!1;const n=s.rowNode;return!(t!=null&&!$x(n,t))})}createOrUpdateRowCtrl(e,t,s,n){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.rowModel.getRow(e),Se(i)&&Se(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.rowModel.getRow(e)),Se(i))o=this.createRowCon(i,s,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const s=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const i=n.instanceId;this.zombieRowCtrls[i]=n,s.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[i]})}else n.destroySecondPass()}}t&&(s.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>s.forEach(n=>n()),_X))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=mu(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:s}=this;e.updateOffset();let n,i;if(!s.isRowsToRender())n=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),i=t.getLastRow();else{const f=this.getRowBufferInPixels(),g=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let C=!1,w,y;do{const T=t.getPixelOffset(),{pageFirstPixel:P,pageLastPixel:L}=t.getCurrentPagePixelRange(),N=e.divStretchOffset,B=g.getVScrollPosition(),W=B.top,z=B.bottom;m?(w=P+N,y=L+N):(w=Math.max(W+T-f,P)+N,y=Math.min(z+T+f,L)+N),this.firstVisibleVPixel=Math.max(W+T,P)+N,this.lastVisibleVPixel=Math.min(z+T,L)+N,C=this.ensureAllRowsInRangeHaveHeightsCalculated(w,y)}while(C);let R=s.getRowIndexAtPixel(w),A=s.getRowIndexAtPixel(y);const D=t.getFirstRow(),E=t.getLastRow();R<D&&(R=D),A>E&&(A=E),n=R,i=A}const o=qs(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);o&&!r&&i-n>l&&(i=n+l);const u=n!==this.firstRenderedRow,d=i!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=n,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ma(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var l,u;const s=(l=this.pinnedRowModel)==null?void 0:l.ensureRowHeightsValid(),n=(u=this.stickyRowFeature)==null?void 0:u.ensureRowHeightsValid(),{pageBounds:i,rowModel:o}=this,r=o.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(r||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||r||s?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,i=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),o=e.editing,r=n.detail;return i||o||r?!!this.isRowPresent(n):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,s){var r,l;const n=((r=this.cachedRowCtrls)==null?void 0:r.getRow(e))??null;if(n)return n;const i=s&&!this.printLayout&&!!((l=this.beans.animationFrameSvc)!=null&&l.active);return new hw(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),s=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...s]}getRowByPosition(e){let t;const{rowIndex:s}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[s];break;case"bottom":t=this.bottomRowCtrls[s];break;default:t=this.rowCtrlsByRowIndex[s],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===s)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===s)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},HX=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,s=this.entriesMap[t];delete this.entriesMap[t],ho(this.entriesList,s)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ho(this.entriesList,e)}getEntries(){return this.entriesList}};function jx(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(s=>{const n=s.id;switch(s.rowPinned){case"top":t.top[n]=s;break;case"bottom":t.bottom[n]=s;break;default:t.normal[n]=s;break}}),t}function $x(e,t){const s=e.id;switch(e.rowPinned){case"top":return t.top[s]!=null;case"bottom":return t.bottom[s]!=null;default:return t.normal[s]!=null}}var BX=class extends ue{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=jo(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=jo(e))}doFullSort(e,t){const s=e.map((n,i)=>({currentPos:i,rowNode:n}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(n=>n.rowNode)}compareRowNodes(e,t,s){const n=t.rowNode,i=s.rowNode;for(let o=0,r=e.length;o<r;o++){const l=e[o],u=l.sort==="desc",d=this.getValue(n,l.column),f=this.getValue(i,l.column);let g;const m=this.getComparator(l,n);if(m?g=m(d,f,n,i,u):g=y6(d,f,this.isAccentedSort),!isNaN(g)&&g!==0)return l.sort==="asc"?g:g*-1}return t.currentPos-s.currentPos}getComparator(e,t){const s=e.column,n=s.getColDef().comparator;if(n!=null)return n;if(!s.getColDef().showRowGroup)return;const i=!t.group&&s.getColDef().field;if(!i)return;const o=this.beans.colModel.getColDefCol(i);if(o)return o.getColDef().comparator}getValue(e,t){var l,u;const{valueSvc:s,colModel:n,showRowGroupCols:i,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return s.getValue(t,e,!1);if(e.rowGroupColumn===t){if(mD(o,n.isPivotActive())){const g=(l=e.allLeafChildren)==null?void 0:l[0];return g?s.getValue(t,g,!1):void 0}const f=i==null?void 0:i.getShowRowGroupCol(t.getId());return f?(u=e.groupData)==null?void 0:u[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return s.getValue(t,e,!1)}};function GX(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var Ig=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),VX={tag:"span",cls:"ag-sort-indicator-container",children:[Ig("Order","order"),Ig("Asc","ascending-icon"),Ig("Desc","descending-icon"),Ig("Mixed","mixed-icon"),Ig("None","none-icon")]},OD=class extends jt{constructor(e){super(),this.eSortOrder=_e,this.eSortAsc=_e,this.eSortDesc=_e,this.eSortMixed=_e,this.eSortNone=_e,e||this.setTemplate(VX)}attachCustomElements(e,t,s,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=s,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const s=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",s),this.addManagedEventListeners({newColumnsLoaded:s,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,s){if(t==null)return;const n=Li(e,this.beans,s);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:s,column:n,gos:i,beans:o}=this,r=o.sortSvc.getDisplaySortForColumn(n);if(e&&ts(e,r==="asc",{skipAriaHidden:!0}),t&&ts(t,r==="desc",{skipAriaHidden:!0}),s){const l=!n.getColDef().unSortIcon&&!i.get("unSortIcon"),u=r==null;ts(s,!l&&u,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:s}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;jo(s)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:s}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(s)==="mixed";ts(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:s}}=this;if(!e)return;const n=s.getColumnsWithSortingOrdered(),i=s.getDisplaySortIndexForColumn(t)??-1,o=n.some(l=>s.getDisplaySortIndexForColumn(l)??!1),r=i>=0&&o;ts(e,r,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():di(e)}},zX={selector:"AG-SORT-INDICATOR",component:OD},kp=["asc","desc",null],WX=class extends ue{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,s){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,s)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,s,n){var f;t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:o}=this.beans,r=jo(i);let l=[e];if(r&&e.getColDef().showRowGroup){const g=(f=o==null?void 0:o.getSourceColumnsForGroupColumn)==null?void 0:f.call(o,e),m=g==null?void 0:g.filter(C=>C.isSortable());m&&(l=[e,...m])}l.forEach(g=>this.setColSort(g,t,n));const u=(s||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),d=[];if(!u){const g=this.clearSortBarTheseColumns(l,n);d.push(...g)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(n,d)}updateSortIndex(e){const{gos:t,colModel:s,showRowGroupCols:n}=this.beans,i=jo(t),o=n==null?void 0:n.getShowRowGroupCol(e.getId()),r=i&&o||e,l=this.getColumnsWithSortingOrdered();s.forAllCols(f=>this.setColSortIndex(f,null));const u=l.filter(f=>i&&f.getColDef().showRowGroup?!1:f!==r);(r.getSort()?[...u,r]:u).forEach((f,g)=>this.setColSortIndex(f,g))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const s={type:"sortChanged",source:e};t&&(s.columns=t),this.eventSvc.dispatchEvent(s)}clearSortBarTheseColumns(e,t){const s=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&s.push(n),this.setColSort(n,void 0,t))}),s}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??kp,s=t.indexOf(e.getSort()),n=s<0,i=s==t.length-1;return n||i?t[0]:t[s+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:s,rowGroupColsSvc:n}=this.beans;let i=[];if(t.forAllCols(d=>{d.getSort()&&i.push(d)}),t.isPivotMode()){const d=jo(e);i=i.filter(f=>{const g=!!f.getAggFunc(),m=!f.isPrimary(),C=d?s==null?void 0:s.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return g||m||C})}const o=(n==null?void 0:n.columns.filter(d=>!!d.getSort()))??[],r={};i.forEach((d,f)=>r[d.getId()]=f),i.sort((d,f)=>{const g=d.getSortIndex(),m=f.getSortIndex();if(g!=null&&m!=null)return g-m;if(g==null&&m==null){const C=r[d.getId()],w=r[f.getId()];return C>w?1:-1}else return m==null?-1:1});const l=jo(e)&&!!o.length;l&&(i=[...new Set(i.map(d=>(s==null?void 0:s.getShowRowGroupCol(d.getId()))??d))]);const u=new Map;return i.forEach((d,f)=>u.set(d,f)),l&&o.forEach(d=>{const f=s.getShowRowGroupCol(d.getId());u.set(d,u.get(f))}),u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=jo(this.gos),s=!!e.getColDef().showRowGroup;return t&&s}getDisplaySortForColumn(e){var r;const t=(r=this.beans.showRowGroupCols)==null?void 0:r.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(l=>l.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,s){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),s&&e.addManagedElementListeners(s,{click:o=>{const r=t.isMoving(),u=Date.now()-n<50;r||u||this.progressSortFromEvent(t,o)}});const i=()=>{var r;const o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const l=(r=this.beans.showRowGroupCols)==null?void 0:r.getSourceColumnsForGroupColumn(t),d=!(l==null?void 0:l.every(f=>t.getSort()==f.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:s,sortIndex:n,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(s==="asc"||s==="desc")&&(e.sort=s),n!==void 0?n!==null&&(e.sortIndex=n):i!==null&&(e.sortIndex=i)}updateColSort(e,t,s){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,s):this.setColSort(e,void 0,s))}setColSort(e,t,s){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",s)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new OD(e)}getSortIndicatorSelector(){return zX}},TN={moduleName:"Sort",version:xe,beans:[WX,BX],apiFunctions:{onSortChanged:GX},userComponents:{agSortIndicator:OD},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},UX=class extends ue{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:s}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),s.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Ru(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,eh(e.source))}}};function jX(e){var t;(t=e.valueCache)==null||t.expire()}function $X(e,t){const{colKey:s,rowNode:n,useFormatter:i}=t,o=e.colModel.getColDefCol(s)??e.colModel.getCol(s);if(Ut(o))return null;const r=e.valueSvc.getValueForDisplay(o,n);return i?e.valueSvc.formatValue(o,n,r)??Jr(r,!0):r}var gw=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:s,children:n}=e;if(n)for(let i=0;i<n.length;++i)this.depthFirstSearchChangedPath(n[i],t);t(s)}depthFirstSearchEverything(e,t,s){const n=e.childrenAfterGroup;if(n)for(let i=0,o=n.length;i<o;++i){const r=n[i];r.childrenAfterGroup?this.depthFirstSearchEverything(r,t,s):s&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,s=!1){this.active&&!s?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,s=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,s++,t=t.parent}return s}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let s=e;for(;s;)this.nodeIdsToColumns[s.id]||(this.nodeIdsToColumns[s.id]={}),t.forEach(n=>this.nodeIdsToColumns[s.id][n.getId()]=!0),s=s.parent}linkPathItems(e,t){let s=e;for(let n=0;n<t;n++){const i=this.mapToItems[s.id],o=this.mapToItems[s.parent.id];o.children||(o.children=[]),o.children.push(i),s=s.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const s=this.createPathItems(e);this.linkPathItems(e,s),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const s=this.nodeIdsToColumns[e.id];return t.filter(i=>s[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const s=this.nodeIdsToColumns[e.id];return t.filter(i=>!s[i.getId()])}},qX="paste",KX=class extends ue{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;an(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:s}=this.beans;if(e.source===qX||t.get("suppressChangeDetection"))return;const n=e.node,i=[n],o=this.clientSideRowModel,r=o==null?void 0:o.rootNode;if(r&&!n.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new gw(l,r);u.addParentNode(n.parent,[e.column]),o.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{i.push(d),d.sibling&&i.push(d.sibling)})}s.refreshCells({rowNodes:i})}},YX=class extends ue{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);At(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(s){return At(16,{expression:e,params:t,e:s}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const s=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",s);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},XX=class extends ue{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,s){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=s}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},QX={moduleName:"ValueCache",version:xe,beans:[XX],apiFunctions:{expireValueCache:jX}},ZX={moduleName:"Expression",version:xe,beans:[YX]},JX={moduleName:"ChangeDetection",version:xe,beans:[KX]},eQ={moduleName:"CellApi",version:xe,apiFunctions:{getCellValue:$X}},tQ=class extends ue{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Nu(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const s=e.getColDef().showRowGroup;if(s!=null){if(typeof s=="string"){const u=this.getDisplayedNode(t,e,!0);if(u)return this.getValue(e,u)}const l=this.getValue(e,t);if(l==null){const u=this.getDisplayedNode(t,e);if(u)return this.getValue(e,u)}return l}const n=t.leafGroup&&this.colModel.isPivotMode(),i=t.group&&t.expanded&&!t.footer&&!n,o=this.gos.get("groupSuppressBlankHeader")||!t.sibling,r=i&&!o;return this.getValue(e,t,r)}getValue(e,t,s=!1){var C;if(this.initialised||this.init(),!t)return;const n=e.getColDef(),i=n.field,o=e.getColId(),r=t.data;let l;const u=n.showRowGroup;if(typeof u=="string"&&(((C=this.beans.rowGroupColsSvc)==null?void 0:C.getColumnIndex(u))??-1)>t.level)return null;const d=t.groupData&&t.groupData[o]!==void 0,f=!s&&t.aggData&&t.aggData[o]!==void 0,g=this.isSsrm&&s&&!!e.getColDef().aggFunc,m=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f?l=t.aggData[o]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,r,e,t):this.isTreeData&&i&&r?l=ap(r,i,e.isFieldContainsDots()):d?l=t.groupData[o]:f?l=t.aggData[o]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,r,e,t):m?l=ap(r,t.field,e.isFieldContainsDots()):i&&r&&!g&&(l=ap(r,i,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const w=l.substring(1);l=this.executeValueGetter(w,r,e,t)}return l}parseValue(e,t,s,n){var r;const i=e.getColDef(),o=i.valueParser;if(Se(o)){const l=We(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:n,newValue:s,colDef:i,column:e});return typeof o=="function"?o(l):(r=this.expressionSvc)==null?void 0:r.evaluate(o,l)}return s}getDeleteValue(e,t){return Se(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,s,n,i=!0){let o=null,r;const l=e.getColDef();if(n?r=n:i&&(r=l.valueFormatter),r){const u=We(this.gos,{value:s,node:t,data:t?t.data:null,colDef:l,column:e});typeof r=="function"?o=r(u):o=this.expressionSvc?this.expressionSvc.evaluate(r,u):null}else if(l.refData)return l.refData[s]||"";return o==null&&Array.isArray(s)&&(o=s.join(", ")),o}getDisplayedNode(e,t,s=!1){var u,d,f;const n=this.gos,i=n.get("groupHideOpenParents"),o=n.get("showOpenedGroup")&&!s;if(!i&&!o)return;const r=t.colDef.showRowGroup;if(r===!0)return e.group?void 0:e.parent??void 0;let l=e;for(;l&&((u=l.rowGroupColumn)==null?void 0:u.getId())!=r;){const g=l===((f=(d=l.parent)==null?void 0:d.childrenAfterSort)==null?void 0:f[0]);if(!o&&!g)return;l=l.parent}if(l!==e)return l??void 0}setValue(e,t,s,n){var f,g;const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Ut(e.data)&&(e.data={});const{field:o,valueSetter:r}=i.getColDef();if(Ut(o)&&Ut(r))return we(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,s))return we(135),!1;const l=We(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e),newValue:s,colDef:i.getColDef(),column:i});l.newValue=s;let u;if(Se(r)?typeof r=="function"?u=r(l):u=(f=this.expressionSvc)==null?void 0:f.evaluate(r,l):u=this.setValueUsingField(e.data,o,s,i.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),(g=this.valueCache)==null||g.onDataChanged();const d=this.getValue(i,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,colDef:l.colDef,data:e.data,node:e,oldValue:l.oldValue,newValue:d,value:d,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,s,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===s,i||(e[t]=s);else{const o=t.split(".");let r=e;for(;o.length>0&&r;){const l=o.shift();o.length===0?(i=r[l]===s,i||(r[l]=s)):r=r[l]}}return!i}executeValueGetterWithValueCache(e,t,s,n){const i=s.getColId(),o=this.valueCache.getValue(n,i);if(o!==void 0)return o;const r=this.executeValueGetterWithoutValueCache(e,t,s,n);return this.valueCache.setValue(n,i,r),r}executeValueGetterWithoutValueCache(e,t,s,n){var r;const i=We(this.gos,{data:t,node:n,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,n)});let o;return typeof e=="function"?o=e(i):o=(r=this.expressionSvc)==null?void 0:r.evaluate(e,i),o}getValueCallback(e,t){const s=this.colModel.getColDefCol(t);return s?this.getValue(s,e):null}getKeyForNode(e,t){const s=this.getValue(e,t),n=e.getColDef().keyCreator;let i=s;if(n){const o=We(this.gos,{value:s,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&we(121)),i}},sQ={moduleName:"CommunityCore",version:xe,beans:[KY,U9,_K,F$,OX,Qq,zY,ZY,E$,wX,bX,NX,tQ,$Y,VY,qY,HK,UX,MK,LK],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:j9,destroy:$9,isDestroyed:q9,getGridOption:K9,setGridOption:Y9,updateGridOptions:rN},dependsOn:[DK,Fq,_q,TN,iX,Jq,oX,IX,JX,aX,CX,xX,EX,cX,OK,TK,ZX]},_D=class ic{static applyGlobalGridOptions(t){if(!ic.gridOptions)return{...t};let s={};return Sn(s,ic.gridOptions,!0,!0),ic.mergeStrategy==="deep"?Sn(s,t,!0,!0):s={...s,...t},ic.gridOptions.context&&(s.context=ic.gridOptions.context),t.context&&(ic.mergeStrategy==="deep"&&s.context&&Sn(t.context,s.context,!0,!0),s.context=t.context),s}};_D.gridOptions=void 0;_D.mergeStrategy="shallow";var FN=_D;function nQ(e){var t;return(t=FN.gridOptions)==null?void 0:t[e]}var iQ=1,oQ=class{create(e,t,s,n,i,o){const r=FN.applyGlobalGridOptions(t),l=r.gridId??String(iQ++),u=r.rowModelType??"clientSide",d=this.getRegisteredModules(i,l,u),f=this.createBeansList(u,d,l),g=this.createProvidedBeans(e,r,i);if(!f)return;const m={providedBeanInstances:g,beanClasses:f,gridId:l,beanInitComparator:G9,beanDestroyComparator:V9,derivedBeans:[H9],destroyCallback:o},C=new y8(m);return this.registerModuleFeatures(C,d),s(C),C.getBean("syncSvc").start(),n&&n(C),C.getBean("gridApi")}getRegisteredModules(e,t,s){var n;return Mp(sQ,void 0),(n=e==null?void 0:e.modules)==null||n.forEach(i=>Mp(i,t)),p8(t,s)}registerModuleFeatures(e,t){const s=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(i=>{s.registerModule(i);const o=i.apiFunctions;o&&Object.keys(o).forEach(l=>{n==null||n.addFunction(l,o[l])})})}createProvidedBeans(e,t,s){let n=s?s.frameworkOverrides:null;Ut(n)&&(n=new iN);const i={gridOptions:t,eGridDiv:e,globalListener:s?s.globalListener:null,globalSyncListener:s?s.globalSyncListener:null,frameworkOverrides:n};return s&&s.providedBeanInstances&&Object.assign(i,s.providedBeanInstances),i}createBeansList(e,t,s){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!i){Mx(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!T_(i,s,e)){Mx(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:i,gridScoped:wD(),gridId:s,rowModelType:e},`Missing module ${i}Module for rowModelType ${e}. 
If upgrading from before v33, see ${gu}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const o=new Set;return t.forEach(r=>{var l;return(l=r.beans)==null?void 0:l.forEach(u=>o.add(u))}),Array.from(o)}};function nr(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Dy(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function PN(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var rQ=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],aQ=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],lQ=[...rQ,...aQ],cQ=class extends ue{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,i,o)=>t({key:n,defaultValue:i,variableValues:o});const s=e.get("localeText");return(n,i,o)=>{let r=s&&s[n];if(r&&o&&o.length){let l=0;for(;!(l>=o.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",o[l++])}return r??i}}},uQ=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],dQ=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],hQ=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],MN=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],fQ=["theme","rowSelection"],gQ=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],LN=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],pQ=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],mQ=[...hQ,...dQ,...uQ,...MN,...pQ,...LN,...gQ,...fQ],vQ=class{wrap(e,t,s,n){const i=this.createWrapper(e,n);return t==null||t.forEach(o=>{this.createMethod(i,o,!0)}),s==null||s.forEach(o=>{this.createMethod(i,o,!1)}),i}createMethod(e,t,s){e.addMethod(t,this.createMethodProxy(e,t,s))}createMethodProxy(e,t,s){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(s&&we(49,{methodName:t}),null)}}},CQ={tag:"div",cls:"ag-tooltip"},bQ=class extends Pf{constructor(){super(CQ)}init(e){const{value:t}=e;this.getGui().textContent=Jr(t,!0)}};function kN(e){const{inputValue:t,allSuggestions:s,hideIrrelevant:n,filterByPercentageOfBestMatch:i}=e;let o=s.map((u,d)=>({value:u,relevance:wQ(t,u),idx:d}));if(o.sort((u,d)=>d.relevance-u.relevance),n&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&i&&i>0){const d=o[0].relevance*i;o=o.filter(f=>d-f.relevance<0)}const r=[],l=[];for(const u of o)r.push(u.value),l.push(u.idx);return{values:r,indices:l}}function wQ(e,t){if(e===t)return 1e3;const s=e.length,n=t.length;if(s===0||n===0)return 0;const i=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),r=o.indexOf(i);if(r!==-1)return 980-r*2;if([...i].filter(g=>o.includes(g)).length===0)return 0;let u=Array.from({length:n+1},(g,m)=>m);for(let g=0;g<s;g++){const m=[g+1];for(let C=0;C<n;C++){const w=u[C+1]+1,y=m[C]+1;let R=u[C]+(e[g]!==t[C]?1:0);n>10&&C>n/2&&(R+=1),g>0&&C>0&&e[g-1]===t[C-1]&&(R-=4),m.push(Math.min(w,y,R))}u=m}const d=Math.round(u[n]),f=Math.max(1,1e3-d*30);return Math.max(1,f)}function yQ(e,t){if(typeof e!="number")return"";const s=t(),n=s("thousandSeparator",","),i=s("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var SQ=class extends ue{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},RQ=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:s,colNames:n,valueSvc:i,gos:o,processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=s,this.colNames=n,this.valueSvc=i,this.gos=o,this.processCellCallback=r,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,s,n,i){const r=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueSvc.getValueForDisplay(e,i);return this.processCell({accumulatedRowIndex:s,rowNode:i,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,s){var r,l;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((r=e.groupData)==null?void 0:r[t.getId()])!==void 0||Nu(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===((l=this.rowGroupColsSvc)==null?void 0:l.columns[0].getId())}}const o=mD(this.gos,this.colModel.isPivotMode());return s===0&&o}getHeaderName(e,t){return e?e(We(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(We(this.gos,{column:e,node:t}));const s=this.gos.get("treeData"),n=l=>{var d;if(s)return l.key;const u=(d=l.groupData)==null?void 0:d[e.getId()];return!u||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueSvc.formatValue(l.rowGroupColumn,l,u)??u},i=t.footer,o=[n(t)];if(!N6(this.gos))for(;t.parent;)t=t.parent,o.push(n(t));const r=o.reverse().join(" -> ");return i?`Total ${r}`:r}processCell(e){const{accumulatedRowIndex:t,rowNode:s,column:n,value:i,processCellCallback:o,type:r}=e;return o?{value:o(We(this.gos,{accumulatedRowIndex:t,column:n,node:s,value:i,type:r,parseValue:l=>this.valueSvc.parseValue(n,s,l,this.valueSvc.getValue(n,s)),formatValue:l=>this.valueSvc.formatValue(n,s,l)??l}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueSvc.formatValue(n,s,i)}:{value:i??""}}};function xQ(e,t){const s=document.defaultView||window;if(!s){we(52);return}const n=document.createElement("a"),i=s.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(n),s.setTimeout(()=>{s.URL.revokeObjectURL(i)},0)}var AQ={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Ln="clientSide",pn="serverSide",Id="infinite",EQ={onGroupExpandedOrCollapsed:[Ln],refreshClientSideRowModel:[Ln],isRowDataEmpty:[Ln],forEachLeafNode:[Ln],forEachNodeAfterFilter:[Ln],forEachNodeAfterFilterAndSort:[Ln],resetRowHeights:[Ln],applyTransaction:[Ln],applyTransactionAsync:[Ln],flushAsyncTransactions:[Ln],getBestCostNodeSelection:[Ln],getServerSideSelectionState:[pn],setServerSideSelectionState:[pn],applyServerSideTransaction:[pn],applyServerSideTransactionAsync:[pn],applyServerSideRowData:[pn],retryServerSideLoads:[pn],flushServerSideAsyncTransactions:[pn],refreshServerSide:[pn],getServerSideGroupLevelState:[pn],refreshInfiniteCache:[Id],purgeInfiniteCache:[Id],getInfiniteRowCount:[Id],isLastRowIndexKnown:[Id,pn],expandAll:[Ln,pn],collapseAll:[Ln,pn],onRowHeightChanged:[Ln,pn],setRowCount:[Id,pn],getCacheBlockState:[Id,pn]},DQ={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function TQ(e,t,s){const n=DQ[e];if(n){const{version:o,new:r,old:l,message:u}=n,d=l??e;return(...f)=>{const g=r?`Please use ${r} instead. `:"";return rp(`Since ${o} api.${d} is deprecated. ${g}${u??""}`),t.apply(t,f)}}const i=EQ[e];return i?(...o)=>{const r=s.rowModel.getType();if(!i.includes(r)){Qd(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,o)}:t}var IN={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},qR=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],FQ={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:qR,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...qR,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...qR,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},PQ={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function MQ(e,t){const s=[];return(Array.isArray(e)?e:[e]).forEach(n=>{const i=FQ[n];i?i.forEach(o=>{const r=PQ[o];(!r||r===t)&&s.push(o)}):s.push(n)}),s}var nh={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},LQ=e=>{const t=e.map(n=>`import { ${dp(n)} } from '${IN[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>dp(n,!0)).join(", ")} ]); 

For more info see: ${gu}/modules/`};function dp(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function kQ(e,t){const s=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let n="";return!(globalThis==null?void 0:globalThis.agCharts)&&s.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>IN[o])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}var DL=({reasonOrId:e,moduleName:t,gridScoped:s,gridId:n,rowModelType:i,additionalText:o,isUmd:r})=>{const l=MQ(t,i),u=typeof e=="string"?e:NQ[e];if(r)return kQ(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>dp(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>dp(m)).join(", "):dp(l[0])} is not registered${s?" for gridId: "+n:""}. ${f} Check if you have registered the module:
`}
${LQ(l)}`+(o?` 

${o}`:"")},TL=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,IQ=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,OQ={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:s})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",s],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${IQ(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:s,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${s?"":" the default"} paginationPageSizeSelector=[${n==null?void 0:n.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:s,jsComps:n})=>{const i=[],o=[...Object.keys(s??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(n??[])],r=kN({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),r.length>0&&i.push(`         Did you mean: [${r.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${gu}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:s})=>["duplicate group keys for row data, keys should be unique",e,t,...s??[]],187:({rowId:e,firstData:t,secondData:s})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",s],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:DL,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${gu}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>TL("IntegratedChartsModule"),258:()=>TL("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:s,gridId:n,rowModelType:i})=>DL({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:nh[t],gridId:n,gridScoped:s,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${gu}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`};function _Q(e,t){const s=OQ[e];if(!s)return[`Missing error text for error id ${e}!`];const n=s(t),o=`
See ${QO(e,t)}`;return Array.isArray(n)?n.concat(o):[n,o]}var NQ={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},HQ=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),BQ=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const s=nh[e];if(s)return{module:s}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=nh[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>ON(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=nh[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return xl(262);if(e.smallLeft)return xl(263);if(e.smallRight)return xl(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var s;const t=["columnsMenuTab","generalMenuTab"];return(s=e.menuTabs)!=null&&s.some(n=>t.includes(n))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const s=t.filter(n=>!kp.includes(n));if(s.length>0)return`sortingOrder must be an array with elements from [${kp.map(Qb).join()}], currently it includes [${s.map(Qb).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:s,suppressRowTransform:n,enableCellSpan:i,rowDragEntireRow:o,enableCellTextSelection:r})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":s?"colDef.spanRows is not supported with cellSelection.":n?"colDef.spanRows is not supported with suppressRowTransform.":i?o?"colDef.spanRows is not supported with rowDragEntireRow.":r?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),GQ={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},VQ=()=>Object.keys(GQ),ON=()=>({objectName:"colDef",allProperties:VQ(),docsUrl:"column-properties/",deprecations:HQ(),validations:BQ()}),zQ=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function So(e,t,s,n=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=s&&t<=n?null:n===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${s}`:`${e}: value should be between ${s} and ${n}`:`${e}: value should be a number`}var WQ=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:s}){return So("autoSizePadding",s,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:s}){return So("cacheBlockSize",s,1)}},cacheOverflowSize:{validate({cacheOverflowSize:s}){return So("cacheOverflowSize",s,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:s=>{const n=s.domLayout,i=["autoHeight","normal","print"];return n&&!i.includes(n)?`domLayout must be one of [${i.join()}], currently it's ${n}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},findSearchValue:{module:"Find"},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:s})=>{if(s){if(s.smallDown)return xl(262);if(s.smallLeft)return xl(263);if(s.smallRight)return xl(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:s}){return So("infiniteInitialRowCount",s,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:s}){return So("keepDetailRowsCount",s,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:s}){return So("paginationPageSize",s,1)}},paginationPageSizeSelector:{validate:s=>{const n=s.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:s}){return So("rowBuffer",s,0)}},rowClass:{validate:s=>typeof s.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:s}){return s&&typeof s=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':s&&typeof s!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":s&&s.mode!=="multiRow"&&s.mode!=="singleRow"?`Selection mode "${s.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:s=>{const n=s.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:s}){return So("serverSideInitialRowCount",s,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:s=>{const n=s.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(o=>!kp.includes(o));if(i.length>0)return`sortingOrder must be an array with elements from [${kp.map(Qb).join()}], currently it includes [${i.map(Qb).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:s=>s.tooltipHideDelay&&s.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:s=>s.tooltipShowDelay&&s.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:s=>{const n=s.rowModelType??"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:o,getDataPath:r,getRowId:l}=s;if(!i&&!o&&!r)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(r)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(r)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return s.isServerSideGroup&&s.getServerSideGroupKey?null:i}}return null}},treeDataChildrenField:{module:"SharedTreeData"},treeDataParentIdField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:s}){return So("viewportRowModelBufferSize",s,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:s}){return So("viewportRowModelPageSize",s,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"},autoGroupColumnDef:{validate({autoGroupColumnDef:s,showOpenedGroup:n}){return s!=null&&s.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":s!=null&&s.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return LN.forEach(s=>{t[s]={expectedType:"boolean"}}),MN.forEach(s=>{t[s]={expectedType:"number"}}),Sn(t,e),t},UQ=()=>({objectName:"gridOptions",allProperties:[...mQ,...lQ.map(e=>r_(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:zQ(),validations:WQ()}),jQ={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},$Q={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},qQ=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),KQ={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},YQ=class extends ue{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,A6(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&AQ[t]&&we(22,{key:t})}processGridOptions(e){this.processOptions(e,UQ())}validateApiFunction(e,t){return TQ(e,t,this.beans)}missingUserComponent(e,t,s,n){const i=nh[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):we(101,{propertyName:e,componentName:t,agGridDefaults:s,jsComps:n})}checkRowEvents(e){QQ.has(e)&&we(10,{eventType:e})}validateIcon(e){if(qQ.has(e)&&we(43,{iconName:e}),jQ[e])return;const t=$Q[e];if(t){At(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:wD(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}we(134,{iconName:e})}validateMenuItem(e){const t=KQ[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!nh[e]}validateColDef(e,t,s){var n;(s||!((n=this.beans.dataTypeSvc)!=null&&n.isColPendingInference(t)))&&this.processOptions(e,ON())}processOptions(e,t){const{validations:s,deprecations:n,allProperties:i,propertyExceptions:o,objectName:r,docsUrl:l}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],i,r,l);const u=new Set,d=g=>{const m=s[g];if(m)if(typeof m=="function"){const C=m(e,this.gridOptions,this.beans);if(!C)return;if("objectName"in C){const w=e[g];if(Array.isArray(w)){w.forEach(y=>{this.processOptions(y,C)});return}this.processOptions(e[g],C);return}return C}else return m;else return};Object.keys(e).forEach(g=>{const m=n[g];if(m){const{message:T,version:P}=m;u.add(`As of v${P}, ${String(g)} is deprecated. ${T??""}`)}const C=e[g];if(C==null||C===!1)return;const w=d(g);if(!w)return;const{module:y,dependencies:R,validate:A,supportedRowModels:D,expectedType:E}=w;if(E){const T=typeof C;if(T!==E){u.add(`${String(g)} should be of type '${E}' but received '${T}' (${C}).`);return}}if(D){const T=this.gridOptions.rowModelType??"clientSide";if(!D.includes(T)){u.add(`${String(g)} is not supported with the '${T}' row model. It is only valid with: ${D.join(", ")}.`);return}}if(y){const T=Array.isArray(y)?y:[y];let P=!0;if(T.forEach(L=>{this.gos.assertModuleRegistered(L,String(g))||(P=!1)}),!P)return}if(R){const T=this.checkForRequiredDependencies(g,R,e);if(T){u.add(T);return}}if(A){const T=A(e,this.gridOptions,this.beans);if(T){u.add(T);return}}}),u.size>0&&u.forEach(g=>{rp(g)})}checkForRequiredDependencies(e,t,s){const i=Object.entries(t).filter(([o,r])=>{const l=s[o];return!r.required.includes(l)});return i.length===0?null:i.map(([o,r])=>`'${String(e)}' requires '${o}' to be one of [${r.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${r.reason??""}`).join(`
           `)}checkProperties(e,t,s,n,i){const o=["__ob__","__v_skip","__metadata__"],r=XQ(Object.getOwnPropertyNames(e),[...o,...t,...s],s),l=Object.keys(r);for(const u of l){const d=r[u];let f=`invalid ${n} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;s.includes("context")&&(f+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),rp(f)}if(l.length>0&&i){const u=this.beans.frameworkOverrides.getDocLink(i);rp(`to see all the valid ${n} properties please check: ${u}`)}}getConsoleMessage(e,t){return _Q(e,t)}};function XQ(e,t,s){const n={},i=e.filter(o=>!t.some(r=>r===o));return i.length>0&&i.forEach(o=>n[o]=kN({inputValue:o,allSuggestions:s}).values),n}var QQ=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),ZQ={moduleName:"Validation",version:xe,beans:[YQ]};function _N(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var JQ=class extends ue{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var s;const t=!!((s=this.filterManager)!=null&&s.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const s=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{const r=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,l=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return r||l}):n.childrenAfterFilter=n.childrenAfterGroup,_N(n)};if(this.doingTreeDataFiltering()){const n=(o,r)=>{if(o.childrenAfterGroup)for(let l=0;l<o.childrenAfterGroup.length;l++){const u=o.childrenAfterGroup[l],d=r||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?n(o.childrenAfterGroup[l],d):s(u,d)}s(o,r)},i=o=>n(o,!1);t.executeFromRootNode(i)}else{const n=i=>s(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},eZ=class extends TD{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,s,n,i){this.comp=e;const o=lv(this,this.beans.context,i);this.eButtonShowMainFilter=s,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.colDef;return We(t.gos,{colDef:s,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,s=!!e.floatingFilter;this.active=t&&s}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Li("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ff(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();yy(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var r;const{beans:t}=this;if(Kt(t)===this.eGui)return;const i=Bu(t,this.eGui,null,e.shiftKey);if(i){(r=t.headerNavigation)==null||r.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let s=this.column;do if(s=e?t.getColBefore(s):t.getColAfter(s),!s)break;while(!s.getColDef().filter||!s.getColDef().floatingFilter);return s}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ae.UP:case ae.DOWN:t||e.preventDefault();case ae.LEFT:case ae.RIGHT:if(t)return;e.stopPropagation();case ae.ENTER:t&&Au(this.eGui)&&e.preventDefault();break;case ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const s=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&fu(e.relatedTarget,"ag-floating-filter");if(s&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===ae.TAB);if(i&&o){const r=i.shiftKey;Au(this.eGui,r)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new DD(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!ri(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,s=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(o=>{if(o){const r=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),l=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(r,l)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:s}),t!=null&&t.isFilterActive(this.column)&&s(null)}setupWidth(e){const t=()=>{const s=`${this.column.getActualWidth()}px`;this.comp.setWidth(s)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const s=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!n?this.updateCompDetails(e,n,s):i.then(r=>{var l;!r||(l=this.beans.filterManager)!=null&&l.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,s):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,s){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),s&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var s;if(!e)return;const t=e.params;(s=this.comp.getFloatingFilterComp())==null||s.then(n=>{n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function tZ(e,t){var n;const s=e.colModel.getCol(t);if(!s){At(12,{colKey:t});return}(n=e.menuSvc)==null||n.showColumnMenu({column:s,positionBy:"auto"})}function sZ(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var nZ={moduleName:"SharedMenu",version:xe,beans:[J7],apiFunctions:{showColumnMenu:tZ,hidePopupMenu:sZ}},iZ=0,oZ=200,rZ=class extends ue{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:s,column:n,node:i,event:o}=e,r=t.getBoundingClientRect(),l=this.getParentRect();this.setAlignedTo(t,s);let u=!1;const d=()=>{const f=this.keepXYWithinBounds(s,r.top-l.top,0),g=s.clientWidth>0?s.clientWidth:200;u||(s.style.minWidth=`${g}px`,u=!0);const C=l.right-l.left-g;let w;return this.gos.get("enableRtl")?(w=R(),w<0&&(w=y(),this.setAlignedStyles(s,"left")),w>C&&(w=0,this.setAlignedStyles(s,"right"))):(w=y(),w>C&&(w=R(),this.setAlignedStyles(s,"right")),w<0&&(w=0,this.setAlignedStyles(s,"left"))),{x:w,y:f};function y(){return r.right-l.left-2}function R(){return r.left-l.left-g}};this.positionPopup({ePopup:s,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",s,t,o instanceof MouseEvent?o:void 0,n,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:s,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:i,eventSource:o,alignSide:r="left",position:l="over",column:u,rowNode:d,type:f}=e,g=o.getBoundingClientRect(),m=this.getParentRect();this.setAlignedTo(o,t);const C=()=>{let w=g.left-m.left;r==="right"&&(w-=t.offsetWidth-g.width);let y;return l==="over"?(y=g.top-m.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,g,m,e.nudgeY||0)==="under"?y=g.top-m.top+g.height:y=g.top-t.offsetHeight-(n||0)*2-m.top),{x:w,y}};this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:i,updatePosition:C,postProcessCallback:()=>this.callPostProcessPopup(f,t,o,null,u,d)})}shouldRenderUnderOrAbove(e,t,s,n){const i=s.bottom-t.bottom,o=t.top-s.top,r=e.offsetHeight+n;return i>r?"under":o>r||o>i?"above":"under"}setAlignedStyles(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const n=this.popupList[s],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(r=>{i.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const s=this.getPopupIndex(t);if(s!==-1){const n=this.popupList[s];n.alignedToElement=e}}callPostProcessPopup(e,t,s,n,i,o){const r=this.gos.getCallback("postProcessPopup");r&&r({column:i,rowNode:o,ePopup:t,type:e,eventSource:s,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:s,nudgeX:n,nudgeY:i,skipObserver:o,updatePosition:r}=e,l={width:0,height:0},u=(d=!1)=>{let{x:f,y:g}=r();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,n&&(f+=n),i&&(g+=i),s&&(f=this.keepXYWithinBounds(t,f,1),g=this.keepXYWithinBounds(t,g,0)),t.style.left=`${f}px`,t.style.top=`${g}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!o){const d=pa(this.beans,t,()=>u(!0));setTimeout(()=>d(),oZ)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=ds(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),UO(t)}keepXYWithinBounds(e,t,s){const n=s===0,i=n?"clientHeight":"clientWidth",o=n?"top":"left",r=n?"height":"width",l=n?"scrollTop":"scrollLeft",u=ds(this.beans),d=u.documentElement,f=this.getPopupParent(),g=e.getBoundingClientRect(),m=f.getBoundingClientRect(),C=u.documentElement.getBoundingClientRect(),w=f===u.body,y=Math.ceil(g[r]);let A=w?(n?WO:qb)(d)+d[l]:f[i];w&&(A-=Math.abs(C[o]-m[o]));const D=A-y;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=ds(this.beans),{eChild:s,ariaLabel:n,alwaysOnTop:i,positionCallback:o,anchorToElement:r}=e;if(!t)return we(122),{hideFunc:()=>{}};const l=this.getPopupIndex(s);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(s);const u=this.createPopupWrapper(s,n,!!i),d=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(s,u,d,r),{hideFunc:d}}initialisePopupPosition(e){const s=this.getPopupParent().getBoundingClientRect();Se(e.style.top)||(e.style.top=`${s.top*-1}px`),Se(e.style.left)||(e.style.left=`${s.left*-1}px`)}createPopupWrapper(e,t,s){const n=this.getPopupParent(),{environment:i,gos:o}=this.beans,r=un({tag:"div"});return i.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Dl(e,"dialog"),yy(e,t),r.appendChild(e),n.appendChild(r),s?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const s of this.popupList)t.applyThemeClasses(s.wrapper)}}addEventListenersToPopup(e){const t=this.beans,s=ds(t),n=this.getPopupParent(),{wrapperEl:i,eChild:o,closedCallback:r,afterGuiAttached:l,closeOnEsc:u,modal:d}=e;let f=!1;const g=y=>{if(!i.contains(Kt(t)))return;y.key===ae.ESCAPE&&!Zr(y)&&w({keyboardEvent:y})},m=y=>w({mouseEvent:y}),C=y=>w({touchEvent:y}),w=(y={})=>{const{mouseEvent:R,touchEvent:A,keyboardEvent:D,forceHide:E}=y;!E&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:A},o)||f)||(f=!0,n.removeChild(i),s.removeEventListener("keydown",g),s.removeEventListener("mousedown",m),s.removeEventListener("touchstart",C),s.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),r&&r(R||A||D),this.removePopupFromPopupList(o))};return l&&l({hidePopup:w}),window.setTimeout(()=>{u&&s.addEventListener("keydown",g),d&&(s.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),s.addEventListener("touchstart",C),s.addEventListener("contextmenu",m))},0),w}addPopupToPopupList(e,t,s,n){this.popupList.push({element:e,wrapper:t,hideFunc:s,instanceId:iZ++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const n=this.popupList[s];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),s=t.getBoundingClientRect(),{element:n,ePopup:i}=e,o=n.getBoundingClientRect(),r=g=>parseInt(g.substring(0,g.length-1),10),l=(g,m)=>{const C=s[g]-o[g],w=r(i.style[g]);return{initialDiff:C,lastDiff:C,initial:w,last:w,direction:m}},u=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new zt(g=>{f.wrapIncoming(()=>{f.setInterval(()=>{const m=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=(R,A)=>{const D=r(i.style[A]);R.last!==D&&(R.initial=D,R.last=D);const E=m[A]-C[A];if(E!=R.lastDiff){const T=this.keepXYWithinBounds(i,R.initial+R.initialDiff-E,R.direction);i.style[A]=`${T}px`,R.last=T}R.lastDiff=E};y(u,"top"),y(d,"left")},200).then(m=>{g(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:s,touchEvent:n}=e,i=s||n;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){const l=this.popupList[r];if(X6(l.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=ds(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const s=this.getWrapper(e);s&&(s.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(s))}bringPopupToFront(e){const t=this.getPopupParent(),s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=s.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const o=[],r=[];for(const m of s)m!==i&&(m.classList.contains("ag-always-on-top")?r.push(m):o.push(m));const l=[],u=r.length,g=i.classList.contains("ag-always-on-top")||!u?[...o,...r,i]:[...o,i,...r];for(let m=0;m<=n;m++){const C=g[m];if(s[m]===g[m]||C===i)continue;C.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&l.push([y,y.scrollTop])}),m===0?t.insertAdjacentElement("afterbegin",C):g[m-1].insertAdjacentElement("afterend",C)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}},Ty={moduleName:"Popup",version:xe,beans:[rZ]},aZ=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function lZ(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function cZ(e,t){var s;return((s=e.filterManager)==null?void 0:s.getColumnFilterInstance(t))??Promise.resolve(void 0)}function uZ(e,t){var n;const s=e.colModel.getColDefCol(t);if(s)return(n=e.filterManager)==null?void 0:n.destroyFilter(s,"api")}function dZ(e,t){e.frameworkOverrides.wrapIncoming(()=>{var s;return(s=e.filterManager)==null?void 0:s.setFilterModel(t)})}function hZ(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function fZ(e,t){var s;return((s=e.filterManager)==null?void 0:s.getColumnFilterModel(t))??null}function gZ(e,t,s){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,s))??Promise.resolve()}function pZ(e,t){var n;const s=e.colModel.getCol(t);if(!s){At(12,{colKey:t});return}(n=e.menuSvc)==null||n.showFilterMenu({column:s,containerType:"columnFilter",positionBy:"auto"})}var FL={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},PL=["january","february","march","april","may","june","july","august","september","october","november","december"];function mZ(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var vZ=class extends ue{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:s})=>{var n;(s.rowDataUpdated||(n=s.changedProps)!=null&&n.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:s,dataTypeSvc:n,filterManager:i}=this.beans;if(n!=null&&n.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const o=[],r=this.getFilterModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((u,d)=>{const f=e[d];o.push(jC(u.filterPromise,f)),l.delete(d)}),l.forEach(u=>{const d=s.getColDefCol(u)||s.getCol(u);if(!d){we(62,{colId:u});return}if(!d.isFilterAllowed()){we(63,{colId:u});return}const f=this.getOrCreateFilterWrapper(d);if(!f){we(64,{colId:u});return}o.push(jC(f.filterPromise,e[u]))})}else this.allColumnFilters.forEach(l=>{o.push(jC(l.filterPromise,null))});zt.all(o).then(()=>{const l=this.getFilterModel(!0),u=[];this.allColumnFilters.forEach((d,f)=>{const g=r?r[f]:null,m=l?l[f]:null;Ep(g,m)||u.push(d.column)}),u.length>0&&(i==null||i.onFilterChanged({columns:u,source:t}))})}getFilterModel(e){var o;const t={},{allColumnFilters:s,initialFilterModel:n,beans:{colModel:i}}=this;if(s.forEach((r,l)=>{const u=this.getModelFromFilterWrapper(r);Se(u)&&(t[l]=u)}),!e)for(const r of Object.keys(n)){const l=n[r];Se(l)&&!s.has(r)&&((o=i.getCol(r))!=null&&o.isFilterAllowed())&&(t[r]=l)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(we(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=l=>l?l.isFilterActive?l.isFilterActive():(we(67),!1):!1,{colModel:t,gos:s}=this.beans,n=!!kx(s),i=l=>{if(!l.isPrimary())return!0;const d=!t.isPivotActive();return!l.isValueActive()||!d?!1:t.isPivotMode()?!0:n},o=[],r=[];return this.forEachColumnFilter((l,u)=>{e(l)&&(i(u.column)?o.push(l):r.push(l))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((s,n)=>this.setColFilterActive(n.column,s.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(s=>{const n=s.filterPromise;n&&t.push(n.then(i=>e(i,s)))}),zt.all(t)}doColumnFiltersPass(e,t,s){const{data:n,aggData:i}=e,o=s?this.activeAggregateFilters:this.activeColumnFilters,r=s?i:n;for(let l=0;l<o.length;l++){const u=o[l];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function"){At(91);continue}if(!u.doesFilterPass({node:e,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:s}=this.beans,n=()=>{this.isAlive()&&(s==null||s.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:s}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",s).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var s;(s=t.onNewRowsLoaded)==null||s.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:s}=this.beans;return(n,i)=>{const o=i?s.getCol(i):e;return o?t.getValue(o,n):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:s,dataTypeSvc:n}=this.beans;if(PR(s))t="agSetColumnFilter";else{const i=n==null?void 0:n.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:s,dataTypeSvc:n}=this.beans;if(PR(s))t="agSetColumnFloatingFilter";else{const i=n==null?void 0:n.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const s=this.getDefaultFilter(e),n=e.getColDef();let i;const o={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:l=>this.filterChangedCallbackFactory(i,e)(l),doesRowPassOtherFilter:l=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(i,l))??!0}},r=n8(this.beans.userCompFactory,n,o,s);return r?{filterPromise:()=>{const l=r.newAgStackInstance();return l.then(u=>{i=u,t&&(t.filter=u??void 0)}),l},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return We(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:s,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(s==null?void 0:s())??null,t.compDetails=n,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:s}=this.beans;this.allColumnFilters.forEach((i,o)=>{let r;i.column.isPrimary()?r=t.getColDefCol(o):r=t.getCol(o),!(r&&r===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(o))});const n=e.every(ML);e.length>0&&!n?s==null||s.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(s=>{ML(s)&&this.getOrCreateFilterWrapper(s)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:s}=this.allColumnFilters.get(e.getColId())??{};return s&&typeof(s==null?void 0:s.isFilterAllowed)=="function"?s.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const s=f=>{var m;const g=(m=this.getOrCreateFilterWrapper(e))==null?void 0:m.filterPromise;g!=null&&g.then(C=>{f(Pp(C))})},n=e.getColDef(),i={...this.createFilterParams(e,n),filterChangedCallback:()=>s(f=>this.filterChangedCallbackFactory(f,e)())},{userCompFactory:o,frameworkOverrides:r}=this.beans,l=u8(o,n,i);let u=u7(r,n,()=>this.getDefaultFloatingFilter(e));u==null&&(u="agReadOnlyFloatingFilter");const d=We(this.gos,{column:e,filterParams:l,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});return l8(o,n,d,u)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const s=e.getColId(),n=this.allColumnFilters.get(s);this.disposeColumnListener(s),delete this.initialFilterModel[s],n&&this.disposeFilterWrapper(n,t).then(i=>{var o;i&&this.isAlive()&&((o=this.beans.filterManager)==null||o.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var s;return((s=e.filterPromise)==null?void 0:s.then(n=>{const i=!!(n!=null&&n.isFilterActive());return this.destroyBean(n),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),i}))??zt.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return s=>{const n=(s==null?void 0:s.source)??"columnFilter",i={filter:e,additionalEventAttributes:s,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const s=t.column,{compDetails:n}=s.isFilterAllowed()?this.createFilterInstance(s):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(s,"paramsUpdated");return}const i=s.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(s,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(s,s.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,s),filterChangedCallback:this.filterChangedCallbackFactory(o,s),doesRowPassOtherFilter:l=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(o,l))??!0},...i}):!0)===!1&&this.destroyFilter(s,"paramsUpdated")})}setColumnFilterWrapper(e,t){const s=e.getColId();this.allColumnFilters.set(s,t),this.allColumnListeners.set(s,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(s)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:s}=e,{componentClass:n}=t;return!(s===n||(s==null?void 0:s.render)&&(n==null?void 0:n.render)&&s.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(s=>{t(Pp(s))})})}getFilterInstanceImpl(e){var n;const t=this.beans.colModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??zt.resolve(null):zt.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:s})=>{this.setColumnFilterModel(e,t).then(()=>s())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:s,dataTypeSvc:n}=this.beans;if(n!=null&&n.isPendingInference){let l=()=>{};const u=new Promise(d=>{l=d});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:l}),u}const i=s.getColDefCol(e),o=i?this.getOrCreateFilterWrapper(i):null;return o?(l=>new Promise(u=>{l.then(d=>u(d))}))(jC(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,s){const n=PR(this.gos),i=this.getLocaleTextFunc(),o=r=>{const{filterParams:l}=e;e.filterParams=typeof l=="object"?{...l,...r}:r};switch(t.baseDataType){case"number":{n&&o({comparator:mZ});break}case"boolean":{o(n?{valueFormatter:r=>Se(r.value)?i(String(r.value),r.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(r,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(r,l)=>l===!1,numberOfInputs:0}]});break}case"date":{o(n?{valueFormatter:r=>{const l=s(r);return Se(l)?l:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(r,l)=>{if(r==="NaN")return i("invalidDate","Invalid Date");if(l===1&&r!=null){const u=PL[Number(r)-1];return i(u,FL[u])}return r??i("blanks","(Blanks)")}}:{isValidDate:LL});break}case"dateString":{const r=t.dateParser;o(n?{valueFormatter:l=>{const u=s(l);return Se(u)?u:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const u=r(l??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(l,u)=>{if(u===1&&l!=null){const d=PL[Number(l)-1];return i(d,FL[d])}return l??i("blanks","(Blanks)")}}:{comparator:(l,u)=>{const d=r(u);return u==null||d<l?-1:d>l?1:0},isValidDate:l=>typeof l=="string"&&LL(r(l))});break}case"object":{n?o({valueFormatter:r=>{const l=s(r);return Se(l)?l:i("blanks","(Blanks)")}}):e.filterValueGetter=r=>s({column:r.column,node:r.node,value:this.beans.valueSvc.getValue(r.column,r.node)});break}}}setColFilterActive(e,t,s,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",s)),e.dispatchColEvent("filterChanged",s,n)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function jC(e,t){return e?new zt(s=>{e.then(n=>{typeof n.setModel!="function"&&(we(65),s()),(n.setModel(t)||zt.resolve()).then(()=>s())})}):zt.resolve()}function ML(e){return e.getColDef().filter==="agGroupColumnFilter"}function LL(e){return e instanceof Date&&!isNaN(e.getTime())}function CZ(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function bZ(e,t="api"){var s;(s=e.filterManager)==null||s.onFilterChanged({source:t})}var wZ=class extends ue{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:s}=this;this.alwaysPassFilter=s.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=s.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var s;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(s=this.colFilter)==null||s.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,s;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(s=this.advancedFilter)!=null&&s.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){kx(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:s,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):zt.resolve()).then(()=>{var o;const i={source:t,type:"filterChanged",columns:n};s&&Sn(i,s),this.eventSvc.dispatchEvent(i),(o=this.colFilter)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!kx(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var s;const{rowNode:t}=e;return(s=this.alwaysPassFilter)!=null&&s.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var s;const{rowNode:t}=e;return(s=this.alwaysPassFilter)!=null&&s.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var s;return(s=this.colFilter)==null?void 0:s.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var s;(s=this.colFilter)==null||s.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var s;return!!((s=this.colFilter)!=null&&s.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var s;if(this.isAdvFilterEnabled()){if((s=this.beans.dataTypeSvc)!=null&&s.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){we(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var s;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((s=this.colFilter)==null?void 0:s.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,s){var n;(n=this.colFilter)==null||n.setColDefPropertiesForDataType(e,t,s)}},yZ=class extends ue{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,s,n){this.showPopup(e,i=>{var o;(o=this.popupSvc)==null||o.positionPopupUnderMouseEvent({column:e,type:s,mouseEvent:t,ePopup:i})},s,t.target,ri(this.gos),n)}showMenuAfterButtonClick(e,t,s,n){let i=-1,o="left";const r=ri(this.gos);!r&&this.gos.get("enableRtl")&&(i=1,o="right");const l=r?void 0:4*i,u=r?void 0:4;this.showPopup(e,d=>{var f;(f=this.popupSvc)==null||f.positionPopupByComponent({type:s,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},s,t,r,n)}showPopup(e,t,s,n,i,o){var y;const r=e?this.createBean(new o7(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!(r!=null&&r.hasFilter())||!e){At(57);return}const l=un({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:R=>this.trapFocusWithin(R,l)}),l.appendChild(r==null?void 0:r.getGui());let u;const d=()=>r==null?void 0:r.afterGuiDetached(),f=U6(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,g=R=>{dL(e,!1,"contextMenu");const A=R instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),A&&n&&Jo(n)){const D=M_(n);D==null||D.focus({preventScroll:!0})}d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,s,e),o==null||o()},m=this.getLocaleTextFunc(),C=i&&s!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),w=(y=this.popupSvc)==null?void 0:y.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:g,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:C});w&&(this.hidePopup=u=w.hideFunc),r.afterInit().then(()=>{t(l),r.afterGuiAttached({container:s,hidePopup:u})}),dL(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,s,e)}trapFocusWithin(e,t){e.key!==ae.TAB||e.defaultPrevented||Bu(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Au(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,s){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:s??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},SZ=class extends ue{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const s=e.getColDef(),{filterValueGetter:n}=s;return n?this.executeFilterValueGetter(n,t.data,e,t,s):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,s,n,i){const{expressionSvc:o,valueSvc:r}=this.beans,l=We(this.gos,{data:t,node:n,column:s,colDef:i,getValue:r.getValueCallback.bind(r,n)});return typeof e=="function"?e(l):o==null?void 0:o.evaluate(e,l)}},RZ={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},xZ=class extends jt{constructor(){super(RZ,[Ay]),this.eFloatingFilterText=_e}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const s=t.getModelAsString(e);this.eFloatingFilterText.setValue(s)}})}refresh(e){this.init(e)}},NN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const s=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(o=>t[o]!=null)?!0:(we(72,{keys:i}),!1);if(!s.every(n)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const s=t[0];typeof s=="string"?this.defaultOption=s:s.displayKey?this.defaultOption=s.displayKey:we(73)}else we(74)}getCustomOption(e){return this.customFilterOptions[e]}};function hp(e,t,s){return s==null?e.splice(t):e.splice(t,s)}function pw(e){return e==null||typeof e=="string"&&e.trim().length===0}function AZ(e){return e==="AND"||e==="OR"?e:"AND"}function EZ(e,t,s){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,s)}function DZ(e,t){let s=e.length;return s>t&&(e.splice(t),we(78),s=t),s}var HN=class extends c7{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,s)=>{const n=s===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=!e.operator,n=!t.operator;if(!s&&n||s&&!n)return!1;let o;if(s){const r=e,l=t;o=this.areSimpleModelsEqual(r,l)}else{const r=e,l=t;o=r.operator===l.operator&&Hu(r.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return o}shouldRefresh(e){var o;const t=this.getModel(),s=t?t.conditions??[t]:null,n=((o=e.filterOptions)==null?void 0:o.map(r=>typeof r=="string"?r:r.displayKey))??this.getDefaultFilterOptions();return!(!(!s||s.every(r=>n.find(l=>l===r.type)!==void 0))||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const s=e;let n=s.conditions;n==null&&(n=[],we(77));const i=DZ(n,this.maxNumConditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let l=o;l<i;l++)this.createJoinOperatorPanel(),this.createOption();const r=s.operator==="OR";this.eJoinOperatorsAnd.forEach(l=>l.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(r,!0)),n.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const s=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),zt.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:s}=t,n=[];if(s){const o=t;n.push(...o.conditions??[])}else n.push(t);return n[s&&s==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=AZ(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new NN,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(we(79),t=1),this.maxNumConditions=t;let s=e.numAlwaysVisibleConditions??1;s<1&&(we(80),s=1),s>t&&(we(81),s=t),this.numAlwaysVisibleConditions=s}createOption(){const e=this.createManagedBean(new LD);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const s=this.getNumConditions()-1;this.forEachPositionInput(s,n=>this.resetInput(n)),this.addChangedListeners(e,s)}createJoinOperatorPanel(){const e=un({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),s=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(s,n,i),this.isReadOnly()||(t.onValueChange(this.listener),s.onValueChange(this.listener))}createJoinOperator(e,t,s){const n=this.createManagedBean(new y9);e.push(n);const i="ag-filter-condition-operator";return n.addCssClass(i),n.addCssClass(`${i}-${s}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(s=>{e.addOption(s)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,s=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:s?this.getLocaleTextFunc()(s.displayKey,s.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)?e=s:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const s=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<s){this.removeConditionsAndOperators(s+1);const n=e+1,i=s-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const o=this.isConditionDisabled(i,e);n.setDisabled(o||this.filterListOptions.length<=1),i===1&&(xp(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,i)=>{ts(n,this.isConditionBodyVisible(i))});const s=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!s,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(s,!0)}),this.forEachInput((n,i,o,r)=>{this.setElementDisplayed(n,i<r),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:s,eConditionBodies:n,eJoinOperatorPanels:i,eJoinOperatorsAnd:o,eJoinOperatorsOr:r}=this;this.removeComponents(s,e,t),this.removeElements(n,e,t),this.removeValueElements(e,t);const l=Math.max(e-1,0);this.removeElements(i,l,t),this.removeComponents(o,l,t),this.removeComponents(r,l,t)}removeElements(e,t,s){hp(e,t,s).forEach(i=>ra(i))}removeComponents(e,t,s){hp(e,t,s).forEach(i=>{ra(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:s,eTypes:n}=this;let i;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof gc&&this.isConditionBodyVisible(0)?i=o.getInputElement():i=(t=n[0])==null?void 0:t.getFocusableElement()}(i??s).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,s=-1,n=!1;const i=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,s=r);else{const l=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),u=r<t;(l||u)&&(this.removeConditionsAndOperators(r,1),n=!0,u&&s--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(s===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(s,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=s}getPlaceholderText(e,t){let s=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),i=this.translate(n);s=this.filterPlaceholder({filterOptionKey:n,filterOption:i,placeholder:s})}else typeof this.filterPlaceholder=="string"&&(s=this.filterPlaceholder);return s}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,s,n,i)=>{if(!(t instanceof gc))return;const o=s===0&&i>1?"inRangeStart":s===0?"filterOoo":"inRangeEnd",r=s===0&&i>1?e("ariaFilterFromValue","Filter from value"):s===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,n)),t.setInputAriaLabel(r)})}setElementValue(e,t,s){e instanceof gc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof jt&&ts(e.getGui(),t)}setElementDisabled(e,t){e instanceof jt&&xp(e.getGui(),t)}attachElementOnChange(e,t){e instanceof gc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,s)=>{this.forEachPositionTypeInput(s,t,e)})}forEachPositionInput(e,t){const s=this.getConditionType(e);this.forEachPositionTypeInput(e,s,t)}forEachPositionTypeInput(e,t,s){const n=this.getNumberOfInputs(t),i=this.getInputs(e);for(let o=0;o<i.length;o++){const r=i[o];r!=null&&s(r,o,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(s=>s==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,s)=>this.resetJoinOperatorAnd(t,s,this.joinOperatorId+s)),this.eJoinOperatorsOr.forEach((t,s)=>this.resetJoinOperatorOr(t,s,this.joinOperatorId+s)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),zt.resolve()}resetType(e){const s=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(s).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),s)}resetJoinOperatorOr(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),s)}resetJoinOperator(e,t,s,n,i){this.updateJoinOperatorDisabled(e.setValue(s,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,s)=>this.updateJoinOperatorDisabled(t,s);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const s=this.mapValuesFromModel(e);this.forEachInput((n,i,o)=>{o===t&&this.setElementValue(n,s[i]!=null?s[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,s,n)=>{this.setElementValue(t,s===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,s=>{this.attachElementOnChange(s,this.listener)}))}individualConditionPasses(e,t){const s=this.getCellValue(e.node),n=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),o=EZ(i,n,s);return o??(s==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,s,t,e))}hasInvalidInputs(){return!1}},BN=class extends HN{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:s,includeBlanksInGreaterThan:n,includeBlanksInLessThan:i,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(s)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,s){const n=s.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";const i=this.comparator(),o=e[0]!=null?i(e[0],t):0;switch(n){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const r=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case"blank":return pw(t);case"notBlank":return!pw(t);default:return we(76,{filterModelType:n}),!0}}},GN=class{constructor(e,t,s,n,i,o){this.alive=!0,this.context=e,this.eParent=i;const r=i8(t,s,n);r&&r.newAgStackInstance().then(l=>{var f,g;if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;i.appendChild(l.getGui()),(f=l==null?void 0:l.afterGuiAttached)==null||f.call(l);const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&((g=l.setDisabled)==null||g.call(l,d)),o==null||o(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var s;const t=this.dateComp;t?(s=t.setDisabled)==null||s.call(t,e):this.disabled=e}setDisplayed(e){ts(this.eParent,e)}setInputPlaceholder(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||s.call(t,e)}setInputAriaLabel(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||s.call(t,e)}afterGuiAttached(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||s.call(t,e)}updateParams(e){var t,s;(s=(t=this.dateComp)==null?void 0:t.refresh)==null||s.call(t,e)}},VN=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],ND=class{constructor(e,t,s){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=s}getModelAsString(e){if(!e)return null;const t=e.operator!=null,s=this.getLocaleTextFunc();if(t){const n=e,o=(n.conditions??[]).map(l=>this.getModelAsString(l)),r=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${s(r,U_[r])} `)}else{if(e.type==="blank"||e.type==="notBlank")return s(e.type,e.type);{const n=e,i=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:r,numberOfInputs:l}=i||{};return o&&r&&l===0?(s(o,r),r):this.conditionToString(n,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},zN=class extends ND{constructor(e,t,s){super(t,s),this.dateFilterParams=e}conditionToString(e,t){const{type:s}=e,{numberOfInputs:n}=t||{},i=s=="inRange"||n===2,o=Gn(e.dateFrom),r=Gn(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const u=o!==null?up(o,l):"null",d=r!==null?up(r,l):"null";return`${u}-${d}`}return o!=null?up(o,l):`${s}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},kL=1e3,IL=1/0,TZ=class extends BN{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=kL,this.maxValidYear=IL,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:s,type:n}=e||{};return[t&&Gn(t)||null,s&&Gn(s)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator??FZ}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(s,n)=>{if(e[s]!=null)if(isNaN(e[s]))we(82,{param:s});else return e[s]==null?n:Number(e[s]);return n};this.minValidYear=t("minValidYear",kL),this.maxValidYear=t("maxValidYear",IL),this.minValidYear>this.maxValidYear&&we(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Gn(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Gn(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&we(84),this.filterModelFormatter=new zN(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:s,gos:n},dateFilterParams:i}=this,o=new GN(s,t,i.colDef,We(n,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return VN}createValueElement(){const t=ds(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,s,n){const o=ds(this.beans).createElement("div");o.classList.add(`ag-filter-${n}`),o.classList.add(`ag-filter-date-${n}`),t.push(o),e.appendChild(o),s.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),hp(this.eConditionPanelsFrom,e,t),hp(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,s){hp(e,t,s).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:s,minValidYear:n,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(s){if(e>s)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((s,n,i,o)=>{i!==e||!t||n>=o||(t=t&&this.isValidDateValue(s.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),s={},n=this.getValues(e);return n.length>0&&(s.dateFrom=Oi(n[0])),n.length>1&&(s.dateTo=Oi(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...s}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),s=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(s)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(s,n,i,o)=>{n<o&&t.push(s.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function FZ(e,t){const s=t;return s<e?-1:s>e?1:0}var WN=class extends jt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let s;t?s=e.conditions[0]:s=e,this.lastType=s.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const s=e;return this.isTypeEditable(s.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const s=new NN;this.optionsFactory=s,s.init(e.filterParams,this.getDefaultOptions());const n=s.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var s;const t=(s=this.optionsFactory.getCustomOption(e))==null?void 0:s.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},PZ={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},MZ=class extends WN{constructor(){super(PZ,[Ay]),this.eReadOnlyText=_e,this.eDateWrapper=_e}getDefaultOptions(){return VN}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new zN(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const s=e?Gn(e.dateFrom):null;this.dateComp.setDate(s),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){ts(this.eDateWrapper,e),ts(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Oi(e);this.params.parentFilterInstance(s=>{if(s){const n=Gn(t);s.onFloatingFilterChanged(this.lastType||null,n)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,s=yD(e,this.defaultDebounceMs);return We(this.gos,{onDateChanged:$s(this,this.onDateChanged.bind(this),s),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:s,params:n}=this;this.dateComp=new GN(e,t,n.column.getColDef(),this.getDateComponentParams(),s,i=>{i.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},LZ={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},kZ=class extends jt{constructor(){super(LZ,[Ay]),this.eDateInput=_e,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=s&&Ou(),t.type=s?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:o,maxValidDate:r,buttons:l}=e.filterParams||{};if(o&&n&&we(85),r&&i&&we(86),o&&r){const[u,d]=[o,r].map(f=>f instanceof Date?f:Gn(f));u&&d&&u.getTime()>d.getTime()&&we(87)}o?o instanceof Date?t.min=up(o):t.min=o:n&&(t.min=`${n}-01-01`),r?r instanceof Date?t.max=up(r):t.max=r:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(l!=null&&l.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Gn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Oi(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},UN=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],jN=class extends ND{conditionToString(e,t){const{numberOfInputs:s}=t||{},{filter:n,filterTo:i,type:o}=e,r=o=="inRange"||s===2,l=this.formatValue.bind(this);return r?`${l(n)}-${l(i)}`:n!=null?l(n):`${o}`}};function qx(e){const{allowedCharPattern:t}=e??{};return t??null}var IZ=class extends BN{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:s,type:n}=e||{};return[this.processValue(t),this.processValue(s)].slice(0,this.getNumberOfInputs(n))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new jN(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return UN}setElementValue(e,t,s){const{numberFormatter:n}=this.numberFilterParams,i=!s&&n?n(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=qx(this.numberFilterParams),t=un({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,s,n){const i=this.createManagedBean(n?new Gu({allowedCharPattern:n}):new MD);i.addCssClass(`ag-filter-${s}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const s=n=>this.removeComponents(n,e,t);s(this.eValuesFrom),s(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(s,n,i,o)=>{n<o&&t.push(this.processValue(this.stringToFloat(s.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Qr(e);t!=null&&t.trim()===""&&(t=null);const s=this.numberFilterParams.numberParser;return s?s(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),s={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(s.filter=n[0]),n.length>1&&(s.filterTo=n[1]),s}getInputs(e){const{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},$N=class extends ue{constructor(e){super(),this.params=e,this.eInput=_e,this.onValueChanged=()=>{}}setupGui(e){var n;this.eInput=this.createManagedBean(new Gu((n=this.params)==null?void 0:n.config));const t=this.eInput.getGui();e.appendChild(t);const s=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:s,keydown:s})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:s}=this;s.setInputAriaLabel(e),t!==void 0&&s.setAutoComplete(t)}};function qN(e){const t=e==null?void 0:e.trim();return t===""?e:t}var OZ={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},KN=class extends WN{constructor(){super(...arguments),this.eFloatingFilterInputContainer=_e,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(OZ)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:s,defaultDebounceMs:n,readOnly:i}=this;if(s.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=uw(e.filterParams),!i){const o=yD(e.filterParams,n),r=$s(this,this.syncUpWithParentFilter.bind(this),o);s.setValueChangedListener(r)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,s=t.getValue();di(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(s,!0)}syncUpWithParentFilter(e){const t=e.key===ae.ENTER;if(this.applyActive&&!t)return;const{inputSvc:s,params:n}=this;let i=s.getValue();n.filterParams.trimInput&&(i=qN(i),s.setValue(i,!0)),n.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(this.lastType||null,i||null)})}setEditable(e){this.inputSvc.setEditable(e)}},_Z=class extends ue{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new MD),this.eTextInput=this.createManagedBean(new Gu),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),s=this.eTextInput.getGui();e.appendChild(t),e.appendChild(s),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(s,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},NZ=class extends KN{init(e){var t;super.init(e),this.filterModelFormatter=new jN(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){qx(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return UN}createFloatingFilterInputService(e){return this.allowedCharPattern=qx(e.filterParams),this.allowedCharPattern?this.createManagedBean(new $N({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new _Z)}},YN=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],XN=class extends ND{conditionToString(e,t){const{numberOfInputs:s}=t||{},{filter:n,filterTo:i,type:o}=e;return o=="inRange"||s===2?`${n}-${i}`:n!=null?`${n}`:`${o}`}},HZ=class extends HN{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:s})=>{if(s==null)return!1;switch(e){case"contains":return t.indexOf(s)>=0;case"notContains":return t.indexOf(s)<0;case"equals":return t===s;case"notEqual":return t!=s;case"startsWith":return t.indexOf(s)===0;case"endsWith":{const n=t.lastIndexOf(s);return n>=0&&n===t.length-s.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new XN(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),s={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(s.filter=n[0]),n.length>1&&(s.filterTo=n[1]),s}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const s=[];return this.forEachPositionInput(e,(n,i,o,r)=>{if(i<r){let l=Qr(n.getValue());t&&this.textFilterParams.trimInput&&(l=qN(l)??null,n.setValue(l,!0)),s.push(l)}}),s}getDefaultFilterOptions(){return YN}createValueElement(){const e=un({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,s){const n=this.createManagedBean(new Gu);n.addCssClass(`ag-filter-${s}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){const s=n=>this.removeComponents(n,e,t);s(this.eValuesFrom),s(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:s,type:n}=e||{};return[t||null,s||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,s,n){const i=e.map(m=>this.formatter(m))||[],o=this.formatter(t),{api:r,colDef:l,column:u,context:d,textFormatter:f}=this.textFilterParams;if(s.type==="blank")return pw(t);if(s.type==="notBlank")return!pw(t);const g={api:r,colDef:l,column:u,context:d,node:n.node,data:n.data,filterOption:s.type,value:o,textFormatter:f};return i.some(m=>this.matcher({...g,filterText:m}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},BZ=class extends KN{init(e){super.init(e),this.filterModelFormatter=new XN(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return YN}createFloatingFilterInputService(){return this.createManagedBean(new $N)}};function GZ(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function VZ(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function zZ(e){var t;(t=e.quickFilter)==null||t.resetCache()}var WZ=class extends ue{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",s=>this.setFilter(s.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var u;const{autoColSvc:e,colModel:t,gos:s,pivotResultCols:n}=this.beans,i=t.isPivotMode(),o=e==null?void 0:e.getColumns(),r=t.getColDefCols();let l=(i&&!s.get("applyQuickFilterBeforePivotOrAgg")?(u=n==null?void 0:n.getPivotResultCols())==null?void 0:u.list:r)??[];o&&(l=l.concat(o)),this.colsToUse=s.get("includeHiddenColumnsInQuickFilter")?l:l.filter(d=>d.isVisible()||d.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(s=>t?this.doesRowPassCache(e,s):this.doesRowPassNoCache(e,s))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Se(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){we(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),s=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,s&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(s=>{const n=this.getTextForColumn(s,e);return Se(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let s;e?(this.checkGenerateAggText(t),s=t.quickFilterAggregateText):s=this.getAggText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,s)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let s=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const i=We(this.gos,{value:s,node:t,data:t.data,column:e,colDef:n});s=n.getQuickFilterText(i)}return Se(s)?s.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(s=>{const n=this.getTextForColumn(s,e);Se(n)&&t.push(n)}),t.join(`
`)}},UZ={moduleName:"ClientSideRowModelFilter",version:xe,rowModels:["clientSide"],beans:[JQ]},HD={moduleName:"FilterCore",version:xe,beans:[wZ],apiFunctions:{isAnyFilterPresent:CZ,onFilterChanged:bZ},css:[aZ],dependsOn:[UZ]},QN={moduleName:"FilterValue",version:xe,beans:[SZ]},Fy={moduleName:"ColumnFilter",version:xe,beans:[vZ,yZ],dynamicBeans:{headerFilterCellCtrl:eZ},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:lZ,getColumnFilterInstance:cZ,destroyFilter:uZ,setFilterModel:dZ,getFilterModel:hZ,getColumnFilterModel:fZ,setColumnFilterModel:gZ,showColumnFilter:pZ},dependsOn:[HD,Ty,QN,nZ]},jZ={moduleName:"CustomFilter",version:xe,userComponents:{agReadOnlyFloatingFilter:xZ},dependsOn:[Fy]},$Z={moduleName:"TextFilter",version:xe,dependsOn:[Fy],userComponents:{agTextColumnFilter:HZ,agTextColumnFloatingFilter:BZ}},qZ={moduleName:"NumberFilter",version:xe,dependsOn:[Fy],userComponents:{agNumberColumnFilter:IZ,agNumberColumnFloatingFilter:NZ}},KZ={moduleName:"DateFilter",version:xe,dependsOn:[Fy],userComponents:{agDateColumnFilter:TZ,agDateInput:kZ,agDateColumnFloatingFilter:MZ}},YZ={moduleName:"QuickFilterCore",version:xe,rowModels:["clientSide"],beans:[WZ],dependsOn:[HD,QN]},XZ={moduleName:"QuickFilter",version:xe,apiFunctions:{isQuickFilterPresent:GZ,getQuickFilter:VZ,resetQuickFilter:zZ},dependsOn:[YZ]},QZ={moduleName:"ExternalFilter",version:xe,dependsOn:[HD]},Vg=class{constructor(e){this.cellValueChanges=e}},KR=class extends Vg{constructor(e,t,s,n){super(e),this.initialRange=t,this.finalRange=s,this.ranges=n}},ZZ=10,OL=class{constructor(e){this.actionStack=[],this.maxStackSize=e||ZZ,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},JZ=class extends ue{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=this.activeCellEdit!==null&&__(this.activeCellEdit,t),n=this.activeRowEdit!==null&&X8(this.activeRowEdit,t);if(!(s||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:l,oldValue:u,value:d}=e,f={rowPinned:o,rowIndex:r,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const s=e.get("undoRedoCellEditingLimit");if(s<=0)return;this.undoStack=new OL(s),this.redoStack=new OL(s),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:s,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(s,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:s,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(n,s,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,s,n,i){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,r=>r[n],i),o instanceof KR?this.processRange(o.ranges||[o[s]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,s){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:o,columnId:r}=n,l={rowIndex:i,rowPinned:o},u=lw(this.beans,l);u.displayed&&u.setDataValue(r,t(n),s)})}processRange(e){let t;const s=this.beans.rangeSvc;s.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const o=n.startRow,r=n.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:n.startColumn,columns:n.columns};s.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:s,rowPinned:n}=t,i={rowIndex:s,rowPinned:n},o=lw(this.beans,i),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r)}setLastFocusedCell(e){const{rowIndex:t,columnId:s,rowPinned:n}=e,{colModel:i,focusSvc:o,rangeSvc:r}=this.beans,l=i.getCol(s);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:n};o.setFocusedCell({...d,forceBrowserFocus:!0}),r==null||r.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const s=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(s)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Vg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new KR(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:s}=this.beans;t&&Tl(s)?e=new KR(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Vg(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},eJ=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",tJ={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},sJ=class extends Pf{constructor(){super(tJ,[PD]),this.eCheckbox=_e}init(e){this.params=e;const t=e.value??void 0,s=this.eCheckbox;s.setValue(t),s.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(s,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),s=cD(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${s})`)}},Py=class extends Pf{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=_e}init(e){this.params=e;const{cellStartedEdit:t,eventKey:s,suppressPreventDefault:n}=e,i=this.eInput;this.cellEditorInput.init(i,e);let o,r=!0;t?(this.focusAfterAttached=!0,s===ae.BACKSPACE||s===ae.DELETE?o="":s&&s.length===1?n?r=!1:o=s:(o=this.cellEditorInput.getStartValue(),s!==ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),r&&o!=null&&i.setStartValue(o),this.addManagedElementListeners(i.getGui(),{keydown:l=>{const{key:u}=l;(u===ae.PAGE_UP||u===ae.PAGE_DOWN)&&l.preventDefault()}})}afterGuiAttached(){var n,i;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ou()||t.getFocusableElement().focus();const s=t.getInputElement();this.highlightAllOnFocus?s.select():(i=(n=this.cellEditorInput).setCaret)==null||i.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),s=e.getInputElement();t.focus(),s.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},nJ={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},iJ=class{getTemplate(){return nJ}getAgComponents(){return[sN]}init(e,t){this.eInput=e,this.params=t;const{min:s,max:n,step:i}=t;s!=null&&e.setMin(s),n!=null&&e.setMax(n),i!=null&&e.setStep(i)}getValue(){const{eInput:e,params:t}=this,s=e.getDate();return!Se(s)&&!Se(t.value)?t.value:s??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Oi(e,!1)}},oJ=class extends Py{constructor(){super(new iJ)}},rJ={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},aJ=class{constructor(e){this.getDataTypeService=e}getTemplate(){return rJ}getAgComponents(){return[sN]}init(e,t){this.eInput=e,this.params=t;const{min:s,max:n,step:i}=t;s!=null&&e.setMin(s),n!=null&&e.setMax(n),i!=null&&e.setStep(i)}getValue(){const{params:e,eInput:t}=this,s=this.formatDate(t.getDate());return!Se(s)&&!Se(e.value)?e.value:e.parseValue(s??"")}getStartValue(){return Oi(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Gn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Oi(e??null,!1)??void 0}},lJ=class extends Py{constructor(){super(new aJ(()=>this.beans.dataTypeSvc))}},cJ={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},uJ=class extends Pf{constructor(){super(cJ,[R9]),this.eTextArea=_e}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ae.LEFT||t===ae.UP||t===ae.RIGHT||t===ae.DOWN||e.shiftKey&&t===ae.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!Se(e)&&!Se(t.value)?t.value:t.parseValue(e)}},dJ={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},hJ=class{getTemplate(){return dJ}getAgComponents(){return[x9]}init(e,t){this.eInput=e,this.params=t;const{max:s,min:n,precision:i,step:o}=t;s!=null&&e.setMax(s),n!=null&&e.setMin(n),i!=null&&e.setPrecision(i),o!=null&&e.setStep(o);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ae.UP||e.key===ae.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,s=e.getValue();if(!Se(s)&&!Se(t.value))return t.value;let n=t.parseValue(s);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){Ou()&&this.eInput.getInputElement().focus({preventScroll:!0})}},fJ=class extends Py{constructor(){super(new hJ)}},gJ={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},pJ=class extends Pf{constructor(){super(gJ,[O9]),this.eSelect=_e,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:s,gos:n}=this,{values:i,value:o,eventKey:r}=e;if(Ut(i)){we(58);return}this.startedByEnter=r!=null?r===ae.ENTER:!1;let l=!1;i.forEach(g=>{const m={value:g},C=s.formatValue(e.column,null,g),w=C!=null;m.text=w?C:g,t.addOption(m),l=l||o===g}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:f}=e;u!=null&&t.setPickerGap(u),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},mJ={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},vJ=class{getTemplate(){return mJ}getAgComponents(){return[Ay]}init(e,t){this.eInput=e,this.params=t;const s=t.maxLength;s!=null&&e.setMaxLength(s)}getValue(){const{eInput:e,params:t}=this,s=e.getValue();return!Se(s)&&!Se(t.value)?t.value:t.parseValue(s)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),s=Se(t)&&t.length||0;s&&e.getInputElement().setSelectionRange(s,s)}},_L=class extends Py{constructor(){super(new vJ)}};function CJ(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function bJ(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function ZN(e,t,s="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,s),"ensureVisible")}function JN(e,t,s){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,s),"ensureVisible")}function wJ(e,t,s=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,s),"ensureVisible")}function yJ(e){var t;(t=e.undoRedo)==null||t.undo("api")}function SJ(e){var t;(t=e.undoRedo)==null||t.redo("api")}function RJ(e,t={}){const s=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{var o;const i=(o=n.comp)==null?void 0:o.getCellEditor();i&&s.push(Pp(i))}),s}function xJ(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(s=>{if(s.editing){const{cellPosition:n}=s;t.push(n)}}),t}function AJ(e,t=!1){var s;(s=e.editSvc)==null||s.stopAllEditing(t)}function EJ(e,t){const s=e.colModel.getCol(t.colKey);if(!s){we(12,{colKey:t.colKey});return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:s};t.rowPinned==null&&JN(e,t.rowIndex),ZN(e,t.colKey);const o=Ud(e,n);if(!o)return;const{focusSvc:r,gos:l,editSvc:u}=e,d=()=>{const g=Kt(e),m=o.eGui;return g!==m&&!!(m!=null&&m.contains(g))},f=l.get("stopEditingWhenCellsLoseFocus")&&d();(f||!r.isCellFocused(n))&&r.setFocusedCell({...n,forceBrowserFocus:f,preventScrollOnBrowserFocus:!0}),u==null||u.startRowOrCellEdit(o,t.key)}function DJ(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function TJ(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var FJ={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},PJ=class extends Pf{constructor(e){super(FJ),this.params=e}postConstruct(){xu(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,s=n=>{Hx(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:s})}},MJ=class extends ue{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,s=!1,n=null){var d;if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,s,n)}),!0;const i=this.createCellEditorParams(e,t,s),o=e.column.getColDef(),r=iL(this.beans.userCompFactory,o,i),l=(r==null?void 0:r.popupFromSelector)!=null?r.popupFromSelector:!!o.cellEditorPopup,u=(r==null?void 0:r.popupPositionFromSelector)!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;return NL(e,!0,r),e.comp.setEditDetails(r,l,u,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((d=r==null?void 0:r.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:s,column:n,rowNode:i}=e,{newValue:o,newValueExists:r}=LJ(t,s),l=this.beans.valueSvc.getValueForDisplay(n,i);let u=!1;return r&&(u=kJ(e,l,o,i,n)),NL(e,!1,void 0),s.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:l,newValue:o,valueChanged:u}),u}handleColDefChanged(e){var s;const t=(s=e.comp)==null?void 0:s.getCellEditor();if(t!=null&&t.refresh){const{eventKey:n,cellStartedEdit:i}=e.editCompDetails.params,o=this.createCellEditorParams(e,n,i),r=e.column.getColDef(),l=iL(this.beans.userCompFactory,r,o);t.refresh(l.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,s=t.getCellEditor();s!=null&&s.focusIn?s.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var n,i;return(i=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:i.call(n)}))}createPopupEditorWrapper(e){return new PJ(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var o;if(e.stoppingRowEdit)return;const s=e.getAllCellCtrls(),n=e.editing;e.stoppingRowEdit=!0;let i=!1;for(const r of s){const l=r.stopEditing(t);n&&!t&&!i&&l&&(i=!0)}i&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&((o=this.beans.rowEditSvc)==null||o.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=s=>{const n=s.relatedTarget;if(Dx(n)===null){this.stopAllEditing();return}let i=e.some(o=>o.contains(n))&&O_(this.gos,n);if(!i){const o=this.beans.popupSvc;i=!!o&&(o.getActivePopups().some(r=>r.contains(n))||o.isElementWithinCustomPopup(n))}i||this.stopAllEditing()};e.forEach(s=>this.addManagedElementListeners(s,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(s=>s.editing);e.forEachGui(void 0,s=>{s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,s=null){var n;return e.comp?this.gos.get("editType")==="fullRow"?((n=this.beans.rowEditSvc)==null?void 0:n.startEditing(e.rowCtrl,t,e))??!1:this.startEditing(e,t,!0,s):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,s)}),!0)}stopRowOrCellEdit(e,t=!1,s=!1,n=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),s||this.navigateAfterEdit(n,e.cellPosition)}createCellEditorParams(e,t,s){const{column:n,rowNode:i,cellPosition:{rowIndex:o}}=e,{valueSvc:r,gos:l}=this.beans;return We(l,{value:r.getValueForDisplay(n,i),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:o,node:i,data:i.data,cellStartedEdit:s,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:u=>r.parseValue(n,i,u,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var n;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?ae.UP:ae.DOWN;(n=this.beans.navigation)==null||n.navigateToNextCell(null,i,t,!1)}}};function NL(e,t,s){e.editCompDetails=s,e.editing!==t&&(e.editing=t)}function LJ(e,t){const s={newValueExists:!1};if(e)return s;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?s:{newValue:n.getValue(),newValueExists:!0}}function kJ(e,t,s,n,i){if(s===t)return!1;e.suppressRefreshCell=!0;const o=n.setDataValue(i,s,"edit");return e.suppressRefreshCell=!1,o}var IJ=class extends ue{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,s=null,n=null){if(e.editing)return!1;let i=!0,o=!1;const{editSvc:r}=this.beans;return e.getAllCellCtrls().forEach(l=>{const u=l===s;u?i=(r==null?void 0:r.startEditing(l,t,u,n))??!1:r==null||r.startEditing(l,null,u,n),o||(o=l.editing)}),o&&this.setEditing(e,!0),i}setEditing(e,t){e.editing=t,e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const s=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(s)}},Nl={moduleName:"EditCore",version:xe,beans:[MJ,IJ],apiFunctions:{getCellEditorInstances:RJ,getEditingCells:xJ,stopEditing:AJ,startEditingCell:EJ},dependsOn:[Ty],css:[eJ]},OJ={moduleName:"UndoRedoEdit",version:xe,beans:[JZ],apiFunctions:{undoCellEditing:yJ,redoCellEditing:SJ,getCurrentUndoSize:DJ,getCurrentRedoSize:TJ},dependsOn:[Nl]},_J={moduleName:"TextEditor",version:xe,userComponents:{agCellEditor:_L,agTextCellEditor:_L},dependsOn:[Nl]},NJ={moduleName:"NumberEditor",version:xe,userComponents:{agNumberCellEditor:{classImp:fJ,params:{suppressPreventDefault:!0}}},dependsOn:[Nl]},HJ={moduleName:"DateEditor",version:xe,userComponents:{agDateCellEditor:oJ,agDateStringCellEditor:lJ},dependsOn:[Nl]},BJ={moduleName:"CheckboxEditor",version:xe,userComponents:{agCheckboxCellEditor:sJ},dependsOn:[Nl]},GJ={moduleName:"SelectEditor",version:xe,userComponents:{agSelectCellEditor:pJ},dependsOn:[Nl]},VJ={moduleName:"LargeTextEditor",version:xe,userComponents:{agLargeTextCellEditor:uJ},dependsOn:[Nl]},zJ={moduleName:"CustomEditor",version:xe,dependsOn:[Nl]},WJ=class extends ue{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,eh(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),u$(e))}createColumns(e,t){var m,C;const s=()=>{var w;sw(this.beans,(w=this.columns)==null?void 0:w.tree),this.columns=null},n=e.treeDepth,o=(((m=this.columns)==null?void 0:m.treeDepth)??-1)==n,r=this.generateSelectionCols();if(c$(r,((C=this.columns)==null?void 0:C.list)??[])&&o)return;s();const{colGroupSvc:u}=this.beans,d=(u==null?void 0:u.findDepth(e.tree))??0,f=(u==null?void 0:u.balanceTreeForAutoCols(r,d))??[];this.columns={list:r,tree:f,treeDepth:d,map:{}},t(w=>{if(!w)return null;const y=w.filter(R=>!aa(R));return[...r,...y]})}updateColumns(e){var n;const t=eh(e.source),s=e.currentValue;(n=this.columns)==null||n.list.forEach(i=>{const o=this.createSelectionColDef(s);i.setColDef(o,null,t),ci(this.beans,{state:[{colId:i.getColId(),...o}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(s=>p_(s,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var r,l;const{gos:e,beans:t}=this,s=e.get("rowSelection");if(typeof s!="object"||!pu(e))return!1;const n=(((l=(r=t.autoColSvc)==null?void 0:r.getColumns())==null?void 0:l.length)??0)>0;if(s.checkboxLocation==="autoGroupColumn"&&n)return!1;const i=!!Jd(s),o=nb(s);return i||o}createSelectionColDef(e){const{gos:t}=this.beans,s=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:i,spanRows:o,...r}=s??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(l,u,d,f){const g=d.isSelected(),m=f.isSelected();return g===m?0:g?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...r,colId:f_}}generateSelectionCols(){var n;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(n=this.beans.validation)==null||n.validateColDef(e,t,!0);const s=new vD(e,null,t,!1);return this.createBean(s),[s]}onSelectionOptionsChanged(e,t,s){const n=t&&typeof t!="string"?Jd(t):void 0,i=e&&typeof e!="string"?Jd(e):void 0,o=n!==i,r=t&&typeof t!="string"?nb(t):void 0,l=e&&typeof e!="string"?nb(e):void 0,u=r!==l,d=Zb(e),f=Zb(t);(o||u||d!==f)&&this.beans.colModel.refreshAll(s)}destroy(){var e;sw(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,s=t.visibleCols.getAllTrees()??[];if(s.length!==0){if(!s.some(eH)){const n=Fp(t).find(i=>aa(i.colId));n&&ci(t,{state:[{colId:n.colId,hide:!n.hide}]},e)}if(s.length===1){const n=s[0],i=tH(n);if(!i)return;ci(t,{state:[{colId:i.getColId(),hide:!0}]},e)}}}},eH=e=>{var t;return e.isColumn?aa(e):((t=e.getChildren())==null?void 0:t.some(eH))??!1};function tH(e){if(e.isColumn)return aa(e)?e:null;const t=e.getChildren()??[];for(const s of t){const n=tH(s);if(n)return n}return null}function UJ(e,t){var r;if(!t.nodes.every(l=>l.rowPinned?(we(59),!1):l.id===void 0?(we(60),!1):!0))return;const{nodes:n,source:i,newValue:o}=t;(r=e.selectionSvc)==null||r.setNodesSelected({nodes:n,source:i??"api",newValue:o})}function jJ(e,t,s="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:s,selectAll:t})}function $J(e,t,s="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:s,selectAll:t})}function qJ(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"filtered"})}function KJ(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"filtered"})}function YJ(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"currentPage"})}function XJ(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function QJ(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function ZJ(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var JJ=class extends w9{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Jb(e),this.groupSelectsDescendants=Tp(e),this.groupSelectsFiltered=tw(e)==="filteredDescendants",this.masterSelectsDetail=Z1(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Tp(e),s=Jb(e),n=tw(e)==="filteredDescendants";this.masterSelectsDetail=Z1(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||s!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=s)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,s){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,s);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,s),this.selectRange(n.select,!0,s)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:s}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:s,nodes:n,event:i,source:o}){var l;if(!pu(this.gos)&&e)return we(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return we(130),0;let r=0;for(let u=0;u<n.length;u++){const d=n[u],f=$C(d),g=this.groupSelectsFiltered&&f.group;if(f.rowPinned){we(59);continue}if(f.id===void 0){we(60);continue}g||this.selectRowNode(f,e,i,o)&&(this.detailSelection.delete(f.id),r++),this.groupSelectsDescendants&&((l=f.childrenAfterGroup)!=null&&l.length)&&(r+=this.selectChildren(f,e,o))}return s||(e&&(t||!this.isMultiSelect())&&(r+=this.clearOtherNodes($C(n[0]),o)),r>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),r}selectRange(e,t,s){let n=0;return e.forEach(i=>{if(i.group&&this.groupSelectsDescendants)return;this.selectRowNode(i,t,void 0,s)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)),n}selectChildren(e,t,s){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:s,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((s,n)=>{e(s)&&t.set(n,s)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:s,rowModel:n}=this.beans;if(!an(s))return!1;const i=n.rootNode;if(!i)return!1;t||(t=new gw(!0,i),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==i){const l=this.calculateSelectedFromChildren(r);o=this.selectRowNode(r,l===null?!1:l,void 0,e)||o}}),o}clearOtherNodes(e,t){const s=new Map;let n=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const o=this.selectedNodes.get(i.id);n+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&i.parent&&s.set(i.parent.id,i.parent)}}),s.forEach(i=>{const o=this.calculateSelectedFromChildren(i);this.selectRowNode(i,o===null?!1:o,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new vf(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!an(e))return;const s=t.getTopLevelNodes();if(s===null)return;const n=[];function i(o){for(let r=0,l=o.length;r<l;r++){const u=o[r];u.isSelected()?n.push(u):u.group&&u.childrenAfterGroup&&i(u.childrenAfterGroup)}}return i(s),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const s=an(this.gos);let n=!1;const i=o=>{const r=this.selectRowNode($C(o),!1,void 0,e);n||(n=r)};if(t==="currentPage"||t==="filtered"){if(!s){At(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,s&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);n||(n=o)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,s=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&s++)}),{selectedCount:t,notSelectedCount:s}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:s}=this.getSelectedCounts(e);return sH(t,s)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){t.push(n);return}if(!n.expanded&&!n.footer){const i=o=>{var r;t.push(o),(r=o.childrenAfterFilter)!=null&&r.length&&o.childrenAfterFilter.forEach(i)};i(n);return}this.groupSelectsDescendants||t.push(n)}),t;const s=this.beans.rowModel;return e==="filtered"?(s.forEachNodeAfterFilter(n=>{t.push(n)}),t):(s.forEachNode(n=>{t.push(n)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:s}=this.beans,n=t.getFirstRow(),i=t.getLastRow();for(let o=n;o<=i;o++){const r=s.getRow(o);r&&e(r)}}selectAllRowNodes(e){const{gos:t,selectionCtx:s}=this;if(!pu(t)){we(132);return}if(G6(t)&&!ew(t)){we(130);return}if(!this.canSelectAll())return;const{source:n,selectAll:i}=e;let o=!1;if(this.getNodesToSelect(i).forEach(r=>{const l=this.selectRowNode($C(r),!0,void 0,n);o||(o=l)}),s.selectAll=!0,an(t)&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(n);o||(o=r)}o&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){At(103);return}const s=new Set(e),n=[];this.beans.rowModel.forEachNode(i=>{s.has(i.id)&&n.push(i)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return an(e)?!0:(At(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var u;const{gos:t,rowModel:s}=this.beans;if(!pu(t))return;const n="selectableChanged",i=e!==void 0,o=an(t)&&this.groupSelectsDescendants,r=[],l=d=>{var g;if(i&&!d.group)return;if(o&&d.group){const m=((g=d.childrenAfterGroup)==null?void 0:g.some(C=>C.selectable))??!1;this.setRowSelectable(d,m,!0);return}!this.updateRowSelectable(d,!0)&&d.isSelected()&&r.push(d)};if(o){if(e===void 0){const d=s.rootNode;e=d?new gw(!1,d):void 0}e==null||e.forEachChangedNodeDepthFirst(l,!i,!i)}else s.forEachNode(l);r.length&&this.setNodesSelected({nodes:r,newValue:!1,source:n}),!i&&o&&((u=this.updateGroupsFromChildrenSelections)==null||u.call(this,n))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var o,r;if(!this.masterSelectsDetail)return;const s=(r=(o=e.detailNode)==null?void 0:o.detailGridInfo)==null?void 0:r.api;if(!s)return;const n=eee(s);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){const l=this.detailSelection.get(e.id)??new Set;for(const u of s.getSelectedNodes())l.add(u.id);this.detailSelection.set(e.id,l)}}setDetailSelectionState(e,t,s){if(this.masterSelectsDetail){if(!ew(t)){we(269);return}switch(e.isSelected()){case!0:{s.selectAll();break}case!1:{s.deselectAll();break}case void 0:{const n=this.detailSelection.get(e.id);if(n){const i=[];for(const o of n){const r=s.getRowNode(o);r&&i.push(r)}s.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function $C(e){return e.footer?e.sibling:e}function eee(e){let t=0,s=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&s++}),sH(t,s)}function sH(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var tee={moduleName:"SharedRowSelection",version:xe,beans:[WJ],apiFunctions:{setNodesSelected:UJ,selectAll:jJ,deselectAll:$J,selectAllFiltered:qJ,deselectAllFiltered:KJ,selectAllOnCurrentPage:YJ,deselectAllOnCurrentPage:XJ,getSelectedNodes:QJ,getSelectedRows:ZJ}},see={moduleName:"RowSelection",version:xe,rowModels:["clientSide","infinite","viewport"],beans:[JJ],dependsOn:[tee]};function nee(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function iee(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function oee(e){const t=nr(e),s=PN(e);t?t.onRowHeightChanged():s&&s.onRowHeightChanged()}function ree(e,t,s){var o;const n=PN(e);if(n){if(((o=e.rowGroupColsSvc)==null?void 0:o.columns.length)===0){if(t<0){At(238);return}n.setRowCount(t,s);return}At(28);return}const i=Dy(e);if(i){i.setRowCount(t,s);return}}function aee(e){var t;return Nu(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function lee(e){return e.rowModel.isLastRowIndexKnown()}var cee={moduleName:"CsrmSsrmSharedApi",version:xe,apiFunctions:{expandAll:nee,collapseAll:iee,onRowHeightChanged:oee}},uee={moduleName:"SsrmInfiniteSharedApi",version:xe,apiFunctions:{setRowCount:ree,getCacheBlockState:aee,isLastRowIndexKnown:lee}},dee=class extends ue{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{var o;if(!n){At(18),t||At(20);return}if(this.isGridApi(n))return n;const i=n;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||At(19),i.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const s=[];return e.columns?e.columns.forEach(n=>{s.push(t(n))}):e.column&&s.push(t(e.column)),s}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":we(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(s=>{let n=null;s&&(n=t.getProvidedColGroup(s.getGroupId())),!(s&&!n)&&t.setColumnGroupOpened(n,s.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var f;const t=e.column;let s=null;const n=this.beans,{colResize:i,ctrlsSvc:o,colModel:r}=n;if(t&&(s=r.getColDefCol(t.getColId())),t&&!s)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const m=e.api.getColumnState().map(C=>({colId:C.colId}));ci(n,{state:m,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const m=e.api.getColumnState().map(C=>({colId:C.colId,hide:C.hide}));ci(n,{state:m},"alignedGridChanged")}break;case"columnPinned":{const m=e.api.getColumnState().map(C=>({colId:C.colId,pinned:C.pinned}));ci(n,{state:m},"alignedGridChanged")}break;case"columnResized":{const g=e,m={};l.forEach(C=>{m[C.getId()]={key:C.getColId(),newWidth:C.getActualWidth()}}),(f=g.flexColumns)==null||f.forEach(C=>{m[C.getId()]&&delete m[C.getId()]}),i==null||i.setColumnWidths(Object.values(m),!1,g.finished,"alignedGridChanged");break}}const d=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(g=>{g.setGridOption("alwaysShowVerticalScroll",d)})}},hee={moduleName:"AlignedGrids",version:xe,beans:[dee]},fee=class extends p9{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},YR=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function gee(e){if(Ut(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let s=0;s<t.length;s++){const n=t[s],i=s===0,o=s===e.childrenAfterSort.length-1;n.setFirstChild(i),n.lastChild!==o&&(n.lastChild=o,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==s&&(n.childIndex=s,n.dispatchRowEvent("childIndexChanged"))}}function nH(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),gee(e)}var pee=class extends ue{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,s=t.sortSvc.getSortOptions(),n=Se(s)&&s.length>0,i=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=s.some(({column:r})=>jo(t.gos)?r.isPrimary()&&r.isRowGroupActive():!!r.getColDef().showRowGroup);this.sort(t,s,n,i,e.changedRowNodes,e.changedPath,o)}sort(e,t,s,n,i,o,r){const{gos:l,colModel:u,rowGroupColsSvc:d,rowNodeSorter:f,rowRenderer:g,showRowGroupCols:m}=e,C=l.get("groupMaintainOrder"),w=u.getCols().some(E=>E.isRowGroupActive()),y=u.isPivotMode(),R=l.getCallback("postSortRows");let A=!1;const D=E=>{var N,B;const T=y&&E.leafGroup,P=C&&w&&!E.leafGroup&&!r;let L;if(P){const W=(N=d==null?void 0:d.columns)==null?void 0:N[E.level+1],z=(W==null?void 0:W.getSort())===null,q=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!z){const K={};E.childrenAfterSort.forEach(($,te)=>{K[$.id]=te}),q.sort(($,te)=>(K[$.id]??0)-(K[te.id]??0))}L=q}else!s||T?L=E.childrenAfterAggFilter.slice(0):n&&i?L=mee(f,E,i,o,t):L=f.doFullSort(E.childrenAfterAggFilter,t);if(A||(A=((B=E.childrenAfterSort)==null?void 0:B[0])!==L[0]),E.childrenAfterSort=L,nH(E),R){const W={nodes:E.childrenAfterSort};R(W)}};if(o==null||o.forEachChangedNodeDepthFirst(D),A&&this.gos.get("groupHideOpenParents")){const E=m==null?void 0:m.getShowRowGroupCols();E!=null&&E.length&&g.refreshCells({columns:E,force:!0})}}};function mee(e,t,s,n,i){const o=t.childrenAfterAggFilter,r=t.childrenAfterSort;if(!r)return e.doFullSort(o,i);const l=new Set,u=[],{updates:d,adds:f}=s;for(let m=0,C=o.length;m<C;++m){const w=o[m];d.has(w)||f.has(w)||n&&!n.canSkip(w)?u.push({currentPos:u.length,rowNode:w}):l.add(w.id)}const g=r.filter(m=>l.has(m.id)).map((m,C)=>({currentPos:C,rowNode:m}));return u.sort((m,C)=>e.compareRowNodes(i,m,C)),vee(e,i,u,g)}function vee(e,t,s,n){const i=[];let o=0,r=0;const l=s.length,u=n.length;for(;o<l&&r<u;){const d=s[o],f=n[r],g=e.compareRowNodes(t,d,f);let m;g<0?(m=d,++o):(m=f,++r),i.push(m.rowNode)}for(;o<l;)i.push(s[o++].rowNode);for(;r<u;)i.push(n[r++].rowNode);return i}var Cee=class extends ue{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=$s(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new vf(this.beans);const s=this.getNewNodeManager();this.nodeManager=s,s.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;switch(q6(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var n;const s=(n=t.changeSet)==null?void 0:n.properties;s&&this.onPropChange(s)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,s,n){let i,o=!1;do{i=!1;const r=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(r,s),d=Math.min(l,n);for(let f=u;f<=d;f++){const g=this.getRow(f);if(g.rowHeightEstimated){const m=df(this.beans,g);g.setRowHeight(m.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}onPropChange(e){var d;if(!this.rootNode)return;const t=this.gos,s=new Set(e),n={step:"nothing",changedProps:s},i=s.has("rowData"),o=this.nodeManager,r=this.getNewNodeManager(),l=o!==r||i&&s.has("treeData")&&t.get("treeData")||s.has("treeDataChildrenField")&&t.get("treeData");let u;if((l||i)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,we(1))),l&&(i||(u=(o==null?void 0:o.extractRowData())??u),o!==r&&(o==null||o.deactivate(),this.nodeManager=r),r.activate(this.rootNode)),u&&(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new YR,r.setImmutableRowData(n,u)):(n.rowDataUpdated=!0,n.newData=!0,(d=this.beans.selectionSvc)==null||d.reset("rowDataChanged"),this.rowNodesCountReady=!0,r.setNewRowData(u))),n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(const{refreshProps:f,step:g}of this.orderedStages)if(e.some(m=>f.has(m))){n.step=g;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let s=0;const n=new Set,i=qs(this.gos,"normal"),o=this.rowsToDisplay;for(let r=0,l=o.length;r<l;++r){const u=o[r];if(u.id!=null&&n.add(u.id),u.rowHeight==null){const d=df(e,u,i,t);u.setRowHeight(d.height,d.estimated)}u.setRowTop(s),u.setRowIndex(r),s+=u.rowHeight}return n}clearRowTopAndRowIndex(e,t){const s=e.active,n=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{if(o!==null&&(n(o),n(o.detailNode),n(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){const r=o.level==-1;s&&!r&&!o.expanded||o.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,s=0){var l;const n=this.getRowIndexAtPixel(t),i=this.getRow(n),o=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const r=(l=this.rootNode)==null?void 0:l.allLeafChildren;return r?(e.forEach(u=>{ho(r,u)}),e.forEach((u,d)=>{r.splice(Math.max(n+s,0)+d,0,u)}),e.forEach((u,d)=>{u.sourceRowIndex=d}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const s=t!=null?this.getRowIndexAtPixel(t):null,n=s!=null?this.getRow(s):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,n),o=this.isHighlightingCurrentPosition(e,n,i),r=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(o||r)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(n,i),this.lastHighlightedRow=n)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return"Below"}const{rowTop:s,rowHeight:n}=t;return e-s<n/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,s){if(e===t)return!0;const n=s==="Above"?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const s=e.childrenAfterAggFilter,n=e.sibling?1:0;return(s?s.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;const{childrenAfterSort:i}=t,o=l=>{let u=i[l];if(this.gos.get("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},{footerSvc:r}=this.beans;return r?r.getTopDisplayIndex(s,e,i,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){var r;const{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const o=(r=t.childrenAfterSort)==null?void 0:r.findIndex(l=>l===i);return o===-1?e:o??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Zd(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Zd(this.gos),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Zd(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new gw(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:s,rowDataUpdated:n}=e;return!(!t||s||!n||t.removals.size||t.adds.size)}refreshModel(e){var n,i;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((i=(n=this.nodeManager).refreshModel)==null||i.call(n,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,s),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,s;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((s=this.colModel)!=null&&s.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let s=!1,n=!1;const i=[],o=Tp(this.gos);return this.forEachNodeAfterFilterAndSort(r=>{if(n)return;if(s&&(r===t||r===e)&&(n=!0,r.group&&o)){i.push(...r.allLeafChildren);return}if(!s){if(r!==t&&r!==e)return;s=!0}if(!r.group||!o){i.push(r);return}}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let s=0,n=t.length-1;if(e<=0)return 0;if(xt(t).rowTop<=e)return t.length-1;let o=-1,r=-1;for(;;){const l=Math.floor((s+n)/2),u=t[l];if(this.isRowInPixel(u,e)||(u.rowTop<e?s=l+1:u.rowTop>e&&(n=l-1),o===s&&r===n))return l;o=s,r=n}}isRowInPixel(e,t){const s=e.rowTop,n=e.rowTop+e.rowHeight;return s<=t&&n>t}forEachLeafNode(e){var t,s;(s=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||s.forEach((n,i)=>e(n,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterSort)}forEachPivotNode(e,t=!1,s=!1){const n=s?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,i=>i.leafGroup?null:i[n])}depthFirstSearchRowNodes(e,t=!1,s=o=>o.childrenAfterGroup,n=this.rootNode,i=0){let o=i;if(!n)return o;const r=n===this.rootNode;r||e(n,o++);const{footerSvc:l}=this.beans;if(n.hasChildren()&&!n.footer){const u=s(n);if(u){o=(l==null?void 0:l.addTotalRows(o,n,e,t,r,"top"))??o;for(const d of u)o=this.depthFirstSearchRowNodes(e,t,s,d,o);return(l==null?void 0:l.addTotalRows(o,n,e,t,r,"bottom"))??o}}return o}doAggregate(e){var s;const t=this.rootNode;t&&((s=this.aggStage)==null||s.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(s=>{s.childrenAfterSort=s.childrenAfterAggFilter.slice(0),nH(s)})}doRowGrouping(e,t,s,n){var r;const i=this.rootNode;if(!((r=this.groupStage)==null?void 0:r.execute({rowNode:i,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:s,afterColumnsChanged:n}))&&!this.nodeManager.treeData){const l=i.sibling;i.childrenAfterGroup=i.allLeafChildren,l&&(l.childrenAfterGroup=i.childrenAfterGroup),i.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,_N(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(Nx)==0){let s;return this.forEachNode(n=>{n.id===e&&(s=n)}),s}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const s=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i,o;(i=this.valueCache)==null||i.onDataChanged();const e=[],t=[],s=new YR;let n=!1;(o=this.rowDataTransactionBatch)==null||o.forEach(r=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:l,rowsInserted:u}=this.nodeManager.updateRowData(r.rowDataTransaction,s);u&&(n=!0),t.push(l),r.callback&&e.push(r.callback.bind(null,l))}),this.commitTransactions(n,s),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var i;(i=this.valueCache)==null||i.onDataChanged(),this.rowNodesCountReady=!0;const t=new YR,{rowNodeTransaction:s,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),s}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let s;if(e)s=e.execute({rowNode:t});else{s=(t==null?void 0:t.childrenAfterSort)??[];for(const n of s)n.setUiLevel(0)}this.rowsToDisplay=s}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const s=t.detailNode;s&&s.setRowHeight(s.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=eL,this.rowsToDisplay=eL}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function bee(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function wee(e,t){const s=nr(e);s&&((!t||t==="everything")&&(t="group"),s.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function yee(e){var t;return((t=nr(e))==null?void 0:t.isEmpty())??!0}function See(e,t){var s;(s=nr(e))==null||s.forEachLeafNode(t)}function Ree(e,t){var s;(s=nr(e))==null||s.forEachNodeAfterFilter(t)}function xee(e,t){var s;(s=nr(e))==null||s.forEachNodeAfterFilterAndSort(t)}function Aee(e){var t,s;if((t=e.rowAutoHeight)!=null&&t.active){we(3);return}(s=nr(e))==null||s.resetRowHeights()}function Eee(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var s;return(s=nr(e))==null?void 0:s.updateRowData(t)})}function Dee(e,t,s){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=nr(e))==null?void 0:n.batchUpdateRowData(t,s)})}function Tee(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=nr(e))==null?void 0:t.flushAsyncTransactions()})}function Fee(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var Pee={moduleName:"ClientSideRowModel",version:xe,rowModels:["clientSide"],beans:[fee,Cee,pee],dependsOn:[TN]},Mee={moduleName:"ClientSideRowModelApi",version:xe,apiFunctions:{onGroupExpandedOrCollapsed:bee,refreshClientSideRowModel:wee,isRowDataEmpty:yee,forEachLeafNode:See,forEachNodeAfterFilter:Ree,forEachNodeAfterFilterAndSort:xee,resetRowHeights:Aee,applyTransaction:Eee,applyTransactionAsync:Dee,flushAsyncTransactions:Tee,getBestCostNodeSelection:Fee},dependsOn:[cee]},Lee=class extends ue{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:s,columnKeys:n,skipRowGroups:i,exportRowNumbers:o}=t,r=this.getColumnsToExport({allColumns:s,skipRowGroups:i,columnKeys:n,exportRowNumbers:o});return[this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,s,n){var w;const i=t.shouldRowBeSkipped||(()=>!1),r=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!r,u=this.colModel.isPivotMode()?n.leafGroup:!n.group,d=!!n.footer,f=n.allChildrenCount===1&&((w=n.childrenAfterGroup)==null?void 0:w.length)===1&&H6(this.gos,n);if(!u&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!u&&!d||i(We(this.gos,{node:n})))return;const C=e.onNewBodyRow(n);if(s.forEach((y,R)=>{C.onColumn(y,R,n)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(We(this.gos,{node:n}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const s=e.appendContent;return s&&t.addCustomContent(s),t}}prependContent(e){return t=>{const s=e.prependContent;return s&&t.addCustomContent(s),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return s=>{if(!e.skipColumnGroupHeaders){const n=new x_,{colGroupSvc:i}=this.beans,o=i?i.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,s,e.processGroupHeaderCallback)}return s}}exportHeaders(e,t){return s=>{if(!e.skipColumnHeaders){const n=s.onNewHeaderRow();t.forEach((i,o)=>{n.onColumn(i,o,void 0)})}return s}}processPinnedTopRows(e,t){return s=>{var i;const n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>{var r;return(r=this.pinnedRowModel)==null?void 0:r.getPinnedTopRow(o.rowIndex)}).forEach(n):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("top",n),s}}processRows(e,t){return s=>{var d;const n=this.rowModel,i=an(this.gos),o=Nu(this.gos),r=!i&&e.onlySelected,l=this.processRow.bind(this,s,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(f=>f.rowPinned==null).sort((f,g)=>f.rowIndex-g.rowIndex).map(f=>n.getRow(f.rowIndex)).forEach(l),s;if(this.colModel.isPivotMode())return i?n.forEachPivotNode(l,!0,u==="filteredAndSorted"):o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l),s;if(e.onlySelectedAllPages||r){const f=((d=this.beans.selectionSvc)==null?void 0:d.getSelectedNodes())??[];this.replicateSortedOrder(f),f.forEach(l)}else u==="all"?n.forEachNode(l):i||o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return s}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:s}=this.beans;if(!t||!s)return;const n=t.getSortOptions(),i=(o,r)=>{var l,u;return o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?((l=o.parent)==null?void 0:l.id)===((u=r.parent)==null?void 0:u.id)?s.compareRowNodes(n,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(o.parent,r.parent):o.level>r.level?i(o.parent,r):i(o,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return s=>{var i;const n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>{var r;return(r=this.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(o.rowIndex)}).forEach(n):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("bottom",n),s}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:s=!1,exportRowNumbers:n=!1,columnKeys:i}=e,{colModel:o,gos:r,visibleCols:l}=this,u=o.isPivotMode(),d=m=>aa(m)?!1:!gf(m)||n;if(i&&i.length)return o.getColsForKeys(i).filter(d);const f=r.get("treeData");let g=[];return t&&!u?g=o.getCols():g=l.allCols,g=g.filter(m=>d(m)&&(s&&!f?!CD(m):!0)),g}recursivelyAddHeaderGroups(e,t,s){const n=[];e.forEach(i=>{const o=i;o.getChildren&&o.getChildren().forEach(r=>n.push(r))}),e.length>0&&es(e[0])&&this.doAddHeaderHeader(t,e,s),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,s)}doAddHeaderHeader(e,t,s){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(o=>{const r=o;let l;s?l=s(We(this.gos,{columnGroup:r})):l=this.beans.colNames.getDisplayNameForColumnGroup(r,"header");const u=r.getLeafColumns().reduce((d,f,g,m)=>{let C=xt(d);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[g],d.push(C)):C&&C[1]==null&&(C[1]=g-1),g===m.length-1&&C&&C[1]==null&&(C[1]=g),d},[]);n.onColumn(r,l||"",i++,r.getLeafColumns().length-1,u)})}},kee={moduleName:"SharedExport",version:xe,beans:[Lee]},HL=`\r
`,Iee=class extends RQ{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:s}=e;this.suppressQuotes=t,this.columnSeparator=s}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,HL),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((s,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(s.data.value||""),s.mergeAcross&&this.appendEmptyCells(s.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,s,n){s!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,s){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",s);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(we(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=HL),this.isFirstLine=!1}},Oee=class extends SQ{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){we(51);return}const t=this.getMergedParams(e),s=this.getData(t),n=new Blob(["\uFEFF",s],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(We(this.gos,{})):t.fileName;xQ(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const s=t?Object.assign({},e):this.getMergedParams(e);return this.getData(s)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:s,rowGroupColsSvc:n,valueSvc:i,gos:o}=this,{processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:g}=e;return new Iee({colModel:t,colNames:s,valueSvc:i,gos:o,processCellCallback:r||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:g||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function _ee(e,t){var s;return(s=e.csvCreator)==null?void 0:s.getDataAsCsv(t)}function Nee(e,t){var s;(s=e.csvCreator)==null||s.exportDataAsCsv(t)}var Hee={moduleName:"CsvExport",version:xe,beans:[Oee],apiFunctions:{getDataAsCsv:_ee,exportDataAsCsv:Nee},dependsOn:[kee]},Bee=class extends ue{constructor(e,t,s){super(),this.id=e,this.parentCache=t,this.params=s,this.state="needsLoading",this.version=0,this.startRow=e*s.blockSize,this.endRow=this.startRow+s.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,s){this.successCommon(e,{rowData:t,rowCount:s})}isRequestMostRecentAndLive(e){const t=e===this.version,s=this.isAlive();return t&&s}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:s,beans:n,rowNodes:i}=this;for(let o=0;o<e;o++){const r=s+o,l=new vf(n);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(r),l.setRowTop(t*r),i.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:s,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:s,pageStatus:n}}}setDataAndId(e,t,s){Se(t)?e.setDataAndId(t,s.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Ut(this.params.datasource.getRows)){we(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:s,params:{sortModel:n,filterModel:i},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,s),failCallback:this.pageLoadFailed.bind(this,s),sortModel:n,filterModel:i,context:We(o,{}).context}}forEachNode(e,t,s){this.rowNodes.forEach((n,i)=>{this.startRow+i<s&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const s=e-this.startRow;return this.rowNodes[s]}processServerResult(e){const{rowNodes:t,beans:s}=this;t.forEach((i,o)=>{const r=e.rowData?e.rowData[o]:void 0;!i.id&&i.alreadyRendered&&r&&(t[o]=new vf(s),t[o].setRowIndex(i.rowIndex),t[o].setRowTop(i.rowTop),t[o].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[o],r,this.startRow+o)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},Gee=2,Vee=class extends ue{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const s=Math.floor(e/this.params.blockSize);let n=this.blocks[s];if(!n){if(t)return;n=this.createBlock(s)}return n.getRow(e)}createBlock(e){const t=this.params,s=this.createBean(new Bee(e,this,t));return this.blocks[s.id]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),t.rowNodeBlockLoader.addBlock(s),s}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Ru(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(r=>r!=e),s=(r,l)=>l.lastAccessed-r.lastAccessed;t.sort(s);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,o=Gee-1;t.forEach((r,l)=>{const u=r.state==="needsLoading"&&l>=o,d=n?l>=i:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:s,endRow:n}=e;return t.rowIndex>=s&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:s}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,s-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:s,overflowSize:n}=this.params,o=(e.id+1)*s+n;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,Se(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(s=>s.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(s,n)=>s.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const s=[];let n=-1,i=!1;const o={value:0};let r=!1;return this.getBlocksInOrder().forEach(u=>{if(!r){if(i&&n+1!==u.id){r=!0;return}n=u.id,u.forEachNode(d=>{const f=d===e||d===t;(i||f)&&s.push(d),f&&(i=!i)},o,this.rowCount)}}),r||i?[]:s}},zee=class extends ue{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=mu(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=mu(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Ep(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var s;return((s=this.infiniteCache)==null?void 0:s.getRowNodesInRange(e,t))??[]}reset(){var s;if(!this.datasource)return;hf(this.gos)!=null||(s=this.beans.selectionSvc)==null||s.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:s,rowNodeBlockLoader:n,eventSvc:i,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(s==null?void 0:s.getSortModel())??[],rowNodeBlockLoader:n,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:mu(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Vee(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(s=>{s.id===e&&(t=s)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),s=this.getRowCount()-1;return t>s?s:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var s;(s=this.infiniteCache)==null||s.setRowCount(e,t)}};function Wee(e){var t;(t=Dy(e))==null||t.refreshCache()}function Uee(e){var t;(t=Dy(e))==null||t.purgeCache()}function jee(e){var t;return(t=Dy(e))==null?void 0:t.getRowCount()}var $ee=class extends ue{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=B6(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$s(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ho(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Ru(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(s=>s.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(s=>s.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:s,state:n}=t.getBlockStateJson();e[s]=n}),e}printCacheStatus(){Ru(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},qee={moduleName:"InfiniteRowModelCore",version:xe,rowModels:["infinite"],beans:[zee,$ee]},Kee={moduleName:"InfiniteRowModel",version:xe,apiFunctions:{refreshInfiniteCache:Wee,purgeInfiniteCache:Uee,getInfiniteRowCount:jee},dependsOn:[qee,uee]},Yee="↑",Xee="↓",Qee={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},Zee=class extends jt{constructor(){super(Qee),this.eValue=_e,this.eDelta=_e,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const s=Math.abs(t),n=e.formatValue(s),i=Se(n)?n:s,o=t>=0,r=this.eDelta;o?r.textContent=Yee+i:r.textContent=Xee+i,r.classList.toggle("ag-value-change-delta-up",o),r.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),di(this.eDelta)}refresh(e,t=!1){var l;const{value:s,valueFormatted:n}=e,{eValue:i,lastValue:o,beans:r}=this;if(s===o||(Se(n)?i.textContent=n:Se(s)?i.textContent=s:di(i),(l=r.filterManager)!=null&&l.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof s=="number"&&typeof o=="number"){const u=s-o;this.showDelta(e,u)}return o&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=s,!0}},Jee=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",ete={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},tte=class extends jt{constructor(){super(ete),this.eCurrent=_e,this.refreshCount=0,this.registerCSS(Jee)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:s}=this,n=un({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=s.textContent,this.getGui().insertBefore(n,s),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var i;let s=e.value;if(Ut(s)&&(s=""),s===this.lastValue||(i=this.beans.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=s;const n=this.eCurrent;return Se(e.valueFormatted)?n.textContent=e.valueFormatted:Se(e.value)?n.textContent=s:di(n),!0}},ste=class extends ue{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const s=K8(e.cellPosition);t.cells[s]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,s,n){const i=e.comp;if(!i)return;const{gos:o}=this;if(s||(s=o.get("cellFlashDuration")),s===0)return;Se(n)||(n=o.get("cellFadeDuration"));const r=`ag-cell-${t}`,l=`ag-cell-${t}-animation`;i.addOrRemoveCssClass(r,!0),i.addOrRemoveCssClass(l,!1);const u=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(r,!1),i.addOrRemoveCssClass(l,!0),u.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(l,!1),u.style.transition="")},n))},s)})}};function nte(e,t={}){const{cellFlashSvc:s}=e;s&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>s.flashCell(n,t))})}var ite={moduleName:"HighlightChanges",version:xe,beans:[ste],userComponents:{agAnimateShowChangeCellRenderer:Zee,agAnimateSlideCellRenderer:tte},apiFunctions:{flashCells:nte}};function ote(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function rte(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=ate(e)}return e}function ate(e){return e.cellSelection=lte(e,"rangeSelection"),e}function lte(e,t){if(e&&typeof e=="object")return e[t]}var cte=class extends ue{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=$s(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=$s(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=$s(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=an(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",xe);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,s,n]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{s==null||s(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n==null||n(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return rte(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=s=>()=>this.updateColumnState([s]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:s,pagination:n}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),s&&this.setRowSelectionState(s),n&&this.setPaginationState(n);const i=this.updateCachedState.bind(this);i("filter",this.getFilterState()),i("rowGroupExpansion",this.getRowGroupExpansionState()),i("rowSelection",this.getRowSelectionState()),i("pagination",this.getPaginationState());const o=()=>{this.updateRowGroupExpansionStateTimer=0,i("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>i("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:r=>{(r.newPage||r.newPageSize)&&i("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:s,columnOrder:n}=this.getInitialState();s&&this.setFocusedCellState(s),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds));const i=this.updateCachedState.bind(this);i("sideBar",this.getSideBarState()),i("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();i("rangeSelection",o),i("cellSelection",o),i("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>i("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){const l=this.getRangeSelectionState();i("rangeSelection",l),i("cellSelection",l)}},bodyScrollEnd:()=>i("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),s=[],n=[],i=[],o=[],r=[],l=[],u=[],d=[],f=[];let g=0;const m=Fp(e);for(let C=0;C<m.length;C++){const{colId:w,sort:y,sortIndex:R,rowGroup:A,rowGroupIndex:D,aggFunc:E,pivot:T,pivotIndex:P,pinned:L,hide:N,width:B,flex:W}=m[C];f.push(w),y&&(s[R??g++]={colId:w,sort:y}),A&&(n[D??0]=w),typeof E=="string"&&i.push({colId:w,aggFunc:E}),T&&(o[P??0]=w),L&&(L==="right"?l:r).push(w),N&&u.push(w),(W!=null||B)&&d.push({colId:w,flex:W??void 0,width:B})}return{sort:s.length?{sortModel:s}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:r.length||l.length?{leftColIds:r,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}setColumnState(e){const{sort:t,rowGroup:s,aggregation:n,pivot:i,columnPinning:o,columnVisibility:r,columnSizing:l,columnOrder:u,partialColumnState:d}=e,f={},g=R=>{let A=f[R];return A||(A={colId:R},f[R]=A,A)},m=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:R,sort:A},D)=>{const E=g(R);E.sort=A,E.sortIndex=D}),m.sort=null,m.sortIndex=null),s&&(s.groupColIds.forEach((R,A)=>{const D=g(R);D.rowGroup=!0,D.rowGroupIndex=A}),m.rowGroup=null,m.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:R,aggFunc:A})=>{g(R).aggFunc=A}),m.aggFunc=null),i&&(i.pivotColIds.forEach((R,A)=>{const D=g(R);D.pivot=!0,D.pivotIndex=A}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),m.pivot=null,m.pivotIndex=null),o&&(o.leftColIds.forEach(R=>{g(R).pinned="left"}),o.rightColIds.forEach(R=>{g(R).pinned="right"}),m.pinned=null),r&&(r.hiddenColIds.forEach(R=>{g(R).hide=!0}),m.hide=null),l&&(l.columnSizingModel.forEach(({colId:R,flex:A,width:D})=>{const E=g(R);E.flex=A??null,E.width=D}),m.flex=null);const C=u==null?void 0:u.orderedColIds,w=!!(C!=null&&C.length),y=w?C.map(R=>g(R)):Object.values(f);y.length&&(this.columnStates=y,ci(this.beans,{state:y,applyOrder:w,defaultState:m},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const s=this.columnGroupStates;this.columnGroupStates=void 0;const n=this.beans,{pivotResultCols:i,colGroupSvc:o}=n;if(i!=null&&i.isPivotResultColsPresent()){if(t){const r=[];for(const l of t)i.getPivotResultCol(l.colId)&&r.push(l);ci(n,{state:r,applyOrder:e},"gridInitializing")}s&&(o==null||o.setColumnGroupState(s,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),s=[];return t.forEach(({groupId:n,open:i})=>{i&&s.push(n)}),s.length?{openColumnGroupIds:s}:void 0}setColumnGroupState(e){var o;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const s=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),i=t.getColumnGroupState().map(({groupId:r})=>{const l=s.has(r);return l&&s.delete(r),{groupId:r,open:l}});s.forEach(r=>{i.push({groupId:r,open:!0})}),i.length&&(this.columnGroupStates=i),t.setColumnGroupState(i,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const s=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||s?{filterModel:t,advancedFilterModel:s}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:s,advancedFilterModel:n}=e??{};s&&(t==null||t.setFilterModel(s,"columnFilter")),n&&(t==null||t.setAdvFilterModel(n,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(s=>{const{id:n,type:i,startRow:o,endRow:r,columns:l,startColumn:u}=s;return{id:n,type:i,startRow:o,endRow:r,colIds:l.map(d=>d.getColId()),startColId:u.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:s,colModel:n,visibleCols:i}=this.beans;if(!Tl(t)||!s)return;const o=[];e.cellRanges.forEach(r=>{const l=[];if(r.colIds.forEach(d=>{const f=n.getCol(d);f&&l.push(f)}),!l.length)return;let u=n.getCol(r.startColId);if(!u){const d=i.allCols,f=new Set(l);u=d.find(g=>f.has(g))}o.push({...r,columns:l,startColumn:u})}),s.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:s}=(e==null?void 0:e.getVScrollPosition())??{top:0};return s||t?{top:s,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:s}=e,{frameworkOverrides:n,rowRenderer:i,animationFrameSvc:o,ctrlsSvc:r}=this.beans;n.wrapIncoming(()=>{var l;r.get("center").setCenterViewportScrollLeft(s),(l=r.getScrollFeature())==null||l.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),o==null||o.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:s,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:s,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:s,rowPinned:n}=e,{focusSvc:i,colModel:o}=this.beans;i.setFocusedCell({column:o.getCol(t),rowIndex:s,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const s=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!s&&!n))return{page:s,pageSize:n}}setPaginationState(e){const{pagination:t,gos:s}=this.beans;t&&(e.pageSize&&!s.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var n;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((n=t==null?void 0:t.toggledNodes)!=null&&n.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const s=[];return t.forEachNode(({expanded:n,id:i})=>{n&&i&&s.push(i)}),s.length?{expandedRowGroupIds:s}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let s=!1;const n=this.cachedState;for(const i of Object.keys(t)){const o=t[i];Ep(o,n[i])||(s=!0)}this.cachedState={...n,...t},s&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const s=this.cachedState[e];this.setCachedStateValue(e,t),Ep(t,s)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},ute={moduleName:"GridState",version:xe,beans:[cte],apiFunctions:{getState:ote}};function dte(e){return e.rowModel.isLastRowIndexKnown()}function hte(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function fte(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function gte(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function pte(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function mte(e){var t;(t=e.pagination)==null||t.goToNextPage()}function vte(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Cte(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function bte(e){var t;(t=e.pagination)==null||t.goToLastPage()}function wte(e,t){var s;(s=e.pagination)==null||s.goToPage(t)}var yte=class extends ue{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,s=()=>{const n=Math.max(mu(t),1),i=Math.floor(e/n);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?$s(this,s,50)():(s(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Og="paginationPageSizeSelector",Ste={tag:"span",cls:"ag-paging-page-size"},Rte=class extends jt{constructor(){super(Ste),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Og,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){di(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Og)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),s=!t||!e.includes(t);if(s){const i=this.gos.exists("paginationPageSize"),o=this.gos.get(Og)!==!0;we(94,{pageSizeSet:i,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||we(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Og}),e.unshift("")}const n=String(s?"":t);this.selectPageSizeComp?(Hu(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=s}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const s=this.getLocaleTextFunc(),n=s("pageSizeSelectorLabel","Page Size:"),i=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new LD).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Og);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((s,n)=>s-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},xte={selector:"AG-PAGE-SIZE-SELECTOR",component:Rte},Ate=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Ete=class extends N9{constructor(){super(),this.btFirst=_e,this.btPrevious=_e,this.btNext=_e,this.btLast=_e,this.lbRecordCount=_e,this.lbFirstRowOnPage=_e,this.lbLastRowOnPage=_e,this.lbCurrent=_e,this.lbTotal=_e,this.pageSizeComp=_e,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Ate)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[xte]);const{btFirst:t,btPrevious:s,btNext:n,btLast:i}=this;this.activateTabIndex([t,s,n,i]),t.insertAdjacentElement("afterbegin",Li(e?"last":"first",this.beans)),s.insertAdjacentElement("afterbegin",Li(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",Li(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",Li(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):M8(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:s}=e;this.addManagedListeners(t,{click:s,keydown:n=>{(n.key===ae.ENTER||n.key===ae.SPACE)&&(n.preventDefault(),s())}})}),P8(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):yQ(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),s=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===s-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===s-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){o6(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),s=this.pagination.getMasterRowCount(),n=e?s:null,i=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let r,l;this.isZeroPagesToDisplay()?r=l=0:(r=o*i+1,l=r+o-1,e&&l>n&&(l=n));const u=r+o-1,d=!e&&s<u,f=this.formatNumber(r);this.lbFirstRowOnPage.textContent=f;let g;const m=this.getLocaleTextFunc();d?g=m("pageLastRowUnknown","?"):g=this.formatNumber(l),this.lbLastRowOnPage.textContent=g;const w=t>0?i+1:0,y=this.formatNumber(w);this.lbCurrent.textContent=y;let R,A;if(e)R=this.formatNumber(t),A=this.formatNumber(n);else{const D=m("more","more");R=D,A=D}this.lbTotal.textContent=R,this.lbRecordCount.textContent=A,this.announceAriaStatus(f,g,A,y,R)}announceAriaStatus(e,t,s,n,i){var g,m;const o=this.getLocaleTextFunc(),r=o("page","Page"),l=o("to","to"),u=o("of","of"),d=`${e} ${l} ${t} ${u} ${s}`,f=`${r} ${n} ${u} ${i}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,(g=this.ariaAnnounce)==null||g.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,(m=this.ariaAnnounce)==null||m.announceValue(f,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Dte={selector:"AG-PAGINATION",component:Ete},Tte=class extends ue{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Dte}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){var s,n;if(!this.active)return;let t=e;this.paginateChildRows||(t=((n=(s=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:n.call(s,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Se(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Se(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Se(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Se(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const s=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}s!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const s=this.pageSize,n=t-1;this.totalPages=Math.floor(n/s)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,o=s*i;let r=s*(i+1)-1;if(r>n&&(r=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),r===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:s}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*s,this.bottomDisplayedRowIndex=t*(s+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:s=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:s,newPageSize:n,keepRenderedRows:t})}},Fte={moduleName:"Pagination",version:xe,beans:[Tte,yte],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:dte,paginationGetPageSize:hte,paginationGetCurrentPage:fte,paginationGetTotalPages:gte,paginationGetRowCount:pte,paginationGoToNextPage:mte,paginationGoToPreviousPage:vte,paginationGoToFirstPage:Cte,paginationGoToLastPage:bte,paginationGoToPage:wte},dependsOn:[Ty]};function Pte(e,t={}){const s=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(s))}function iH(e,t,s,n,i){t&&(n&&t.parent&&t.parent.level!==-1&&iH(e,t.parent,s,n,i),t.setExpanded(s,void 0,i))}function Mte(e,t){return e.rowModel.getRowNode(t)}function Lte(e,t,s,n){e.rowRenderer.addRenderedRowListener(t,s,n)}function kte(e){return e.rowRenderer.getRenderedNodes()}function Ite(e,t,s){e.rowModel.forEachNode(t,s)}function Ote(e){return e.rowRenderer.firstRenderedRow}function _te(e){return e.rowRenderer.lastRenderedRow}function Nte(e,t){return e.rowModel.getRow(t)}function Hte(e){return e.rowModel.getRowCount()}var Bte={moduleName:"RowApi",version:xe,apiFunctions:{redrawRows:Pte,setRowNodeExpanded:iH,getRowNode:Mte,addRenderedRowListener:Lte,getRenderedNodes:kte,forEachNode:Ite,getFirstDisplayedRowIndex:Ote,getLastDisplayedRowIndex:_te,getDisplayedRowAtIndex:Nte,getDisplayedRowCount:Hte}},Gte={moduleName:"ScrollApi",version:xe,apiFunctions:{getVerticalPixelRange:CJ,getHorizontalPixelRange:bJ,ensureColumnVisible:ZN,ensureIndexVisible:JN,ensureNodeVisible:wJ}};function Vte(e,t,s){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;s===null?n.removeAttribute(i):n.setAttribute(i,s)}function zte(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Wte(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Ute(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function jte(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function $te(e){return{rowHeight:mu(e),headerHeight:dv(e)}}function qte(e,t={}){var o;const s=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{const l=r.getCellRenderer();l!=null&&s.push(Pp(l))}),(o=t.columns)!=null&&o.length)return s;const n=[],i=jx(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(r=>{if(i&&!$x(r.rowNode,i)||!r.isFullWidth())return;const l=r.getFullWidthCellRenderers();for(let u=0;u<l.length;u++){const d=l[u];d!=null&&n.push(Pp(d))}}),[...n,...s]}var Kte={moduleName:"RenderApi",version:xe,apiFunctions:{setGridAriaProperty:Vte,refreshCells:zte,refreshHeader:Wte,isAnimationFrameQueueEmpty:Ute,flushAllAnimationFrames:jte,getSizesForCurrentTheme:$te,getCellRendererInstances:qte}};function Yte(e,t){var s,n;typeof t=="number"?(s=e.colAutosize)==null||s.sizeColumnsToFit(t,"api"):(n=e.colAutosize)==null||n.sizeColumnsToFitGridBody(t)}function Xte(e,t,s){var n;(n=e.colAutosize)==null||n.autoSizeCols({colKeys:t,skipHeader:s,source:"api"})}function Qte(e,t){var s;(s=e.colAutosize)==null||s.autoSizeAllColumns("api",t)}var Zte=class extends ue{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:s,skipHeaderGroups:n,stopAtGroup:i,source:o="api"}=e,{animationFrameSvc:r,renderStatus:l,colModel:u,autoWidthCalc:d,visibleCols:f}=this.beans;if(r==null||r.flushAllFrames(),this.timesDelayed<5&&l&&!l.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const g=[];let m=-1;const C=s??this.gos.get("skipHeaderOnAutoSize"),w=n??C;for(;m!==0;){m=0;const y=[];t.forEach(R=>{if(!R)return;const A=u.getCol(R);if(!A||gf(A)||g.indexOf(A)>=0)return;const D=d.getPreferredWidthForColumn(A,C);if(D>0){const E=Jte(A,D);A.setActualWidth(E,o),g.push(A),m++}y.push(A)}),y.length&&f.refresh(o)}w||this.autoSizeColumnGroupsByColumns(t,o,i),pf(this.eventSvc,g,!0,"autosizeColumns")}autoSizeColumn(e,t,s){e&&this.autoSizeCols({colKeys:[e],skipHeader:s,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,s){const{colModel:n,ctrlsSvc:i}=this.beans,o=new Set;n.getColsForKeys(e).forEach(d=>{let f=d.getParent();for(;f&&f!=s;)f.isPadding()||o.add(f),f=f.getParent()});let l;const u=[];for(const d of o){for(const f of i.getHeaderRowContainerCtrls())if(l=f.getHeaderCtrlForColumn(d),l)break;l&&l.resizeLeafColumnsToFit(t)}return u}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const s=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:s,skipHeader:t,source:e})}addColumnAutosize(e,t){const s=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",s)};e.addEventListener("dblclick",n);const i=new Od(e);return i.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),i.removeEventListener("doubleTap",n),i.destroy()}}addColumnGroupResize(e,t,s){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const o=[];t.getDisplayedLeafColumns().forEach(l=>{l.getColDef().suppressAutoSize||o.push(l.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),s()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:s,scrollVisibleSvc:n}=this.beans,i=s.getGridBodyCtrl(),r=i.isVerticalScrollShowing()?n.getScrollbarWidth():0,u=Ap(i.eGridBody)-r;if(u>0){this.sizeColumnsToFit(u,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):we(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",s,n){var C;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,s,n));return}const i={};n&&((C=n==null?void 0:n.columnLimits)==null||C.forEach(({key:w,...y})=>{i[typeof w=="string"?w:w.getColId()]=y}));const o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===Ar(o)&&o.every(y=>{if(y.colDef.suppressSizeToFit)return!0;const R=i==null?void 0:i[y.getId()],A=(R==null?void 0:R.minWidth)??(n==null?void 0:n.defaultMinWidth),D=(R==null?void 0:R.maxWidth)??(n==null?void 0:n.defaultMaxWidth),E=y.getActualWidth();return(A==null||E>=A)&&(D==null||E<=D)}))return;const l=[],u=[];o.forEach(w=>{w.getColDef().suppressSizeToFit===!0?u.push(w):l.push(w)});const d=l.slice(0);let f=!1;const g=w=>{ho(l,w),u.push(w)};for(l.forEach(w=>{w.resetActualWidth(t);const y=i==null?void 0:i[w.getId()],R=(y==null?void 0:y.minWidth)??(n==null?void 0:n.defaultMinWidth),A=(y==null?void 0:y.maxWidth)??(n==null?void 0:n.defaultMaxWidth),D=w.getActualWidth();typeof R=="number"&&D<R?w.setActualWidth(R,t,!0):typeof A=="number"&&D>A&&w.setActualWidth(A,t,!0)});!f;){f=!0;const w=e-Ar(u);if(w<=0)l.forEach(y=>{var A;const R=((A=i==null?void 0:i[y.getId()])==null?void 0:A.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof R=="number"){y.setActualWidth(R,t,!0);return}y.setActualWidth(y.minWidth,t)});else{const y=w/Ar(l);let R=w;for(let A=l.length-1;A>=0;A--){const D=l[A],E=i==null?void 0:i[D.getId()],T=(E==null?void 0:E.minWidth)??(n==null?void 0:n.defaultMinWidth),P=(E==null?void 0:E.maxWidth)??(n==null?void 0:n.defaultMaxWidth),L=D.getMinWidth(),N=D.getMaxWidth(),B=typeof T=="number"&&T>L?T:L,W=typeof P=="number"&&P<N?P:N;let z=Math.round(D.getActualWidth()*y);z<B?(z=B,g(D),f=!1):z>W?(z=W,g(D),f=!1):A===0&&(z=R),D.setActualWidth(z,t,!0),R-=z}}}d.forEach(w=>{w.fireColumnWidthChangedEvent(t)});const m=this.beans.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),!s&&pf(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:s,defaultMinWidth:n,defaultMaxWidth:i}=e,o=s==null?void 0:s.map(({colId:r,minWidth:l,maxWidth:u})=>({key:r,minWidth:l,maxWidth:u}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:s}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:s,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function Jte(e,t){const s=e.getMinWidth();t<s&&(t=s);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}var ese={moduleName:"ColumnAutoSize",version:xe,beans:[Zte],apiFunctions:{sizeColumnsToFit:Yte,autoSizeColumns:Xte,autoSizeAllColumns:Qte},dependsOn:[hN]};function tse(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function sse(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function nse(e,t){var s;return(s=e.pinnedRowModel)==null?void 0:s.getPinnedTopRow(t)}function ise(e,t){var s;return(s=e.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(t)}var ose=class extends ue{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=s=>{s.setRowHeight(s.rowHeight,!0)};_g(this.pinnedBottomRows,t),_g(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const s=n=>{if(n.rowHeightEstimated){const i=df(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return _g(this.pinnedBottomRows,s),t=0,_g(this.pinnedTopRows,s),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const s=this.getCache(t);if(e===void 0){s.order.length=0,s.cache={};return}const n=hf(this.gos),i=t==="top"?V_:z_,o=new Set(s.order),r=[],l=new Set;let u=0,d=-1;for(const f of e){const g=(n==null?void 0:n({data:f,level:0,rowPinned:t}))??i+this.nextId++;if(l.has(g)){we(96,{id:g,data:f});continue}d++,l.add(g),r.push(g);const m=fp(s,g);if(m!==void 0)m.data!==f&&m.setData(f),u+=this.setRowTopAndRowIndex(m,u,d),o.delete(g);else{const C=new vf(this.beans);C.id=g,C.data=f,C.rowPinned=t,u+=this.setRowTopAndRowIndex(C,u,d),s.cache[g]=C,s.order.push(g)}}o.forEach(f=>{var g;(g=fp(s,f))==null||g.clearRowTopAndRowIndex(),delete s.cache[f]}),s.order=r}setRowTopAndRowIndex(e,t,s){return e.setRowTop(t),e.setRowHeight(df(this.beans,e).height),e.setRowIndex(s),e.rowHeight}getPinnedTopTotalHeight(){return BL(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return BL(this.pinnedBottomRows)}getPinnedTopRowCount(){return Yx(this.pinnedTopRows)}getPinnedBottomRowCount(){return Yx(this.pinnedBottomRows)}getPinnedTopRow(e){return Kx(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Kx(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return fp(this.getCache(t),e)}forEachPinnedRow(e,t){return _g(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function BL(e){const t=Yx(e);if(t===0)return 0;const s=Kx(e,t-1);return s===void 0?0:s.rowTop+s.rowHeight}function fp(e,t){return e.cache[t]}function Kx(e,t){return fp(e,e.order[t])}function _g(e,t){e.order.forEach((s,n)=>{const i=fp(e,s);i&&t(i,n)})}function Yx(e){return e.order.length}var rse={moduleName:"PinnedRow",version:xe,beans:[ose],apiFunctions:{getPinnedTopRowCount:tse,getPinnedBottomRowCount:sse,getPinnedTopRow:nse,getPinnedBottomRow:ise}},ase=class extends lp{constructor(e,t,s){super(e.col,e.firstNode,s,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,s,n,i,o,r){this.eWrapper=s,super.setComp(e,t,s,n,i,o,r),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&_O(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){c6(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(xy(t)){this.focusedCellPosition=void 0;return}const s=this.isCellFocused();s||(this.focusedCellPosition=void 0),e&&s&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},lse=class extends hw{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var n;const t=(n=this.beans.rowSpanSvc)==null?void 0:n.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new ase(t,this,this.beans)}isCorrectCtrlForSpan(e){var n;const t=(n=this.beans.rowSpanSvc)==null?void 0:n.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},cse=class extends ue{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,s=`${e}Ctrls`,n=this[s],i=n.size,o=this.getAllRelevantRowControls(e),r=new Map;let l=!1;for(const d of o)d.isAlive()&&(t==null||t.forEachSpannedColumn(d.rowNode,(f,g)=>{if(r.has(g.firstNode))return;const m=n.get(g.firstNode);if(m){r.set(g.firstNode,m),n.delete(g.firstNode);return}l=!0;const C=new lse(g.firstNode,this.beans,!1,!1,!1);r.set(g.firstNode,C)}));this[s]=r;const u=r.size===i;if(!(!l&&u)){for(const d of n.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,s=t==null?void 0:t.getCellSpanByPosition(e);if(!s)return;const n=`${oH(e.rowPinned)}Ctrls`,i=this[n].get(s.firstNode);if(i)return i.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const s of this[t].values())s.destroyFirstPass(!0),s.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},oH=e=>e??"center",use=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var s;const e=(s=this.firstNode.__autoHeights)==null?void 0:s[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},dse=class extends ue{constructor(e){super(),this.column=e}buildCache(e){var E;const{column:t,beans:{gos:s,pinnedRowModel:n,rowModel:i,valueSvc:o,pagination:r}}=this,{colDef:l}=t,u=this[`${e}ValueNodeMap`],d=new Map,f=s.getCallback("isFullWidthRow"),g=l.equals,m=l.spanRows,C=typeof m=="function";let w=null,y=null,R;const A=(T,P)=>{w=T,y=null,R=P},D=T=>{const P=!T.isExpandable()&&!T.group&&!T.detail&&(f?!f({rowNode:T}):!0);if(T.rowIndex==null||!P){A(null,null);return}if(w==null||T.level!==w.level||T.footer||y&&T.rowIndex-1!==(y==null?void 0:y.getLastNode().rowIndex)){A(T,o.getValue(t,T));return}const L=o.getValue(t,T);if(C){const N=We(s,{valueA:R,nodeA:w,valueB:L,nodeB:T,column:t,colDef:l});if(!m(N)){A(T,L);return}}else if(g?!g(R,L):R!==L){A(T,L);return}if(!y){const N=u==null?void 0:u.get(w);(N==null?void 0:N.firstNode)===w?(N.reset(),y=N):y=new use(t,w),d.set(w,y)}y.addSpannedNode(T),d.set(T,y)};switch(e){case"center":(E=i.forEachDisplayedNode)==null||E.call(i,T=>{(!r||r.isRowInPage(T.rowIndex))&&D(T)});break;case"top":n==null||n.forEachPinnedRow("top",D);break;case"bottom":n==null||n.forEachPinnedRow("bottom",D);break}this[`${e}ValueNodeMap`]=d}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${oH(e.rowPinned)}ValueNodeMap`].get(e)}},hse=class extends ue{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=$s(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=$s(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this),rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const s=this.createManagedBean(new dse(e));this.spanningColumns.set(e,s),s.buildCache("top"),s.buildCache("bottom"),s.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const s=this.spanningColumns.get(e);return s?s.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:s}=this.beans,n=e.column,i=e.rowIndex,o=this.spanningColumns.get(n);if(!o)return;let r;switch(e.rowPinned){case"top":r=t==null?void 0:t.getPinnedTopRow(i);break;case"bottom":r=t==null?void 0:t.getPinnedBottomRow(i);break;default:r=s.getRow(i)}if(r)return o.getCellSpan(r)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const s=this.spanningColumns.get(e);if(s)return s.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[s,n]of this.spanningColumns)if(n.isCellSpanning(e)){const i=n.getCellSpan(e);t(s,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},fse={moduleName:"CellSpan",version:xe,beans:[hse,cse]},gse=class extends ue{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,s=e.colDef,n=s.cellClassRules,i=this.getCellClassParams(e,s);xD(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,i,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,s=t.cellStyle;if(!s)return;let n;if(typeof s=="function"){const i=this.getCellClassParams(e,t);n=s(i)}else n=s;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,s=e.colDef,n=this.getCellClassParams(e,s);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));const i=this.beans.cellStyles.getStaticCellClasses(s,n);this.staticClasses=i,i.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){const{value:s,rowNode:n}=this.cellCtrl;return We(this.beans.gos,{value:s,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},pse=class extends ue{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,s,n){xD(this.beans.expressionSvc,void 0,e.cellClassRules,t,s,n),this.processStaticCellClasses(e,t,s)}getStaticCellClasses(e,t){const{cellClass:s}=e;if(!s)return[];let n;return typeof s=="function"?n=s(t):n=s,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new gse(e,t)}processStaticCellClasses(e,t,s){this.getStaticCellClasses(e,t).forEach(i=>{s(i)})}},mse={moduleName:"CellStyle",version:xe,beans:[pse]},vse={moduleName:"RowStyle",version:xe,beans:[f7]};function Cse(e,t){var s;return!!((s=e.colHover)!=null&&s.isHovered(t))}var bse=class extends ue{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=s=>{const{beans:n,gos:i,element:o,columns:r}=this,l=n.colHover;s??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:l.setMouseOver.bind(l,r),mouseout:l.clearMouseOver.bind(l)}):(this.destroyManagedListeners.forEach(d=>d()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},wse="ag-column-hover",yse=class extends ue{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,s){const n=()=>{const i=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;const s=this.isHovered(e);t.addOrRemoveCssClass(wse,s)}addHeaderFilterColumnHoverListener(e,t,s,n){this.createHoverFeature(e,[s],n);const i=()=>{const o=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,s){e.createManagedBean(new bse(t,s))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Sse={moduleName:"ColumnHover",version:xe,beans:[yse],apiFunctions:{isColumnHovered:Cse}},Rse=class extends ue{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var o;const s=((o=this.wrapSvc)==null?void 0:o.wrap(t))??t,n=!cb.has(e),i=n?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(s),this.eventSvc.addEventListener(e,s,n)}removeEventListener(e,t){var o,r;const s=((o=this.wrapSvc)==null?void 0:o.unwrap(t))??t,n=this.asyncListeners.get(e),i=!!(n!=null&&n.delete(s));i||(r=this.syncListeners.get(e))==null||r.delete(s),this.eventSvc.removeEventListener(e,s,i)}addGlobalListener(e){var o;const t=((o=this.wrapSvc)==null?void 0:o.wrapGlobal(e))??e,s=(r,l)=>{cb.has(r)&&t(r,l)},n=(r,l)=>{cb.has(r)||t(r,l)};this.globalListenerPairs.set(e,{syncListener:s,asyncListener:n});const i=this.eventSvc;i.addGlobalListener(s,!1),i.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:s,globalListenerPairs:n}=this,i=(s==null?void 0:s.unwrapGlobal(e))??e;if(n.has(i)){const{syncListener:r,asyncListener:l}=n.get(i);t.removeGlobalListener(r,!1),t.removeGlobalListener(l,!0),n.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((s,n)=>{s.forEach(i=>this.eventSvc.removeEventListener(n,i,t)),s.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(s=>this.eventSvc.removeGlobalListener(s,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:s,asyncListener:n})=>{t.removeGlobalListener(s,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function xse(e,t,s){var n;(n=e.apiEventSvc)==null||n.addEventListener(t,s)}function Ase(e,t,s){var n;(n=e.apiEventSvc)==null||n.removeEventListener(t,s)}function Ese(e,t){var s;(s=e.apiEventSvc)==null||s.addGlobalListener(t)}function Dse(e,t){var s;(s=e.apiEventSvc)==null||s.removeGlobalListener(t)}var Tse={moduleName:"EventApi",version:xe,apiFunctions:{addEventListener:xse,addGlobalListener:Ese,removeEventListener:Ase,removeGlobalListener:Dse},beans:[Rse]},Fse=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Pse=class extends ue{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,s,n){e&&t.destroyBean(e);const i=BR(this.gos),{column:o,eGui:r}=t,l=o.getColDef();!n&&i&&!l.headerComponent&&(n=lb(()=>r.querySelector(".ag-header-cell-text")));const u={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>s??o.getColDef().headerTooltip,shouldDisplayTooltip:n};let d=this.createTooltipFeature(u);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,s,n){e&&t.destroyBean(e);const i=BR(this.gos),{column:o,eGui:r}=t,l=o.getColGroupDef();!n&&i&&!(l!=null&&l.headerGroupComponent)&&(n=lb(()=>r.querySelector(".ag-header-group-text")));const u={getColumn:()=>o,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>s??(l&&l.headerTooltip),shouldDisplayTooltip:n};l&&(u.getColDef=()=>l);const d=this.createTooltipFeature(u);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,s){const{column:n,rowNode:i}=e,o=()=>{const u=n.getColDef(),d=i.data;if(u.tooltipField&&Se(d))return ap(d,u.tooltipField,n.isTooltipFieldContainsDots());const f=u.tooltipValueGetter;return f?f(We(this.gos,{location:"cell",colDef:n.getColDef(),column:n,rowIndex:e.cellPosition.rowIndex,node:i,data:i.data,value:e.value,valueFormatted:e.valueFormatted})):null},r=BR(this.gos);!s&&r&&!e.isCellRenderer()&&(s=lb(()=>{const u=e.eGui;return u.children.length===0?u:u.querySelector(".ag-cell-value")}));const l={getColumn:()=>n,getColDef:()=>n.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>i,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:s};return this.createTooltipFeature(l,this.beans)}refreshRowTooltip(e,t,s,n){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>s,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},o=this.beans,r=o.context;e&&t.destroyBean(e,r);const l=this.createTooltipFeature(i,o);return t.createBean(l,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Se(t.tooltipField)||Se(t.tooltipValueGetter)||Se(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Mse={moduleName:"Tooltip",version:xe,beans:[Pse],dynamicBeans:{tooltipFeature:F9},userComponents:{agTooltipComponent:bQ},dependsOn:[Ty],css:[Fse]},Lse={moduleName:"Locale",version:xe,beans:[cQ]},kse=class extends ue{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=$s(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var l,u,d,f;const{visibleCols:e,rowModel:t,rowSpanSvc:s,pinnedRowModel:n}=this.beans,i=e.autoHeightCols;let o=!1;const r=g=>{var w;const m=g.__autoHeights;let C=df(this.beans,g).height;for(const y of i){let R=m==null?void 0:m[y.getColId()];const A=s==null?void 0:s.getCellSpan(y,g);if(A){if(A.getLastNode()!==g)continue;if(R=(w=s==null?void 0:s.getCellSpan(y,g))==null?void 0:w.getLastNodeAutoHeight(),!R)return}if(R==null){if(this.colSpanSkipCell(y,g))continue;return}C=Math.max(R,C)}C!==g.rowHeight&&(g.setRowHeight(C),o=!0)};(l=n==null?void 0:n.forEachPinnedRow)==null||l.call(n,"top",r),(u=n==null?void 0:n.forEachPinnedRow)==null||u.call(n,"bottom",r),(d=t.forEachDisplayedNode)==null||d.call(t,r),o&&((f=t.onRowHeightChanged)==null||f.call(t))}setRowAutoHeight(e,t,s){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[s.getId()];return}const n=e.__autoHeights[s.getId()];e.__autoHeights[s.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:s,colViewport:n,visibleCols:i}=this.beans;if(!s.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=i.getLeftColsForRow(t);break;case"right":o=i.getRightColsForRow(t);break;case null:o=n.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,s){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const n=t.parentElement,{rowNode:i,column:o}=e,r=this.beans,l=f=>{if(e.editing||!e.isAlive()||!s.isAlive())return;const{paddingTop:g,paddingBottom:m,borderBottomWidth:C,borderTopWidth:w}=_u(n),y=g+m+C+w,A=t.offsetHeight+y;if(f<5){const D=ds(r),E=!D||!D.contains(t),T=A==0;if(E||T){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(i,A,o)},u=()=>l(0);u();const d=pa(r,t,u);return s.addDestroyFunc(()=>{d(),this.setRowAutoHeight(i,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},Ise={moduleName:"RowAutoHeight",version:xe,beans:[kse]},Ose={moduleName:"AllCommunity",version:xe,dependsOn:[Pee,Hee,Kee,ZQ,_J,NJ,HJ,BJ,GJ,VJ,zJ,OJ,$Z,qZ,KZ,jZ,XZ,QZ,ute,hee,Fte,FK,Bte,Gte,Kte,ese,lq,rse,see,QX,mse,Sse,vse,Tse,eQ,ite,Mse,Lse,Ise,aq,Mee,fse]},hn=ve.createContext({}),hv=(e,t,s,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let r,l,u=!1;return o.then(d=>{if(u){t.destroyBean(d);return}r=d,l=r.getGui(),s.appendChild(l),GL(n,r)}),()=>{var d;u=!0,r&&((d=l==null?void 0:l.parentElement)==null||d.removeChild(l),t.destroyBean(r),n&&GL(n,void 0))}},GL=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}},Fi=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),ki=class rH{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const i=new rH;return i.classesMap={...this.classesMap},i.classesMap[t]=s,i}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},Mf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},Tk,Xx=(Tk=ve.version)==null?void 0:Tk.split(".")[0],_se=Xx==="16"||Xx==="17";function Nse(){return Xx==="19"}var ub=!1;function Hse(e){return ub||setTimeout(()=>ub=!1,0),ub=!0,e()}var mw=(e,t)=>{!_se&&e&&!ub?aI.flushSync(t):t()};function vw(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],o=new Map,r=new Map;for(let l=0;l<t.length;l++){const u=t[l];r.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];o.set(u.instanceId,u),r.has(u.instanceId)&&n.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;o.has(d)||i.push(u)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var aH=x.forwardRef((e,t)=>{var V;const{registry:s,context:n}=x.useContext(hn),i=x.useRef(null),o=x.useRef(null),r=x.useRef(null),l=x.useRef(null),u=x.useRef(null),d=x.useRef(),[f,g]=x.useState(),[m,C]=x.useState(),[w,y]=x.useState(),[R,A]=x.useState(()=>new ki),[D,E]=x.useState(()=>new ki("ag-hidden")),[T,P]=x.useState(()=>new ki("ag-hidden")),[L,N]=x.useState(()=>new ki("ag-invisible"));x.useImperativeHandle(t,()=>({refresh(){return!1}})),x.useLayoutEffect(()=>hv(f,n,o.current),[f]);const B=x.useCallback(U=>{if(i.current=U,!U){d.current=n.destroyBean(d.current);return}const re={setInnerRenderer:(Y,Q)=>{g(Y),y(Q)},setChildCount:Y=>C(Y),addOrRemoveCssClass:(Y,Q)=>A(J=>J.setClass(Y,Q)),setContractedDisplayed:Y=>P(Q=>Q.setClass("ag-hidden",!Y)),setExpandedDisplayed:Y=>E(Q=>Q.setClass("ag-hidden",!Y)),setCheckboxVisible:Y=>N(Q=>Q.setClass("ag-invisible",!Y)),setCheckboxSpacing:Y=>N(Q=>Q.setClass("ag-group-checkbox-spacing",Y))},H=s.createDynamicBean("groupCellRendererCtrl",!0);H&&(d.current=n.createBean(H),d.current.init(re,U,r.current,l.current,u.current,aH,e))},[]),W=x.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),z=x.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),q=x.useMemo(()=>`ag-group-contracted ${T.toString()}`,[T]),K=x.useMemo(()=>`ag-group-checkbox ${L.toString()}`,[L]),$=f&&f.componentFromFramework,te=$?f.componentClass:void 0,ee=f==null&&w!=null,G=Jr(w,!0);return ve.createElement("span",{className:W,ref:B,...e.colDef?{}:{role:(V=d.current)==null?void 0:V.getCellAriaRole()}},ve.createElement("span",{className:z,ref:l}),ve.createElement("span",{className:q,ref:u}),ve.createElement("span",{className:K,ref:r}),ve.createElement("span",{className:"ag-group-value",ref:o},ee&&ve.createElement(ve.Fragment,null,G),$&&ve.createElement(te,{...f.params})),ve.createElement("span",{className:"ag-group-child-count"},m))}),VL=aH,BD=x.createContext({setMethods:()=>{}}),Bse=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:n,setMethods:i}=e,[{key:o,...r},l]=x.useState(t);return x.useEffect(()=>{s(u=>l(u))},[]),ve.createElement(BD.Provider,{value:{setMethods:i}},ve.createElement(n,{key:o,...r}))},Gse=x.memo(Bse),Vse=0;function zL(){return`agPortalKey_${++Vse}`}var lH=class{constructor(e,t,s,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=zL(),this.portalKey=zL(),this.instanceCreated=this.isStatelessComponent()?zt.resolve(!1):new zt(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const n=s[e];if(n)return n.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new zt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var s;this.componentInstance=t,(s=this.resolveInstanceCreated)==null||s.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Jm.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return x.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function GD(e,t,s){e.forEach(n=>{const i=t[n];i&&(s[n]=i)})}var mo=class extends lH{constructor(){super(...arguments),this.awaitUpdateCallback=new zt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Gse}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new zt(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,GD(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new zt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},zse=class extends mo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Wse=class extends mo{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Use=class extends mo{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:n}=this;return e.label=t,e.icon=s,e.shake=n,e}},jse=class extends mo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new zt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var s;const t=this.providedMethods;t?(s=t.afterGuiAttached)==null||s.call(t,e):this.awaitSetMethodsCallback.then(()=>{var n,i;return(i=(n=this.providedMethods)==null?void 0:n.afterGuiAttached)==null?void 0:i.call(n,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function cH(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||zt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var $se=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){GD(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),cH(this.floatingFilterParams,e)}},qse=class extends mo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),cH(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Kse=class extends mo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Yse=class extends mo{refresh(e){this.sourceParams=e,this.refreshProps()}},Xse=class extends mo{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Qse=class extends mo{refresh(e){this.sourceParams=e,this.refreshProps()}},Zse=class extends mo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Jse=class extends mo{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function VD(){we(231)}var ene=1e3,tne=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||ene}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}},sne=({ctrl:e})=>{const t=e.isAlive(),{context:s}=x.useContext(hn),n=t?e.column.getColId():void 0,[i,o]=x.useState(),[r,l]=x.useState(),u=x.useRef(),d=x.useRef(null),f=x.useRef(null),g=x.useRef(null),m=x.useRef(),C=x.useRef();t&&!C.current&&(C.current=new cv(()=>d.current));const w=x.useCallback(D=>{var P;if(d.current=D,u.current=D?s.createBean(new Tf):s.destroyBean(u.current),!D||!e.isAlive())return;const E={setWidth:L=>{d.current&&(d.current.style.width=L)},addOrRemoveCssClass:(L,N)=>C.current.addOrRemoveCssClass(L,N),setUserStyles:L=>l(L),setAriaSort:L=>{d.current&&(L?h6(d.current,L):f6(d.current))},setUserCompDetails:L=>o(L),getUserCompInstance:()=>m.current||void 0};e.setComp(E,D,f.current,g.current,u.current);const T=e.getSelectAllGui();T&&((P=f.current)==null||P.insertAdjacentElement("afterend",T),u.current.addDestroyFunc(()=>T.remove()))},[]);x.useLayoutEffect(()=>hv(i,s,g.current,m),[i]),x.useEffect(()=>{e.setDragSource(d.current)},[i]);const y=x.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&Mf(i.componentClass)),[i]),R=i&&i.componentFromFramework,A=i&&i.componentClass;return ve.createElement("div",{ref:w,style:r,className:"ag-header-cell","col-id":n,role:"columnheader"},ve.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),ve.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&y&&ve.createElement(A,{...i.params}),R&&!y&&ve.createElement(A,{...i.params,ref:m})))},nne=x.memo(sne),ine=({ctrl:e})=>{const{context:t,gos:s}=x.useContext(hn),[n,i]=x.useState(),[o,r]=x.useState(()=>new ki("ag-header-cell","ag-floating-filter")),[l,u]=x.useState(()=>new ki),[d,f]=x.useState(()=>new ki("ag-floating-filter-button","ag-hidden")),[g,m]=x.useState("false"),[C,w]=x.useState(),[,y]=x.useState(1),R=x.useRef(),A=x.useRef(null),D=x.useRef(null),E=x.useRef(null),T=x.useRef(null),P=x.useRef(),L=x.useRef(),N=U=>{U!=null&&P.current&&P.current(U)},B=x.useCallback(U=>{if(A.current=U,R.current=U?t.createBean(new Tf):t.destroyBean(R.current),!U)return;L.current=new zt(H=>{P.current=H});const re={addOrRemoveCssClass:(H,Y)=>r(Q=>Q.setClass(H,Y)),setUserStyles:H=>i(H),addOrRemoveBodyCssClass:(H,Y)=>u(Q=>Q.setClass(H,Y)),setButtonWrapperDisplayed:H=>{f(Y=>Y.setClass("ag-hidden",!H)),m(H?"false":"true")},setWidth:H=>{A.current&&(A.current.style.width=H)},setCompDetails:H=>w(H),getFloatingFilterComp:()=>L.current?L.current:null,setMenuIcon:H=>{var Y;return(Y=T.current)==null?void 0:Y.appendChild(H)}};e.setComp(re,U,T.current,D.current,R.current)},[]);x.useLayoutEffect(()=>hv(C,t,D.current,N),[C]);const W=x.useMemo(()=>o.toString(),[o]),z=x.useMemo(()=>l.toString(),[l]),q=x.useMemo(()=>d.toString(),[d]),K=x.useMemo(()=>!!(C&&C.componentFromFramework&&Mf(C.componentClass)),[C]),$=x.useMemo(()=>s.get("reactiveCustomComponents"),[]),te=x.useMemo(()=>{if(C)if($){const U=new $se(C.params,()=>y(re=>re+1));return N(U),U}else C.componentFromFramework&&VD()},[C]),ee=te==null?void 0:te.getProps(),G=C&&C.componentFromFramework,V=C&&C.componentClass;return ve.createElement("div",{ref:B,style:n,className:W,role:"gridcell"},ve.createElement("div",{ref:D,className:z,role:"presentation"},G&&!$&&ve.createElement(V,{...C.params,ref:K?()=>{}:N}),G&&$&&ve.createElement(BD.Provider,{value:{setMethods:U=>te.setMethods(U)}},ve.createElement(V,{...ee}))),ve.createElement("div",{ref:E,"aria-hidden":g,className:q,role:"presentation"},ve.createElement("button",{ref:T,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},one=x.memo(ine),rne=({ctrl:e})=>{const{context:t}=x.useContext(hn),[s,n]=x.useState(),[i,o]=x.useState(()=>new ki),[r,l]=x.useState(()=>new ki),[u,d]=x.useState("false"),[f,g]=x.useState(),[m,C]=x.useState(),w=x.useMemo(()=>e.column.getUniqueId(),[]),y=x.useRef(),R=x.useRef(null),A=x.useRef(null),D=x.useRef(null),E=x.useRef(),T=x.useCallback(z=>{if(R.current=z,y.current=z?t.createBean(new Tf):t.destroyBean(y.current),!z)return;const q={setWidth:K=>{R.current&&(R.current.style.width=K)},addOrRemoveCssClass:(K,$)=>o(te=>te.setClass(K,$)),setUserStyles:K=>n(K),setHeaderWrapperHidden:K=>{const $=D.current;$&&(K?$.style.setProperty("display","none"):$.style.removeProperty("display"))},setHeaderWrapperMaxHeight:K=>{const $=D.current;$&&(K!=null?$.style.setProperty("max-height",`${K}px`):$.style.removeProperty("max-height"),$.classList.toggle("ag-header-cell-comp-wrapper-limited-height",K!=null))},setUserCompDetails:K=>C(K),setResizableDisplayed:K=>{l($=>$.setClass("ag-hidden",!K)),d(K?"false":"true")},setAriaExpanded:K=>g(K),getUserCompInstance:()=>E.current||void 0};e.setComp(q,z,A.current,D.current,y.current)},[]);x.useLayoutEffect(()=>hv(m,t,D.current),[m]),x.useEffect(()=>{R.current&&e.setDragSource(R.current)},[m]);const P=x.useMemo(()=>!!((m==null?void 0:m.componentFromFramework)&&Mf(m.componentClass)),[m]),L=x.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),N=x.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),B=m&&m.componentFromFramework,W=m&&m.componentClass;return ve.createElement("div",{ref:T,style:s,className:L,"col-id":w,role:"columnheader","aria-expanded":f},ve.createElement("div",{ref:D,className:"ag-header-cell-comp-wrapper",role:"presentation"},B&&P&&ve.createElement(W,{...m.params}),B&&!P&&ve.createElement(W,{...m.params,ref:E})),ve.createElement("div",{ref:A,"aria-hidden":u,className:N}))},ane=x.memo(rne),lne=({ctrl:e})=>{const{context:t}=x.useContext(hn),{topOffset:s,rowHeight:n}=x.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),o=e.headerRowClass,[r,l]=x.useState(()=>n+"px"),[u,d]=x.useState(()=>s+"px"),f=x.useRef(null),g=x.useRef(null),[m,C]=x.useState(()=>e.getUpdatedHeaderCtrls()),w=x.useRef(),y=x.useRef(null),R=x.useCallback(E=>{if(y.current=E,w.current=E?t.createBean(new Tf):t.destroyBean(w.current),!E)return;const T={setHeight:P=>l(P),setTop:P=>d(P),setHeaderCtrls:(P,L,N)=>{g.current=f.current,f.current=P;const B=vw(g.current,P,L);B!==g.current&&mw(N,()=>C(B))},setWidth:P=>{y.current&&(y.current.style.width=P)}};e.setComp(T,w.current,!1)},[]),A=x.useMemo(()=>({height:r,top:u}),[r,u]),D=x.useCallback(E=>{switch(e.type){case"group":return ve.createElement(ane,{ctrl:E,key:E.instanceId});case"filter":return ve.createElement(one,{ctrl:E,key:E.instanceId});default:return ve.createElement(nne,{ctrl:E,key:E.instanceId})}},[]);return ve.createElement("div",{ref:R,className:o,role:"row",style:A,"aria-rowindex":i},m.map(D))},cne=x.memo(lne),une=({pinned:e})=>{const[t,s]=x.useState(!0),[n,i]=x.useState([]),{context:o}=x.useContext(hn),r=x.useRef(null),l=x.useRef(null),u=x.useRef(),d=e==="left",f=e==="right",g=!d&&!f,m=x.useCallback(y=>{if(r.current=y,u.current=y?o.createBean(new Z7(e)):o.destroyBean(u.current),!y)return;const R={setDisplayed:s,setCtrls:A=>i(A),setCenterWidth:A=>{l.current&&(l.current.style.width=A)},setViewportScrollLeft:A=>{r.current&&(r.current.scrollLeft=A)},setPinnedContainerWidth:A=>{r.current&&(r.current.style.width=A,r.current.style.minWidth=A,r.current.style.maxWidth=A)}};u.current.setComp(R,r.current)},[]),C=t?"":"ag-hidden",w=()=>n.map(y=>ve.createElement(cne,{ctrl:y,key:y.instanceId}));return ve.createElement(ve.Fragment,null,d&&ve.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),f&&ve.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),g&&ve.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation",tabIndex:-1},ve.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},w())))},XR=x.memo(une),dne=()=>{const[e,t]=x.useState(()=>new ki),[s,n]=x.useState(),{context:i}=x.useContext(hn),o=x.useRef(null),r=x.useRef(),l=x.useCallback(f=>{if(o.current=f,r.current=f?i.createBean(new K7):i.destroyBean(r.current),!f)return;const g={addOrRemoveCssClass:(m,C)=>t(w=>w.setClass(m,C)),setHeightAndMinHeight:m=>n(m)};r.current.setComp(g,f,f)},[]),u=x.useMemo(()=>"ag-header "+e.toString(),[e]),d=x.useMemo(()=>({height:s,minHeight:s}),[s]);return ve.createElement("div",{ref:l,className:u,style:d,role:"presentation"},ve.createElement(XR,{pinned:"left"}),ve.createElement(XR,{pinned:null}),ve.createElement(XR,{pinned:"right"}))},hne=x.memo(dne),fne=(e,t)=>{x.useEffect(()=>{const s=t.current;if(s){const n=s.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,s),()=>{n.removeChild(i)}}}},[e])},dc=fne,gne=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new zt(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){GD(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},pne=e=>{const t=x.useRef(e),s=x.useRef(),n=x.useRef(!1),i=x.useRef(!1),[,o]=x.useState(0);n.current&&(i.current=!0),x.useEffect(()=>(n.current||(s.current=t.current(),n.current=!0),o(r=>r+1),()=>{var r;i.current&&((r=s.current)==null||r.call(s))}),[])},mne=e=>{const[t,s]=x.useState(),n=x.useContext(hn),{context:i,popupSvc:o,localeSvc:r,gos:l,editSvc:u}=n,{editDetails:d,cellCtrl:f,eParentCell:g}=e;return pne(()=>{var N,B;const{compDetails:m}=d,C=l.get("stopEditingWhenCellsLoseFocus"),w=i.createBean(u.createPopupEditorWrapper(m.params)),y=w.getGui();if(e.jsChildComp){const W=e.jsChildComp.getGui();W&&y.appendChild(W)}const{column:R,rowNode:A}=f,D={column:R,rowNode:A,type:"popupCellEditor",eventSource:g,ePopup:y,position:d.popupPosition,keepWithinBounds:!0},E=o==null?void 0:o.positionPopupByComponent.bind(o,D),T=MO(r),P=o==null?void 0:o.addPopup({modal:C,eChild:y,closeOnEsc:!0,closedCallback:()=>{f.onPopupEditorClosed()},anchorToElement:g,positionCallback:E,ariaLabel:T("ariaLabelCellEditor","Cell Editor")}),L=P?P.hideFunc:void 0;return s(w),(B=(N=e.jsChildComp)==null?void 0:N.afterGuiAttached)==null||B.call(N),()=>{L==null||L(),i.destroyBean(w)}}),x.useLayoutEffect(()=>()=>{f.isCellFocused()&&(t!=null&&t.getGui().contains(Kt(n)))&&g.focus({preventScroll:!0})},[t]),ve.createElement(ve.Fragment,null,t&&e.wrappedContent&&Jm.createPortal(e.wrappedContent,t.getGui()))},WL=x.memo(mne),vne=(e,t,s,n,i,o)=>{const{context:r}=x.useContext(hn),l=x.useCallback(()=>{const u=i.current;if(!u)return;const d=u.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),r.destroyBean(u),i.current=void 0},[]);x.useEffect(()=>{const u=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&s==null;if(!(u&&d&&!f)){l();return}const m=e.compDetails;if(i.current){const w=i.current,R=w.refresh!=null&&e.force==!1?w.refresh(m.params):!1;if(R===!0||R===void 0)return;l()}m.newAgStackInstance().then(w=>{if(!w)return;const y=w.getGui();if(!y)return;(t?s:o.current).appendChild(y),i.current=w})},[e,t,n]),x.useEffect(()=>l,[])},Cne=vne,bne=(e,t,s)=>{const{compProxy:n}=e;s(n);const i=n.getProps(),o=Mf(t);return ve.createElement(BD.Provider,{value:{setMethods:r=>n.setMethods(r)}},o?ve.createElement(t,{...i}):ve.createElement(t,{...i,ref:r=>n.setRef(r)}))},UL=(e,t,s)=>{const n=e.compProxy;return ve.createElement(ve.Fragment,null,n?bne(e,t,s):ve.createElement(t,{...e.compDetails.params,ref:s}))},wne=(e,t,s,n,i)=>{const o=e.compDetails,r=o.componentClass,l=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,d=!o.componentFromFramework&&e.popup;return ve.createElement(ve.Fragment,null,l&&UL(e,r,t),u&&ve.createElement(WL,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:UL(e,r,t)}),d&&i&&ve.createElement(WL,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:i}))},yne=(e,t,s,n,i,o,r)=>{const{compDetails:l,value:u}=e,d=!l,f=l&&l.componentFromFramework,g=l&&l.componentClass,m=u!=null&&u.toString?u.toString():u,C=()=>ve.createElement(ve.Fragment,null,d&&ve.createElement(ve.Fragment,null,m),f&&!o&&ve.createElement(g,{...l.params,key:t,ref:n}),f&&o&&ve.createElement(g,{...l.params,key:t}));return ve.createElement(ve.Fragment,null,i?ve.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:r},C()):C())},Sne=({cellCtrl:e,printLayout:t,editingRow:s})=>{const n=x.useContext(hn),{context:i}=n,{colIdSanitised:o,instanceId:r}=e,l=x.useRef(),[u,d]=x.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,g]=x.useState(),[m,C]=x.useState(1),[w,y]=x.useState(),[R,A]=x.useState(!1),[D,E]=x.useState(!1),[T,P]=x.useState(!1),[L,N]=x.useState(),B=x.useMemo(()=>e.isForceWrapper(),[e]),W=x.useMemo(()=>e.getCellAriaRole(),[e]),z=x.useRef(null),q=x.useRef(null),K=x.useRef(null),$=x.useRef(),te=x.useRef(),ee=x.useRef(),G=x.useRef([]),V=x.useRef(),[U,re]=x.useState(0),H=x.useCallback(he=>{V.current=he,re(ye=>ye+1)},[]),Y=u!=null&&(R||T||D),Q=B||Y,J=x.useCallback(he=>{if(te.current=he,he){const ye=he.isCancelBeforeStart&&he.isCancelBeforeStart();setTimeout(()=>{ye?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),le=x.useRef();le.current||(le.current=new cv(()=>z.current)),Cne(u,Q,V.current,U,$,z);const ge=x.useRef();x.useLayoutEffect(()=>{var Ce;const he=ge.current,ye=u;if(ge.current=u,he==null||he.compDetails==null||ye==null||ye.compDetails==null)return;const Me=he.compDetails,He=ye.compDetails;if(Me.componentClass!=He.componentClass||((Ce=K.current)==null?void 0:Ce.refresh)==null)return;K.current.refresh(He.params)!=!0&&C(Re=>Re+1)},[u]),x.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const ye=f.compDetails,Me=f.popup===!0,He=ye.newAgStackInstance();return He.then(ce=>{if(!ce)return;const Ce=ce.getGui();if(J(ce),!Me){const Re=(B?ee:z).current;Re==null||Re.appendChild(Ce),ce.afterGuiAttached&&ce.afterGuiAttached()}N(ce)}),()=>{He.then(ce=>{var Re;const Ce=ce.getGui();i.destroyBean(ce),J(void 0),N(void 0),(Re=Ce==null?void 0:Ce.parentElement)==null||Re.removeChild(Ce)})}},[f]);const pe=x.useCallback(he=>{if(ee.current=he,!he){G.current.forEach(Me=>Me()),G.current=[];return}const ye=Me=>{if(Me){const He=Me.getGui();he.insertAdjacentElement("afterbegin",He),G.current.push(()=>{i.destroyBean(Me),ra(He)})}return Me};if(R){const Me=e.createSelectionCheckbox();ye(Me)}T&&ye(e.createDndSource()),D&&ye(e.createRowDragComp())},[e,i,T,D,R]),Te=x.useCallback(()=>{const he=!e.isCellSpanning()||q.current,ye=z.current;if(l.current=ye?i.createBean(new Tf):i.destroyBean(l.current),!ye||!he||!e)return;const Me={addOrRemoveCssClass:(ce,Ce)=>le.current.addOrRemoveCssClass(ce,Ce),setUserStyles:ce=>y(ce),getFocusableElement:()=>z.current,setIncludeSelection:ce=>A(ce),setIncludeRowDrag:ce=>E(ce),setIncludeDndSource:ce=>P(ce),getCellEditor:()=>te.current||null,getCellRenderer:()=>K.current??$.current,getParentOfValue:()=>V.current??ee.current??z.current,setRenderDetails:(ce,Ce,Re)=>{d(De=>(De==null?void 0:De.compDetails)!==ce||(De==null?void 0:De.value)!==Ce||(De==null?void 0:De.force)!==Re?{value:Ce,compDetails:ce,force:Re}:De)},setEditDetails:(ce,Ce,Re,De)=>{if(ce){let Ge;De?Ge=new gne(ce.params,()=>C(Ye=>Ye+1)):ce.componentFromFramework&&VD(),g({compDetails:ce,popup:Ce,popupPosition:Re,compProxy:Ge}),Ce||d(void 0)}else e.hasBrowserFocus()&&Me.getFocusableElement().focus({preventScroll:!0}),g(Ye=>{Ye!=null&&Ye.compProxy&&(te.current=void 0)})}},He=ee.current||void 0;e.setComp(Me,ye,q.current??void 0,He,t,s,l.current)},[]),ke=x.useCallback(he=>{z.current=he,Te()},[]),Ke=x.useCallback(he=>{q.current=he,Te()},[]),Pe=x.useMemo(()=>{var ye;return!!(((ye=u==null?void 0:u.compDetails)==null?void 0:ye.componentFromFramework)&&Mf(u.compDetails.componentClass))},[u]);x.useLayoutEffect(()=>{z.current&&(le.current.addOrRemoveCssClass("ag-cell-value",!Q),le.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),le.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),le.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),e.setInlineEditingCss())});const wt=()=>ve.createElement(ve.Fragment,null,u!=null&&yne(u,m,r,K,Q,Pe,H),f!=null&&wne(f,J,z.current,e,L)),Et=()=>ve.createElement("div",{ref:ke,style:w,role:W,"col-id":o},Q?ve.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:pe},wt()):wt());return e.isCellSpanning()?ve.createElement("div",{ref:Ke,className:"ag-spanned-cell-wrapper",role:"presentation"},Et()):Et()},Rne=x.memo(Sne),xne=({rowCtrl:e,containerType:t})=>{const{context:s,gos:n}=x.useContext(hn),i=x.useRef(),o=x.useRef(e.getDomOrder()),r=e.isFullWidth(),l=e.rowNode.displayed,[u,d]=x.useState(()=>l?e.rowNode.getRowIndexString():null),[f,g]=x.useState(()=>e.rowId),[m,C]=x.useState(()=>e.businessKey),[w,y]=x.useState(()=>e.rowStyles),R=x.useRef(null),A=x.useRef(null),[D,E]=x.useState(()=>null),[T,P]=x.useState(),[L,N]=x.useState(()=>l?e.getInitialRowTop(t):void 0),[B,W]=x.useState(()=>l?e.getInitialTransform(t):void 0),z=x.useRef(null),q=x.useRef(),K=x.useRef(!1),[$,te]=x.useState(0);x.useEffect(()=>{var ge;if(K.current||!T||$>10)return;const le=(ge=z.current)==null?void 0:ge.firstChild;le?(e.setupDetailRowAutoHeight(le),K.current=!0):te(pe=>pe+1)},[T,$]);const ee=x.useRef();ee.current||(ee.current=new cv(()=>z.current));const G=x.useCallback(le=>{if(z.current=le,i.current=le?s.createBean(new Tf):s.destroyBean(i.current),!le){e.unsetComp(t);return}if(!e.isAlive())return;const ge={setTop:N,setTransform:W,addOrRemoveCssClass:(pe,Te)=>ee.current.addOrRemoveCssClass(pe,Te),setDomOrder:pe=>o.current=pe,setRowIndex:d,setRowId:g,setRowBusinessKey:C,setUserStyles:y,setCellCtrls:(pe,Te)=>{A.current=R.current,R.current=pe;const ke=vw(A.current,pe,o.current);ke!==A.current&&mw(Te,()=>E(ke))},showFullWidth:pe=>P(pe),getFullWidthCellRenderer:()=>q.current,refreshFullWidth:pe=>Y.current?(P(Te=>({...Te,params:pe()})),!0):!q.current||!q.current.refresh?!1:q.current.refresh(pe())};e.setComp(ge,le,t,i.current)},[]);x.useLayoutEffect(()=>hv(T,s,z.current,q),[T]);const V=x.useMemo(()=>{const le={top:L,transform:B};return Object.assign(le,w),le},[L,B,w]),U=r&&(T==null?void 0:T.componentFromFramework),re=!r&&D!=null,H=x.useMemo(()=>!!((T==null?void 0:T.componentFromFramework)&&Mf(T.componentClass)),[T]),Y=x.useRef(!1);x.useEffect(()=>{Y.current=H&&!!T&&!!n.get("reactiveCustomComponents")},[H,T]);const Q=()=>D==null?void 0:D.map(le=>ve.createElement(Rne,{cellCtrl:le,editingRow:e.editing,printLayout:e.printLayout,key:le.instanceId})),J=()=>{const le=T.componentClass;return ve.createElement(ve.Fragment,null,H?ve.createElement(le,{...T.params}):ve.createElement(le,{...T.params,ref:q}))};return ve.createElement("div",{ref:G,role:"row",style:V,"row-index":u,"row-id":f,"row-business-key":m},re&&Q(),U&&J())},jL=x.memo(xne),Ane=({name:e})=>{const{context:t,gos:s}=x.useContext(hn),n=x.useMemo(()=>uv(e),[e]),i=x.useRef(null),o=x.useRef(null),r=x.useRef(null),l=x.useRef([]),u=x.useRef([]),[d,f]=x.useState(()=>[]),g=!!s.get("enableCellSpan")&&!!n.getSpannedRowCtrls,m=x.useRef([]),C=x.useRef([]),[w,y]=x.useState(()=>[]),R=x.useRef(!1),A=x.useRef(),D=x.useMemo(()=>Fi("ag-viewport",q_(e)),[e]),E=x.useMemo(()=>Fi(ab(e)),[e]),T=x.useMemo(()=>Fi("ag-spanning-container",A7(e)),[e]),P=n.type==="center"||g,L=P?i:o;dc(" AG Row Container "+e+" ",L);const N=x.useCallback(()=>{const ee=!P||i.current!=null,G=o.current!=null,V=!g||r.current!=null;return ee&&G&&V},[]),B=x.useCallback(()=>i.current==null&&o.current==null&&r.current==null,[]),W=x.useCallback(()=>{if(B()&&(A.current=t.destroyBean(A.current)),N()){const ee=U=>{const re=vw(u.current,l.current,R.current);re!==u.current&&(u.current=re,mw(U,()=>f(re)))},G=U=>{const re=vw(C.current,m.current,R.current);re!==C.current&&(C.current=re,mw(U,()=>y(re)))},V={setHorizontalScroll:U=>{i.current&&(i.current.scrollLeft=U)},setViewportHeight:U=>{i.current&&(i.current.style.height=U)},setRowCtrls:({rowCtrls:U,useFlushSync:re})=>{const H=!!re&&l.current.length>0&&U.length>0;l.current=U,ee(H)},setSpannedRowCtrls:(U,re)=>{const H=!!re&&m.current.length>0&&U.length>0;m.current=U,G(H)},setDomOrder:U=>{R.current!=U&&(R.current=U,ee(!1))},setContainerWidth:U=>{o.current&&(o.current.style.width=U)},setOffsetTop:U=>{o.current&&(o.current.style.transform=`translateY(${U})`)}};A.current=t.createBean(new O7(e)),A.current.setComp(V,o.current,r.current??void 0,i.current)}},[N,B]),z=x.useCallback(ee=>{o.current=ee,W()},[W]),q=x.useCallback(ee=>{r.current=ee,W()},[W]),K=x.useCallback(ee=>{i.current=ee,W()},[W]),$=()=>ve.createElement("div",{className:E,ref:z,role:"rowgroup"},d.map(ee=>ve.createElement(jL,{rowCtrl:ee,containerType:n.type,key:ee.instanceId})));if(!P)return $();const te=()=>g&&ve.createElement("div",{className:T,ref:q,role:"rowgroup"},w.map(ee=>ve.createElement(jL,{rowCtrl:ee,containerType:n.type,key:ee.instanceId})));return ve.createElement("div",{className:D,ref:K,role:"presentation"},$(),te())},Ene=x.memo(Ane),Dne=()=>{const e=x.useContext(hn),{context:t,overlays:s}=e,[n,i]=x.useState(""),[o,r]=x.useState(0),[l,u]=x.useState(0),[d,f]=x.useState("0px"),[g,m]=x.useState("0px"),[C,w]=x.useState("100%"),[y,R]=x.useState("0px"),[A,D]=x.useState("0px"),[E,T]=x.useState("100%"),[P,L]=x.useState(!0),[N,B]=x.useState(!0),[W,z]=x.useState(null),[q,K]=x.useState(""),[$,te]=x.useState(null),[ee,G]=x.useState("ag-layout-normal"),V=x.useRef();V.current||(V.current=new cv(()=>U.current));const U=x.useRef(null),re=x.useRef(null),H=x.useRef(null),Y=x.useRef(null),Q=x.useRef(null),J=x.useRef(null),le=x.useRef(null),ge=x.useRef([]),pe=x.useRef([]);dc(" AG Grid Body ",U),dc(" AG Pinned Top ",re),dc(" AG Sticky Top ",H),dc(" AG Middle ",J),dc(" AG Pinned Bottom ",le);const Te=x.useCallback(Ge=>{if(U.current=Ge,!Ge){ge.current=t.destroyBeans(ge.current),pe.current.forEach(je=>je()),pe.current=[];return}if(!t)return;const Ye=(je,tt)=>{je.appendChild(tt),pe.current.push(()=>je.removeChild(tt))},Xe=je=>{const tt=t.createBean(new je);return ge.current.push(tt),tt},Ae=(je,tt,rs)=>{Ye(je,document.createComment(rs)),Ye(je,Xe(tt).getGui())};Ae(Ge,V7," AG Fake Horizontal Scroll ");const ze=s==null?void 0:s.getOverlayWrapperCompClass();ze&&Ae(Ge,ze," AG Overlay Wrapper "),Q.current&&Ae(Q.current,W7," AG Fake Vertical Scroll ");const Lt={setRowAnimationCssOnBodyViewport:i,setColumnCount:je=>{U.current&&u6(U.current,je)},setRowCount:je=>{U.current&&l6(U.current,je)},setTopHeight:r,setBottomHeight:u,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:w,setTopInvisible:L,setBottomInvisible:B,setColumnMovingCss:(je,tt)=>V.current.addOrRemoveCssClass(je,tt),updateLayoutClasses:G,setAlwaysVerticalScrollClass:z,setPinnedTopBottomOverflowY:K,setCellSelectableCss:(je,tt)=>te(tt?je:null),setBodyViewportWidth:je=>{J.current&&(J.current.style.width=je)},registerBodyViewportResizeListener:je=>{if(J.current){const tt=pa(e,J.current,je);pe.current.push(()=>tt())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:T,setGridRootRole:je=>Ge.setAttribute("role",je)},pt=t.createBean(new B7);ge.current.push(pt),pt.setComp(Lt,Ge,J.current,re.current,le.current,H.current,Y.current)},[]),ke=x.useMemo(()=>Fi("ag-root","ag-unselectable",ee),[ee]),Ke=x.useMemo(()=>Fi("ag-body-viewport",n,ee,W,$),[n,ee,W,$]),Pe=x.useMemo(()=>Fi("ag-body",ee),[ee]),wt=x.useMemo(()=>Fi("ag-floating-top",P?"ag-invisible":null,$),[$,P]),Et=x.useMemo(()=>Fi("ag-sticky-top",$),[$]),he=x.useMemo(()=>Fi("ag-sticky-bottom",y==="0px"?"ag-invisible":null,$),[$,y]),ye=x.useMemo(()=>Fi("ag-floating-bottom",N?"ag-invisible":null,$),[$,N]),Me=x.useMemo(()=>({height:o,minHeight:o,overflowY:q}),[o,q]),He=x.useMemo(()=>({height:d,top:g,width:C}),[d,g,C]),ce=x.useMemo(()=>({height:y,bottom:A,width:E}),[y,A,E]),Ce=x.useMemo(()=>({height:l,minHeight:l,overflowY:q}),[l,q]),Re=Ge=>ve.createElement(Ene,{name:Ge,key:`${Ge}-container`}),De=({section:Ge,children:Ye,className:Xe,style:Ae})=>ve.createElement("div",{ref:Ge,className:Xe,role:"presentation",style:Ae},Ye.map(Re));return ve.createElement("div",{ref:Te,className:ke},ve.createElement(hne,null),De({section:re,className:wt,style:Me,children:["topLeft","topCenter","topRight","topFullWidth"]}),ve.createElement("div",{className:Pe,ref:Q,role:"presentation"},De({section:J,className:Ke,children:["left","center","right","fullWidth"]})),De({section:H,className:Et,style:He,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),De({section:Y,className:he,style:ce,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),De({section:le,className:ye,style:Ce,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Tne=x.memo(Dne),Fne=(e,t)=>{const{children:s,eFocusableElement:n,onTabKeyDown:i,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:r,isEmpty:l}=e,{context:u}=x.useContext(hn),d=x.useRef(null),f=x.useRef(null),g=x.useRef(),m=A=>{const D=A==null?void 0:parseInt(A,10).toString();[d,f].forEach(E=>{var T,P;D===void 0?(T=E.current)==null||T.removeAttribute("tabindex"):(P=E.current)==null||P.setAttribute("tabindex",D)})};x.useImperativeHandle(t,()=>({forceFocusOutOfContainer(A){var D;(D=g.current)==null||D.forceFocusOutOfContainer(A)}}));const C=x.useCallback(()=>{const A=d.current,D=f.current;if(!A&&!D){g.current=u.destroyBean(g.current);return}if(A&&D){const E={setTabIndex:m};g.current=u.createBean(new nN({comp:E,eTopGuard:A,eBottomGuard:D,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:T=>o.focusInnerElement(T),isEmpty:l}))}},[]),w=x.useCallback(A=>{d.current=A,C()},[C]),y=x.useCallback(A=>{f.current=A,C()},[C]),R=A=>{const D=A==="top"?sh.TAB_GUARD_TOP:sh.TAB_GUARD_BOTTOM;return ve.createElement("div",{className:`${sh.TAB_GUARD} ${D}`,role:"presentation",ref:A==="top"?w:y})};return ve.createElement(ve.Fragment,null,R("top"),s,R("bottom"))},Pne=x.forwardRef(Fne),Mne=x.memo(Pne),Lne=({context:e})=>{const[t,s]=x.useState(""),[n,i]=x.useState(""),[o,r]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState(!1),[g,m]=x.useState(),C=x.useRef(),w=x.useRef(null),y=x.useRef(),[R,A]=x.useState(null),D=x.useRef(()=>{}),E=x.useRef(),T=x.useRef([]),P=x.useCallback(()=>{},[]),L=x.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);dc(" AG Grid ",w);const N=x.useCallback($=>{if(w.current=$,C.current=$?e.createBean(new z9):e.destroyBean(C.current),!$||e.isDestroyed())return;const te=C.current;D.current=te.focusInnerElement.bind(te);const ee={destroyGridUi:()=>{},setRtlClass:s,forceFocusOutOfContainer:G=>{var V,U;if(!G&&((V=E.current)!=null&&V.isDisplayed())){E.current.forceFocusOutOfContainer(G);return}(U=y.current)==null||U.forceFocusOutOfContainer(G)},updateLayoutClasses:i,getFocusableContainers:()=>{var U;const G=[],V=(U=w.current)==null?void 0:U.querySelector(".ag-root");return V&&G.push({getGui:()=>V}),T.current.forEach(re=>{re.isDisplayed()&&G.push(re)}),G},setCursor:r,setUserSelect:u};te.setComp(ee,$,$),f(!0)},[]);x.useEffect(()=>{const $=C.current,te=w.current;if(!g||!L||!$||!R||!te)return;const ee=[],{watermarkSelector:G,paginationSelector:V,sideBarSelector:U,statusBarSelector:re,gridHeaderDropZonesSelector:H}=$.getOptionalSelectors(),Y=[];if(H){const J=e.createBean(new H.component),le=J.getGui();te.insertAdjacentElement("afterbegin",le),Y.push(le),ee.push(J)}if(U){const J=e.createBean(new U.component),le=J.getGui(),ge=R.querySelector(".ag-tab-guard-bottom");ge&&(ge.insertAdjacentElement("beforebegin",le),Y.push(le)),ee.push(J),T.current.push(J)}const Q=J=>{const le=e.createBean(new J),ge=le.getGui();return te.insertAdjacentElement("beforeend",ge),Y.push(ge),ee.push(le),le};if(re&&Q(re.component),V){const J=Q(V.component);E.current=J,T.current.push(J)}return G&&Q(G.component),()=>{e.destroyBeans(ee),Y.forEach(J=>{var le;(le=J.parentElement)==null||le.removeChild(J)})}},[g,R,L]);const B=x.useMemo(()=>Fi("ag-root-wrapper",t,n),[t,n]),W=x.useMemo(()=>Fi("ag-root-wrapper-body","ag-focus-managed",n),[n]),z=x.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:o??""}),[l,o]),q=x.useCallback($=>{y.current=$,m($!==null)},[]),K=x.useCallback(()=>{var $;return!(($=C.current)!=null&&$.isFocusable())},[]);return ve.createElement("div",{ref:N,className:B,style:z,role:"presentation"},ve.createElement("div",{className:W,ref:A,role:"presentation"},d&&R&&L&&ve.createElement(hn.Provider,{value:L},ve.createElement(Mne,{ref:q,eFocusableElement:R,onTabKeyDown:P,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:K},ve.createElement(Tne,null)))))},kne=x.memo(Lne),Ine=class extends ue{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},One={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},uH=new Set(Object.keys(One)),dH=e=>{var R;const t=x.useRef(),s=x.useRef(null),n=x.useRef(null),i=x.useRef([]),o=x.useRef([]),r=x.useRef(e),l=x.useRef(),u=x.useRef(),d=x.useRef(!1),[f,g]=x.useState(void 0),[,m]=x.useState(0),C=x.useCallback(A=>{if(s.current=A,!A){i.current.forEach(q=>q()),i.current.length=0;return}const D=e.modules||[];n.current||(n.current=new tne(()=>m(q=>q+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var q;(q=n.current)==null||q.destroy(),n.current=null}));const E=j6(e.gridOptions,e,Object.keys(e).filter(q=>!uH.has(q))),T=()=>{if(d.current){const q=()=>{var $;return($=l.current)!=null&&$.shouldQueueUpdates()?void 0:o.current.shift()};let K=q();for(;K;)K(),K=q()}},P=new Bne(T);l.current=P;const L=new Ine,N={providedBeanInstances:{frameworkCompWrapper:new Nne(n.current,E.reactiveCustomComponents??nQ("reactiveCustomComponents")??!0),renderStatus:L},modules:D,frameworkOverrides:P,setThemeOnGridDiv:!0},B=q=>{g(q),q.createBean(L),i.current.push(()=>{q.destroy()}),q.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{i.current.push(K)}},()=>{var $;if(q.isDestroyed())return;const K=t.current;K&&(($=e.setGridApi)==null||$.call(e,K))})},W=q=>{q.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{i.current.push(K)}},()=>{o.current.forEach(K=>K()),o.current.length=0,d.current=!0})},z=new oQ;E.gridId??(E.gridId=u.current),t.current=z.create(A,E,B,W,N),i.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),w=x.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=x.useCallback(A=>{var D;d.current&&!((D=l.current)!=null&&D.shouldQueueUpdates())?A():o.current.push(A)},[]);return x.useEffect(()=>{const A=_ne(r.current,e);r.current=e,y(()=>{t.current&&$6(A,t.current)})},[e]),ve.createElement("div",{style:w,className:e.className,ref:C},f&&!f.isDestroyed()?ve.createElement(kne,{context:f}):null,((R=n.current)==null?void 0:R.getPortals())??null)};function _ne(e,t){const s={};return Object.keys(t).forEach(n=>{if(uH.has(n))return;const i=t[n];e[n]!==i&&(s[n]=i)}),s}var Nne=class extends vQ{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(o=>{switch(o){case"filter":return jse;case"floatingFilterComponent":return qse;case"dateComponent":return Wse;case"dragAndDropImageComponent":return Use;case"loadingOverlayComponent":return Yse;case"noRowsOverlayComponent":return Qse;case"statusPanel":return Zse;case"toolPanel":return Jse;case"menuItem":return Xse;case"cellRenderer":return zse;case"innerHeaderComponent":return Kse}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":VD();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new lH(e,this.parent,t,s)}},Hne=x.forwardRef((e,t)=>{const s=x.useContext(hn),{registry:n,context:i,gos:o,rowModel:r}=s,[l,u]=x.useState(()=>new ki),[d,f]=x.useState(()=>new ki),[g,m]=x.useState(),[C,w]=x.useState(),y=x.useRef(),R=x.useRef(null),A=x.useRef(),D=x.useMemo(()=>v8(e.api.getGridId(),(g==null?void 0:g.rowModelType)??"clientSide"),[e]),E=x.useMemo(()=>l.toString()+" ag-details-row",[l]),T=x.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&x.useImperativeHandle(t,()=>({refresh(){var N;return((N=y.current)==null?void 0:N.refresh())??!1}})),e.template&&we(230);const P=x.useCallback(N=>{var z;if(R.current=N,!N){y.current=i.destroyBean(y.current),(z=A.current)==null||z.call(A);return}const B={addOrRemoveCssClass:(q,K)=>u($=>$.setClass(q,K)),addOrRemoveDetailGridCssClass:(q,K)=>f($=>$.setClass(q,K)),setDetailGrid:q=>m(q),setRowData:q=>w(q),getGui:()=>R.current},W=n.createDynamicBean("detailCellRendererCtrl",!0);if(W&&(i.createBean(W),W.init(B,e),y.current=W,o.get("detailRowAutoHeight"))){const q=()=>{if(R.current==null)return;const K=R.current.clientHeight;K!=null&&K>0&&setTimeout(()=>{e.node.setRowHeight(K),(an(o)||Nu(o))&&r.onRowHeightChanged()},0)};A.current=pa(s,N,q),q()}},[]),L=x.useCallback(N=>{var B;(B=y.current)==null||B.registerDetailWithMaster(N)},[]);return ve.createElement("div",{className:E,ref:P},g&&ve.createElement(dH,{className:T,...g,modules:D,rowData:C,setGridApi:L}))}),Bne=class extends iN{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:VL,agGroupRowRenderer:VL,agDetailCellRenderer:Hne},this.wrapIncoming=(t,s)=>s==="ensureVisible"?Hse(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Nse()}},Gne=class extends x.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ve.createElement(dH,{...this.props,setGridApi:this.setGridApi})}};b8.registerModules([Ose]);const Vne=["State","County","Precinct","republican_registrations","democrat_registrations","registered_voters","republican_votes_total","democrat_votes_total","total_votes_overall","total_votes_election_day","total_votes_early","total_votes_absentee","democrat_votes_election_day","democrat_votes_early","democrat_votes_absentee","republican_votes_election_day","republican_votes_early","republican_votes_absentee","overall_turnout"],yr=Vne.map(e=>({field:e,colId:e,cellRenderer:zne,cellEditor:jne,autoHeight:!0,wrapText:!0,sortable:!1}));yr.unshift({colId:"apply-template",cellRenderer:Wne,pinned:"left"});const $L=1;function db(e,t,s=!1){return s&&console.log(e,t),e?typeof e=="string"?e:Array.isArray(e)?e.map(n=>db(n,t)).join(" "):e!=null&&e.manual?e.str:typeof e.str=="string"?t?`{{${e.index}}}`:e.str:typeof e.symbol=="string"?e.symbol:e:""}function zne({editingMode:e,activeCell:t,node:s,value:n,colDef:i}){var l;t.rowIndex===s.rowIndex&&(t.colId,i.colId);const o=e===yx;let r="";try{r=((l=n==null?void 0:n.some)==null?void 0:l.call(n,wy))&&aD(n).join(" ")}catch(u){console.warn("attempting to render uncalculable value",u)}return n!=null&&n.every(u=>u==null?void 0:u.manual)?_.jsx(oo,{children:db(n,!1)}):_.jsxs(Cy,{gap:0,children:[_.jsx(oo,{children:db(n,o)}),o&&_.jsxs(oo,{children:[db(n,!1),r&&` = ${r}`]})]})}function Wne({setTemplateRow:e,deleteRow:t,node:s,data:n,api:i,copyRow:o,pasteRow:r}){const l=i==null?void 0:i.getColumnDefs().map(u=>u.field).filter(u=>u&&n[u]).some(u=>u);return _.jsxs(js,{children:[_.jsx(js.Target,{children:_.jsx(rn,{children:"Row Actions"})}),_.jsxs(js.Dropdown,{children:[_.jsx(js.Item,{onClick:()=>e(s.rowIndex),disabled:!l,children:_.jsx(oo,{children:"Set as Template"})}),_.jsx(js.Item,{onClick:()=>t(s.rowIndex),children:_.jsx(oo,{c:"red",children:"Delete Row"})}),_.jsx(js.Item,{onClick:()=>o(s.rowIndex),children:_.jsx(oo,{children:"Copy Row"})}),_.jsx(js.Item,{onClick:()=>r(s.rowIndex),children:_.jsx(oo,{children:"Paste Row"})})]})]})}const Une=e=>({str:e,manual:!0});function jne({value:e,onValueChange:t}){const s=n=>{t([Une(n.target.value)])};return _.jsx(by,{onChange:s})}const $ne=x.forwardRef(({data:e,editingMode:t,processCellCallback:s,children:n,setDataValue:i,onRowSelected:o,onCellClicked:r},l)=>{const{activeCell:u,setActiveCell:d,setTemplateRow:f,deleteRow:g,copyRow:m,pasteRow:C}=x.useContext(PO);return x.useEffect(()=>{const w=y=>{if(t!==ip){switch(y.key){case"a":case"ArrowLeft":d(R=>{const A=yr.findIndex(D=>D.colId===R.colId);return A===-1||A===0||A===$L?R:{...R,colId:yr[A-1].colId}});break;case"d":case"ArrowRight":d(R=>{const A=yr.findIndex(D=>D.colId===R.colId);return A===-1||A===yr.length-1?R:{...R,colId:yr[A+1].colId}});break;case"w":case"ArrowUp":d(R=>R.rowIndex===0?R:{...R,rowIndex:R.rowIndex-1});break;case"s":case"ArrowDown":d(R=>R.rowIndex===e.length-1?R:{...R,rowIndex:R.rowIndex+1})}y.stopImmediatePropagation()}};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[d,e,t]),x.useEffect(()=>{var w,y;(y=(w=l==null?void 0:l.current)==null?void 0:w.api)==null||y.setFocusedCell(u.rowIndex,u.colId)},[l,u]),_.jsx(_.Fragment,{children:_.jsx(Gne,{ref:l,animateRows:!1,onRowSelected:o,rowSelection:{mode:"singleRow"},defaultColDef:{cellRendererParams:{editingMode:t,activeCell:u,setTemplateRow:f,deleteRow:g,copyRow:m,pasteRow:C},cellEditorParams:{editingMode:t,activeCell:u,setTemplateRow:f},cellStyle:{textWrap:"wrap"},editable:t===ip},defaultCsvExportParams:{columnKeys:yr.map(w=>w.colId).filter(w=>w!=="apply-template"),processCellCallback:s},onCellEditingStopped:({newValue:w,node:y,colDef:R})=>{i({rowIndex:y.rowIndex,colId:R.colId,newValue:w})},onCellClicked:r,onRowDataUpdated:w=>console.log(w),rowData:e,columnDefs:yr,onGridReady:()=>{d({rowIndex:0,colId:yr[$L].colId})}})})}),qne=x.forwardRef((e,t)=>_.jsx("div",{ref:t,children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polyline",{points:"5 9 2 12 5 15"}),_.jsx("polyline",{points:"9 5 12 2 15 5"}),_.jsx("polyline",{points:"15 19 12 22 9 19"}),_.jsx("polyline",{points:"19 9 22 12 19 15"}),_.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),_.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"})]})})),Kne=({children:e})=>{const[t,s]=CW(),[n,i]=x.useState({x:0,y:0}),{ref:o}=pW(i),r=x.useRef(null),l=SW();x.useEffect(()=>{const g=o.current;if(!g)return;let m,C;const w=R=>{var A,D;console.log("onMouseDown",R),console.log((D=(A=r.current)==null?void 0:A.getBoundingClientRect)==null?void 0:D.call(A)),m=R.screenX,C=R.screenY,R.stopPropagation()},y=R=>{console.log("onMouseDown",R,m,C)};return g.addEventListener("mouseup",y),g.addEventListener("mousedown",w),()=>{g.removeEventListener("mouseup",y),g.removeEventListener("mousedown",w)}},[o.current]);const[u,{toggle:d}]=Yk(!1),f=u?{width:l.width,height:l.height}:{width:720,height:500};return _.jsx(_.Fragment,{children:_.jsxs(qE,{position:u?{bottom:0,right:0}:{bottom:20,right:20},ref:r,style:{boxShadow:"-2px 2px 5px gray",padding:"5px",backgroundColor:"white",...f},children:[_.jsx(El,{w:"100%",align:"flex-end",justify:"flex-end",p:"xs",children:_.jsx(rn,{onClick:d,style:{},size:"xs",variant:"outline",title:u?"Exit Fullscreen":"Full Screen",children:u?_.jsx(WE,{}):_.jsx(qne,{})})}),_.jsx("div",{ref:t,style:{width:f.width-10,height:f.height-10-220},children:e})]})})},Yne=({api:e})=>{const[t,{open:s,close:n}]=Yk(),[i,o]=x.useState("export.csv"),r=()=>{console.log(i);const l=i.trim().endsWith(".csv")?i:`${i}.csv`;e.exportDataAsCsv({fileName:l}),n()};return _.jsxs(_.Fragment,{children:[_.jsx(fo,{opened:t,onClose:n,title:"Export",children:_.jsxs(Cy,{gap:"sm",children:[_.jsx(by,{label:"Enter a filename for your CSV export",defaultValue:i,onChange:l=>o(l.target.value),error:i===""&&"Filename must not be empty"}),_.jsxs(El,{children:[_.jsx(rn,{onClick:r,children:"Export"}),_.jsx(rn,{onClick:n,variant:"outline",children:"Cancel"})]})]})}),_.jsx(rn,{onClick:s,children:"Export as CSV"})]})},Xne="modulepreload",Qne=function(e){return"/PDFtoCSVWizard/"+e},qL={},qC=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let r=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=r(s.map(d=>{if(d=Qne(d),d in qL)return;qL[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Xne,f||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((C,w)=>{m.addEventListener("load",C),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var gp={};gp.d=(e,t)=>{for(var s in t)gp.o(t,s)&&!gp.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})};gp.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var st=globalThis.pdfjsLib={};gp.d(st,{AbortException:()=>zu,AnnotationEditorLayer:()=>lE,AnnotationEditorParamsType:()=>et,AnnotationEditorType:()=>rt,AnnotationEditorUIManager:()=>Du,AnnotationLayer:()=>Yoe,AnnotationMode:()=>Ka,ColorPicker:()=>yw,DOMSVGFactory:()=>JD,DrawLayer:()=>hE,FeatureTest:()=>Rn,GlobalWorkerOptions:()=>Xr,ImageKind:()=>hb,InvalidPDFException:()=>fH,MissingPDFException:()=>Vu,OPS:()=>Ui,OutputScale:()=>tA,PDFDataRangeTransport:()=>cB,PDFDateString:()=>$D,PDFWorker:()=>oh,PasswordResponses:()=>tie,PermissionFlag:()=>eie,PixelsPerInch:()=>Pl,RenderingCancelledException:()=>UD,TextLayer:()=>FA,UnexpectedResponseException:()=>Iy,Util:()=>Ne,VerbosityLevel:()=>My,XfaLayer:()=>dB,build:()=>Foe,createValidAbsoluteUrl:()=>oie,fetchData:()=>_y,getDocument:()=>woe,getFilenameFromUrl:()=>gie,getPdfFilenameFromUrl:()=>pie,getXfaPageViewport:()=>mie,isDataScheme:()=>Ny,isPdfFile:()=>jD,noContextMenu:()=>Ni,normalizeUnicode:()=>die,setLayerDimensions:()=>Eu,shadow:()=>mt,version:()=>Toe});const cn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),hH=[1,0,0,1,0,0],Qx=[.001,0,0,.001,0,0],Zne=1e7,QR=1.35,ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ka={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Jne="pdfjs_internal_editor_",rt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},eie={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Zs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},hb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ys={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ng={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},My={ERRORS:0,WARNINGS:1,INFOS:5},Ui={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},tie={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ly=My.WARNINGS;function sie(e){Number.isInteger(e)&&(Ly=e)}function nie(){return Ly}function ky(e){Ly>=My.INFOS&&console.log(`Info: ${e}`)}function ct(e){Ly>=My.WARNINGS&&console.log(`Warning: ${e}`)}function Wt(e){throw new Error(e)}function As(e,t){e||Wt(t)}function iie(e){switch(e==null?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oie(e,t=null,s=null){if(!e)return null;try{if(s&&typeof e=="string"){if(s.addDefaultProtocol&&e.startsWith("www.")){const i=e.match(/\./g);(i==null?void 0:i.length)>=2&&(e=`http://${e}`)}if(s.tryConvertEncoding)try{e=uie(e)}catch{}}const n=t?new URL(e,t):new URL(e);if(iie(n))return n}catch{}return null}function mt(e,t,s,n=!1){return Object.defineProperty(e,t,{value:s,enumerable:!n,configurable:!0,writable:!1}),s}const Hl=function(){function t(s,n){this.message=s,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Zx extends Hl{constructor(t,s){super(t,"PasswordException"),this.code=s}}class Jx extends Hl{constructor(t,s){super(t,"UnknownErrorException"),this.details=s}}class fH extends Hl{constructor(t){super(t,"InvalidPDFException")}}class Vu extends Hl{constructor(t){super(t,"MissingPDFException")}}class Iy extends Hl{constructor(t,s){super(t,"UnexpectedResponseException"),this.status=s}}class rie extends Hl{constructor(t){super(t,"FormatError")}}class zu extends Hl{constructor(t){super(t,"AbortException")}}function gH(e){(typeof e!="object"||(e==null?void 0:e.length)===void 0)&&Wt("Invalid argument for bytesToString");const t=e.length,s=8192;if(t<s)return String.fromCharCode.apply(null,e);const n=[];for(let i=0;i<t;i+=s){const o=Math.min(i+s,t),r=e.subarray(i,o);n.push(String.fromCharCode.apply(null,r))}return n.join("")}function Oy(e){typeof e!="string"&&Wt("Invalid argument for stringToBytes");const t=e.length,s=new Uint8Array(t);for(let n=0;n<t;++n)s[n]=e.charCodeAt(n)&255;return s}function aie(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function zD(e){const t=Object.create(null);for(const[s,n]of e)t[s]=n;return t}function lie(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function cie(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return mt(this,"isLittleEndian",lie())}static get isEvalSupported(){return mt(this,"isEvalSupported",cie())}static get isOffscreenCanvasSupported(){return mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?mt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):mt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,s;return mt(this,"isCSSRoundSupported",(s=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:s.call(t,"width: round(1.5px, 1px)"))}}const ZR=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));var sa,fb,eA;class Ne{static makeHexColor(t,s,n){return`#${ZR[t]}${ZR[s]}${ZR[n]}`}static scaleMinMax(t,s){let n;t[0]?(t[0]<0&&(n=s[0],s[0]=s[2],s[2]=n),s[0]*=t[0],s[2]*=t[0],t[3]<0&&(n=s[1],s[1]=s[3],s[3]=n),s[1]*=t[3],s[3]*=t[3]):(n=s[0],s[0]=s[1],s[1]=n,n=s[2],s[2]=s[3],s[3]=n,t[1]<0&&(n=s[1],s[1]=s[3],s[3]=n),s[1]*=t[1],s[3]*=t[1],t[2]<0&&(n=s[0],s[0]=s[2],s[2]=n),s[0]*=t[2],s[2]*=t[2]),s[0]+=t[4],s[1]+=t[5],s[2]+=t[4],s[3]+=t[5]}static transform(t,s){return[t[0]*s[0]+t[2]*s[1],t[1]*s[0]+t[3]*s[1],t[0]*s[2]+t[2]*s[3],t[1]*s[2]+t[3]*s[3],t[0]*s[4]+t[2]*s[5]+t[4],t[1]*s[4]+t[3]*s[5]+t[5]]}static applyTransform(t,s){const n=t[0]*s[0]+t[1]*s[2]+s[4],i=t[0]*s[1]+t[1]*s[3]+s[5];return[n,i]}static applyInverseTransform(t,s){const n=s[0]*s[3]-s[1]*s[2],i=(t[0]*s[3]-t[1]*s[2]+s[2]*s[5]-s[4]*s[3])/n,o=(-t[0]*s[1]+t[1]*s[0]+s[4]*s[1]-s[5]*s[0])/n;return[i,o]}static getAxialAlignedBoundingBox(t,s){const n=this.applyTransform(t,s),i=this.applyTransform(t.slice(2,4),s),o=this.applyTransform([t[0],t[3]],s),r=this.applyTransform([t[2],t[1]],s);return[Math.min(n[0],i[0],o[0],r[0]),Math.min(n[1],i[1],o[1],r[1]),Math.max(n[0],i[0],o[0],r[0]),Math.max(n[1],i[1],o[1],r[1])]}static inverseTransform(t){const s=t[0]*t[3]-t[1]*t[2];return[t[3]/s,-t[1]/s,-t[2]/s,t[0]/s,(t[2]*t[5]-t[4]*t[3])/s,(t[4]*t[1]-t[5]*t[0])/s]}static singularValueDecompose2dScale(t){const s=[t[0],t[2],t[1],t[3]],n=t[0]*s[0]+t[1]*s[2],i=t[0]*s[1]+t[1]*s[3],o=t[2]*s[0]+t[3]*s[2],r=t[2]*s[1]+t[3]*s[3],l=(n+r)/2,u=Math.sqrt((n+r)**2-4*(n*r-o*i))/2,d=l+u||1,f=l-u||1;return[Math.sqrt(d),Math.sqrt(f)]}static normalizeRect(t){const s=t.slice(0);return t[0]>t[2]&&(s[0]=t[2],s[2]=t[0]),t[1]>t[3]&&(s[1]=t[3],s[3]=t[1]),s}static intersect(t,s){const n=Math.max(Math.min(t[0],t[2]),Math.min(s[0],s[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(s[0],s[2]));if(n>i)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(s[1],s[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(s[1],s[3]));return o>r?null:[n,o,i,r]}static bezierBoundingBox(t,s,n,i,o,r,l,u,d){return d?(d[0]=Math.min(d[0],t,l),d[1]=Math.min(d[1],s,u),d[2]=Math.max(d[2],t,l),d[3]=Math.max(d[3],s,u)):d=[Math.min(t,l),Math.min(s,u),Math.max(t,l),Math.max(s,u)],k(this,sa,eA).call(this,t,n,o,l,s,i,r,u,3*(-t+3*(n-o)+l),6*(t-2*n+o),3*(n-t),d),k(this,sa,eA).call(this,t,n,o,l,s,i,r,u,3*(-s+3*(i-r)+u),6*(s-2*i+r),3*(i-s),d),d}}sa=new WeakSet,fb=function(t,s,n,i,o,r,l,u,d,f){if(d<=0||d>=1)return;const g=1-d,m=d*d,C=m*d,w=g*(g*(g*t+3*d*s)+3*m*n)+C*i,y=g*(g*(g*o+3*d*r)+3*m*l)+C*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],y)},eA=function(t,s,n,i,o,r,l,u,d,f,g,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&k(this,sa,fb).call(this,t,s,n,i,o,r,l,u,-g/f,m);return}const C=f**2-4*g*d;if(C<0)return;const w=Math.sqrt(C),y=2*d;k(this,sa,fb).call(this,t,s,n,i,o,r,l,u,(-f+w)/y,m),k(this,sa,fb).call(this,t,s,n,i,o,r,l,u,(-f-w)/y,m)},O(Ne,sa);function uie(e){return decodeURIComponent(escape(e))}let JR=null,KL=null;function die(e){return JR||(JR=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,KL=new Map([["ﬅ","ſt"]])),e.replaceAll(JR,(t,s,n)=>s?s.normalize("NFKC"):KL.get(n))}function hie(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(Math.random()*255);return gH(e)}const WD="pdfjs_internal_id_",br={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function fie(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(gH(e))}const Sr="http://www.w3.org/2000/svg",hc=class hc{};Je(hc,"CSS",96),Je(hc,"PDF",72),Je(hc,"PDF_TO_CSS_UNITS",hc.CSS/hc.PDF);let Pl=hc;async function _y(e,t="text"){if(zg(e,document.baseURI)){const s=await fetch(e);if(!s.ok)throw new Error(s.statusText);switch(t){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,n)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":s(i.response);return}s(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class fv{constructor({viewBox:t,scale:s,rotation:n,offsetX:i=0,offsetY:o=0,dontFlip:r=!1}){this.viewBox=t,this.scale=s,this.rotation=n,this.offsetX=i,this.offsetY=o;const l=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let d,f,g,m;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,f=0,g=0,m=1;break;case 90:d=0,f=1,g=1,m=0;break;case 270:d=0,f=-1,g=-1,m=0;break;case 0:d=1,f=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(g=-g,m=-m);let C,w,y,R;d===0?(C=Math.abs(u-t[1])*s+i,w=Math.abs(l-t[0])*s+o,y=(t[3]-t[1])*s,R=(t[2]-t[0])*s):(C=Math.abs(l-t[0])*s+i,w=Math.abs(u-t[1])*s+o,y=(t[2]-t[0])*s,R=(t[3]-t[1])*s),this.transform=[d*s,f*s,g*s,m*s,C-d*s*l-g*s*u,w-f*s*l-m*s*u],this.width=y,this.height=R}get rawDims(){const{viewBox:t}=this;return mt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:s=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new fv({viewBox:this.viewBox.slice(),scale:t,rotation:s,offsetX:n,offsetY:i,dontFlip:o})}convertToViewportPoint(t,s){return Ne.applyTransform([t,s],this.transform)}convertToViewportRectangle(t){const s=Ne.applyTransform([t[0],t[1]],this.transform),n=Ne.applyTransform([t[2],t[3]],this.transform);return[s[0],s[1],n[0],n[1]]}convertToPdfPoint(t,s){return Ne.applyInverseTransform([t,s],this.transform)}}class UD extends Hl{constructor(t,s=0){super(t,"RenderingCancelledException"),this.extraDelay=s}}function Ny(e){const t=e.length;let s=0;for(;s<t&&e[s].trim()==="";)s++;return e.substring(s,s+5).toLowerCase()==="data:"}function jD(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function gie(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function pie(e,t="document.pdf"){if(typeof e!="string")return t;if(Ny(e))return ct('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=s.exec(e);let o=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||t}class YL{constructor(){Je(this,"started",Object.create(null));Je(this,"times",[])}time(t){t in this.started&&ct(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ct(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let s=0;for(const{name:n}of this.times)s=Math.max(n.length,s);for(const{name:n,start:i,end:o}of this.times)t.push(`${n.padEnd(s)} ${o-i}ms
`);return t.join("")}}function zg(e,t){try{const{protocol:s}=t?new URL(e,t):new URL(e);return s==="http:"||s==="https:"}catch{return!1}}function Ni(e){e.preventDefault()}function XL(e){console.log("Deprecated API usage: "+e)}var Op;class $D{static toDateObject(t){if(!t||typeof t!="string")return null;v(this,Op)||M(this,Op,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const s=v(this,Op).exec(t);if(!s)return null;const n=parseInt(s[1],10);let i=parseInt(s[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(s[3],10);o=o>=1&&o<=31?o:1;let r=parseInt(s[4],10);r=r>=0&&r<=23?r:0;let l=parseInt(s[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(s[6],10);u=u>=0&&u<=59?u:0;const d=s[7]||"Z";let f=parseInt(s[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(s[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(r+=f,l+=g):d==="+"&&(r-=f,l-=g),new Date(Date.UTC(n,i,o,r,l,u))}}Op=new WeakMap,O($D,Op);function mie(e,{scale:t=1,rotation:s=0}){const{width:n,height:i}=e.attributes.style,o=[0,0,parseInt(n),parseInt(i)];return new fv({viewBox:o,scale:t,rotation:s})}function qD(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ct(`Not a valid color format: "${e}"`),[0,0,0])}function vie(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const s of e.keys()){t.style.color=s;const n=window.getComputedStyle(t).color;e.set(s,qD(n))}t.remove()}function Jt(e){const{a:t,b:s,c:n,d:i,e:o,f:r}=e.getTransform();return[t,s,n,i,o,r]}function wr(e){const{a:t,b:s,c:n,d:i,e:o,f:r}=e.getTransform().invertSelf();return[t,s,n,i,o,r]}function Eu(e,t,s=!1,n=!0){if(t instanceof fv){const{pageWidth:i,pageHeight:o}=t.rawDims,{style:r}=e,l=Rn.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${o}px`,f=l?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,g=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!s||t.rotation%180===0?(r.width=f,r.height=g):(r.width=g,r.height=f)}n&&e.setAttribute("data-main-rotation",t.rotation)}class tA{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ya,pc,ji,mc,_p,Np,Rw,pH,xn,mH,vH,gb,CH,nA;const Rr=class Rr{constructor(t){O(this,xn);O(this,Ya,null);O(this,pc,null);O(this,ji);O(this,mc,null);O(this,_p,null);M(this,ji,t),v(Rr,Np)||M(Rr,Np,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=M(this,Ya,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const s=v(this,ji)._uiManager._signal;t.addEventListener("contextmenu",Ni,{signal:s}),t.addEventListener("pointerdown",k(Rr,Rw,pH),{signal:s});const n=M(this,mc,document.createElement("div"));n.className="buttons",t.append(n);const i=v(this,ji).toolbarPosition;if(i){const{style:o}=t,r=v(this,ji)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return k(this,xn,CH).call(this),t}get div(){return v(this,Ya)}hide(){var t;v(this,Ya).classList.add("hidden"),(t=v(this,pc))==null||t.hideDropdown()}show(){var t;v(this,Ya).classList.remove("hidden"),(t=v(this,_p))==null||t.shown()}async addAltText(t){const s=await t.render();k(this,xn,gb).call(this,s),v(this,mc).prepend(s,v(this,xn,nA)),M(this,_p,t)}addColorPicker(t){M(this,pc,t);const s=t.renderButton();k(this,xn,gb).call(this,s),v(this,mc).prepend(s,v(this,xn,nA))}remove(){var t;v(this,Ya).remove(),(t=v(this,pc))==null||t.destroy(),M(this,pc,null)}};Ya=new WeakMap,pc=new WeakMap,ji=new WeakMap,mc=new WeakMap,_p=new WeakMap,Np=new WeakMap,Rw=new WeakSet,pH=function(t){t.stopPropagation()},xn=new WeakSet,mH=function(t){v(this,ji)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},vH=function(t){v(this,ji)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},gb=function(t){const s=v(this,ji)._uiManager._signal;t.addEventListener("focusin",k(this,xn,mH).bind(this),{capture:!0,signal:s}),t.addEventListener("focusout",k(this,xn,vH).bind(this),{capture:!0,signal:s}),t.addEventListener("contextmenu",Ni,{signal:s})},CH=function(){const{editorType:t,_uiManager:s}=v(this,ji),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",v(Rr,Np)[t]),k(this,xn,gb).call(this,n),n.addEventListener("click",i=>{s.delete()},{signal:s._signal}),v(this,mc).append(n)},nA=function(){const t=document.createElement("div");return t.className="divider",t},O(Rr,Rw),O(Rr,Np,null);let sA=Rr;var Hp,vc,Cc,Ll,bH,wH,yH;class Cie{constructor(t){O(this,Ll);O(this,Hp,null);O(this,vc,null);O(this,Cc);M(this,Cc,t)}show(t,s,n){const[i,o]=k(this,Ll,wH).call(this,s,n),{style:r}=v(this,vc)||M(this,vc,k(this,Ll,bH).call(this));t.append(v(this,vc)),r.insetInlineEnd=`${100*i}%`,r.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){v(this,vc).remove()}}Hp=new WeakMap,vc=new WeakMap,Cc=new WeakMap,Ll=new WeakSet,bH=function(){const t=M(this,vc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ni,{signal:v(this,Cc)._signal});const s=M(this,Hp,document.createElement("div"));return s.className="buttons",t.append(s),k(this,Ll,yH).call(this),t},wH=function(t,s){let n=0,i=0;for(const o of t){const r=o.y+o.height;if(r<n)continue;const l=o.x+(s?o.width:0);if(r>n){i=l,n=r;continue}s?l>i&&(i=l):l<i&&(i=l)}return[s?1-i:i,n]},yH=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");t.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=v(this,Cc)._signal;t.addEventListener("contextmenu",Ni,{signal:n}),t.addEventListener("click",()=>{v(this,Cc).highlightSelection("floating_button")},{signal:n}),v(this,Hp).append(t)};function Cw(e,t,s){for(const n of s)t.addEventListener(n,e[n].bind(e))}function bie(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var xw;class wie{constructor(){O(this,xw,0)}get id(){return`${Jne}${gn(this,xw)._++}`}}xw=new WeakMap;var lh,Bp,en,ch,pb;const sT=class sT{constructor(){O(this,ch);O(this,lh,hie());O(this,Bp,0);O(this,en,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const o=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return mt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:s,name:n,size:i,type:o}=t;return k(this,ch,pb).call(this,`${s}_${n}_${i}_${o}`,t)}async getFromUrl(t){return k(this,ch,pb).call(this,t,t)}async getFromBlob(t,s){const n=await s;return k(this,ch,pb).call(this,t,n)}async getFromId(t){v(this,en)||M(this,en,new Map);const s=v(this,en).get(t);if(!s)return null;if(s.bitmap)return s.refCounter+=1,s;if(s.file)return this.getFromFile(s.file);if(s.blobPromise){const{blobPromise:n}=s;return delete s.blobPromise,this.getFromBlob(s.id,n)}return this.getFromUrl(s.url)}getFromCanvas(t,s){v(this,en)||M(this,en,new Map);let n=v(this,en).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(s.width,s.height);return i.getContext("2d").drawImage(s,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${v(this,lh)}_${gn(this,Bp)._++}`,refCounter:1,isSvg:!1},v(this,en).set(t,n),v(this,en).set(n.id,n),n}getSvgUrl(t){const s=v(this,en).get(t);return s!=null&&s.isSvg?s.svgUrl:null}deleteId(t){var i;v(this,en)||M(this,en,new Map);const s=v(this,en).get(t);if(!s||(s.refCounter-=1,s.refCounter!==0))return;const{bitmap:n}=s;if(!s.url&&!s.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),s.blobPromise=o.convertToBlob()}(i=n.close)==null||i.call(n),s.bitmap=null}isValidId(t){return t.startsWith(`image_${v(this,lh)}_`)}};lh=new WeakMap,Bp=new WeakMap,en=new WeakMap,ch=new WeakSet,pb=async function(t,s){v(this,en)||M(this,en,new Map);let n=v(this,en).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${v(this,lh)}_${gn(this,Bp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof s=="string"?(n.url=s,i=await _y(s,"blob")):s instanceof File?i=n.file=s:s instanceof Blob&&(i=s),i.type==="image/svg+xml"){const o=sT._isSVGFittingCanvas,r=new FileReader,l=new Image,u=new Promise((d,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},r.onload=async()=>{const g=n.svgUrl=r.result;l.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},l.onerror=r.onerror=f});r.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return v(this,en).set(t,n),n&&v(this,en).set(n.id,n),n};let iA=sT;var ks,Xa,Gp,Is;class yie{constructor(t=128){O(this,ks,[]);O(this,Xa,!1);O(this,Gp);O(this,Is,-1);M(this,Gp,t)}add({cmd:t,undo:s,post:n,mustExec:i,type:o=NaN,overwriteIfSameType:r=!1,keepUndo:l=!1}){if(i&&t(),v(this,Xa))return;const u={cmd:t,undo:s,post:n,type:o};if(v(this,Is)===-1){v(this,ks).length>0&&(v(this,ks).length=0),M(this,Is,0),v(this,ks).push(u);return}if(r&&v(this,ks)[v(this,Is)].type===o){l&&(u.undo=v(this,ks)[v(this,Is)].undo),v(this,ks)[v(this,Is)]=u;return}const d=v(this,Is)+1;d===v(this,Gp)?v(this,ks).splice(0,1):(M(this,Is,d),d<v(this,ks).length&&v(this,ks).splice(d)),v(this,ks).push(u)}undo(){if(v(this,Is)===-1)return;M(this,Xa,!0);const{undo:t,post:s}=v(this,ks)[v(this,Is)];t(),s==null||s(),M(this,Xa,!1),M(this,Is,v(this,Is)-1)}redo(){if(v(this,Is)<v(this,ks).length-1){M(this,Is,v(this,Is)+1),M(this,Xa,!0);const{cmd:t,post:s}=v(this,ks)[v(this,Is)];t(),s==null||s(),M(this,Xa,!1)}}hasSomethingToUndo(){return v(this,Is)!==-1}hasSomethingToRedo(){return v(this,Is)<v(this,ks).length-1}destroy(){M(this,ks,null)}}ks=new WeakMap,Xa=new WeakMap,Gp=new WeakMap,Is=new WeakMap;var Aw,SH;class gv{constructor(t){O(this,Aw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=Rn.platform;for(const[n,i,o={}]of t)for(const r of n){const l=r.startsWith("mac+");s&&l?(this.callbacks.set(r.slice(4),{callback:i,options:o}),this.allKeys.add(r.split("+").at(-1))):!s&&!l&&(this.callbacks.set(r,{callback:i,options:o}),this.allKeys.add(r.split("+").at(-1)))}}exec(t,s){if(!this.allKeys.has(s.key))return;const n=this.callbacks.get(k(this,Aw,SH).call(this,s));if(!n)return;const{callback:i,options:{bubbles:o=!1,args:r=[],checker:l=null}}=n;l&&!l(t,s)||(i.bind(t,...r,s)(),o||(s.stopPropagation(),s.preventDefault()))}}Aw=new WeakSet,SH=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const s=this.buffer.join("+");return this.buffer.length=0,s};const Ew=class Ew{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return vie(t),mt(this,"_colors",t)}convert(t){const s=qD(t);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[n,i]of this._colors)if(i.every((o,r)=>o===s[r]))return Ew._colorsMapping.get(n);return s}getHexCode(t){const s=this._colors.get(t);return s?Ne.makeHexColor(...s):t}};Je(Ew,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let oA=Ew;var uh,Xn,Ss,zs,dh,Er,hh,$i,Qa,fh,bc,Eo,qi,wc,Vp,zp,gh,Wp,Do,Za,ph,Ja,To,Dw,el,Up,tl,yc,jp,$p,Os,Ft,Dr,Sc,qp,Kp,sl,Fo,Tr,Yp,xi,Fe,mb,rA,RH,xH,vb,AH,EH,DH,aA,TH,lA,cA,FH,mn,Wa,PH,MH,uA,LH,Wg,dA;const $d=class $d{constructor(t,s,n,i,o,r,l,u,d,f,g){O(this,Fe);O(this,uh,new AbortController);O(this,Xn,null);O(this,Ss,new Map);O(this,zs,new Map);O(this,dh,null);O(this,Er,null);O(this,hh,null);O(this,$i,new yie);O(this,Qa,null);O(this,fh,0);O(this,bc,new Set);O(this,Eo,null);O(this,qi,null);O(this,wc,new Set);O(this,Vp,!1);O(this,zp,!1);O(this,gh,!1);O(this,Wp,null);O(this,Do,null);O(this,Za,null);O(this,ph,null);O(this,Ja,!1);O(this,To,null);O(this,Dw,new wie);O(this,el,!1);O(this,Up,!1);O(this,tl,null);O(this,yc,null);O(this,jp,null);O(this,$p,null);O(this,Os,rt.NONE);O(this,Ft,new Set);O(this,Dr,null);O(this,Sc,null);O(this,qp,null);O(this,Kp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,sl,[0,0]);O(this,Fo,null);O(this,Tr,null);O(this,Yp,null);O(this,xi,null);const m=this._signal=v(this,uh).signal;M(this,Tr,t),M(this,Yp,s),M(this,dh,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:m}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),i._on("setpreference",this.onSetPreference.bind(this),{signal:m}),i._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:m}),k(this,Fe,AH).call(this),k(this,Fe,FH).call(this),k(this,Fe,aA).call(this),M(this,Er,o.annotationStorage),M(this,Wp,o.filterFactory),M(this,Sc,r),M(this,ph,l||null),M(this,Vp,u),M(this,zp,d),M(this,gh,f),M(this,$p,g||null),this.viewParameters={realScale:Pl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=$d.prototype,s=r=>v(r,Tr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),n=(r,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return mt(this,"_keyboardManager",new gv([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&v(r,Tr).contains(l)&&!r.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&v(r,Tr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:s}]]))}destroy(){var t,s,n,i;(t=v(this,xi))==null||t.resolve(),M(this,xi,null),(s=v(this,uh))==null||s.abort(),M(this,uh,null),this._signal=null;for(const o of v(this,zs).values())o.destroy();v(this,zs).clear(),v(this,Ss).clear(),v(this,wc).clear(),M(this,Xn,null),v(this,Ft).clear(),v(this,$i).destroy(),(n=v(this,dh))==null||n.destroy(),(i=v(this,To))==null||i.hide(),M(this,To,null),v(this,Do)&&(clearTimeout(v(this,Do)),M(this,Do,null)),v(this,Fo)&&(clearTimeout(v(this,Fo)),M(this,Fo,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return v(this,$p)}get useNewAltTextFlow(){return v(this,zp)}get useNewAltTextWhenAddingImage(){return v(this,gh)}get hcmFilter(){return mt(this,"hcmFilter",v(this,Sc)?v(this,Wp).addHCMFilter(v(this,Sc).foreground,v(this,Sc).background):"none")}get direction(){return mt(this,"direction",getComputedStyle(v(this,Tr)).direction)}get highlightColors(){return mt(this,"highlightColors",v(this,ph)?new Map(v(this,ph).split(",").map(t=>t.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){M(this,jp,t)}editAltText(t,s=!1){var n;(n=v(this,dh))==null||n.editAltText(this,t,s)}switchToMode(t,s){this._eventBus.on("annotationeditormodechanged",s,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,s){this._eventBus.dispatch("setpreference",{source:this,name:t,value:s})}onSetPreference({name:t,value:s}){switch(t){case"enableNewAltTextWhenAddingImage":M(this,gh,s);break}}onPageChanging({pageNumber:t}){M(this,fh,t-1)}focusMainContainer(){v(this,Tr).focus()}findParent(t,s){for(const n of v(this,zs).values()){const{x:i,y:o,width:r,height:l}=n.div.getBoundingClientRect();if(t>=i&&t<=i+r&&s>=o&&s<=o+l)return n}return null}disableUserSelect(t=!1){v(this,Yp).classList.toggle("noUserSelect",t)}addShouldRescale(t){v(this,wc).add(t)}removeShouldRescale(t){v(this,wc).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Pl.PDF_TO_CSS_UNITS;for(const s of v(this,wc))s.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:r}=s,l=s.toString(),d=k(this,Fe,mb).call(this,s).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;s.empty();const g=k(this,Fe,rA).call(this,d),m=v(this,Os)===rt.NONE,C=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:r,text:l}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(rt.HIGHLIGHT,C);return}C()}addToAnnotationStorage(t){!t.isEmpty()&&v(this,Er)&&!v(this,Er).has(t.id)&&v(this,Er).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,v(this,Ja)&&(M(this,Ja,!1),k(this,Fe,vb).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const s of v(this,Ft))if(s.div.contains(t)){M(this,yc,[s,t]),s._focusEventsAllowed=!1;break}}focus(){if(!v(this,yc))return;const[t,s]=v(this,yc);M(this,yc,null),s.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}addEditListeners(){k(this,Fe,aA).call(this),k(this,Fe,lA).call(this)}removeEditListeners(){k(this,Fe,TH).call(this),k(this,Fe,cA).call(this)}dragOver(t){for(const{type:s}of t.dataTransfer.items)for(const n of v(this,qi))if(n.isHandlingMimeForPasting(s)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const s of t.dataTransfer.items)for(const n of v(this,qi))if(n.isHandlingMimeForPasting(s.type)){n.paste(s,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=v(this,Xn))==null||n.commitOrRemove(),!this.hasSelection)return;const s=[];for(const i of v(this,Ft)){const o=i.serialize(!0);o&&s.push(o)}s.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:s}=t;for(const o of s.items)for(const r of v(this,qi))if(r.isHandlingMimeForPasting(o.type)){r.paste(o,this.currentLayer);return}let n=s.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){ct(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const u of n){const d=await i.deserialize(u);if(!d)return;o.push(d)}const r=()=>{for(const u of o)k(this,Fe,uA).call(this,u);k(this,Fe,dA).call(this,o)},l=()=>{for(const u of o)u.remove()};this.addCommands({cmd:r,undo:l,mustExec:!0})}catch(o){ct(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),v(this,Os)!==rt.NONE&&!this.isEditorHandlingKeyboard&&$d._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,v(this,Ja)&&(M(this,Ja,!1),k(this,Fe,vb).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(k(this,Fe,EH).call(this),k(this,Fe,lA).call(this),k(this,Fe,mn).call(this,{isEditing:v(this,Os)!==rt.NONE,isEmpty:k(this,Fe,Wg).call(this),hasSomethingToUndo:v(this,$i).hasSomethingToUndo(),hasSomethingToRedo:v(this,$i).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,Fe,DH).call(this),k(this,Fe,cA).call(this),k(this,Fe,mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!v(this,qi)){M(this,qi,t);for(const s of v(this,qi))k(this,Fe,Wa).call(this,s.defaultPropertiesToUpdate)}}getId(){return v(this,Dw).id}get currentLayer(){return v(this,zs).get(v(this,fh))}getLayer(t){return v(this,zs).get(t)}get currentPageIndex(){return v(this,fh)}addLayer(t){v(this,zs).set(t.pageIndex,t),v(this,el)?t.enable():t.disable()}removeLayer(t){v(this,zs).delete(t.pageIndex)}async updateMode(t,s=null,n=!1){if(v(this,Os)!==t&&!(v(this,xi)&&(await v(this,xi).promise,!v(this,xi)))){if(M(this,xi,Promise.withResolvers()),M(this,Os,t),t===rt.NONE){this.setEditingState(!1),k(this,Fe,MH).call(this),v(this,xi).resolve();return}this.setEditingState(!0),await k(this,Fe,PH).call(this),this.unselectAll();for(const i of v(this,zs).values())i.updateMode(t);if(!s){n&&this.addNewEditorFromKeyboard(),v(this,xi).resolve();return}for(const i of v(this,Ss).values())i.annotationElementId===s?(this.setSelected(i),i.enterInEditMode()):i.unselect();v(this,xi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==v(this,Os)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,s){var n;if(v(this,qi)){switch(t){case et.CREATE:this.currentLayer.addNewEditor();return;case et.HIGHLIGHT_DEFAULT_COLOR:(n=v(this,jp))==null||n.updateColor(s);break;case et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(v(this,qp)||M(this,qp,new Map)).set(t,s),this.showAllEditors("highlight",s);break}for(const i of v(this,Ft))i.updateParams(t,s);for(const i of v(this,qi))i.updateDefaultParams(t,s)}}showAllEditors(t,s,n=!1){var o;for(const r of v(this,Ss).values())r.editorType===t&&r.show(s);(((o=v(this,qp))==null?void 0:o.get(et.HIGHLIGHT_SHOW_ALL))??!0)!==s&&k(this,Fe,Wa).call(this,[[et.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(t=!1){if(v(this,Up)!==t){M(this,Up,t);for(const s of v(this,zs).values())t?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",t)}}getEditors(t){const s=[];for(const n of v(this,Ss).values())n.pageIndex===t&&s.push(n);return s}getEditor(t){return v(this,Ss).get(t)}addEditor(t){v(this,Ss).set(t.id,t)}removeEditor(t){var s;t.div.contains(document.activeElement)&&(v(this,Do)&&clearTimeout(v(this,Do)),M(this,Do,setTimeout(()=>{this.focusMainContainer(),M(this,Do,null)},0))),v(this,Ss).delete(t.id),this.unselect(t),(!t.annotationElementId||!v(this,bc).has(t.annotationElementId))&&((s=v(this,Er))==null||s.remove(t.id))}addDeletedAnnotationElement(t){v(this,bc).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return v(this,bc).has(t)}removeDeletedAnnotationElement(t){v(this,bc).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){v(this,Xn)!==t&&(M(this,Xn,t),t&&k(this,Fe,Wa).call(this,t.propertiesToUpdate))}updateUI(t){v(this,Fe,LH)===t&&k(this,Fe,Wa).call(this,t.propertiesToUpdate)}toggleSelected(t){if(v(this,Ft).has(t)){v(this,Ft).delete(t),t.unselect(),k(this,Fe,mn).call(this,{hasSelectedEditor:this.hasSelection});return}v(this,Ft).add(t),t.select(),k(this,Fe,Wa).call(this,t.propertiesToUpdate),k(this,Fe,mn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const s of v(this,Ft))s!==t&&s.unselect();v(this,Ft).clear(),v(this,Ft).add(t),t.select(),k(this,Fe,Wa).call(this,t.propertiesToUpdate),k(this,Fe,mn).call(this,{hasSelectedEditor:!0})}isSelected(t){return v(this,Ft).has(t)}get firstSelectedEditor(){return v(this,Ft).values().next().value}unselect(t){t.unselect(),v(this,Ft).delete(t),k(this,Fe,mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return v(this,Ft).size!==0}get isEnterHandled(){return v(this,Ft).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){v(this,$i).undo(),k(this,Fe,mn).call(this,{hasSomethingToUndo:v(this,$i).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,Fe,Wg).call(this)})}redo(){v(this,$i).redo(),k(this,Fe,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:v(this,$i).hasSomethingToRedo(),isEmpty:k(this,Fe,Wg).call(this)})}addCommands(t){v(this,$i).add(t),k(this,Fe,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,Fe,Wg).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...v(this,Ft)],s=()=>{for(const i of t)i.remove()},n=()=>{for(const i of t)k(this,Fe,uA).call(this,i)};this.addCommands({cmd:s,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=v(this,Xn))==null||t.commitOrRemove()}hasSomethingToControl(){return v(this,Xn)||this.hasSelection}selectAll(){for(const t of v(this,Ft))t.commit();k(this,Fe,dA).call(this,v(this,Ss).values())}unselectAll(){if(!(v(this,Xn)&&(v(this,Xn).commitOrRemove(),v(this,Os)!==rt.NONE))&&this.hasSelection){for(const t of v(this,Ft))t.unselect();v(this,Ft).clear(),k(this,Fe,mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,s,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;v(this,sl)[0]+=t,v(this,sl)[1]+=s;const[i,o]=v(this,sl),r=[...v(this,Ft)],l=1e3;v(this,Fo)&&clearTimeout(v(this,Fo)),M(this,Fo,setTimeout(()=>{M(this,Fo,null),v(this,sl)[0]=v(this,sl)[1]=0,this.addCommands({cmd:()=>{for(const u of r)v(this,Ss).has(u.id)&&u.translateInPage(i,o)},undo:()=>{for(const u of r)v(this,Ss).has(u.id)&&u.translateInPage(-i,-o)},mustExec:!1})},l));for(const u of r)u.translateInPage(t,s)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,Eo,new Map);for(const t of v(this,Ft))v(this,Eo).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!v(this,Eo))return!1;this.disableUserSelect(!1);const t=v(this,Eo);M(this,Eo,null);let s=!1;for(const[{x:i,y:o,pageIndex:r},l]of t)l.newX=i,l.newY=o,l.newPageIndex=r,s||(s=i!==l.savedX||o!==l.savedY||r!==l.savedPageIndex);if(!s)return!1;const n=(i,o,r,l)=>{if(v(this,Ss).has(i.id)){const u=v(this,zs).get(l);u?i._setParentAndPosition(u,o,r):(i.pageIndex=l,i.x=o,i.y=r)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:r,newPageIndex:l}]of t)n(i,o,r,l)},undo:()=>{for(const[i,{savedX:o,savedY:r,savedPageIndex:l}]of t)n(i,o,r,l)},mustExec:!0}),!0}dragSelectedEditors(t,s){if(v(this,Eo))for(const n of v(this,Eo).keys())n.drag(t,s)}rebuild(t){if(t.parent===null){const s=this.getLayer(t.pageIndex);s?(s.changeParent(t),s.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||v(this,Ft).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return v(this,Xn)===t}getActive(){return v(this,Xn)}getMode(){return v(this,Os)}get imageManager(){return mt(this,"imageManager",new iA)}getSelectionBoxes(t){if(!t)return null;const s=document.getSelection();for(let d=0,f=s.rangeCount;d<f;d++)if(!t.contains(s.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:o,height:r}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(d,f,g,m)=>({x:(f-i)/r,y:1-(d+g-n)/o,width:m/r,height:g/o});break;case"180":l=(d,f,g,m)=>({x:1-(d+g-n)/o,y:1-(f+m-i)/r,width:g/o,height:m/r});break;case"270":l=(d,f,g,m)=>({x:1-(f+m-i)/r,y:(d-n)/o,width:m/r,height:g/o});break;default:l=(d,f,g,m)=>({x:(d-n)/o,y:(f-i)/r,width:g/o,height:m/r});break}const u=[];for(let d=0,f=s.rangeCount;d<f;d++){const g=s.getRangeAt(d);if(!g.collapsed)for(const{x:m,y:C,width:w,height:y}of g.getClientRects())w===0||y===0||u.push(l(m,C,w,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:s}){(v(this,hh)||M(this,hh,new Map)).set(t,s)}removeChangedExistingAnnotation({annotationElementId:t}){var s;(s=v(this,hh))==null||s.delete(t)}renderAnnotationElement(t){var i;const s=(i=v(this,hh))==null?void 0:i.get(t.data.id);if(!s)return;const n=v(this,Er).getRawValue(s);n&&(v(this,Os)===rt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};uh=new WeakMap,Xn=new WeakMap,Ss=new WeakMap,zs=new WeakMap,dh=new WeakMap,Er=new WeakMap,hh=new WeakMap,$i=new WeakMap,Qa=new WeakMap,fh=new WeakMap,bc=new WeakMap,Eo=new WeakMap,qi=new WeakMap,wc=new WeakMap,Vp=new WeakMap,zp=new WeakMap,gh=new WeakMap,Wp=new WeakMap,Do=new WeakMap,Za=new WeakMap,ph=new WeakMap,Ja=new WeakMap,To=new WeakMap,Dw=new WeakMap,el=new WeakMap,Up=new WeakMap,tl=new WeakMap,yc=new WeakMap,jp=new WeakMap,$p=new WeakMap,Os=new WeakMap,Ft=new WeakMap,Dr=new WeakMap,Sc=new WeakMap,qp=new WeakMap,Kp=new WeakMap,sl=new WeakMap,Fo=new WeakMap,Tr=new WeakMap,Yp=new WeakMap,xi=new WeakMap,Fe=new WeakSet,mb=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},rA=function(t){const{currentLayer:s}=this;if(s.hasTextLayer(t))return s;for(const n of v(this,zs).values())if(n.hasTextLayer(t))return n;return null},RH=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=k(this,Fe,mb).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(v(this,To)||M(this,To,new Cie(this)),v(this,To).show(n,i,this.direction==="ltr"))},xH=function(){var o,r,l;const t=document.getSelection();if(!t||t.isCollapsed){v(this,Dr)&&((o=v(this,To))==null||o.hide(),M(this,Dr,null),k(this,Fe,mn).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=t;if(s===v(this,Dr))return;const i=k(this,Fe,mb).call(this,t).closest(".textLayer");if(!i){v(this,Dr)&&((r=v(this,To))==null||r.hide(),M(this,Dr,null),k(this,Fe,mn).call(this,{hasSelectedText:!1}));return}if((l=v(this,To))==null||l.hide(),M(this,Dr,s),k(this,Fe,mn).call(this,{hasSelectedText:!0}),!(v(this,Os)!==rt.HIGHLIGHT&&v(this,Os)!==rt.NONE)&&(v(this,Os)===rt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,Ja,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=v(this,Os)===rt.HIGHLIGHT?k(this,Fe,rA).call(this,i):null;u==null||u.toggleDrawing();const d=new AbortController,f=this.combinedSignal(d),g=m=>{m.type==="pointerup"&&m.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),m.type==="pointerup"&&k(this,Fe,vb).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("blur",g,{signal:f})}},vb=function(t=""){v(this,Os)===rt.HIGHLIGHT?this.highlightSelection(t):v(this,Vp)&&k(this,Fe,RH).call(this)},AH=function(){document.addEventListener("selectionchange",k(this,Fe,xH).bind(this),{signal:this._signal})},EH=function(){if(v(this,Za))return;M(this,Za,new AbortController);const t=this.combinedSignal(v(this,Za));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},DH=function(){var t;(t=v(this,Za))==null||t.abort(),M(this,Za,null)},aA=function(){if(v(this,tl))return;M(this,tl,new AbortController);const t=this.combinedSignal(v(this,tl));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},TH=function(){var t;(t=v(this,tl))==null||t.abort(),M(this,tl,null)},lA=function(){if(v(this,Qa))return;M(this,Qa,new AbortController);const t=this.combinedSignal(v(this,Qa));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},cA=function(){var t;(t=v(this,Qa))==null||t.abort(),M(this,Qa,null)},FH=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},mn=function(t){Object.entries(t).some(([n,i])=>v(this,Kp)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(v(this,Kp),t)}),v(this,Os)===rt.HIGHLIGHT&&t.hasSelectedEditor===!1&&k(this,Fe,Wa).call(this,[[et.HIGHLIGHT_FREE,!0]]))},Wa=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},PH=async function(){if(!v(this,el)){M(this,el,!0);const t=[];for(const s of v(this,zs).values())t.push(s.enable());await Promise.all(t);for(const s of v(this,Ss).values())s.enable()}},MH=function(){if(this.unselectAll(),v(this,el)){M(this,el,!1);for(const t of v(this,zs).values())t.disable();for(const t of v(this,Ss).values())t.disable()}},uA=function(t){const s=v(this,zs).get(t.pageIndex);s?s.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},LH=function(){let t=null;for(t of v(this,Ft));return t},Wg=function(){if(v(this,Ss).size===0)return!0;if(v(this,Ss).size===1)for(const t of v(this,Ss).values())return t.isEmpty();return!1},dA=function(t){for(const s of v(this,Ft))s.unselect();v(this,Ft).clear();for(const s of t)s.isEmpty()||(v(this,Ft).add(s),s.select());k(this,Fe,mn).call(this,{hasSelectedEditor:this.hasSelection})},Je($d,"TRANSLATE_SMALL",1),Je($d,"TRANSLATE_BIG",10);let Du=$d;var _s,Po,Ki,mh,Mo,Qn,vh,Lo,On,Fr,Rc,ko,nl,ao,Ug,Cb;const vn=class vn{constructor(t){O(this,ao);O(this,_s,null);O(this,Po,!1);O(this,Ki,null);O(this,mh,null);O(this,Mo,null);O(this,Qn,null);O(this,vh,!1);O(this,Lo,null);O(this,On,null);O(this,Fr,null);O(this,Rc,null);O(this,ko,!1);M(this,On,t),M(this,ko,t._uiManager.useNewAltTextFlow),v(vn,nl)||M(vn,nl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){vn._l10n??(vn._l10n=t)}async render(){const t=M(this,Ki,document.createElement("button"));t.className="altText",t.tabIndex="0";const s=M(this,mh,document.createElement("span"));t.append(s),v(this,ko)?(t.classList.add("new"),t.setAttribute("data-l10n-id",v(vn,nl).missing),s.setAttribute("data-l10n-id",v(vn,nl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=v(this,On)._uiManager._signal;t.addEventListener("contextmenu",Ni,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const i=o=>{o.preventDefault(),v(this,On)._uiManager.editAltText(v(this,On)),v(this,ko)&&v(this,On)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:v(this,ao,Ug)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(M(this,vh,!0),i(o))},{signal:n}),await k(this,ao,Cb).call(this),t}finish(){v(this,Ki)&&(v(this,Ki).focus({focusVisible:v(this,vh)}),M(this,vh,!1))}isEmpty(){return v(this,ko)?v(this,_s)===null:!v(this,_s)&&!v(this,Po)}hasData(){return v(this,ko)?v(this,_s)!==null||!!v(this,Fr):this.isEmpty()}get guessedText(){return v(this,Fr)}async setGuessedText(t){v(this,_s)===null&&(M(this,Fr,t),M(this,Rc,await vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),k(this,ao,Cb).call(this))}toggleAltTextBadge(t=!1){var s;if(!v(this,ko)||v(this,_s)){(s=v(this,Lo))==null||s.remove(),M(this,Lo,null);return}if(!v(this,Lo)){const n=M(this,Lo,document.createElement("div"));n.className="noAltTextBadge",v(this,On).div.append(n)}v(this,Lo).classList.toggle("hidden",!t)}serialize(t){let s=v(this,_s);return!t&&v(this,Fr)===s&&(s=v(this,Rc)),{altText:s,decorative:v(this,Po),guessedText:v(this,Fr),textWithDisclaimer:v(this,Rc)}}get data(){return{altText:v(this,_s),decorative:v(this,Po)}}set data({altText:t,decorative:s,guessedText:n,textWithDisclaimer:i,cancel:o=!1}){n&&(M(this,Fr,n),M(this,Rc,i)),!(v(this,_s)===t&&v(this,Po)===s)&&(o||(M(this,_s,t),M(this,Po,s)),k(this,ao,Cb).call(this))}toggle(t=!1){v(this,Ki)&&(!t&&v(this,Qn)&&(clearTimeout(v(this,Qn)),M(this,Qn,null)),v(this,Ki).disabled=!t)}shown(){v(this,On)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:v(this,ao,Ug)}})}destroy(){var t,s;(t=v(this,Ki))==null||t.remove(),M(this,Ki,null),M(this,mh,null),M(this,Mo,null),(s=v(this,Lo))==null||s.remove(),M(this,Lo,null)}};_s=new WeakMap,Po=new WeakMap,Ki=new WeakMap,mh=new WeakMap,Mo=new WeakMap,Qn=new WeakMap,vh=new WeakMap,Lo=new WeakMap,On=new WeakMap,Fr=new WeakMap,Rc=new WeakMap,ko=new WeakMap,nl=new WeakMap,ao=new WeakSet,Ug=function(){return v(this,_s)&&"added"||v(this,_s)===null&&this.guessedText&&"review"||"missing"},Cb=async function(){var i,o,r;const t=v(this,Ki);if(!t)return;if(v(this,ko)){if(t.classList.toggle("done",!!v(this,_s)),t.setAttribute("data-l10n-id",v(vn,nl)[v(this,ao,Ug)]),(i=v(this,mh))==null||i.setAttribute("data-l10n-id",v(vn,nl)[`${v(this,ao,Ug)}-label`]),!v(this,_s)){(o=v(this,Mo))==null||o.remove();return}}else{if(!v(this,_s)&&!v(this,Po)){t.classList.remove("done"),(r=v(this,Mo))==null||r.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=v(this,Mo);if(!s){M(this,Mo,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id=`alt-text-tooltip-${v(this,On).id}`;const l=100,u=v(this,On)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(v(this,Qn)),M(this,Qn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{M(this,Qn,setTimeout(()=>{M(this,Qn,null),v(this,Mo).classList.add("show"),v(this,On)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;v(this,Qn)&&(clearTimeout(v(this,Qn)),M(this,Qn,null)),(d=v(this,Mo))==null||d.classList.remove("show")},{signal:u})}v(this,Po)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=v(this,_s)),s.parentNode||t.append(s);const n=v(this,On).getImageForAltText();n==null||n.setAttribute("aria-describedby",s.id)},O(vn,nl,null),Je(vn,"_l10n",null);let bw=vn;var xc,Yi,Qt,Ch,Ac,Ws,Ec,il,Xp,Dc,ol,Qp,Tc,Pr,Io,bh,wh,Ai,Zp,Tw,at,hA,Jp,fA,gA,kH,IH,pA,mA,vA,OH,CA,_H,NH,HH,bA,jg;const Rt=class Rt{constructor(t){O(this,at);O(this,xc,null);O(this,Yi,null);O(this,Qt,null);O(this,Ch,!1);O(this,Ac,!1);O(this,Ws,null);O(this,Ec,null);O(this,il,null);O(this,Xp,"");O(this,Dc,!1);O(this,ol,null);O(this,Qp,!1);O(this,Tc,!1);O(this,Pr,!1);O(this,Io,null);O(this,bh,0);O(this,wh,0);O(this,Ai,null);Je(this,"_editToolbar",null);Je(this,"_initialOptions",Object.create(null));Je(this,"_initialData",null);Je(this,"_isVisible",!0);Je(this,"_uiManager",null);Je(this,"_focusEventsAllowed",!0);O(this,Zp,!1);O(this,Tw,Rt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:r}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[o,r];const[l,u]=this.parentDimensions;this.x=t.x/l,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Rt.prototype._resizeWithKeyboard,s=Du.TRANSLATE_SMALL,n=Du.TRANSLATE_BIG;return mt(this,"_resizerKeyboardManager",new gv([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Rt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const s=new Sie({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});s.annotationElementId=t.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(t,s){if(Rt._l10n??(Rt._l10n=t),Rt._l10nResizer||(Rt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Rt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Rt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,s){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return v(this,Zp)}set _isDraggable(t){var s;M(this,Zp,t),(s=this.div)==null||s.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(t*2),this.y+=this.width*t/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(t*2),this.y-=this.width*t/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=v(this,Tw)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):k(this,at,jg).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(v(this,Dc)?M(this,Dc,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const s=t.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,s,n,i){const[o,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/o,this.y=(s+i)/r,this.fixAndSetPosition()}translate(t,s){k(this,at,hA).call(this,this.parentDimensions,t,s)}translateInPage(t,s){v(this,ol)||M(this,ol,[this.x,this.y]),k(this,at,hA).call(this,this.pageDimensions,t,s),this.div.scrollIntoView({block:"nearest"})}drag(t,s){v(this,ol)||M(this,ol,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=t/n,this.y+=s/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:r}=this;const[l,u]=this.getBaseTranslation();o+=l,r+=u,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!v(this,ol)&&(v(this,ol)[0]!==this.x||v(this,ol)[1]!==this.y)}getBaseTranslation(){const[t,s]=this.parentDimensions,{_borderLineWidth:n}=Rt,i=n/t,o=n/s;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[s,n]=this.pageDimensions;let{x:i,y:o,width:r,height:l}=this;if(r*=s,l*=n,i*=s,o*=n,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(s-r,i)),o=Math.max(0,Math.min(n-l,o));break;case 90:i=Math.max(0,Math.min(s-l,i)),o=Math.min(n,Math.max(r,o));break;case 180:i=Math.min(s,Math.max(r,i)),o=Math.min(n,Math.max(l,o));break;case 270:i=Math.min(s,Math.max(l,i)),o=Math.max(0,Math.min(n-r,o));break}this.x=i/=s,this.y=o/=n;const[u,d]=this.getBaseTranslation();i+=u,o+=d;const{style:f}=this.div;f.left=`${(100*i).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,s){var n;return k(n=Rt,Jp,fA).call(n,t,s,this.parentRotation)}pageTranslationToScreen(t,s){var n;return k(n=Rt,Jp,fA).call(n,t,s,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[s,n]}=this;return[s*t,n*t]}setDims(t,s){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,v(this,Ac)||(this.div.style.height=`${(100*s/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:s,width:n}=t,i=n.endsWith("%"),o=!v(this,Ac)&&s.endsWith("%");if(i&&o)return;const[r,l]=this.parentDimensions;i||(t.width=`${(100*parseFloat(n)/r).toFixed(2)}%`),!v(this,Ac)&&!o&&(t.height=`${(100*parseFloat(s)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=v(this,Qt))==null||t.finish()}async addEditToolbar(){return this._editToolbar||v(this,Tc)?this._editToolbar:(this._editToolbar=new sA(this),this.div.append(this._editToolbar.render()),v(this,Qt)&&await this._editToolbar.addAltText(v(this,Qt)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=v(this,Qt))==null||t.destroy())}addContainer(t){var n;const s=(n=this._editToolbar)==null?void 0:n.div;s?s.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){v(this,Qt)||(bw.initialize(Rt._l10n),M(this,Qt,new bw(this)),v(this,xc)&&(v(this,Qt).data=v(this,xc),M(this,xc,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=v(this,Qt))==null?void 0:t.data}set altTextData(t){v(this,Qt)&&(v(this,Qt).data=t)}get guessedAltText(){var t;return(t=v(this,Qt))==null?void 0:t.guessedText}async setGuessedAltText(t){var s;await((s=v(this,Qt))==null?void 0:s.setGuessedText(t))}serializeAltText(t){var s;return(s=v(this,Qt))==null?void 0:s.serialize(t)}hasAltText(){return!!v(this,Qt)&&!v(this,Qt).isEmpty()}hasAltTextData(){var t;return((t=v(this,Qt))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=v(this,Ch)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),k(this,at,CA).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),Cw(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:s}=Rn.platform;if(t.button!==0||t.ctrlKey&&s){t.preventDefault();return}if(M(this,Dc,!0),this._isDraggable){k(this,at,OH).call(this,t);return}k(this,at,vA).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){v(this,Io)&&clearTimeout(v(this,Io)),M(this,Io,setTimeout(()=>{var t;M(this,Io,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,s,n){t.changeParent(this),this.x=s,this.y=n,this.fixAndSetPosition()}getRect(t,s,n=this.rotation){const i=this.parentScale,[o,r]=this.pageDimensions,[l,u]=this.pageTranslation,d=t/i,f=s/i,g=this.x*o,m=this.y*r,C=this.width*o,w=this.height*r;switch(n){case 0:return[g+d+l,r-m-f-w+u,g+d+C+l,r-m-f+u];case 90:return[g+f+l,r-m+d+u,g+f+w+l,r-m+d+C+u];case 180:return[g-d-C+l,r-m+f+u,g-d+l,r-m+f+w+u];case 270:return[g-f-w+l,r-m-d-C+u,g-f+l,r-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,s){const[n,i,o,r]=t,l=o-n,u=r-i;switch(this.rotation){case 0:return[n,s-r,l,u];case 90:return[n,s-i,u,l];case 180:return[o,s-i,l,u];case 270:return[o,s-r,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){M(this,Tc,!0)}disableEditMode(){M(this,Tc,!1)}isInEditMode(){return v(this,Tc)}shouldGetKeyboardEvents(){return v(this,Pr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){k(this,at,CA).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,s=null){Wt("An editor must be serializable")}static async deserialize(t,s,n){const i=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:n});i.rotation=t.rotation,M(i,xc,t.accessibilityData);const[o,r]=i.pageDimensions,[l,u,d,f]=i.getRectInCurrentCoords(t.rect,r);return i.x=l/o,i.y=u/r,i.width=d/o,i.height=f/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=v(this,il))==null||t.abort(),M(this,il,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),v(this,Io)&&(clearTimeout(v(this,Io)),M(this,Io,null)),k(this,at,jg).call(this),this.removeEditToolbar(),v(this,Ai)){for(const s of v(this,Ai).values())clearTimeout(s);M(this,Ai,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,at,kH).call(this),v(this,Ws).classList.remove("hidden"),Cw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),M(this,Ec,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=v(this,Ws).children;if(!v(this,Yi)){M(this,Yi,Array.from(s));const r=k(this,at,_H).bind(this),l=k(this,at,NH).bind(this),u=this._uiManager._signal;for(const d of v(this,Yi)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",r,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",k(this,at,HH).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",Rt._l10nResizer[f])}}const n=v(this,Yi)[0];let i=0;for(const r of s){if(r===n)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(v(this,Yi).length/4);if(o!==i){if(o<i)for(let l=0;l<i-o;l++)v(this,Ws).append(v(this,Ws).firstChild);else if(o>i)for(let l=0;l<o-i;l++)v(this,Ws).firstChild.before(v(this,Ws).lastChild);let r=0;for(const l of s){const d=v(this,Yi)[r++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Rt._l10nResizer[d])}}k(this,at,bA).call(this,0),M(this,Pr,!0),v(this,Ws).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,s){v(this,Pr)&&k(this,at,mA).call(this,v(this,Xp),{movementX:t,movementY:s})}_stopResizingWithKeyboard(){k(this,at,jg).call(this),this.div.focus()}select(){var t,s,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,o;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(s=this._editToolbar)==null||s.show(),(n=v(this,Qt))==null||n.toggleAltTextBadge(!1)}unselect(){var t,s,n,i,o;(t=v(this,Ws))==null||t.classList.add("hidden"),(s=this.div)==null||s.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(o=v(this,Qt))==null||o.toggleAltTextBadge(!0)}updateParams(t,s){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return v(this,Qp)}set isEditing(t){M(this,Qp,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,s){M(this,Ac,!0);const n=t/s,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,s=!1){if(s){v(this,Ai)||M(this,Ai,new Map);const{action:n}=t;let i=v(this,Ai).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),v(this,Ai).delete(n),v(this,Ai).size===0&&M(this,Ai,null)},Rt._telemetryTimeout),v(this,Ai).set(n,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),M(this,Ch,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,Ch,!0)}renderAnnotationElement(t){let s=t.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),t.container.prepend(s);else if(s.nodeName==="CANVAS"){const n=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),n.before(s)}return s}resetAnnotationElement(t){const{firstChild:s}=t.container;(s==null?void 0:s.nodeName)==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}};xc=new WeakMap,Yi=new WeakMap,Qt=new WeakMap,Ch=new WeakMap,Ac=new WeakMap,Ws=new WeakMap,Ec=new WeakMap,il=new WeakMap,Xp=new WeakMap,Dc=new WeakMap,ol=new WeakMap,Qp=new WeakMap,Tc=new WeakMap,Pr=new WeakMap,Io=new WeakMap,bh=new WeakMap,wh=new WeakMap,Ai=new WeakMap,Zp=new WeakMap,Tw=new WeakMap,at=new WeakSet,hA=function([t,s],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/s,this.fixAndSetPosition()},Jp=new WeakSet,fA=function(t,s,n){switch(n){case 90:return[s,-t];case 180:return[-t,-s];case 270:return[-s,t];default:return[t,s]}},gA=function(t){switch(t){case 90:{const[s,n]=this.pageDimensions;return[0,-s/n,n/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,n]=this.pageDimensions;return[0,s/n,-n/s,0]}default:return[1,0,0,1]}},kH=function(){if(v(this,Ws))return;M(this,Ws,document.createElement("div")),v(this,Ws).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const n of t){const i=document.createElement("div");v(this,Ws).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",k(this,at,IH).bind(this,n),{signal:s}),i.addEventListener("contextmenu",Ni,{signal:s}),i.tabIndex=-1}this.div.prepend(v(this,Ws))},IH=function(t,s){var w;s.preventDefault();const{isMac:n}=Rn.platform;if(s.button!==0||s.ctrlKey&&n)return;(w=v(this,Qt))==null||w.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const o=new AbortController,r=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,at,mA).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Ni,{signal:r});const l=this.x,u=this.y,d=this.width,f=this.height,g=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const C=()=>{var y;o.abort(),this.parent.togglePointerEvents(!0),(y=v(this,Qt))==null||y.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=g,this.div.style.cursor=m,k(this,at,pA).call(this,l,u,d,f)};window.addEventListener("pointerup",C,{signal:r}),window.addEventListener("blur",C,{signal:r})},pA=function(t,s,n,i){const o=this.x,r=this.y,l=this.width,u=this.height;o===t&&r===s&&l===n&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=o,this.y=r;const[d,f]=this.parentDimensions;this.setDims(d*l,f*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=t,this.y=s;const[d,f]=this.parentDimensions;this.setDims(d*n,f*i),this.fixAndSetPosition()},mustExec:!0})},mA=function(t,s){const[n,i]=this.parentDimensions,o=this.x,r=this.y,l=this.width,u=this.height,d=Rt.MIN_SIZE/n,f=Rt.MIN_SIZE/i,g=V=>Math.round(V*1e4)/1e4,m=k(this,at,gA).call(this,this.rotation),C=(V,U)=>[m[0]*V+m[2]*U,m[1]*V+m[3]*U],w=k(this,at,gA).call(this,360-this.rotation),y=(V,U)=>[w[0]*V+w[2]*U,w[1]*V+w[3]*U];let R,A,D=!1,E=!1;switch(t){case"topLeft":D=!0,R=(V,U)=>[0,0],A=(V,U)=>[V,U];break;case"topMiddle":R=(V,U)=>[V/2,0],A=(V,U)=>[V/2,U];break;case"topRight":D=!0,R=(V,U)=>[V,0],A=(V,U)=>[0,U];break;case"middleRight":E=!0,R=(V,U)=>[V,U/2],A=(V,U)=>[0,U/2];break;case"bottomRight":D=!0,R=(V,U)=>[V,U],A=(V,U)=>[0,0];break;case"bottomMiddle":R=(V,U)=>[V/2,U],A=(V,U)=>[V/2,0];break;case"bottomLeft":D=!0,R=(V,U)=>[0,U],A=(V,U)=>[V,0];break;case"middleLeft":E=!0,R=(V,U)=>[0,U/2],A=(V,U)=>[V,U/2];break}const T=R(l,u),P=A(l,u);let L=C(...P);const N=g(o+L[0]),B=g(r+L[1]);let W=1,z=1,[q,K]=this.screenToPageTranslation(s.movementX,s.movementY);if([q,K]=y(q/n,K/i),D){const V=Math.hypot(l,u);W=z=Math.max(Math.min(Math.hypot(P[0]-T[0]-q,P[1]-T[1]-K)/V,1/l,1/u),d/l,f/u)}else E?W=Math.max(d,Math.min(1,Math.abs(P[0]-T[0]-q)))/l:z=Math.max(f,Math.min(1,Math.abs(P[1]-T[1]-K)))/u;const $=g(l*W),te=g(u*z);L=C(...A($,te));const ee=N-L[0],G=B-L[1];this.width=$,this.height=te,this.x=ee,this.y=G,this.setDims(n*$,i*te),this.fixAndSetPosition()},vA=function(t){const{isMac:s}=Rn.platform;t.ctrlKey&&!s||t.shiftKey||t.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)},OH=function(t){const{isSelected:s}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(s){this.div.classList.add("moving"),M(this,bh,t.clientX),M(this,wh,t.clientY);const r=l=>{const{clientX:u,clientY:d}=l,[f,g]=this.screenToPageTranslation(u-v(this,bh),d-v(this,wh));M(this,bh,u),M(this,wh,d),this._uiManager.dragSelectedEditors(f,g)};window.addEventListener("pointermove",r,{passive:!0,capture:!0,signal:i})}const o=()=>{n.abort(),s&&this.div.classList.remove("moving"),M(this,Dc,!1),this._uiManager.endDragSession()||k(this,at,vA).call(this,t)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})},CA=function(){if(v(this,il)||!this.div)return;M(this,il,new AbortController);const t=this._uiManager.combinedSignal(v(this,il));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},_H=function(t){Rt._resizerKeyboardManager.exec(this,t)},NH=function(t){var s;v(this,Pr)&&((s=t.relatedTarget)==null?void 0:s.parentNode)!==v(this,Ws)&&k(this,at,jg).call(this)},HH=function(t){M(this,Xp,v(this,Pr)?t:"")},bA=function(t){if(v(this,Yi))for(const s of v(this,Yi))s.tabIndex=t},jg=function(){if(M(this,Pr,!1),k(this,at,bA).call(this,-1),v(this,Ec)){const{savedX:t,savedY:s,savedWidth:n,savedHeight:i}=v(this,Ec);k(this,at,pA).call(this,t,s,n,i),M(this,Ec,null)}},O(Rt,Jp),Je(Rt,"_l10n",null),Je(Rt,"_l10nResizer",null),Je(Rt,"_borderLineWidth",-1),Je(Rt,"_colorManager",new oA),Je(Rt,"_zIndex",1),Je(Rt,"_telemetryTimeout",1e3);let Mt=Rt;class Sie extends Mt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const QL=3285377520,Si=4294901760,Ro=65535;class BH{constructor(t){this.h1=t?t&4294967295:QL,this.h2=t?t&4294967295:QL}update(t){let s,n;if(typeof t=="string"){s=new Uint8Array(t.length*2),n=0;for(let y=0,R=t.length;y<R;y++){const A=t.charCodeAt(y);A<=255?s[n++]=A:(s[n++]=A>>>8,s[n++]=A&255)}}else if(ArrayBuffer.isView(t))s=t.slice(),n=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,o=n-i*4,r=new Uint32Array(s.buffer,0,i);let l=0,u=0,d=this.h1,f=this.h2;const g=3432918353,m=461845907,C=g&Ro,w=m&Ro;for(let y=0;y<i;y++)y&1?(l=r[y],l=l*g&Si|l*C&Ro,l=l<<15|l>>>17,l=l*m&Si|l*w&Ro,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=r[y],u=u*g&Si|u*C&Ro,u=u<<15|u>>>17,u=u*m&Si|u*w&Ro,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,o){case 3:l^=s[i*4+2]<<16;case 2:l^=s[i*4+1]<<8;case 1:l^=s[i*4],l=l*g&Si|l*C&Ro,l=l<<15|l>>>17,l=l*m&Si|l*w&Ro,i&1?d^=l:f^=l}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,s=this.h2;return t^=s>>>1,t=t*3981806797&Si|t*36045&Ro,s=s*4283543511&Si|((s<<16|t>>>16)*2950163797&Si)>>>16,t^=s>>>1,t=t*444984403&Si|t*60499&Ro,s=s*3301882366&Si|((s<<16|t>>>16)*3120437893&Si)>>>16,t^=s>>>1,(t>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const wA=Object.freeze({map:null,hash:"",transfer:void 0});var Fc,Pc,Ns,Fw,GH;class KD{constructor(){O(this,Fw);O(this,Fc,!1);O(this,Pc,null);O(this,Ns,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,s){const n=v(this,Ns).get(t);return n===void 0?s:Object.assign(s,n)}getRawValue(t){return v(this,Ns).get(t)}remove(t){if(v(this,Ns).delete(t),v(this,Ns).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of v(this,Ns).values())if(s instanceof Mt)return;this.onAnnotationEditor(null)}}setValue(t,s){const n=v(this,Ns).get(t);let i=!1;if(n!==void 0)for(const[o,r]of Object.entries(s))n[o]!==r&&(i=!0,n[o]=r);else i=!0,v(this,Ns).set(t,s);i&&k(this,Fw,GH).call(this),s instanceof Mt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(t){return v(this,Ns).has(t)}getAll(){return v(this,Ns).size>0?zD(v(this,Ns)):null}setAll(t){for(const[s,n]of Object.entries(t))this.setValue(s,n)}get size(){return v(this,Ns).size}resetModified(){v(this,Fc)&&(M(this,Fc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new VH(this)}get serializable(){if(v(this,Ns).size===0)return wA;const t=new Map,s=new BH,n=[],i=Object.create(null);let o=!1;for(const[r,l]of v(this,Ns)){const u=l instanceof Mt?l.serialize(!1,i):l;u&&(t.set(r,u),s.update(`${r}:${JSON.stringify(u)}`),o||(o=!!u.bitmap))}if(o)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:s.hexdigest(),transfer:n}:wA}get editorStats(){let t=null;const s=new Map;for(const n of v(this,Ns).values()){if(!(n instanceof Mt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:o}=i;s.has(o)||s.set(o,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const r=t[o]||(t[o]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let d=r.get(l);d||(d=new Map,r.set(l,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[n,i]of s)t[n]=i.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){M(this,Pc,null)}get modifiedIds(){if(v(this,Pc))return v(this,Pc);const t=[];for(const s of v(this,Ns).values())!(s instanceof Mt)||!s.annotationElementId||!s.serialize()||t.push(s.annotationElementId);return M(this,Pc,{ids:new Set(t),hash:t.join(",")})}}Fc=new WeakMap,Pc=new WeakMap,Ns=new WeakMap,Fw=new WeakSet,GH=function(){v(this,Fc)||(M(this,Fc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var em;class VH extends KD{constructor(s){super();O(this,em);const{map:n,hash:i,transfer:o}=s.serializable,r=structuredClone(n,o?{transfer:o}:null);M(this,em,{map:r,hash:i,transfer:o})}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return v(this,em)}get modifiedIds(){return mt(this,"modifiedIds",{ids:new Set,hash:""})}}em=new WeakMap;var yh;class Rie{constructor({ownerDocument:t=globalThis.document,styleElement:s=null}){O(this,yh,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(t,s.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),v(this,yh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:s}){if(!(!t||v(this,yh).has(t.loadedName))){if(As(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:o}=t,r=new FontFace(n,i,o);this.addNativeFontFace(r);try{await r.load(),v(this,yh).add(n),s==null||s(t)}catch{ct(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw ct(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const s=t.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var s;const t=!!((s=this._document)!=null&&s.fonts);return mt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(cn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),mt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function s(){for(As(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:s,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return mt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,s){function n(T,P){return T.charCodeAt(P)<<24|T.charCodeAt(P+1)<<16|T.charCodeAt(P+2)<<8|T.charCodeAt(P+3)&255}function i(T,P,L,N){const B=T.substring(0,P),W=T.substring(P+L);return B+N+W}let o,r;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function f(T,P){if(++d>30){ct("Load test font never loaded."),P();return}if(u.font="30px "+T,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(f.bind(null,T,P))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,g.length,g);const w=16,y=1482184792;let R=n(m,w);for(o=0,r=g.length-3;o<r;o+=4)R=R-y+n(g,o)|0;o<g.length&&(R=R-y+n(g+"XXX",o)|0),m=i(m,w,4,aie(R));const A=`url(data:font/opentype;base64,${btoa(m)});`,D=`@font-face {font-family:"${g}";src:${A}}`;this.insertRule(D);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const T of[t.loadedName,g]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=T,E.append(P)}this._document.body.append(E),f(g,()=>{E.remove(),s.complete()})}}yh=new WeakMap;class xie{constructor(t,{disableFontFace:s=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=s===!0,this._inspectFont=n}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(s=this._inspectFont)==null||s.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${fie(this.data)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),s}getPathGenerator(t,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let n;try{n=t.get(this.loadedName+"_path_"+s)}catch(o){ct(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[s]=function(o,r){};const i=[];for(let o=0,r=n.length;o<r;)switch(n[o++]){case br.BEZIER_CURVE_TO:{const[l,u,d,f,g,m]=n.slice(o,o+6);i.push(C=>C.bezierCurveTo(l,u,d,f,g,m)),o+=6}break;case br.MOVE_TO:{const[l,u]=n.slice(o,o+2);i.push(d=>d.moveTo(l,u)),o+=2}break;case br.LINE_TO:{const[l,u]=n.slice(o,o+2);i.push(d=>d.lineTo(l,u)),o+=2}break;case br.QUADRATIC_CURVE_TO:{const[l,u,d,f]=n.slice(o,o+4);i.push(g=>g.quadraticCurveTo(l,u,d,f)),o+=4}break;case br.RESTORE:i.push(l=>l.restore());break;case br.SAVE:i.push(l=>l.save());break;case br.SCALE:As(i.length===2,"Scale command is only valid at the third position.");break;case br.TRANSFORM:{const[l,u,d,f,g,m]=n.slice(o,o+6);i.push(C=>C.transform(l,u,d,f,g,m)),o+=6}break;case br.TRANSLATE:{const[l,u]=n.slice(o,o+2);i.push(d=>d.translate(l,u)),o+=2}break}return this.compiledGlyphs[s]=function(r,l){i[0](r),i[1](r),r.scale(l,-l);for(let u=2,d=i.length;u<d;u++)i[u](r)}}}var tm;class zH{constructor({enableHWA:t=!1}){O(this,tm,!1);M(this,tm,t)}create(t,s){if(t<=0||s<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,s);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!v(this,tm)})}}reset(t,s,n){if(!t.canvas)throw new Error("Canvas is not specified");if(s<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=s,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,s){Wt("Abstract method `_createCanvas` called.")}}tm=new WeakMap;class Aie extends zH{constructor({ownerDocument:t=globalThis.document,enableHWA:s=!1}){super({enableHWA:s}),this._document=t}_createCanvas(t,s){const n=this._document.createElement("canvas");return n.width=t,n.height=s,n}}class WH{constructor({baseUrl:t=null,isCompressed:s=!0}){this.baseUrl=t,this.isCompressed=s}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const s=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(s).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class UH extends WH{async _fetch(t){const s=await _y(t,this.isCompressed?"arraybuffer":"text");return s instanceof ArrayBuffer?new Uint8Array(s):Oy(s)}}class jH{addFilter(t){return"none"}addHCMFilter(t,s){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,s,n,i,o){return"none"}destroy(t=!1){}}var Mc,Lc,Oo,Mr,tn,Pw,kc,Le,Js,_d,Nd,bb,Hd,$H,yA,Bd,$g,qg,SA,Kg;class Eie extends jH{constructor({docId:s,ownerDocument:n=globalThis.document}){super();O(this,Le);O(this,Mc);O(this,Lc);O(this,Oo);O(this,Mr);O(this,tn);O(this,Pw);O(this,kc,0);M(this,Mr,s),M(this,tn,n)}addFilter(s){if(!s)return"none";let n=v(this,Le,Js).get(s);if(n)return n;const[i,o,r]=k(this,Le,bb).call(this,s),l=s.length===1?i:`${i}${o}${r}`;if(n=v(this,Le,Js).get(l),n)return v(this,Le,Js).set(s,n),n;const u=`g_${v(this,Mr)}_transfer_map_${gn(this,kc)._++}`,d=k(this,Le,Hd).call(this,u);v(this,Le,Js).set(s,d),v(this,Le,Js).set(l,d);const f=k(this,Le,Bd).call(this,u);return k(this,Le,qg).call(this,i,o,r,f),d}addHCMFilter(s,n){var w;const i=`${s}-${n}`,o="base";let r=v(this,Le,_d).get(o);if((r==null?void 0:r.key)===i||(r?((w=r.filter)==null||w.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},v(this,Le,_d).set(o,r)),!s||!n))return r.url;const l=k(this,Le,Kg).call(this,s);s=Ne.makeHexColor(...l);const u=k(this,Le,Kg).call(this,n);if(n=Ne.makeHexColor(...u),v(this,Le,Nd).style.color="",s==="#000000"&&n==="#ffffff"||s===n)return r.url;const d=new Array(256);for(let y=0;y<=255;y++){const R=y/255;d[y]=R<=.03928?R/12.92:((R+.055)/1.055)**2.4}const f=d.join(","),g=`g_${v(this,Mr)}_hcm_filter`,m=r.filter=k(this,Le,Bd).call(this,g);k(this,Le,qg).call(this,f,f,f,m),k(this,Le,yA).call(this,m);const C=(y,R)=>{const A=l[y]/255,D=u[y]/255,E=new Array(R+1);for(let T=0;T<=R;T++)E[T]=A+T/R*(D-A);return E.join(",")};return k(this,Le,qg).call(this,C(0,5),C(1,5),C(2,5),m),r.url=k(this,Le,Hd).call(this,g),r.url}addAlphaFilter(s){let n=v(this,Le,Js).get(s);if(n)return n;const[i]=k(this,Le,bb).call(this,[s]),o=`alpha_${i}`;if(n=v(this,Le,Js).get(o),n)return v(this,Le,Js).set(s,n),n;const r=`g_${v(this,Mr)}_alpha_map_${gn(this,kc)._++}`,l=k(this,Le,Hd).call(this,r);v(this,Le,Js).set(s,l),v(this,Le,Js).set(o,l);const u=k(this,Le,Bd).call(this,r);return k(this,Le,SA).call(this,i,u),l}addLuminosityFilter(s){let n=v(this,Le,Js).get(s||"luminosity");if(n)return n;let i,o;if(s?([i]=k(this,Le,bb).call(this,[s]),o=`luminosity_${i}`):o="luminosity",n=v(this,Le,Js).get(o),n)return v(this,Le,Js).set(s,n),n;const r=`g_${v(this,Mr)}_luminosity_map_${gn(this,kc)._++}`,l=k(this,Le,Hd).call(this,r);v(this,Le,Js).set(s,l),v(this,Le,Js).set(o,l);const u=k(this,Le,Bd).call(this,r);return k(this,Le,$H).call(this,u),s&&k(this,Le,SA).call(this,i,u),l}addHighlightHCMFilter(s,n,i,o,r){var D;const l=`${n}-${i}-${o}-${r}`;let u=v(this,Le,_d).get(s);if((u==null?void 0:u.key)===l||(u?((D=u.filter)==null||D.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},v(this,Le,_d).set(s,u)),!n||!i))return u.url;const[d,f]=[n,i].map(k(this,Le,Kg).bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[C,w]=[o,r].map(k(this,Le,Kg).bind(this));m<g&&([g,m,C,w]=[m,g,w,C]),v(this,Le,Nd).style.color="";const y=(E,T,P)=>{const L=new Array(256),N=(m-g)/P,B=E/255,W=(T-E)/(255*P);let z=0;for(let q=0;q<=P;q++){const K=Math.round(g+q*N),$=B+q*W;for(let te=z;te<=K;te++)L[te]=$;z=K+1}for(let q=z;q<256;q++)L[q]=L[z-1];return L.join(",")},R=`g_${v(this,Mr)}_hcm_${s}_filter`,A=u.filter=k(this,Le,Bd).call(this,R);return k(this,Le,yA).call(this,A),k(this,Le,qg).call(this,y(C[0],w[0],5),y(C[1],w[1],5),y(C[2],w[2],5),A),u.url=k(this,Le,Hd).call(this,R),u.url}destroy(s=!1){s&&v(this,Le,_d).size!==0||(v(this,Oo)&&(v(this,Oo).parentNode.parentNode.remove(),M(this,Oo,null)),v(this,Lc)&&(v(this,Lc).clear(),M(this,Lc,null)),M(this,kc,0))}}Mc=new WeakMap,Lc=new WeakMap,Oo=new WeakMap,Mr=new WeakMap,tn=new WeakMap,Pw=new WeakMap,kc=new WeakMap,Le=new WeakSet,Js=function(){return v(this,Lc)||M(this,Lc,new Map)},_d=function(){return v(this,Pw)||M(this,Pw,new Map)},Nd=function(){if(!v(this,Oo)){const s=v(this,tn).createElement("div"),{style:n}=s;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=v(this,tn).createElementNS(Sr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),M(this,Oo,v(this,tn).createElementNS(Sr,"defs")),s.append(i),i.append(v(this,Oo)),v(this,tn).body.append(s)}return v(this,Oo)},bb=function(s){if(s.length===1){const d=s[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const g=f.join(",");return[g,g,g]}const[n,i,o]=s,r=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)r[d]=n[d]/255,l[d]=i[d]/255,u[d]=o[d]/255;return[r.join(","),l.join(","),u.join(",")]},Hd=function(s){if(v(this,Mc)===void 0){M(this,Mc,"");const n=v(this,tn).URL;n!==v(this,tn).baseURI&&(Ny(n)?ct('#createUrl: ignore "data:"-URL for performance reasons.'):M(this,Mc,n.split("#",1)[0]))}return`url(${v(this,Mc)}#${s})`},$H=function(s){const n=v(this,tn).createElementNS(Sr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(n)},yA=function(s){const n=v(this,tn).createElementNS(Sr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(n)},Bd=function(s){const n=v(this,tn).createElementNS(Sr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",s),v(this,Le,Nd).append(n),n},$g=function(s,n,i){const o=v(this,tn).createElementNS(Sr,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),s.append(o)},qg=function(s,n,i,o){const r=v(this,tn).createElementNS(Sr,"feComponentTransfer");o.append(r),k(this,Le,$g).call(this,r,"feFuncR",s),k(this,Le,$g).call(this,r,"feFuncG",n),k(this,Le,$g).call(this,r,"feFuncB",i)},SA=function(s,n){const i=v(this,tn).createElementNS(Sr,"feComponentTransfer");n.append(i),k(this,Le,$g).call(this,i,"feFuncA",s)},Kg=function(s){return v(this,Le,Nd).style.color=s,qD(getComputedStyle(v(this,Le,Nd)).getPropertyValue("color"))};class qH{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${t}`;return this._fetch(s).catch(n=>{throw new Error(`Unable to load font data at: ${s}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class KH extends qH{async _fetch(t){const s=await _y(t,"arraybuffer");return new Uint8Array(s)}}if(cn){var RA=Promise.withResolvers(),pp=null;(async()=>{const t=await qC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await qC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await qC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await qC(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,r;return new Map(Object.entries({fs:t,http:s,https:n,url:i,canvas:o,path2d:r}))})().then(t=>{pp=t,RA.resolve()},t=>{ct(`loadPackages: ${t}`),pp=new Map,RA.resolve()})}class Ml{static get promise(){return RA.promise}static get(t){return pp==null?void 0:pp.get(t)}}async function YH(e){const s=await Ml.get("fs").promises.readFile(e);return new Uint8Array(s)}class Die extends jH{}class Tie extends zH{_createCanvas(t,s){return Ml.get("canvas").createCanvas(t,s)}}class Fie extends WH{async _fetch(t){return YH(t)}}class Pie extends qH{async _fetch(t){return YH(t)}}const bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xA(e,t){if(!t)return;const s=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],s,n),e.clip(i)}class YD{getPattern(){Wt("Abstract method `getPattern` called.")}}class Mie extends YD{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let s;this._type==="axial"?s=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)s.addColorStop(n[0],n[1]);return s}getPattern(t,s,n,i){let o;if(i===bn.STROKE||i===bn.FILL){const r=s.current.getClippedPathBoundingBox(i,Jt(t))||[0,0,0,0],l=Math.ceil(r[2]-r[0])||1,u=Math.ceil(r[3]-r[1])||1,d=s.cachedCanvases.getCanvas("pattern",l,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-r[0],-r[1]),n=Ne.transform(n,[1,0,0,1,r[0],r[1]]),f.transform(...s.baseTransform),this.matrix&&f.transform(...this.matrix),xA(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),o=t.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else xA(t,this._bbox),o=this._createGradient(t);return o}}function ex(e,t,s,n,i,o,r,l){const u=t.coords,d=t.colors,f=e.data,g=e.width*4;let m;u[s+1]>u[n+1]&&(m=s,s=n,n=m,m=o,o=r,r=m),u[n+1]>u[i+1]&&(m=n,n=i,i=m,m=r,r=l,l=m),u[s+1]>u[n+1]&&(m=s,s=n,n=m,m=o,o=r,r=m);const C=(u[s]+t.offsetX)*t.scaleX,w=(u[s+1]+t.offsetY)*t.scaleY,y=(u[n]+t.offsetX)*t.scaleX,R=(u[n+1]+t.offsetY)*t.scaleY,A=(u[i]+t.offsetX)*t.scaleX,D=(u[i+1]+t.offsetY)*t.scaleY;if(w>=D)return;const E=d[o],T=d[o+1],P=d[o+2],L=d[r],N=d[r+1],B=d[r+2],W=d[l],z=d[l+1],q=d[l+2],K=Math.round(w),$=Math.round(D);let te,ee,G,V,U,re,H,Y;for(let Q=K;Q<=$;Q++){if(Q<R){const Te=Q<w?0:(w-Q)/(w-R);te=C-(C-y)*Te,ee=E-(E-L)*Te,G=T-(T-N)*Te,V=P-(P-B)*Te}else{let Te;Q>D?Te=1:R===D?Te=0:Te=(R-Q)/(R-D),te=y-(y-A)*Te,ee=L-(L-W)*Te,G=N-(N-z)*Te,V=B-(B-q)*Te}let J;Q<w?J=0:Q>D?J=1:J=(w-Q)/(w-D),U=C-(C-A)*J,re=E-(E-W)*J,H=T-(T-z)*J,Y=P-(P-q)*J;const le=Math.round(Math.min(te,U)),ge=Math.round(Math.max(te,U));let pe=g*Q+le*4;for(let Te=le;Te<=ge;Te++)J=(te-Te)/(te-U),J<0?J=0:J>1&&(J=1),f[pe++]=ee-(ee-re)*J|0,f[pe++]=G-(G-H)*J|0,f[pe++]=V-(V-Y)*J|0,f[pe++]=255}}function Lie(e,t,s){const n=t.coords,i=t.colors;let o,r;switch(t.type){case"lattice":const l=t.verticesPerRow,u=Math.floor(n.length/l)-1,d=l-1;for(o=0;o<u;o++){let f=o*l;for(let g=0;g<d;g++,f++)ex(e,s,n[f],n[f+1],n[f+l],i[f],i[f+1],i[f+l]),ex(e,s,n[f+l+1],n[f+1],n[f+l],i[f+l+1],i[f+1],i[f+l])}break;case"triangles":for(o=0,r=n.length;o<r;o+=3)ex(e,s,n[o],n[o+1],n[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class kie extends YD{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,s,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,g=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),C=d/g,w=f/m,y={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/C,scaleY:1/w},R=g+2*2,A=m+2*2,D=n.getCanvas("mesh",R,A),E=D.context,T=E.createImageData(g,m);if(s){const L=T.data;for(let N=0,B=L.length;N<B;N+=4)L[N]=s[0],L[N+1]=s[1],L[N+2]=s[2],L[N+3]=255}for(const L of this._figures)Lie(T,L,y);return E.putImageData(T,2,2),{canvas:D.canvas,offsetX:l-2*C,offsetY:u-2*w,scaleX:C,scaleY:w}}getPattern(t,s,n,i){xA(t,this._bbox);let o;if(i===bn.SHADING)o=Ne.singularValueDecompose2dScale(Jt(t));else if(o=Ne.singularValueDecompose2dScale(s.baseTransform),this.matrix){const l=Ne.singularValueDecompose2dScale(this.matrix);o=[o[0]*l[0],o[1]*l[1]]}const r=this._createMeshCanvas(o,i===bn.SHADING?null:this._background,s.cachedCanvases);return i!==bn.SHADING&&(t.setTransform(...s.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class Iie extends YD{getPattern(){return"hotpink"}}function Oie(e){switch(e[0]){case"RadialAxial":return new Mie(e);case"Mesh":return new kie(e);case"Dummy":return new Iie}throw new Error(`Unknown IR type: ${e[0]}`)}const ZL={COLORED:1,UNCOLORED:2},Mw=class Mw{constructor(t,s,n,i,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=s,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(t){const{bbox:s,operatorList:n,paintType:i,tilingType:o,color:r,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),ky("TilingType: "+o);const f=s[0],g=s[1],m=s[2],C=s[3],w=m-f,y=C-g,R=Ne.singularValueDecompose2dScale(this.matrix),A=Ne.singularValueDecompose2dScale(this.baseTransform),D=R[0]*A[0],E=R[1]*A[1];let T=w,P=y,L=!1,N=!1;const B=Math.ceil(u*D),W=Math.ceil(d*E),z=Math.ceil(w*D),q=Math.ceil(y*E);B>=z?T=u:L=!0,W>=q?P=d:N=!0;const K=this.getSizeAndScale(T,this.ctx.canvas.width,D),$=this.getSizeAndScale(P,this.ctx.canvas.height,E),te=t.cachedCanvases.getCanvas("pattern",K.size,$.size),ee=te.context,G=l.createCanvasGraphics(ee);if(G.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(G,i,r),ee.translate(-K.scale*f,-$.scale*g),G.transform(K.scale,0,0,$.scale,0,0),ee.save(),this.clipBbox(G,f,g,m,C),G.baseTransform=Jt(G.ctx),G.executeOperatorList(n),G.endDrawing(),ee.restore(),L||N){const V=te.canvas;L&&(T=u),N&&(P=d);const U=this.getSizeAndScale(T,this.ctx.canvas.width,D),re=this.getSizeAndScale(P,this.ctx.canvas.height,E),H=U.size,Y=re.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",H,Y),J=Q.context,le=L?Math.floor(w/u):0,ge=N?Math.floor(y/d):0;for(let pe=0;pe<=le;pe++)for(let Te=0;Te<=ge;Te++)J.drawImage(V,H*pe,Y*Te,H,Y,0,0,H,Y);return{canvas:Q.canvas,scaleX:U.scale,scaleY:re.scale,offsetX:f,offsetY:g}}return{canvas:te.canvas,scaleX:K.scale,scaleY:$.scale,offsetX:f,offsetY:g}}getSizeAndScale(t,s,n){const i=Math.max(Mw.MAX_PATTERN_SIZE,s);let o=Math.ceil(t*n);return o>=i?o=i:n=o/t,{scale:n,size:o}}clipBbox(t,s,n,i,o){const r=i-s,l=o-n;t.ctx.rect(s,n,r,l),t.current.updateRectMinMax(Jt(t.ctx),[s,n,i,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,s,n){const i=t.ctx,o=t.current;switch(s){case ZL.COLORED:const r=this.ctx;i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,o.fillColor=r.fillStyle,o.strokeColor=r.strokeStyle;break;case ZL.UNCOLORED:const l=Ne.makeHexColor(n[0],n[1],n[2]);i.fillStyle=l,i.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new rie(`Unsupported paint type: ${s}`)}}getPattern(t,s,n,i){let o=n;i!==bn.SHADING&&(o=Ne.transform(o,s.baseTransform),this.matrix&&(o=Ne.transform(o,this.matrix)));const r=this.createPatternCanvas(s);let l=new DOMMatrix(o);l=l.translate(r.offsetX,r.offsetY),l=l.scale(1/r.scaleX,1/r.scaleY);const u=t.createPattern(r.canvas,"repeat");return u.setTransform(l),u}};Je(Mw,"MAX_PATTERN_SIZE",3e3);let AA=Mw;function _ie({src:e,srcPos:t=0,dest:s,width:n,height:i,nonBlackColor:o=4294967295,inverseDecode:r=!1}){const l=Rn.isLittleEndian?4278190080:255,[u,d]=r?[o,l]:[l,o],f=n>>3,g=n&7,m=e.length;s=new Uint32Array(s.buffer);let C=0;for(let w=0;w<i;w++){for(const R=t+f;t<R;t++){const A=t<m?e[t]:255;s[C++]=A&128?d:u,s[C++]=A&64?d:u,s[C++]=A&32?d:u,s[C++]=A&16?d:u,s[C++]=A&8?d:u,s[C++]=A&4?d:u,s[C++]=A&2?d:u,s[C++]=A&1?d:u}if(g===0)continue;const y=t<m?e[t++]:255;for(let R=0;R<g;R++)s[C++]=y&1<<7-R?d:u}return{srcPos:t,destPos:C}}const JL=16,ek=100,Nie=15,tk=10,sk=1e3,Hn=16;function Hie(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},e.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},e.transform=function(n,i,o,r,l,u){t.transform(n,i,o,r,l,u),this.__originalTransform(n,i,o,r,l,u)},e.setTransform=function(n,i,o,r,l,u){t.setTransform(n,i,o,r,l,u),this.__originalSetTransform(n,i,o,r,l,u)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(s,n){t.moveTo(s,n),this.__originalMoveTo(s,n)},e.lineTo=function(s,n){t.lineTo(s,n),this.__originalLineTo(s,n)},e.bezierCurveTo=function(s,n,i,o,r,l){t.bezierCurveTo(s,n,i,o,r,l),this.__originalBezierCurveTo(s,n,i,o,r,l)},e.rect=function(s,n,i,o){t.rect(s,n,i,o),this.__originalRect(s,n,i,o)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Bie{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,s,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,s,n)):(i=this.canvasFactory.create(s,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const s=this.cache[t];this.canvasFactory.destroy(s),delete this.cache[t]}}}function KC(e,t,s,n,i,o,r,l,u,d){const[f,g,m,C,w,y]=Jt(e);if(g===0&&m===0){const D=r*f+w,E=Math.round(D),T=l*C+y,P=Math.round(T),L=(r+u)*f+w,N=Math.abs(Math.round(L)-E)||1,B=(l+d)*C+y,W=Math.abs(Math.round(B)-P)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(C),E,P),e.drawImage(t,s,n,i,o,0,0,N,W),e.setTransform(f,g,m,C,w,y),[N,W]}if(f===0&&C===0){const D=l*m+w,E=Math.round(D),T=r*g+y,P=Math.round(T),L=(l+d)*m+w,N=Math.abs(Math.round(L)-E)||1,B=(r+u)*g+y,W=Math.abs(Math.round(B)-P)||1;return e.setTransform(0,Math.sign(g),Math.sign(m),0,E,P),e.drawImage(t,s,n,i,o,0,0,W,N),e.setTransform(f,g,m,C,w,y),[W,N]}e.drawImage(t,s,n,i,o,r,l,u,d);const R=Math.hypot(f,g),A=Math.hypot(m,C);return[R*u,A*d]}function Gie(e){const{width:t,height:s}=e;if(t>sk||s>sk)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let r=new Uint8Array(o*(s+1)),l,u,d;const f=t+7&-8;let g=new Uint8Array(f*s),m=0;for(const A of e.data){let D=128;for(;D>0;)g[m++]=A&D?0:255,D>>=1}let C=0;for(m=0,g[m]!==0&&(r[0]=1,++C),u=1;u<t;u++)g[m]!==g[m+1]&&(r[u]=g[m]?2:1,++C),m++;for(g[m]!==0&&(r[u]=2,++C),l=1;l<s;l++){m=l*f,d=l*o,g[m-f]!==g[m]&&(r[d]=g[m]?1:8,++C);let A=(g[m]?4:0)+(g[m-f]?8:0);for(u=1;u<t;u++)A=(A>>2)+(g[m+1]?4:0)+(g[m-f+1]?8:0),i[A]&&(r[d+u]=i[A],++C),m++;if(g[m-f]!==g[m]&&(r[d+u]=g[m]?2:4,++C),C>n)return null}for(m=f*(s-1),d=l*o,g[m]!==0&&(r[d]=8,++C),u=1;u<t;u++)g[m]!==g[m+1]&&(r[d+u]=g[m]?4:8,++C),m++;if(g[m]!==0&&(r[d+u]=4,++C),C>n)return null;const w=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(l=0;C&&l<=s;l++){let A=l*o;const D=A+t;for(;A<D&&!r[A];)A++;if(A===D)continue;y.moveTo(A%o,l);const E=A;let T=r[A];do{const P=w[T];do A+=P;while(!r[A]);const L=r[A];L!==5&&L!==10?(T=L,r[A]=0):(T=L&51*T>>4,r[A]&=T>>2|T<<2),y.lineTo(A%o,A/o|0),r[A]||--C}while(E!==A);--l}return g=null,r=null,function(A){A.save(),A.scale(1/t,-1/s),A.translate(0,-s),A.fill(y),A.beginPath(),A.restore()}}class nk{constructor(t,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=hH,this.textMatrixScale=1,this.fontMatrix=Qx,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Zs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,s])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,s){this.x=t,this.y=s}updatePathMinMax(t,s,n){[s,n]=Ne.applyTransform([s,n],t),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,s){const n=Ne.applyTransform(s,t),i=Ne.applyTransform(s.slice(2),t),o=Ne.applyTransform([s[0],s[3]],t),r=Ne.applyTransform([s[2],s[1]],t);this.minX=Math.min(this.minX,n[0],i[0],o[0],r[0]),this.minY=Math.min(this.minY,n[1],i[1],o[1],r[1]),this.maxX=Math.max(this.maxX,n[0],i[0],o[0],r[0]),this.maxY=Math.max(this.maxY,n[1],i[1],o[1],r[1])}updateScalingPathMinMax(t,s){Ne.scaleMinMax(t,s),this.minX=Math.min(this.minX,s[0]),this.minY=Math.min(this.minY,s[1]),this.maxX=Math.max(this.maxX,s[2]),this.maxY=Math.max(this.maxY,s[3])}updateCurvePathMinMax(t,s,n,i,o,r,l,u,d,f){const g=Ne.bezierBoundingBox(s,n,i,o,r,l,u,d,f);f||this.updateRectMinMax(t,g)}getPathBoundingBox(t=bn.FILL,s=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===bn.STROKE){s||Wt("Stroke bounding box must include transform.");const i=Ne.singularValueDecompose2dScale(s),o=i[0]*this.lineWidth/2,r=i[1]*this.lineWidth/2;n[0]-=o,n[1]-=r,n[2]+=o,n[3]+=r}return n}updateClipFromPath(){const t=Ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=bn.FILL,s=null){return Ne.intersect(this.clipBox,this.getPathBoundingBox(t,s))}}function ik(e,t){if(typeof ImageData<"u"&&t instanceof ImageData){e.putImageData(t,0,0);return}const s=t.height,n=t.width,i=s%Hn,o=(s-i)/Hn,r=i===0?o:o+1,l=e.createImageData(n,Hn);let u=0,d;const f=t.data,g=l.data;let m,C,w,y;if(t.kind===hb.GRAYSCALE_1BPP){const R=f.byteLength,A=new Uint32Array(g.buffer,0,g.byteLength>>2),D=A.length,E=n+7>>3,T=4294967295,P=Rn.isLittleEndian?4278190080:255;for(m=0;m<r;m++){for(w=m<o?Hn:i,d=0,C=0;C<w;C++){const L=R-u;let N=0;const B=L>E?n:L*8-7,W=B&-8;let z=0,q=0;for(;N<W;N+=8)q=f[u++],A[d++]=q&128?T:P,A[d++]=q&64?T:P,A[d++]=q&32?T:P,A[d++]=q&16?T:P,A[d++]=q&8?T:P,A[d++]=q&4?T:P,A[d++]=q&2?T:P,A[d++]=q&1?T:P;for(;N<B;N++)z===0&&(q=f[u++],z=128),A[d++]=q&z?T:P,z>>=1}for(;d<D;)A[d++]=0;e.putImageData(l,0,m*Hn)}}else if(t.kind===hb.RGBA_32BPP){for(C=0,y=n*Hn*4,m=0;m<o;m++)g.set(f.subarray(u,u+y)),u+=y,e.putImageData(l,0,C),C+=Hn;m<r&&(y=n*i*4,g.set(f.subarray(u,u+y)),e.putImageData(l,0,C))}else if(t.kind===hb.RGB_24BPP)for(w=Hn,y=n*w,m=0;m<r;m++){for(m>=o&&(w=i,y=n*w),d=0,C=y;C--;)g[d++]=f[u++],g[d++]=f[u++],g[d++]=f[u++],g[d++]=255;e.putImageData(l,0,m*Hn)}else throw new Error(`bad image kind: ${t.kind}`)}function ok(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const s=t.height,n=t.width,i=s%Hn,o=(s-i)/Hn,r=i===0?o:o+1,l=e.createImageData(n,Hn);let u=0;const d=t.data,f=l.data;for(let g=0;g<r;g++){const m=g<o?Hn:i;({srcPos:u}=_ie({src:d,srcPos:u,dest:f,width:n,height:m,nonBlackColor:0})),e.putImageData(l,0,g*Hn)}}function Hg(e,t){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of s)e[n]!==void 0&&(t[n]=e[n]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function YC(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0),!cn){const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}}function rk(e,t){if(t)return!0;const s=Ne.singularValueDecompose2dScale(e);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Pl.PDF_TO_CSS_UNITS);return s[0]<=n&&s[1]<=n}const Vie=["butt","round","square"],zie=["miter","round","bevel"],Wie={},ak={};var kl,EA,DA;const nT=class nT{constructor(t,s,n,i,o,{optionalContentConfig:r,markedContentStack:l=null},u,d){O(this,kl);this.ctx=t,this.current=new nk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=n,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=r,this.cachedCanvases=new Bie(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,s=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):s}beginDrawing({transform:t,viewport:s,transparency:n=!1,background:i=null}){const o=this.ctx.canvas.width,r=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,r),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",o,r);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Jt(this.compositeCtx))}this.ctx.save(),YC(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=Jt(this.ctx)}executeOperatorList(t,s,n,i){const o=t.argsArray,r=t.fnArray;let l=s||0;const u=o.length;if(u===l)return l;const d=u-l>tk&&typeof n=="function",f=d?Date.now()+Nie:0;let g=0;const m=this.commonObjs,C=this.objs;let w;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(w=r[l],w!==Ui.dependency)this[w].apply(this,o[l]);else for(const y of o[l]){const R=y.startsWith("g_")?m:C;if(!R.has(y))return R.get(y,n),l}if(l++,l===u)return l;if(d&&++g>tk){if(Date.now()>f)return n(),l;g=0}}}endDrawing(){k(this,kl,EA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const s of t.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);t.clear()}this._cachedBitmapsMap.clear(),k(this,kl,DA).call(this)}_scaleImage(t,s){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let o=Math.max(Math.hypot(s[0],s[1]),1),r=Math.max(Math.hypot(s[2],s[3]),1),l=n,u=i,d="prescale1",f,g;for(;o>2&&l>1||r>2&&u>1;){let m=l,C=u;o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),o/=l/m),r>2&&u>1&&(C=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,r/=u/C),f=this.cachedCanvases.getCanvas(d,m,C),g=f.context,g.clearRect(0,0,m,C),g.drawImage(t,0,0,l,u,0,0,m,C),t=f.canvas,l=m,u=C,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}_createMaskCanvas(t){const s=this.ctx,{width:n,height:i}=t,o=this.current.fillColor,r=this.current.patternFill,l=Jt(s);let u,d,f,g;if((t.bitmap||t.data)&&t.count>1){const B=t.bitmap||t.data.buffer;d=JSON.stringify(r?l:[l.slice(0,4),o]),u=this._cachedBitmapsMap.get(B),u||(u=new Map,this._cachedBitmapsMap.set(B,u));const W=u.get(d);if(W&&!r){const z=Math.round(Math.min(l[0],l[2])+l[4]),q=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:W,offsetX:z,offsetY:q}}f=W}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,i),ok(g.context,t));let m=Ne.transform(l,[1/n,0,0,-1/i,0,0]);m=Ne.transform(m,[1,0,0,1,0,-i]);const[C,w,y,R]=Ne.getAxialAlignedBoundingBox([0,0,n,i],m),A=Math.round(y-C)||1,D=Math.round(R-w)||1,E=this.cachedCanvases.getCanvas("fillCanvas",A,D),T=E.context,P=C,L=w;T.translate(-P,-L),T.transform(...m),f||(f=this._scaleImage(g.canvas,wr(T)),f=f.img,u&&r&&u.set(d,f)),T.imageSmoothingEnabled=rk(Jt(T),t.interpolate),KC(T,f,0,0,f.width,f.height,0,0,n,i),T.globalCompositeOperation="source-in";const N=Ne.transform(wr(T),[1,0,0,1,-P,-L]);return T.fillStyle=r?o.getPattern(s,this,N,bn.FILL):o,T.fillRect(0,0,n,i),u&&!r&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,E.canvas)),{canvas:E.canvas,offsetX:Math.round(P),offsetY:Math.round(L)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Vie[t]}setLineJoin(t){this.ctx.lineJoin=zie[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,s){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=s)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,n]of t)switch(s){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,s);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...Jt(this.suspendedCtx)),Hg(this.suspendedCtx,o),Hie(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,s,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,s,n,i){const o=i[0],r=i[1],l=i[2]-o,u=i[3]-r;l===0||u===0||(this.genericComposeSMask(s.context,n,l,u,s.subtype,s.backdrop,s.transferMap,o,r,s.offsetX,s.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,s,n,i,o,r,l,u,d,f,g){let m=t.canvas,C=u-f,w=d-g;if(r){const R=Ne.makeHexColor(...r);if(C<0||w<0||C+n>m.width||w+i>m.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,i),D=A.context;D.drawImage(m,-C,-w),D.globalCompositeOperation="destination-atop",D.fillStyle=R,D.fillRect(0,0,n,i),D.globalCompositeOperation="source-over",m=A.canvas,C=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(C,w,n,i),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=R,t.fillRect(C,w,n,i),t.restore()}}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),o==="Alpha"&&l?s.filter=this.filterFactory.addAlphaFilter(l):o==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter(l));const y=new Path2D;y.rect(u,d,n,i),s.clip(y),s.globalCompositeOperation="destination-in",s.drawImage(m,C,w,n,i,u,d,n,i),s.restore()}save(){this.inSMaskMode?(Hg(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Hg(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,s,n,i,o,r){this.ctx.transform(t,s,n,i,o,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,s,n){const i=this.ctx,o=this.current;let r=o.x,l=o.y,u,d;const f=Jt(i),g=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,m=g?n.slice(0):null;for(let C=0,w=0,y=t.length;C<y;C++)switch(t[C]|0){case Ui.rectangle:r=s[w++],l=s[w++];const R=s[w++],A=s[w++],D=r+R,E=l+A;i.moveTo(r,l),R===0||A===0?i.lineTo(D,E):(i.lineTo(D,l),i.lineTo(D,E),i.lineTo(r,E)),g||o.updateRectMinMax(f,[r,l,D,E]),i.closePath();break;case Ui.moveTo:r=s[w++],l=s[w++],i.moveTo(r,l),g||o.updatePathMinMax(f,r,l);break;case Ui.lineTo:r=s[w++],l=s[w++],i.lineTo(r,l),g||o.updatePathMinMax(f,r,l);break;case Ui.curveTo:u=r,d=l,r=s[w+4],l=s[w+5],i.bezierCurveTo(s[w],s[w+1],s[w+2],s[w+3],r,l),o.updateCurvePathMinMax(f,u,d,s[w],s[w+1],s[w+2],s[w+3],r,l,m),w+=6;break;case Ui.curveTo2:u=r,d=l,i.bezierCurveTo(r,l,s[w],s[w+1],s[w+2],s[w+3]),o.updateCurvePathMinMax(f,u,d,r,l,s[w],s[w+1],s[w+2],s[w+3],m),r=s[w+2],l=s[w+3],w+=4;break;case Ui.curveTo3:u=r,d=l,r=s[w+2],l=s[w+3],i.bezierCurveTo(s[w],s[w+1],r,l,r,l),o.updateCurvePathMinMax(f,u,d,s[w],s[w+1],r,l,r,l,m),w+=4;break;case Ui.closePath:i.closePath();break}g&&o.updateScalingPathMinMax(f,m),o.setCurrentPoint(r,l)}closePath(){this.ctx.closePath()}stroke(t=!0){const s=this.ctx,n=this.current.strokeColor;s.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(s.save(),s.strokeStyle=n.getPattern(s,this,wr(s),bn.STROKE),this.rescaleAndStroke(!1),s.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const s=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let o=!1;i&&(s.save(),s.fillStyle=n.getPattern(s,this,wr(s),bn.FILL),o=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&r!==null&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),o&&s.restore(),t&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Wie}eoClip(){this.pendingClip=ak}beginText(){this.current.textMatrix=hH,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,s=this.ctx;if(t===void 0){s.beginPath();return}s.save(),s.beginPath();for(const n of t)s.setTransform(...n.transform),s.translate(n.x,n.y),n.addToPath(s,n.fontSize);s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,s){var f;const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=n.fontMatrix||Qx,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ct("Invalid font matrix for font "+t),s<0?(s=-s,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=s,n.isType3Font)return;const o=n.loadedName||"sans-serif",r=((f=n.systemFontInfo)==null?void 0:f.css)||`"${o}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const u=n.italic?"italic":"normal";let d=s;s<JL?d=JL:s>ek&&(d=ek),this.current.fontSizeScale=s/d,this.ctx.font=`${u} ${l} ${d}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,s){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}setTextMatrix(t,s,n,i,o,r){this.current.textMatrix=[t,s,n,i,o,r],this.current.textMatrixScale=Math.hypot(t,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,s,n,i){const o=this.ctx,r=this.current,l=r.font,u=r.textRenderingMode,d=r.fontSize/r.fontSizeScale,f=u&Zs.FILL_STROKE_MASK,g=!!(u&Zs.ADD_TO_PATH_FLAG),m=r.patternFill&&!l.missingFile;let C;(l.disableFontFace||g||m)&&(C=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||m?(o.save(),o.translate(s,n),o.beginPath(),C(o,d),i&&o.setTransform(...i),(f===Zs.FILL||f===Zs.FILL_STROKE)&&o.fill(),(f===Zs.STROKE||f===Zs.FILL_STROKE)&&o.stroke(),o.restore()):((f===Zs.FILL||f===Zs.FILL_STROKE)&&o.fillText(t,s,n),(f===Zs.STROKE||f===Zs.FILL_STROKE)&&o.strokeText(t,s,n)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Jt(o),x:s,y:n,fontSize:d,addToPath:C})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const s=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<s.length;i+=4)if(s[i]>0&&s[i]<255){n=!0;break}return mt(this,"isFontSubpixelAAEnabled",n)}showText(t){const s=this.current,n=s.font;if(n.isType3Font)return this.showType3Text(t);const i=s.fontSize;if(i===0)return;const o=this.ctx,r=s.fontSizeScale,l=s.charSpacing,u=s.wordSpacing,d=s.fontDirection,f=s.textHScale*d,g=t.length,m=n.vertical,C=m?1:-1,w=n.defaultVMetrics,y=i*s.fontMatrix[0],R=s.textRenderingMode===Zs.FILL&&!n.disableFontFace&&!s.patternFill;o.save(),o.transform(...s.textMatrix),o.translate(s.x,s.y+s.textRise),d>0?o.scale(f,-1):o.scale(f,1);let A;if(s.patternFill){o.save();const L=s.fillColor.getPattern(o,this,wr(o),bn.FILL);A=Jt(o),o.restore(),o.fillStyle=L}let D=s.lineWidth;const E=s.textMatrixScale;if(E===0||D===0){const L=s.textRenderingMode&Zs.FILL_STROKE_MASK;(L===Zs.STROKE||L===Zs.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=E;if(r!==1&&(o.scale(r,r),D/=r),o.lineWidth=D,n.isInvalidPDFjsFont){const L=[];let N=0;for(const B of t)L.push(B.unicode),N+=B.width;o.fillText(L.join(""),0,0),s.x+=N*y*f,o.restore(),this.compose();return}let T=0,P;for(P=0;P<g;++P){const L=t[P];if(typeof L=="number"){T+=C*L*i/1e3;continue}let N=!1;const B=(L.isSpace?u:0)+l,W=L.fontChar,z=L.accent;let q,K,$=L.width;if(m){const ee=L.vmetric||w,G=-(L.vmetric?ee[1]:$*.5)*y,V=ee[2]*y;$=ee?-ee[0]:$,q=G/r,K=(T+V)/r}else q=T/r,K=0;if(n.remeasure&&$>0){const ee=o.measureText(W).width*1e3/i*r;if($<ee&&this.isFontSubpixelAAEnabled){const G=$/ee;N=!0,o.save(),o.scale(G,1),q/=G}else $!==ee&&(q+=($-ee)/2e3*i/r)}if(this.contentVisible&&(L.isInFont||n.missingFile)){if(R&&!z)o.fillText(W,q,K);else if(this.paintChar(W,q,K,A),z){const ee=q+i*z.offset.x/r,G=K-i*z.offset.y/r;this.paintChar(z.fontChar,ee,G,A)}}const te=m?$*y-B*d:$*y+B*d;T+=te,N&&o.restore()}m?s.y-=T:s.x+=T*f,o.restore(),this.compose()}showType3Text(t){const s=this.ctx,n=this.current,i=n.font,o=n.fontSize,r=n.fontDirection,l=i.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,f=n.textHScale*r,g=n.fontMatrix||Qx,m=t.length,C=n.textRenderingMode===Zs.INVISIBLE;let w,y,R,A;if(!(C||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y),s.scale(f,r),w=0;w<m;++w){if(y=t[w],typeof y=="number"){A=l*y*o/1e3,this.ctx.translate(A,0),n.x+=A*f;continue}const D=(y.isSpace?d:0)+u,E=i.charProcOperatorList[y.operatorListId];if(!E){ct(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),s.scale(o,o),s.transform(...g),this.executeOperatorList(E),this.restore()),R=Ne.applyTransform([y.width,0],g)[0]*o+D,s.translate(R,0),n.x+=R*f}s.restore(),this.processingType3=null}}setCharWidth(t,s){}setCharWidthAndBounds(t,s,n,i,o,r){this.ctx.rect(n,i,o-n,r-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let s;if(t[0]==="TilingPattern"){const n=t[1],i=this.baseTransform||Jt(this.ctx),o={createCanvasGraphics:r=>new nT(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new AA(t,n,this.ctx,o,i)}else s=this._getPattern(t[1],t[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,s,n){this.ctx.strokeStyle=this.current.strokeColor=Ne.makeHexColor(t,s,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,s,n){this.ctx.fillStyle=this.current.fillColor=Ne.makeHexColor(t,s,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,s=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=Oie(this.getObject(t)),this.cachedPatterns.set(t,n)),s&&(n.matrix=s),n}shadingFill(t){if(!this.contentVisible)return;const s=this.ctx;this.save();const n=this._getPattern(t);s.fillStyle=n.getPattern(s,this,wr(s),bn.SHADING);const i=wr(s);if(i){const{width:o,height:r}=s.canvas,[l,u,d,f]=Ne.getAxialAlignedBoundingBox([0,0,o,r],i);this.ctx.fillRect(l,u,d-l,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Jt(this.ctx),s)){const n=s[2]-s[0],i=s[3]-s[1];this.ctx.rect(s[0],s[1],n,i),this.current.updateRectMinMax(Jt(this.ctx),s),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||ky("TODO: Support non-isolated groups."),t.knockout&&ct("Knockout groups not supported.");const n=Jt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=Ne.getAxialAlignedBoundingBox(t.bbox,Jt(s));const o=[0,0,s.canvas.width,s.canvas.height];i=Ne.intersect(i,o)||[0,0,0,0];const r=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-r,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,d),m=g.context;m.translate(-r,-l),m.transform(...n),t.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:r,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(r,l),s.save()),Hg(s,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Jt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const o=Ne.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],i);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,s,n,i,o){if(k(this,kl,EA).call(this),YC(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const r=s[2]-s[0],l=s[3]-s[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=s[0],n[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=r,s[3]=l;const[u,d]=Ne.singularValueDecompose2dScale(Jt(this.ctx)),{viewportScale:f}=this,g=Math.ceil(r*this.outputScaleX*f),m=Math.ceil(l*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(g,m);const{canvas:C,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,C),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),YC(this.ctx)}else YC(this.ctx),this.endPath(),this.ctx.rect(s[0],s[1],r,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new nk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,kl,DA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(t.data,t),t.count=s;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Gie(t)),i.compiled)){i.compiled(n);return}const o=this._createMaskCanvas(t),r=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,s,n=0,i=0,o,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const u=Jt(l);l.transform(s,n,i,o,0,0);const d=this._createMaskCanvas(t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,g=r.length;f<g;f+=2){const m=Ne.transform(u,[s,n,i,o,r[f],r[f+1]]),[C,w]=Ne.applyTransform([0,0],m);l.drawImage(d.canvas,C,w)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const s=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const o of t){const{data:r,width:l,height:u,transform:d}=o,f=this.cachedCanvases.getCanvas("maskCanvas",l,u),g=f.context;g.save();const m=this.getObject(r,o);ok(g,m),g.globalCompositeOperation="source-in",g.fillStyle=i?n.getPattern(g,this,wr(s),bn.FILL):n,g.fillRect(0,0,l,u),g.restore(),s.save(),s.transform(...d),s.scale(1,-1),KC(s,f.canvas,0,0,l,u,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){ct("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(t,s,n,i){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){ct("Dependent image isn't ready yet");return}const r=o.width,l=o.height,u=[];for(let d=0,f=i.length;d<f;d+=2)u.push({transform:[s,0,0,n,i[d],i[d+1]],x:0,y:0,w:r,h:l});this.paintInlineImageXObjectGroup(o,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:s,width:n,height:i}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,i),r=o.context;return r.filter=this.current.transferMaps,r.drawImage(s,0,0),r.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const s=t.width,n=t.height,i=this.ctx;if(this.save(),!cn){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/s,-1/n);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",s,n).context;ik(u,t),o=this.applyTransferMapsToCanvas(u)}const r=this._scaleImage(o,wr(i));i.imageSmoothingEnabled=rk(Jt(i),t.interpolate),KC(i,r.img,0,0,r.paintWidth,r.paintHeight,0,-n,s,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,s){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const o=t.width,r=t.height,u=this.cachedCanvases.getCanvas("inlineImage",o,r).context;ik(u,t),i=this.applyTransferMapsToCanvas(u)}for(const o of s)n.save(),n.transform(...o.transform),n.scale(1,-1),KC(n,i,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,s){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,s){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(s||(this.pendingClip===ak?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Jt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const s=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:s,b:n,c:i,d:o}=this.ctx.getTransform();let r,l;if(n===0&&i===0){const u=Math.abs(s),d=Math.abs(o);if(u===d)if(t===0)r=l=1/u;else{const f=u*t;r=l=f<1?1/f:1}else if(t===0)r=1/u,l=1/d;else{const f=u*t,g=d*t;r=f<1?1/f:1,l=g<1?1/g:1}}else{const u=Math.abs(s*o-n*i),d=Math.hypot(s,n),f=Math.hypot(i,o);if(t===0)r=f/u,l=d/u;else{const g=t*u;r=f>g?f/g:1,l=d>g?d/g:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:s}=this,{lineWidth:n}=this.current,[i,o]=this.getScaleForStroking();if(s.lineWidth=n||1,i===1&&o===1){s.stroke();return}const r=s.getLineDash();if(t&&s.save(),s.scale(i,o),r.length>0){const l=Math.max(i,o);s.setLineDash(r.map(u=>u/l)),s.lineDashOffset/=l}s.stroke(),t&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};kl=new WeakSet,EA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},DA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const s=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}};let ih=nT;for(const e in Ui)ih.prototype[e]!==void 0&&(ih.prototype[Ui[e]]=ih.prototype[e]);var sm,nm;class Xr{static get workerPort(){return v(this,sm)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");M(this,sm,t)}static get workerSrc(){return v(this,nm)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");M(this,nm,t)}}sm=new WeakMap,nm=new WeakMap,O(Xr,sm,null),O(Xr,nm,"");const XC={DATA:1,ERROR:2},ps={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yn(e){switch(e instanceof Error||typeof e=="object"&&e!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new zu(e.message);case"MissingPDFException":return new Vu(e.message);case"PasswordException":return new Zx(e.message,e.code);case"UnexpectedResponseException":return new Iy(e.message,e.status);case"UnknownErrorException":return new Jx(e.message,e.details);default:return new Jx(e.message,e.toString())}}var Sh,_i,XH,QH,ZH,wb;class Yg{constructor(t,s,n){O(this,_i);O(this,Sh,new AbortController);this.sourceName=t,this.targetName=s,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,_i,XH).bind(this),{signal:v(this,Sh).signal})}on(t,s){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=s}send(t,s,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:s},n)}sendWithPromise(t,s,n){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:s},n)}catch(r){o.reject(r)}return o.promise}sendWithStream(t,s,n,i){const o=this.streamId++,r=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:r,targetName:l,action:t,streamId:o,data:s,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[o].pullCall=f,u.postMessage({sourceName:r,targetName:l,stream:ps.PULL,streamId:o,desiredSize:d.desiredSize}),f.promise},cancel:d=>{As(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[o].cancelCall=f,this.streamControllers[o].isClosed=!0,u.postMessage({sourceName:r,targetName:l,stream:ps.CANCEL,streamId:o,reason:Yn(d)}),f.promise}},n)}destroy(){var t;(t=v(this,Sh))==null||t.abort(),M(this,Sh,null)}}Sh=new WeakMap,_i=new WeakSet,XH=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){k(this,_i,ZH).call(this,t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===XC.DATA)i.resolve(t.data);else if(t.callback===XC.ERROR)i.reject(Yn(t.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[t.action];if(!s)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,o=this.comObj;new Promise(function(r){r(s(t.data))}).then(function(r){o.postMessage({sourceName:n,targetName:i,callback:XC.DATA,callbackId:t.callbackId,data:r})},function(r){o.postMessage({sourceName:n,targetName:i,callback:XC.ERROR,callbackId:t.callbackId,reason:Yn(r)})});return}if(t.streamId){k(this,_i,QH).call(this,t);return}s(t.data)},QH=function(t){const s=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,r=this,l=this.actionHandler[t.action],u={enqueue(d,f=1,g){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:ps.ENQUEUE,streamId:s,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:ps.CLOSE,streamId:s}),delete r.streamSinks[s])},error(d){As(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:ps.ERROR,streamId:s,reason:Yn(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[s]=u,new Promise(function(d){d(l(t.data,u))}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:ps.START_COMPLETE,streamId:s,success:!0})},function(d){o.postMessage({sourceName:n,targetName:i,stream:ps.START_COMPLETE,streamId:s,reason:Yn(d)})})},ZH=function(t){const s=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,r=this.streamControllers[s],l=this.streamSinks[s];switch(t.stream){case ps.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Yn(t.reason));break;case ps.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Yn(t.reason));break;case ps.PULL:if(!l){o.postMessage({sourceName:n,targetName:i,stream:ps.PULL_COMPLETE,streamId:s,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:ps.PULL_COMPLETE,streamId:s,success:!0})},function(u){o.postMessage({sourceName:n,targetName:i,stream:ps.PULL_COMPLETE,streamId:s,reason:Yn(u)})});break;case ps.ENQUEUE:if(As(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case ps.CLOSE:if(As(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),k(this,_i,wb).call(this,r,s);break;case ps.ERROR:As(r,"error should have stream controller"),r.controller.error(Yn(t.reason)),k(this,_i,wb).call(this,r,s);break;case ps.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Yn(t.reason)),k(this,_i,wb).call(this,r,s);break;case ps.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,Yn(t.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:ps.CANCEL_COMPLETE,streamId:s,success:!0})},function(u){o.postMessage({sourceName:n,targetName:i,stream:ps.CANCEL_COMPLETE,streamId:s,reason:Yn(u)})}),l.sinkCapability.reject(Yn(t.reason)),l.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}},wb=async function(t,s){var n,i,o;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[s]};var Ic,im;class Uie{constructor({parsedData:t,rawData:s}){O(this,Ic);O(this,im);M(this,Ic,t),M(this,im,s)}getRaw(){return v(this,im)}get(t){return v(this,Ic).get(t)??null}getAll(){return zD(v(this,Ic))}has(t){return v(this,Ic).has(t)}}Ic=new WeakMap,im=new WeakMap;const Gd=Symbol("INTERNAL");var om,rm,am,Rh;class jie{constructor(t,{name:s,intent:n,usage:i,rbGroups:o}){O(this,om,!1);O(this,rm,!1);O(this,am,!1);O(this,Rh,!0);M(this,om,!!(t&ii.DISPLAY)),M(this,rm,!!(t&ii.PRINT)),this.name=s,this.intent=n,this.usage=i,this.rbGroups=o}get visible(){if(v(this,am))return v(this,Rh);if(!v(this,Rh))return!1;const{print:t,view:s}=this.usage;return v(this,om)?(s==null?void 0:s.viewState)!=="OFF":v(this,rm)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,s,n=!1){t!==Gd&&Wt("Internal method `_setVisible` called."),M(this,am,n),M(this,Rh,s)}}om=new WeakMap,rm=new WeakMap,am=new WeakMap,Rh=new WeakMap;var rl,Pt,xh,Ah,lm,TA;class $ie{constructor(t,s=ii.DISPLAY){O(this,lm);O(this,rl,null);O(this,Pt,new Map);O(this,xh,null);O(this,Ah,null);if(this.renderingIntent=s,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,M(this,Ah,t.order);for(const n of t.groups)v(this,Pt).set(n.id,new jie(s,n));if(t.baseState==="OFF")for(const n of v(this,Pt).values())n._setVisible(Gd,!1);for(const n of t.on)v(this,Pt).get(n)._setVisible(Gd,!0);for(const n of t.off)v(this,Pt).get(n)._setVisible(Gd,!1);M(this,xh,this.getHash())}}isVisible(t){if(v(this,Pt).size===0)return!0;if(!t)return ky("Optional content group not defined."),!0;if(t.type==="OCG")return v(this,Pt).has(t.id)?v(this,Pt).get(t.id).visible:(ct(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return k(this,lm,TA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const s of t.ids){if(!v(this,Pt).has(s))return ct(`Optional content group not found: ${s}`),!0;if(v(this,Pt).get(s).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const s of t.ids){if(!v(this,Pt).has(s))return ct(`Optional content group not found: ${s}`),!0;if(!v(this,Pt).get(s).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const s of t.ids){if(!v(this,Pt).has(s))return ct(`Optional content group not found: ${s}`),!0;if(!v(this,Pt).get(s).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const s of t.ids){if(!v(this,Pt).has(s))return ct(`Optional content group not found: ${s}`),!0;if(v(this,Pt).get(s).visible)return!1}return!0}return ct(`Unknown optional content policy ${t.policy}.`),!0}return ct(`Unknown group type ${t.type}.`),!0}setVisibility(t,s=!0,n=!0){var o;const i=v(this,Pt).get(t);if(!i){ct(`Optional content group not found: ${t}`);return}if(n&&s&&i.rbGroups.length)for(const r of i.rbGroups)for(const l of r)l!==t&&((o=v(this,Pt).get(l))==null||o._setVisible(Gd,!1,!0));i._setVisible(Gd,!!s,!0),M(this,rl,null)}setOCGState({state:t,preserveRB:s}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const o=v(this,Pt).get(i);if(o)switch(n){case"ON":this.setVisibility(i,!0,s);break;case"OFF":this.setVisibility(i,!1,s);break;case"Toggle":this.setVisibility(i,!o.visible,s);break}}M(this,rl,null)}get hasInitialVisibility(){return v(this,xh)===null||this.getHash()===v(this,xh)}getOrder(){return v(this,Pt).size?v(this,Ah)?v(this,Ah).slice():[...v(this,Pt).keys()]:null}getGroups(){return v(this,Pt).size>0?zD(v(this,Pt)):null}getGroup(t){return v(this,Pt).get(t)||null}getHash(){if(v(this,rl)!==null)return v(this,rl);const t=new BH;for(const[s,n]of v(this,Pt))t.update(`${s}:${n.visible}`);return M(this,rl,t.hexdigest())}}rl=new WeakMap,Pt=new WeakMap,xh=new WeakMap,Ah=new WeakMap,lm=new WeakSet,TA=function(t){const s=t.length;if(s<2)return!0;const n=t[0];for(let i=1;i<s;i++){const o=t[i];let r;if(Array.isArray(o))r=k(this,lm,TA).call(this,o);else if(v(this,Pt).has(o))r=v(this,Pt).get(o).visible;else return ct(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return n==="And"};class qie{constructor(t,{disableRange:s=!1,disableStream:n=!1}){As(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:r,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=l,(o==null?void 0:o.length)>0){const u=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!s,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:s}){const n=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});As(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var s,n,i,o;t.total===void 0?(n=(s=this._rangeReaders[0])==null?void 0:s.onProgress)==null||n.call(s,{loaded:t.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const s=this._rangeReaders.indexOf(t);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){As(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Kie(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=new Yie(this,t,s);return this._pdfDataRangeTransport.requestDataRange(t,s),this._rangeReaders.push(n),n}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class Kie{constructor(t,s,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=jD(i)?i:null,this._queuedChunks=s||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Yie{constructor(t,s,n){this._stream=t,this._begin=s,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Xie(e){let t=!0,s=n("filename\\*","i").exec(e);if(s){s=s[1];let f=l(s);return f=unescape(f),f=u(f),f=d(f),o(f)}if(s=r(e),s){const f=d(s);return o(f)}if(s=n("filename","i").exec(e),s){s=s[1];let f=l(s);return f=d(f),o(f)}function n(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function i(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const m=new TextDecoder(f,{fatal:!0}),C=Oy(g);g=m.decode(C),t=!1}catch{}}return g}function o(f){return t&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),t&&(f=i("iso-8859-1",f))),f}function r(f){const g=[];let m;const C=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=C.exec(f))!==null;){let[,y,R,A]=m;if(y=parseInt(y,10),y in g){if(y===0)break;continue}g[y]=[R,A]}const w=[];for(let y=0;y<g.length&&y in g;++y){let[R,A]=g[y];A=l(A),R&&(A=unescape(A),y===0&&(A=u(A))),w.push(A)}return w.join("")}function l(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let m=0;m<g.length;++m){const C=g[m].indexOf('"');C!==-1&&(g[m]=g[m].slice(0,C),g.length=m+1),g[m]=g[m].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function u(f){const g=f.indexOf("'");if(g===-1)return f;const m=f.slice(0,g),w=f.slice(g+1).replace(/^[^']*'/,"");return i(m,w)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,m,C,w){if(C==="q"||C==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,R){return String.fromCharCode(parseInt(R,16))}),i(m,w);try{w=atob(w)}catch{}return i(m,w)})}return""}function XD(e,t){const s=new Headers;if(!e||!t||typeof t!="object")return s;for(const n in t){const i=t[n];i!==void 0&&s.append(n,i)}return s}function QD({responseHeaders:e,isHttp:t,rangeChunkSize:s,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*s)||n||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function ZD(e){const t=e.get("Content-Disposition");if(t){let s=Xie(t);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(jD(s))return s}return null}function Hy(e,t){return e===404||e===0&&t.startsWith("file:")?new Vu('Missing PDF "'+t+'".'):new Iy(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function JH(e){return e===200||e===206}function eB(e,t,s){return{method:"GET",headers:e,signal:s.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function tB(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ct(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class lk{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=XD(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return As(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Qie(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=new Zie(this,t,s);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Qie{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange;const n=new Headers(t.headers),i=s.url;fetch(i,eB(n,this._withCredentials,this._abortController)).then(o=>{if(!JH(o.status))throw Hy(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();const r=o.headers,{allowRangeRequests:l,suggestedLength:u}=QD({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=ZD(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:tB(t),done:!1})}cancel(t){var s;(s=this._reader)==null||s.cancel(t),this._abortController.abort()}}class Zie{constructor(t,s,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${s}-${n-1}`);const r=i.url;fetch(r,eB(o,this._withCredentials,this._abortController)).then(l=>{if(!JH(l.status))throw Hy(l.status,r);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:tB(t),done:!1})}cancel(t){var s;(s=this._reader)==null||s.cancel(t),this._abortController.abort()}}const tx=200,sx=206;function Jie(e){const t=e.response;return typeof t!="string"?t:Oy(t).buffer}class eoe{constructor({url:t,httpHeaders:s,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=XD(this.isHttp,s),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,s,n){const i={begin:t,end:s};for(const o in n)i[o]=n[o];return this.request(i)}requestFull(t){return this.request(t)}request(t){const s=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const[o,r]of this.headers)s.setRequestHeader(o,r);return this.isHttp&&"begin"in t&&"end"in t?(s.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=sx):i.expectedStatus=tx,s.responseType="arraybuffer",t.onError&&(s.onerror=function(o){t.onError(s.status)}),s.onreadystatechange=this.onStateChange.bind(this,n),s.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,s.send(null),n}onProgress(t,s){var i;const n=this.pendingRequests[t];n&&((i=n.onProgress)==null||i.call(n,s))}onStateChange(t,s){var u,d,f;const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,i.status);return}const o=i.status||tx;if(!(o===tx&&n.expectedStatus===sx)&&o!==n.expectedStatus){(d=n.onError)==null||d.call(n,i.status);return}const l=Jie(i);if(o===sx){const g=i.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(m[1],10),chunk:l})}else l?n.onDone({begin:0,chunk:l}):(f=n.onError)==null||f.call(n,i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const s=this.pendingRequests[t].xhr;delete this.pendingRequests[t],s.abort()}}class toe{constructor(t){this._source=t,this._manager=new eoe(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const s=this._rangeRequestReaders.indexOf(t);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return As(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new soe(this._manager,this._source),this._fullRequestReader}getRangeReader(t,s){const n=new noe(this._manager,t,s);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class soe{constructor(t,s){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,s=this._manager.getRequestXhr(t),n=new Headers(s.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{const[l,...u]=r.split(": ");return[l,u.join(": ")]})),{allowRangeRequests:i,suggestedLength:o}=QD({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=ZD(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Hy(t,this._url),this._headersCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var s;(s=this.onProgress)==null||s.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class noe{constructor(t,s,n){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(s,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const s=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Hy(t,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ioe=/^[a-z][a-z0-9\-+.]+:/i;function ooe(e){if(ioe.test(e))return new URL(e);const t=Ml.get("url");return new URL(t.pathToFileURL(e))}function sB(e,t,s){return e.protocol==="http:"?Ml.get("http").request(e,{headers:t},s):Ml.get("https").request(e,{headers:t},s)}class roe{constructor(t){this.source=t,this.url=ooe(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=XD(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return As(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new coe(this):new aoe(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=this.isFsUrl?new uoe(this,t,s):new loe(this,t,s);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var s;(s=this._fullRequestReader)==null||s.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class nB{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=t.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class iB{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class aoe extends nB{constructor(t){super(t);const s=Object.fromEntries(t.headers),n=i=>{if(i.statusCode===404){const u=new Vu(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(i);const o=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:l}=QD({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=l||this._contentLength,this._filename=ZD(o)};this._request=sB(this._url,s,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class loe extends iB{constructor(t,s,n){super(t);const i=Object.fromEntries(t.headers);i.Range=`bytes=${s}-${n-1}`;const o=r=>{if(r.statusCode===404){const l=new Vu(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(r)};this._request=sB(this._url,i,o),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class coe extends nB{constructor(t){super(t);const s=Ml.get("fs");s.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Vu(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class uoe extends iB{constructor(t,s,n){super(t);const i=Ml.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:s,end:n-1}))}}const doe=1e5,kn=30,hoe=.8;var Fk,al,_n,cm,um,Oc,Lr,dm,hm,_c,Eh,Dh,ll,Th,fm,Fh,Nc,gm,pm,os,Hc,Bc,mm,cl,Ph,ca,oB,rB,PA,ui,yb,MA,aB,lB;let FA=(os=class{constructor({textContentSource:t,container:s,viewport:n}){O(this,ca);O(this,al,Promise.withResolvers());O(this,_n,null);O(this,cm,!1);O(this,um,!!((Fk=globalThis.FontInspector)!=null&&Fk.enabled));O(this,Oc,null);O(this,Lr,null);O(this,dm,0);O(this,hm,0);O(this,_c,null);O(this,Eh,null);O(this,Dh,0);O(this,ll,0);O(this,Th,Object.create(null));O(this,fm,[]);O(this,Fh,null);O(this,Nc,[]);O(this,gm,new WeakMap);O(this,pm,null);var u;if(t instanceof ReadableStream)M(this,Fh,t);else if(typeof t=="object")M(this,Fh,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,_n,M(this,Eh,s)),M(this,ll,n.scale*(globalThis.devicePixelRatio||1)),M(this,Dh,n.rotation),M(this,Lr,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:r,pageY:l}=n.rawDims;M(this,pm,[1,0,0,-1,-r,l+o]),M(this,hm,i),M(this,dm,o),k(u=os,ui,aB).call(u),Eu(s,n),v(this,al).promise.finally(()=>{v(os,Ph).delete(this),M(this,Lr,null),M(this,Th,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:s}=Rn.platform;return mt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&s?"Calibri, ":""}sans-serif`],["monospace",`${t&&s?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{v(this,_c).read().then(({value:s,done:n})=>{if(n){v(this,al).resolve();return}v(this,Oc)??M(this,Oc,s.lang),Object.assign(v(this,Th),s.styles),k(this,ca,oB).call(this,s.items),t()},v(this,al).reject)};return M(this,_c,v(this,Fh).getReader()),v(os,Ph).add(this),t(),v(this,al).promise}update({viewport:t,onBefore:s=null}){var o;const n=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==v(this,Dh)&&(s==null||s(),M(this,Dh,i),Eu(v(this,Eh),{rotation:i})),n!==v(this,ll)){s==null||s(),M(this,ll,n);const r={div:null,properties:null,ctx:k(o=os,ui,yb).call(o,v(this,Oc))};for(const l of v(this,Nc))r.properties=v(this,gm).get(l),r.div=l,k(this,ca,PA).call(this,r)}}cancel(){var s;const t=new zu("TextLayer task cancelled.");(s=v(this,_c))==null||s.cancel(t).catch(()=>{}),M(this,_c,null),v(this,al).reject(t)}get textDivs(){return v(this,Nc)}get textContentItemsStr(){return v(this,fm)}static cleanup(){if(!(v(this,Ph).size>0)){v(this,Hc).clear();for(const{canvas:t}of v(this,Bc).values())t.remove();v(this,Bc).clear()}}},al=new WeakMap,_n=new WeakMap,cm=new WeakMap,um=new WeakMap,Oc=new WeakMap,Lr=new WeakMap,dm=new WeakMap,hm=new WeakMap,_c=new WeakMap,Eh=new WeakMap,Dh=new WeakMap,ll=new WeakMap,Th=new WeakMap,fm=new WeakMap,Fh=new WeakMap,Nc=new WeakMap,gm=new WeakMap,pm=new WeakMap,Hc=new WeakMap,Bc=new WeakMap,mm=new WeakMap,cl=new WeakMap,Ph=new WeakMap,ca=new WeakSet,oB=function(t){var i,o;if(v(this,cm))return;(o=v(this,Lr)).ctx??(o.ctx=k(i=os,ui,yb).call(i,v(this,Oc)));const s=v(this,Nc),n=v(this,fm);for(const r of t){if(s.length>doe){ct("Ignoring additional textDivs for performance reasons."),M(this,cm,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=v(this,_n);M(this,_n,document.createElement("span")),v(this,_n).classList.add("markedContent"),r.id!==null&&v(this,_n).setAttribute("id",`${r.id}`),l.append(v(this,_n))}else r.type==="endMarkedContent"&&M(this,_n,v(this,_n).parentNode);continue}n.push(r.str),k(this,ca,rB).call(this,r)}},rB=function(t){var y;const s=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};v(this,Nc).push(s);const i=Ne.transform(v(this,pm),t.transform);let o=Math.atan2(i[1],i[0]);const r=v(this,Th)[t.fontName];r.vertical&&(o+=Math.PI/2);let l=v(this,um)&&r.fontSubstitution||r.fontFamily;l=os.fontFamilyMap.get(l)||l;const u=Math.hypot(i[2],i[3]),d=u*k(y=os,ui,lB).call(y,l,v(this,Oc));let f,g;o===0?(f=i[4],g=i[5]-d):(f=i[4]+d*Math.sin(o),g=i[5]-d*Math.cos(o));const m="calc(var(--scale-factor)*",C=s.style;v(this,_n)===v(this,Eh)?(C.left=`${(100*f/v(this,hm)).toFixed(2)}%`,C.top=`${(100*g/v(this,dm)).toFixed(2)}%`):(C.left=`${m}${f.toFixed(2)}px)`,C.top=`${m}${g.toFixed(2)}px)`),C.fontSize=`${m}${(v(os,cl)*u).toFixed(2)}px)`,C.fontFamily=l,n.fontSize=u,s.setAttribute("role","presentation"),s.textContent=t.str,s.dir=t.dir,v(this,um)&&(s.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const R=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);R!==A&&Math.max(R,A)/Math.min(R,A)>1.5&&(w=!0)}if(w&&(n.canvasWidth=r.vertical?t.height:t.width),v(this,gm).set(s,n),v(this,Lr).div=s,v(this,Lr).properties=n,k(this,ca,PA).call(this,v(this,Lr)),n.hasText&&v(this,_n).append(s),n.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),v(this,_n).append(R)}},PA=function(t){var l;const{div:s,properties:n,ctx:i}=t,{style:o}=s;let r="";if(v(os,cl)>1&&(r=`scale(${1/v(os,cl)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;k(l=os,ui,MA).call(l,i,f*v(this,ll),u);const{width:g}=i.measureText(s.textContent);g>0&&(r=`scaleX(${d*v(this,ll)/g}) ${r}`)}n.angle!==0&&(r=`rotate(${n.angle}deg) ${r}`),r.length>0&&(o.transform=r)},ui=new WeakSet,yb=function(t=null){let s=v(this,Bc).get(t||(t=""));if(!s){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),s=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),v(this,Bc).set(t,s),v(this,mm).set(s,{size:0,family:""})}return s},MA=function(t,s,n){const i=v(this,mm).get(t);s===i.size&&n===i.family||(t.font=`${s}px ${n}`,i.size=s,i.family=n)},aB=function(){if(v(this,cl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),M(this,cl,t.getBoundingClientRect().height),t.remove()},lB=function(t,s){const n=v(this,Hc).get(t);if(n)return n;const i=k(this,ui,yb).call(this,s);i.canvas.width=i.canvas.height=kn,k(this,ui,MA).call(this,i,kn,t);const o=i.measureText("");let r=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(r){const f=r/(r+l);return v(this,Hc).set(t,f),i.canvas.width=i.canvas.height=0,f}i.strokeStyle="red",i.clearRect(0,0,kn,kn),i.strokeText("g",0,0);let u=i.getImageData(0,0,kn,kn).data;l=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){l=Math.ceil(f/4/kn);break}i.clearRect(0,0,kn,kn),i.strokeText("A",0,kn),u=i.getImageData(0,0,kn,kn).data,r=0;for(let f=0,g=u.length;f<g;f+=4)if(u[f]>0){r=kn-Math.floor(f/4/kn);break}i.canvas.width=i.canvas.height=0;const d=r?r/(r+l):hoe;return v(this,Hc).set(t,d),d},O(os,ui),O(os,Hc,new Map),O(os,Bc,new Map),O(os,mm,new WeakMap),O(os,cl,null),O(os,Ph,new Set),os);class Ip{static textContent(t){const s=[],n={items:s,styles:Object.create(null)};function i(o){var u;if(!o)return;let r=null;const l=o.name;if(l==="#text")r=o.value;else if(Ip.shouldBuildText(l))(u=o==null?void 0:o.attributes)!=null&&u.textContent?r=o.attributes.textContent:o.value&&(r=o.value);else return;if(r!==null&&s.push({str:r}),!!o.children)for(const d of o.children)i(d)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const foe=65536,goe=100,poe=5e3,moe=cn?Tie:Aie,voe=cn?Fie:UH,Coe=cn?Die:Eie,boe=cn?Pie:KH;function woe(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new LA,{docId:s}=t,n=e.url?yoe(e.url):null,i=e.data?Soe(e.data):null,o=e.httpHeaders||null,r=e.withCredentials===!0,l=e.password??null,u=e.range instanceof cB?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:foe;let f=e.worker instanceof oh?e.worker:null;const g=e.verbosity,m=typeof e.docBaseUrl=="string"&&!Ny(e.docBaseUrl)?e.docBaseUrl:null,C=typeof e.cMapUrl=="string"?e.cMapUrl:null,w=e.cMapPacked!==!1,y=e.CMapReaderFactory||voe,R=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,A=e.StandardFontDataFactory||boe,D=e.stopAtErrors!==!0,E=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,T=e.isEvalSupported!==!1,P=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!cn,L=typeof e.isChrome=="boolean"?e.isChrome:!Rn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),N=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,B=typeof e.disableFontFace=="boolean"?e.disableFontFace:cn,W=e.fontExtraProperties===!0,z=e.enableXfa===!0,q=e.ownerDocument||globalThis.document,K=e.disableRange===!0,$=e.disableStream===!0,te=e.disableAutoFetch===!0,ee=e.pdfBug===!0,G=e.CanvasFactory||moe,V=e.FilterFactory||Coe,U=e.enableHWA===!0,re=u?u.length:e.length??NaN,H=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!cn&&!B,Y=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:y===UH&&A===KH&&C&&R&&zg(C,document.baseURI)&&zg(R,document.baseURI);e.canvasFactory&&XL("`canvasFactory`-instance option, please use `CanvasFactory` instead."),e.filterFactory&&XL("`filterFactory`-instance option, please use `FilterFactory` instead.");const Q=null;sie(g);const J={canvasFactory:new G({ownerDocument:q,enableHWA:U}),filterFactory:new V({docId:s,ownerDocument:q}),cMapReaderFactory:Y?null:new y({baseUrl:C,isCompressed:w}),standardFontDataFactory:Y?null:new A({baseUrl:R})};if(!f){const pe={verbosity:g,port:Xr.workerPort};f=pe.port?oh.fromPort(pe):new oh(pe),t._worker=f}const le={docId:s,apiVersion:"4.8.69",data:i,password:l,disableAutoFetch:te,rangeChunkSize:d,length:re,docBaseUrl:m,enableXfa:z,evaluatorOptions:{maxImageSize:E,disableFontFace:B,ignoreErrors:D,isEvalSupported:T,isOffscreenCanvasSupported:P,isChrome:L,canvasMaxAreaInBytes:N,fontExtraProperties:W,useSystemFonts:H,cMapUrl:Y?C:null,standardFontDataUrl:Y?R:null}},ge={disableFontFace:B,fontExtraProperties:W,ownerDocument:q,pdfBug:ee,styleElement:Q,loadingParams:{disableAutoFetch:te,enableXfa:z}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const pe=f.messageHandler.sendWithPromise("GetDocRequest",le,i?[i.buffer]:null);let Te;if(u)Te=new qie(u,{disableRange:K,disableStream:$});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ke;cn?ke=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&zg(n)?lk:roe:ke=zg(n)?lk:toe,Te=new ke({url:n,length:re,httpHeaders:o,withCredentials:r,rangeChunkSize:d,disableRange:K,disableStream:$})}return pe.then(ke=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ke=new Yg(s,ke,f.port),Pe=new Eoe(Ke,t,Te,ge,J);t._transport=Pe,Ke.send("Ready",null)})}).catch(t._capability.reject),t}function yoe(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(cn&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Soe(e){if(cn&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Oy(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e==null?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ck(e){return typeof e=="object"&&Number.isInteger(e==null?void 0:e.num)&&e.num>=0&&Number.isInteger(e==null?void 0:e.gen)&&e.gen>=0}var Lw;const kw=class kw{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gn(kw,Lw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,s,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((s=this._transport)==null?void 0:s.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Lw=new WeakMap,O(kw,Lw,0);let LA=kw,cB=class{constructor(t,s,n=!1,i=null){this.length=t,this.initialData=s,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,s){for(const n of this._rangeListeners)n(t,s)}onDataProgress(t,s){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,s)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,s){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Roe{constructor(t,s){this._pdfInfo=t,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ul,kr,Pi,Vd,Sb;class xoe{constructor(t,s,n,i=!1){O(this,Pi);O(this,ul,null);O(this,kr,!1);this._pageIndex=t,this._pageInfo=s,this._transport=n,this._stats=i?new YL:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new uB,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:s=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:o=!1}={}){return new fv({viewBox:this.view,scale:t,rotation:s,offsetX:n,offsetY:i,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:s,intent:n="display",annotationMode:i=Ka.ENABLE,transform:o=null,background:r=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:g=!1}){var T,P;(T=this._stats)==null||T.time("Overall");const m=this._transport.getRenderingIntent(n,i,f,g),{renderingIntent:C,cacheKey:w}=m;M(this,kr,!1),k(this,Pi,Sb).call(this),l||(l=this._transport.getOptionalContentConfig(C));let y=this._intentStates.get(w);y||(y=Object.create(null),this._intentStates.set(w,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const R=!!(C&ii.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(m));const A=L=>{var N;y.renderTasks.delete(D),(this._maybeCleanupAfterRender||R)&&M(this,kr,!0),k(this,Pi,Vd).call(this,!R),L?(D.capability.reject(L),this._abortOperatorList({intentState:y,reason:L instanceof Error?L:new Error(L)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new IA({callback:A,params:{canvasContext:t,viewport:s,transform:o,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||(y.renderTasks=new Set)).add(D);const E=D.task;return Promise.all([y.displayReadyCapability.promise,l]).then(([L,N])=>{var B;if(this.destroyed){A();return}if((B=this._stats)==null||B.time("Rendering"),!(N.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:L,optionalContentConfig:N}),D.operatorListChanged()}).catch(A),E}getOperatorList({intent:t="display",annotationMode:s=Ka.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var d;function o(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const r=this._transport.getRenderingIntent(t,s,n,i,!0);let l=this._intentStates.get(r.cacheKey);l||(l=Object.create(null),this._intentStates.set(r.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=o,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(r)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:s===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ip.textContent(n));const s=this.streamTextContent(t);return new Promise(function(n,i){function o(){r.read().then(function({value:u,done:d}){if(d){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),o()},i)}const r=s.getReader(),l={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const n of s.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),M(this,kr,!1),k(this,Pi,Sb).call(this),Promise.all(t)}cleanup(t=!1){M(this,kr,!0);const s=k(this,Pi,Vd).call(this,!1);return t&&s&&this._stats&&(this._stats=new YL),s}_startRenderPage(t,s){var i,o;const n=this._intentStates.get(s);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,s){for(let n=0,i=t.length;n<i;n++)s.operatorList.fnArray.push(t.fnArray[n]),s.operatorList.argsArray.push(t.argsArray[n]);s.operatorList.lastChunk=t.lastChunk,s.operatorList.separateAnnots=t.separateAnnots;for(const n of s.renderTasks)n.operatorListChanged();t.lastChunk&&k(this,Pi,Vd).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:s,annotationStorageSerializable:n,modifiedIds:i}){const{map:o,transfer:r}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:s,annotationStorage:o,modifiedIds:i},r).getReader(),d=this._intentStates.get(s);d.streamReader=u;const f=()=>{u.read().then(({value:g,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),f())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();k(this,Pi,Vd).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:t,reason:s,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(s instanceof UD){let i=goe;s.extraDelay>0&&s.extraDelay<1e3&&(i+=s.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:s,force:!0})},i);return}}if(t.streamReader.cancel(new zu(s.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ul=new WeakMap,kr=new WeakMap,Pi=new WeakSet,Vd=function(t=!1){if(k(this,Pi,Sb).call(this),!v(this,kr)||this.destroyed)return!1;if(t)return M(this,ul,setTimeout(()=>{M(this,ul,null),k(this,Pi,Vd).call(this,!1)},poe)),!1;for(const{renderTasks:s,operatorList:n}of this._intentStates.values())if(s.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,kr,!1),!0},Sb=function(){v(this,ul)&&(clearTimeout(v(this,ul)),M(this,ul,null))};var Ir,Iw;class Aoe{constructor(){O(this,Ir,new Map);O(this,Iw,Promise.resolve())}postMessage(t,s){const n={data:structuredClone(t,s?{transfer:s}:null)};v(this,Iw).then(()=>{for(const[i]of v(this,Ir))i.call(this,n)})}addEventListener(t,s,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){ct("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(t,s);i=()=>o.removeEventListener("abort",r),o.addEventListener("abort",r)}v(this,Ir).set(s,i)}removeEventListener(t,s){const n=v(this,Ir).get(s);n==null||n(),v(this,Ir).delete(s)}terminate(){for(const[,t]of v(this,Ir))t==null||t();v(this,Ir).clear()}}Ir=new WeakMap,Iw=new WeakMap;var Ow,Gc,Vc,Mh,Rb,Lh,xb;const qt=class qt{constructor({name:t=null,port:s=null,verbosity:n=nie()}={}){O(this,Mh);var i;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,s){if((i=v(qt,Vc))!=null&&i.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(v(qt,Vc)||M(qt,Vc,new WeakMap)).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return cn?Promise.all([Ml.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Yg("main","worker",t),this._messageHandler.on("ready",function(){}),k(this,Mh,Rb).call(this)}_initialize(){if(v(qt,Gc)||v(qt,Lh,xb)){this._setupFakeWorker();return}let{workerSrc:t}=qt;try{qt._isSameOrigin(window.location.href,t)||(t=qt._createCDNWrapper(new URL(t,window.location).href));const s=new Worker(t,{type:"module"}),n=new Yg("main","worker",s),i=()=>{o.abort(),n.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;s.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),n.on("test",l=>{if(o.abort(),this.destroyed||!l){i();return}this._messageHandler=n,this._port=s,this._webWorker=s,k(this,Mh,Rb).call(this)}),n.on("ready",l=>{if(o.abort(),this.destroyed){i();return}try{r()}catch{this._setupFakeWorker()}});const r=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};r();return}catch{ky("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){v(qt,Gc)||(ct("Setting up fake worker."),M(qt,Gc,!0)),qt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new Aoe;this._port=s;const n=`fake${gn(qt,Ow)._++}`,i=new Yg(n+"_worker",n,s);t.setup(i,s),this._messageHandler=new Yg(n,n+"_worker",s),k(this,Mh,Rb).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=v(qt,Vc))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const s=(n=v(this,Vc))==null?void 0:n.get(t.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new qt(t)}static get workerSrc(){if(Xr.workerSrc)return Xr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return mt(this,"_setupFakeWorkerGlobal",(async()=>v(this,Lh,xb)?v(this,Lh,xb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ow=new WeakMap,Gc=new WeakMap,Vc=new WeakMap,Mh=new WeakSet,Rb=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Lh=new WeakSet,xb=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(qt,Lh),O(qt,Ow,0),O(qt,Gc,!1),O(qt,Vc),cn&&(M(qt,Gc,!0),Xr.workerSrc||(Xr.workerSrc="./pdf.worker.mjs")),qt._isSameOrigin=(t,s)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(s,n);return n.origin===i.origin},qt._createCDNWrapper=t=>{const s=`await import("${t}");`;return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};let oh=qt;var Or,_o,kh,Ih,No,zc,Xg;class Eoe{constructor(t,s,n,i,o){O(this,zc);O(this,Or,new Map);O(this,_o,new Map);O(this,kh,new Map);O(this,Ih,new Map);O(this,No,null);this.messageHandler=t,this.loadingTask=s,this.commonObjs=new uB,this.fontLoader=new Rie({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return mt(this,"annotationStorage",new KD)}getRenderingIntent(t,s=Ka.ENABLE,n=null,i=!1,o=!1){let r=ii.DISPLAY,l=wA;switch(t){case"any":r=ii.ANY;break;case"display":break;case"print":r=ii.PRINT;break;default:ct(`getRenderingIntent - invalid intent: ${t}`)}const u=r&ii.PRINT&&n instanceof VH?n:this.annotationStorage;switch(s){case Ka.DISABLE:r+=ii.ANNOTATIONS_DISABLE;break;case Ka.ENABLE:break;case Ka.ENABLE_FORMS:r+=ii.ANNOTATIONS_FORMS;break;case Ka.ENABLE_STORAGE:r+=ii.ANNOTATIONS_STORAGE,l=u.serializable;break;default:ct(`getRenderingIntent - invalid annotationMode: ${s}`)}i&&(r+=ii.IS_EDITING),o&&(r+=ii.OPLIST);const{ids:d,hash:f}=u.modifiedIds,g=[r,l.hash,f];return{renderingIntent:r,cacheKey:g.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=v(this,No))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of v(this,_o).values())t.push(i._destroy());v(this,_o).clear(),v(this,kh).clear(),v(this,Ih).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return t.push(s),Promise.all(t).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),v(this,Or).clear(),this.filterFactory.destroy(),FA.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new zu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:s}=this;t.on("GetReader",(n,i)=>{As(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:r}){if(r){i.close();return}As(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:o,contentLength:r}=this._fullReader;return(!i||!o)&&(this._lastProgress&&((l=s.onProgress)==null||l.call(s,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=s.onProgress)==null||d.call(s,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:r}}),t.on("GetRangeReader",(n,i)=>{As(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:r,done:l}){if(l){i.close();return}As(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{o.cancel(r),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,s._capability.resolve(new Roe(n,this))}),t.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new Zx(n.message,n.code);break;case"InvalidPDFException":i=new fH(n.message);break;case"MissingPDFException":i=new Vu(n.message);break;case"UnexpectedResponseException":i=new Iy(n.message,n.status);break;case"UnknownErrorException":i=new Jx(n.message,n.details);break;default:Wt("DocException - expected a valid Error.")}s._capability.reject(i)}),t.on("PasswordRequest",n=>{if(M(this,No,Promise.withResolvers()),s.onPassword){const i=o=>{o instanceof Error?v(this,No).reject(o):v(this,No).resolve({password:o})};try{s.onPassword(i,n.code)}catch(o){v(this,No).reject(o)}}else v(this,No).reject(new Zx(n.message,n.code));return v(this,No).promise}),t.on("DataLoaded",n=>{var i;(i=s.onProgress)==null||i.call(s,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;v(this,_o).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,o])=>{var r;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in o){const C=o.error;ct(`Error during font loading: ${C}`),this.commonObjs.resolve(n,C);break}const f=d&&((r=globalThis.FontInspector)!=null&&r.enabled)?(C,w)=>globalThis.FontInspector.fontAdded(C,w):null,g=new xie(o,{disableFontFace:l,inspectFont:f});this.fontLoader.bind(g).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:m}=o;As(m,"The imageRef must be defined.");for(const C of v(this,_o).values())for(const[,w]of C.objs)if((w==null?void 0:w.ref)===m)return w.dataLen?(this.commonObjs.resolve(n,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,o,r])=>{var u;if(this.destroyed)return;const l=v(this,_o).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(u=r==null?void 0:r.bitmap)==null||u.close();return}switch(o){case"Image":l.objs.resolve(n,r),(r==null?void 0:r.dataLen)>Zne&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,r);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{var i;this.destroyed||(i=s.onProgress)==null||i.call(s,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&ct("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=t-1,n=v(this,kh).get(s);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&v(this,Ih).set(o.refStr,t);const r=new xoe(s,o,this,this._params.pdfBug);return v(this,_o).set(s,r),r});return v(this,kh).set(s,i),i}getPageIndex(t){return ck(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:s})}getFieldObjects(){return k(this,zc,Xg).call(this,"GetFieldObjects")}hasJSActions(){return k(this,zc,Xg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,zc,Xg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return k(this,zc,Xg).call(this,"GetOptionalContentConfig").then(s=>new $ie(s,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",s=v(this,Or).get(t);if(s)return s;const n=this.messageHandler.sendWithPromise(t,null).then(i=>{var o,r;return{info:i[0],metadata:i[1]?new Uie(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return v(this,Or).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of v(this,_o).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),v(this,Or).clear(),this.filterFactory.destroy(!0),FA.cleanup()}}cachedPageNumber(t){if(!ck(t))return null;const s=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return v(this,Ih).get(s)??null}}Or=new WeakMap,_o=new WeakMap,kh=new WeakMap,Ih=new WeakMap,No=new WeakMap,zc=new WeakSet,Xg=function(t,s=null){const n=v(this,Or).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,s);return v(this,Or).set(t,i),i};const QC=Symbol("INITIAL_DATA");var Xi,vm,kA;class uB{constructor(){O(this,vm);O(this,Xi,Object.create(null))}get(t,s=null){if(s){const i=k(this,vm,kA).call(this,t);return i.promise.then(()=>s(i.data)),null}const n=v(this,Xi)[t];if(!n||n.data===QC)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const s=v(this,Xi)[t];return!!s&&s.data!==QC}resolve(t,s=null){const n=k(this,vm,kA).call(this,t);n.data=s,n.resolve()}clear(){var t;for(const s in v(this,Xi)){const{data:n}=v(this,Xi)[s];(t=n==null?void 0:n.bitmap)==null||t.close()}M(this,Xi,Object.create(null))}*[Symbol.iterator](){for(const t in v(this,Xi)){const{data:s}=v(this,Xi)[t];s!==QC&&(yield[t,s])}}}Xi=new WeakMap,vm=new WeakSet,kA=function(t){var s;return(s=v(this,Xi))[t]||(s[t]={...Promise.withResolvers(),data:QC})};var dl;class Doe{constructor(t){O(this,dl,null);M(this,dl,t),this.onContinue=null}get promise(){return v(this,dl).capability.promise}cancel(t=0){v(this,dl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=v(this,dl).operatorList;if(!t)return!1;const{annotationCanvasMap:s}=v(this,dl);return t.form||t.canvas&&(s==null?void 0:s.size)>0}}dl=new WeakMap;var hl,Wc;const fc=class fc{constructor({callback:t,params:s,objs:n,commonObjs:i,annotationCanvasMap:o,operatorList:r,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:m=null}){O(this,hl,null);this.callback=t,this.params=s,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Doe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:s}){var l,u;if(this.cancelled)return;if(this._canvas){if(v(fc,Wc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");v(fc,Wc).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:o,background:r}=this.params;this.gfx=new ih(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(t=null,s=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),v(this,hl)&&(window.cancelAnimationFrame(v(this,hl)),M(this,hl,null)),v(fc,Wc).delete(this._canvas),this.callback(t||new UD(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,hl,window.requestAnimationFrame(()=>{M(this,hl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),v(fc,Wc).delete(this._canvas),this.callback())))}};hl=new WeakMap,Wc=new WeakMap,O(fc,Wc,new WeakSet);let IA=fc;const Toe="4.8.69",Foe="3634dab10";function uk(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function Bg(e){return Math.max(0,Math.min(255,255*e))}class dk{static CMYK_G([t,s,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*s+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Bg(t),[t,t,t]}static G_HTML([t]){const s=uk(t);return`#${s}${s}${s}`}static RGB_G([t,s,n]){return["G",.3*t+.59*s+.11*n]}static RGB_rgb(t){return t.map(Bg)}static RGB_HTML(t){return`#${t.map(uk).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,s,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,s+i)]}static CMYK_rgb([t,s,n,i]){return[Bg(1-Math.min(1,t+i)),Bg(1-Math.min(1,n+i)),Bg(1-Math.min(1,s+i))]}static CMYK_HTML(t){const s=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([t,s,n]){const i=1-t,o=1-s,r=1-n,l=Math.min(i,o,r);return["CMYK",i,o,r,l]}}class Poe{create(t,s,n=!1){if(t<=0||s<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${s}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${s}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class JD extends Poe{_createSVG(t){return document.createElementNS(Sr,t)}}class dB{static setupStorage(t,s,n,i,o){const r=i.getValue(s,{value:null});switch(n.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),o==="print")break;t.addEventListener("input",l=>{i.setValue(s,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",l=>{i.setValue(s,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),o==="print")break;t.addEventListener("input",l=>{i.setValue(s,{value:l.target.value})})}break;case"select":if(r.value!==null){t.setAttribute("value",r.value);for(const l of n.children)l.attributes.value===r.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(s,{value:d})});break}}static setAttributes({html:t,element:s,storage:n=null,intent:i,linkService:o}){const{attributes:r}=s,l=t instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${i}`);for(const[u,d]of Object.entries(r))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}l&&o.addLinkAttributes(t,r.href,r.newWindow),n&&r.dataId&&this.setupStorage(t,r.dataId,s,n)}static render(t){var g,m;const s=t.annotationStorage,n=t.linkService,i=t.xfaHtml,o=t.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:o,linkService:n});const l=o!=="richText",u=t.div;if(u.append(r),t.viewport){const C=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=C}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const C=document.createTextNode(i.value);r.append(C),l&&Ip.shouldBuildText(i.name)&&d.push(C)}return{textDivs:d}}const f=[[i,-1,r]];for(;f.length>0;){const[C,w,y]=f.at(-1);if(w+1===C.children.length){f.pop();continue}const R=C.children[++f.at(-1)[1]];if(R===null)continue;const{name:A}=R;if(A==="#text"){const E=document.createTextNode(R.value);d.push(E),y.append(E);continue}const D=(g=R==null?void 0:R.attributes)!=null&&g.xmlns?document.createElementNS(R.attributes.xmlns,A):document.createElement(A);if(y.append(D),R.attributes&&this.setAttributes({html:D,element:R,storage:s,intent:o,linkService:n}),((m=R.children)==null?void 0:m.length)>0)f.push([R,-1,D]);else if(R.value){const E=document.createTextNode(R.value);l&&Ip.shouldBuildText(A)&&d.push(E),D.append(E)}}for(const C of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))C.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const s=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=s,t.div.hidden=!1}}const pv=1e3,Moe=9,Tu=new WeakSet;function ta(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Loe{static create(t){switch(t.data.annotationType){case ys.LINK:return new hB(t);case ys.TEXT:return new koe(t);case ys.WIDGET:switch(t.data.fieldType){case"Tx":return new Ioe(t);case"Btn":return t.data.radioButton?new pB(t):t.data.checkBox?new _oe(t):new Noe(t);case"Ch":return new Hoe(t);case"Sig":return new Ooe(t)}return new Wu(t);case ys.POPUP:return new _A(t);case ys.FREETEXT:return new wB(t);case ys.LINE:return new Goe(t);case ys.SQUARE:return new Voe(t);case ys.CIRCLE:return new zoe(t);case ys.POLYLINE:return new yB(t);case ys.CARET:return new Uoe(t);case ys.INK:return new eT(t);case ys.POLYGON:return new Woe(t);case ys.HIGHLIGHT:return new SB(t);case ys.UNDERLINE:return new joe(t);case ys.SQUIGGLY:return new $oe(t);case ys.STRIKEOUT:return new qoe(t);case ys.STAMP:return new RB(t);case ys.FILEATTACHMENT:return new Koe(t);default:return new hs(t)}}}var Uc,Oh,_h,Cm,OA;const iT=class iT{constructor(t,{isRenderable:s=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){O(this,Cm);O(this,Uc,null);O(this,Oh,!1);O(this,_h,null);this.isRenderable=s,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,s&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:s,richText:n}){return!!(t!=null&&t.str||s!=null&&s.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return iT._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;v(this,Uc)||M(this,Uc,{rect:this.data.rect.slice(0)});const{rect:s}=t;s&&k(this,Cm,OA).call(this,s),(n=v(this,_h))==null||n.popup.updateEdited(t)}resetEdited(){var t;v(this,Uc)&&(k(this,Cm,OA).call(this,v(this,Uc).rect),(t=v(this,_h))==null||t.popup.resetEdited(),M(this,Uc,null))}_createContainer(t){const{data:s,parent:{page:n,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",s.id),this instanceof Wu||(o.tabIndex=pv);const{style:r}=o;if(r.zIndex=this.parent.zIndex++,s.alternativeText&&(o.title=s.alternativeText),s.noRotate&&o.classList.add("norotate"),!s.rect||this instanceof _A){const{rotation:y}=s;return!s.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}const{width:l,height:u}=ta(s.rect);if(!t&&s.borderStyle.width>0){r.borderWidth=`${s.borderStyle.width}px`;const y=s.borderStyle.horizontalCornerRadius,R=s.borderStyle.verticalCornerRadius;if(y>0||R>0){const D=`calc(${y}px * var(--scale-factor)) / calc(${R}px * var(--scale-factor))`;r.borderRadius=D}else if(this instanceof pB){const D=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;r.borderRadius=D}switch(s.borderStyle.style){case Ng.SOLID:r.borderStyle="solid";break;case Ng.DASHED:r.borderStyle="dashed";break;case Ng.BEVELED:ct("Unimplemented border style: beveled");break;case Ng.INSET:ct("Unimplemented border style: inset");break;case Ng.UNDERLINE:r.borderBottomStyle="solid";break}const A=s.borderColor||null;A?(M(this,Oh,!0),r.borderColor=Ne.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):r.borderWidth=0}const d=Ne.normalizeRect([s.rect[0],n.view[3]-s.rect[1]+n.view[1],s.rect[2],n.view[3]-s.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:g,pageX:m,pageY:C}=i.rawDims;r.left=`${100*(d[0]-m)/f}%`,r.top=`${100*(d[1]-C)/g}%`;const{rotation:w}=s;return s.hasOwnCanvas||w===0?(r.width=`${100*l/f}%`,r.height=`${100*u/g}%`):this.setRotation(w,o),o}setRotation(t,s=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:r}=ta(this.data.rect);let l,u;t%180===0?(l=100*o/n,u=100*r/i):(l=100*r/n,u=100*o/i),s.style.width=`${l}%`,s.style.height=`${u}%`,s.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(s,n,i)=>{const o=i.detail[s],r=o[0],l=o.slice(1);i.target.style[n]=dk[`${r}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:dk[`${r}_rgb`](l)})};return mt(this,"_commonActions",{display:s=>{const{display:n}=s.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:n}=s.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{t("bgColor","backgroundColor",s)},fillColor:s=>{t("fillColor","backgroundColor",s)},fgColor:s=>{t("fgColor","color",s)},textColor:s=>{t("textColor","color",s)},borderColor:s=>{t("borderColor","borderColor",s)},strokeColor:s=>{t("strokeColor","borderColor",s)},rotation:s=>{const n=s.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,s){const n=this._commonActions;for(const i of Object.keys(s.detail)){const o=t[i]||n[i];o==null||o(s)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const n=this._commonActions;for(const[i,o]of Object.entries(s)){const r=n[i];if(r){const l={detail:{[i]:o},target:t};r(l),delete s[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[s,n,i,o]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,R,A,D]=t.subarray(2,6);if(i===y&&o===R&&s===A&&n===D)return}const{style:r}=this.container;let l;if(v(this,Oh)){const{borderColor:y,borderWidth:R}=r;r.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${R}">`],this.container.classList.add("hasBorder")}const u=i-s,d=o-n,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const m=f.createElement("defs");g.append(m);const C=f.createElement("clipPath"),w=`clippath_${this.data.id}`;C.setAttribute("id",w),C.setAttribute("clipPathUnits","objectBoundingBox"),m.append(C);for(let y=2,R=t.length;y<R;y+=8){const A=t[y],D=t[y+1],E=t[y+2],T=t[y+3],P=f.createElement("rect"),L=(E-s)/u,N=(o-D)/d,B=(A-E)/u,W=(D-T)/d;P.setAttribute("x",L),P.setAttribute("y",N),P.setAttribute("width",B),P.setAttribute("height",W),C.append(P),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${N}" width="${B}" height="${W}"/>`)}v(this,Oh)&&(l.push("</g></svg>')"),r.backgroundImage=l.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,s=M(this,_h,new _A({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,s=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:o,id:r,exportValues:l}of i){if(o===-1||r===s)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${r}"]`);if(d&&!Tu.has(d)){ct(`_getElementsByName - element not allowed: ${r}`);continue}n.push({id:r,exportValue:u,domElement:d})}return n}for(const i of document.getElementsByName(t)){const{exportValue:o}=i,r=i.getAttribute("data-element-id");r!==s&&Tu.has(i)&&n.push({id:r,exportValue:o,domElement:i})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const s of t)s.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:s})})}};Uc=new WeakMap,Oh=new WeakMap,_h=new WeakMap,Cm=new WeakSet,OA=function(t){const{container:{style:s},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:r,pageX:l,pageY:u}}}}=this;n==null||n.splice(0,4,...t);const{width:d,height:f}=ta(t);s.left=`${100*(t[0]-l)/o}%`,s.top=`${100*(r-t[3]+u)/r}%`,i===0?(s.width=`${100*d/o}%`,s.height=`${100*f/r}%`):this.setRotation(i)};let hs=iT;var oi,oc,fB,gB;class hB extends hs{constructor(s,n=null){super(s,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});O(this,oi);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",s.id);let o=!1;return s.url?(n.addLinkAttributes(i,s.url,s.newWindow),o=!0):s.action?(this._bindNamedAction(i,s.action),o=!0):s.attachment?(k(this,oi,fB).call(this,i,s.attachment,s.attachmentDest),o=!0):s.setOCGState?(k(this,oi,gB).call(this,i,s.setOCGState),o=!0):s.dest?(this._bindLink(i,s.dest),o=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,s),o=!0),s.resetForm?(this._bindResetFormAction(i,s.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(s,n){s.href=this.linkService.getDestinationHash(n),s.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,oi,oc).call(this)}_bindNamedAction(s,n){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,oi,oc).call(this)}_bindJSAction(s,n){s.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const r=i.get(o);r&&(s[r]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}s.onclick||(s.onclick=()=>!1),k(this,oi,oc).call(this)}_bindResetFormAction(s,n){const i=s.onclick;if(i||(s.href=this.linkService.getAnchorUrl("")),k(this,oi,oc).call(this),!this._fieldObjects){ct('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(s.onclick=()=>!1);return}s.onclick=()=>{var g;i==null||i();const{fields:o,refs:r,include:l}=n,u=[];if(o.length!==0||r.length!==0){const m=new Set(r);for(const C of o){const w=this._fieldObjects[C]||[];for(const{id:y}of w)m.add(y)}for(const C of Object.values(this._fieldObjects))for(const w of C)m.has(w.id)===l&&u.push(w)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:C}=m;switch(f.push(C),m.type){case"text":{const y=m.defaultValue||"";d.setValue(C,{value:y});break}case"checkbox":case"radiobutton":{const y=m.defaultValue===m.exportValues;d.setValue(C,{value:y});break}case"combobox":case"listbox":{const y=m.defaultValue||"";d.setValue(C,{value:y});break}default:continue}const w=document.querySelector(`[data-element-id="${C}"]`);if(w){if(!Tu.has(w)){ct(`_bindResetFormAction - element not allowed: ${C}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}oi=new WeakSet,oc=function(){this.container.setAttribute("data-internal-link","")},fB=function(s,n,i=null){s.href=this.linkService.getAnchorUrl(""),n.description&&(s.title=n.description),s.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,i),!1},k(this,oi,oc).call(this)},gB=function(s,n){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(n),!1),k(this,oi,oc).call(this)};class koe extends hs{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Wu extends hs{render(){return this.container}showElementAndHideCanvas(t){var s;this.data.hasOwnCanvas&&(((s=t.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,s,n,i,o){n.includes("mouse")?t.addEventListener(n,r=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):t.addEventListener(n,r=>{var l;if(n==="blur"){if(!s.focused||!r.relatedTarget)return;s.focused=!1}else if(n==="focus"){if(s.focused)return;s.focused=!0}o&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(r)}}))})}_setEventListeners(t,s,n,i){var o,r,l;for(const[u,d]of n)(d==="Action"||(o=this.data.actions)!=null&&o[d])&&((d==="Focus"||d==="Blur")&&(s||(s={focused:!1})),this._setEventListener(t,s,u,d,i),d==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(t,s,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(t,s,"focus","Focus",null))}_setBackgroundColor(t){const s=this.data.backgroundColor||null;t.style.backgroundColor=s===null?"transparent":Ne.makeHexColor(s[0],s[1],s[2])}_setTextStyle(t){const s=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Moe,o=t.style;let r;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(d/(QR*i))||1,g=d/f;r=Math.min(i,u(g/QR))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);r=Math.min(i,u(d/QR))}o.fontSize=`calc(${r}px * var(--scale-factor))`,o.color=Ne.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=s[this.data.textAlignment])}_setRequired(t,s){s?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",s)}}class Ioe extends Wu{constructor(t){const s=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:s})}setPropertyOnSiblings(t,s,n,i){const o=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[s]=n),o.setValue(r.id,{[i]:n})}render(){var i,o;const t=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(s,{value:this.data.fieldValue});let l=r.value||"";const u=t.getValue(s,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=r.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Tu.add(n),n.setAttribute("data-element-id",s),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=pv,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",m=>{t.setValue(s,{value:m.target.value}),this.setPropertyOnSiblings(n,"value",m.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",m=>{const C=this.data.defaultFieldValue??"";n.value=f.userValue=C,f.formattedValue=null});let g=m=>{const{formattedValue:C}=f;C!=null&&(m.target.value=C),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",C=>{var y;if(f.focused)return;const{target:w}=C;f.userValue&&(w.value=f.userValue),f.lastCommittedValue=w.value,f.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",C=>{this.showElementAndHideCanvas(C.target);const w={value(y){f.userValue=y.detail.value??"",t.setValue(s,{value:f.userValue.toString()}),y.target.value=f.userValue},formattedValue(y){const{formattedValue:R}=y.detail;f.formattedValue=R,R!=null&&y.target!==document.activeElement&&(y.target.value=R),t.setValue(s,{formattedValue:R})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var E;const{charLimit:R}=y.detail,{target:A}=y;if(R===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",R);let D=f.userValue;!D||D.length<=R||(D=D.slice(0,R),A.value=f.userValue=D,t.setValue(s,{value:D}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,C)}),n.addEventListener("keydown",C=>{var R;f.commitKey=1;let w=-1;if(C.key==="Escape"?w=0:C.key==="Enter"&&!this.data.multiLine?w=2:C.key==="Tab"&&(f.commitKey=3),w===-1)return;const{value:y}=C.target;f.lastCommittedValue!==y&&(f.lastCommittedValue=y,f.userValue=y,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:y,willCommit:!0,commitKey:w,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}}))});const m=g;g=null,n.addEventListener("blur",C=>{var y,R;if(!f.focused||!C.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(f.focused=!1);const{value:w}=C.target;f.userValue=w,f.lastCommittedValue!==w&&((R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:w,willCommit:!0,commitKey:f.commitKey,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}})),m(C)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",C=>{var P;f.lastCommittedValue=null;const{data:w,target:y}=C,{value:R,selectionStart:A,selectionEnd:D}=y;let E=A,T=D;switch(C.inputType){case"deleteWordBackward":{const L=R.substring(0,A).match(/\w*[^\w]*$/);L&&(E-=L[0].length);break}case"deleteWordForward":{const L=R.substring(A).match(/^[^\w]*\w*/);L&&(T+=L[0].length);break}case"deleteContentBackward":A===D&&(E-=1);break;case"deleteContentForward":A===D&&(T+=1);break}C.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:R,change:w||"",willCommit:!1,selStart:E,selEnd:T}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],C=>C.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const C=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${C}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Ooe extends Wu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class _oe extends Wu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,s=this.data,n=s.id;let i=t.getValue(n,{value:s.exportValue===s.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Tu.add(o),o.setAttribute("data-element-id",n),o.disabled=s.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=s.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",s.exportValue),o.tabIndex=pv,o.addEventListener("change",r=>{const{name:l,checked:u}=r.target;for(const d of this._getElementsByName(l,n)){const f=u&&d.exportValue===s.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(n,{value:u})}),o.addEventListener("resetform",r=>{const l=s.defaultFieldValue||"Off";r.target.checked=l===s.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",r=>{const l={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,r)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class pB extends Wu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,s=this.data,n=s.id;let i=t.getValue(n,{value:s.fieldValue===s.buttonValue}).value;if(typeof i=="string"&&(i=i!==s.buttonValue,t.setValue(n,{value:i})),i)for(const r of this._getElementsByName(s.fieldName,n))t.setValue(r.id,{value:!1});const o=document.createElement("input");if(Tu.add(o),o.setAttribute("data-element-id",n),o.disabled=s.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=s.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=pv,o.addEventListener("change",r=>{const{name:l,checked:u}=r.target;for(const d of this._getElementsByName(l,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:u})}),o.addEventListener("resetform",r=>{const l=s.defaultFieldValue;r.target.checked=l!=null&&l===s.buttonValue}),this.enableScripting&&this.hasJSActions){const r=s.buttonValue;o.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const f=r===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const m=f&&g.id===n;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Noe extends hB{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const s=t.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class Hoe extends Wu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,s=this.data.id,n=t.getValue(s,{value:this.data.fieldValue}),i=document.createElement("select");Tu.add(i),i.setAttribute("data-element-id",s),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=pv;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,n.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),o=!1),i.append(g)}let r=null;if(o){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),r=()=>{f.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const l=f=>{const g=f?"value":"textContent",{options:m,multiple:C}=i;return C?Array.prototype.filter.call(m,w=>w.selected).map(w=>w[g]):m.selectedIndex===-1?null:m[m.selectedIndex][g]};let u=l(!1);const d=f=>{const g=f.target.options;return Array.prototype.map.call(g,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const g={value(m){r==null||r();const C=m.detail.value,w=new Set(Array.isArray(C)?C:[C]);for(const y of i.options)y.selected=w.has(y.value);t.setValue(s,{value:l(!0)}),u=l(!1)},multipleSelection(m){i.multiple=!0},remove(m){const C=i.options,w=m.detail.remove;C[w].selected=!1,i.remove(w),C.length>0&&Array.prototype.findIndex.call(C,R=>R.selected)===-1&&(C[0].selected=!0),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},clear(m){for(;i.length!==0;)i.remove(0);t.setValue(s,{value:null,items:[]}),u=l(!1)},insert(m){const{index:C,displayValue:w,exportValue:y}=m.detail.insert,R=i.children[C],A=document.createElement("option");A.textContent=w,A.value=y,R?R.before(A):i.append(A),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},items(m){const{items:C}=m.detail;for(;i.length!==0;)i.remove(0);for(const w of C){const{displayValue:y,exportValue:R}=w,A=document.createElement("option");A.textContent=y,A.value=R,i.append(A)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(s,{value:l(!0),items:d(m)}),u=l(!1)},indices(m){const C=new Set(m.detail.indices);for(const w of m.target.options)w.selected=C.has(w.index);t.setValue(s,{value:l(!0)}),u=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(g,f)}),i.addEventListener("input",f=>{var C;const g=l(!0),m=l(!1);t.setValue(s,{value:g}),f.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:u,change:m,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){t.setValue(s,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _A extends hs{constructor(t){const{data:s,elements:n}=t;super(t,{isRenderable:hs._hasPopupData(s)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Boe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",s.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(n=>`${WD}${n}`).join(",")),this.container}}var Nh,_w,Nw,Hh,jc,is,_r,Bh,bm,wm,Gh,Nr,Qi,Hr,ym,Br,Sm,$c,qc,Nt,Ab,NA,mB,vB,CB,bB,Eb,Db,HA;class Boe{constructor({container:t,color:s,elements:n,titleObj:i,modificationDate:o,contentsObj:r,richText:l,parent:u,rect:d,parentRect:f,open:g}){O(this,Nt);O(this,Nh,k(this,Nt,CB).bind(this));O(this,_w,k(this,Nt,HA).bind(this));O(this,Nw,k(this,Nt,Db).bind(this));O(this,Hh,k(this,Nt,Eb).bind(this));O(this,jc,null);O(this,is,null);O(this,_r,null);O(this,Bh,null);O(this,bm,null);O(this,wm,null);O(this,Gh,null);O(this,Nr,!1);O(this,Qi,null);O(this,Hr,null);O(this,ym,null);O(this,Br,null);O(this,Sm,null);O(this,$c,null);O(this,qc,!1);var m;M(this,is,t),M(this,Sm,i),M(this,_r,r),M(this,Br,l),M(this,wm,u),M(this,jc,s),M(this,ym,d),M(this,Gh,f),M(this,bm,n),M(this,Bh,$D.toDateObject(o)),this.trigger=n.flatMap(C=>C.getElementsToTriggerPopup());for(const C of this.trigger)C.addEventListener("click",v(this,Hh)),C.addEventListener("mouseenter",v(this,Nw)),C.addEventListener("mouseleave",v(this,_w)),C.classList.add("popupTriggerArea");for(const C of n)(m=C.container)==null||m.addEventListener("keydown",v(this,Nh));v(this,is).hidden=!0,g&&k(this,Nt,Eb).call(this)}render(){if(v(this,Qi))return;const t=M(this,Qi,document.createElement("div"));if(t.className="popup",v(this,jc)){const o=t.style.outlineColor=Ne.makeHexColor(...v(this,jc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=Ne.makeHexColor(...v(this,jc).map(l=>Math.floor(.7*(255-l)+l)))}const s=document.createElement("span");s.className="header";const n=document.createElement("h1");if(s.append(n),{dir:n.dir,str:n.textContent}=v(this,Sm),t.append(s),v(this,Bh)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:v(this,Bh).valueOf()})),s.append(o)}const i=v(this,Nt,Ab);if(i)dB.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(v(this,_r));t.append(o)}v(this,is).append(t)}_formatContents({str:t,dir:s}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=s;const i=t.split(/(?:\r\n?|\n)/);for(let o=0,r=i.length;o<r;++o){const l=i[o];n.append(document.createTextNode(l)),o<r-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:s}){var n;v(this,$c)||M(this,$c,{contentsObj:v(this,_r),richText:v(this,Br)}),t&&M(this,Hr,null),s&&(M(this,Br,k(this,Nt,vB).call(this,s)),M(this,_r,null)),(n=v(this,Qi))==null||n.remove(),M(this,Qi,null)}resetEdited(){var t;v(this,$c)&&({contentsObj:gn(this,_r)._,richText:gn(this,Br)._}=v(this,$c),M(this,$c,null),(t=v(this,Qi))==null||t.remove(),M(this,Qi,null),M(this,Hr,null))}forceHide(){M(this,qc,this.isVisible),v(this,qc)&&(v(this,is).hidden=!0)}maybeShow(){v(this,qc)&&(v(this,Qi)||k(this,Nt,Db).call(this),M(this,qc,!1),v(this,is).hidden=!1)}get isVisible(){return v(this,is).hidden===!1}}Nh=new WeakMap,_w=new WeakMap,Nw=new WeakMap,Hh=new WeakMap,jc=new WeakMap,is=new WeakMap,_r=new WeakMap,Bh=new WeakMap,bm=new WeakMap,wm=new WeakMap,Gh=new WeakMap,Nr=new WeakMap,Qi=new WeakMap,Hr=new WeakMap,ym=new WeakMap,Br=new WeakMap,Sm=new WeakMap,$c=new WeakMap,qc=new WeakMap,Nt=new WeakSet,Ab=function(){const t=v(this,Br),s=v(this,_r);return t!=null&&t.str&&(!(s!=null&&s.str)||s.str===t.str)&&v(this,Br).html||null},NA=function(){var t,s,n;return((n=(s=(t=v(this,Nt,Ab))==null?void 0:t.attributes)==null?void 0:s.style)==null?void 0:n.fontSize)||0},mB=function(){var t,s,n;return((n=(s=(t=v(this,Nt,Ab))==null?void 0:t.attributes)==null?void 0:s.style)==null?void 0:n.color)||null},vB=function(t){const s=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},i={style:{color:v(this,Nt,mB),fontSize:v(this,Nt,NA)?`calc(${v(this,Nt,NA)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))s.push({name:"span",value:o,attributes:i});return n},CB=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&v(this,Nr))&&k(this,Nt,Eb).call(this)},bB=function(){if(v(this,Hr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:n,pageX:i,pageY:o}}}=v(this,wm);let r=!!v(this,Gh),l=r?v(this,Gh):v(this,ym);for(const w of v(this,bm))if(!l||Ne.intersect(w.data.rect,l)!==null){l=w.data.rect,r=!0;break}const u=Ne.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),f=r?l[2]-l[0]+5:0,g=u[0]+f,m=u[1];M(this,Hr,[100*(g-i)/s,100*(m-o)/n]);const{style:C}=v(this,is);C.left=`${v(this,Hr)[0]}%`,C.top=`${v(this,Hr)[1]}%`},Eb=function(){M(this,Nr,!v(this,Nr)),v(this,Nr)?(k(this,Nt,Db).call(this),v(this,is).addEventListener("click",v(this,Hh)),v(this,is).addEventListener("keydown",v(this,Nh))):(k(this,Nt,HA).call(this),v(this,is).removeEventListener("click",v(this,Hh)),v(this,is).removeEventListener("keydown",v(this,Nh)))},Db=function(){v(this,Qi)||this.render(),this.isVisible?v(this,Nr)&&v(this,is).classList.add("focused"):(k(this,Nt,bB).call(this),v(this,is).hidden=!1,v(this,is).style.zIndex=parseInt(v(this,is).style.zIndex)+1e3)},HA=function(){v(this,is).classList.remove("focused"),!(v(this,Nr)||!this.isVisible)&&(v(this,is).hidden=!0,v(this,is).style.zIndex=parseInt(v(this,is).style.zIndex)-1e3)};class wB extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=rt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const s of this.textContent){const n=document.createElement("span");n.textContent=s,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Rm;class Goe extends hs{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Rm,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:n,height:i}=ta(s.rect),o=this.svgFactory.create(n,i,!0),r=M(this,Rm,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),r.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),r.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),r.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),r.setAttribute("stroke-width",s.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Rm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rm=new WeakMap;var xm;class Voe extends hs{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,xm,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:n,height:i}=ta(s.rect),o=this.svgFactory.create(n,i,!0),r=s.borderStyle.width,l=M(this,xm,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",r/2),l.setAttribute("y",r/2),l.setAttribute("width",n-r),l.setAttribute("height",i-r),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,xm)}addHighlightArea(){this.container.classList.add("highlightArea")}}xm=new WeakMap;var Am;class zoe extends hs{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Am,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:n,height:i}=ta(s.rect),o=this.svgFactory.create(n,i,!0),r=s.borderStyle.width,l=M(this,Am,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-r/2),l.setAttribute("ry",i/2-r/2),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Am)}addHighlightArea(){this.container.classList.add("highlightArea")}}Am=new WeakMap;var Em;class yB extends hs{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Em,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,vertices:n,borderStyle:i,popupRef:o}}=this;if(!n)return this.container;const{width:r,height:l}=ta(s),u=this.svgFactory.create(r,l,!0);let d=[];for(let g=0,m=n.length;g<m;g+=2){const C=n[g]-s[0],w=s[3]-n[g+1];d.push(`${C},${w}`)}d=d.join(" ");const f=M(this,Em,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return v(this,Em)}addHighlightArea(){this.container.classList.add("highlightArea")}}Em=new WeakMap;class Woe extends yB{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Uoe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dm;class eT extends hs{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});O(this,Dm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?rt.HIGHLIGHT:rt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,inkLists:n,borderStyle:i,popupRef:o}}=this,{width:r,height:l}=ta(s),u=this.svgFactory.create(r,l,!0);for(const d of n){let f=[];for(let m=0,C=d.length;m<C;m+=2){const w=d[m]-s[0],y=s[3]-d[m+1];f.push(`${w},${y}`)}f=f.join(" ");const g=this.svgFactory.createElement(this.svgElementName);v(this,Dm).push(g),g.setAttribute("points",f),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),u.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return v(this,Dm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dm=new WeakMap;class SB extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=rt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class joe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $oe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class qoe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class RB extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=rt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tm,Fm,BA;class Koe extends hs{constructor(s){var i;super(s,{isRenderable:!0});O(this,Fm);O(this,Tm,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,Fm,BA).bind(this)),M(this,Tm,i);const{isMac:o}=Rn.platform;return s.addEventListener("keydown",r=>{r.key==="Enter"&&(o?r.metaKey:r.ctrlKey)&&k(this,Fm,BA).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),s.append(i),s}getElementsToTriggerPopup(){return v(this,Tm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tm=new WeakMap,Fm=new WeakSet,BA=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.content,this.filename)};var Pm,Kc,Yc,Mm,Pu,xB,GA,Pk;let Yoe=(Pk=class{constructor({div:t,accessibilityManager:s,annotationCanvasMap:n,annotationEditorUIManager:i,page:o,viewport:r,structTreeLayer:l}){O(this,Pu);O(this,Pm,null);O(this,Kc,null);O(this,Yc,new Map);O(this,Mm,null);this.div=t,M(this,Pm,s),M(this,Kc,n),M(this,Mm,l||null),this.page=o,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return v(this,Yc).size>0}async render(t){var r;const{annotations:s}=t,n=this.div;Eu(n,this.viewport);const i=new Map,o={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new JD,annotationStorage:t.annotationStorage||new KD,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of s){if(l.noHTML)continue;const u=l.annotationType===ys.POPUP;if(u){const g=i.get(l.id);if(!g)continue;o.elements=g}else{const{width:g,height:m}=ta(l.rect);if(g<=0||m<=0)continue}o.data=l;const d=Loe.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await k(this,Pu,xB).call(this,f,l.id),d._isEditable&&(v(this,Yc).set(d.data.id,d),(r=this._annotationEditorUIManager)==null||r.renderAnnotationElement(d))}k(this,Pu,GA).call(this)}update({viewport:t}){const s=this.div;this.viewport=t,Eu(s,{rotation:t.rotation}),k(this,Pu,GA).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(v(this,Yc).values())}getEditableAnnotation(t){return v(this,Yc).get(t)}},Pm=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,Mm=new WeakMap,Pu=new WeakSet,xB=async function(t,s){var r,l;const n=t.firstChild||t,i=n.id=`${WD}${s}`,o=await((r=v(this,Mm))==null?void 0:r.getAriaAttributes(i));if(o)for(const[u,d]of o)n.setAttribute(u,d);this.div.append(t),(l=v(this,Pm))==null||l.moveElementInDOM(this.div,t,n,!1)},GA=function(){if(!v(this,Kc))return;const t=this.div;for(const[s,n]of v(this,Kc)){const i=t.querySelector(`[data-annotation-id="${s}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):i.append(n)}v(this,Kc).clear()},Pk);const ZC=/\r\n?|\n/g;var Zi,Zn,Lm,Xc,Jn,vs,AB,EB,DB,Tb,na,Fb,Pb,TB,zA,FB;const Vt=class Vt extends Mt{constructor(s){super({...s,name:"freeTextEditor"});O(this,vs);O(this,Zi);O(this,Zn,"");O(this,Lm,`${this.id}-editor`);O(this,Xc,null);O(this,Jn);M(this,Zi,s.color||Vt._defaultColor||Mt._defaultLineColor),M(this,Jn,s.fontSize||Vt._defaultFontSize)}static get _keyboardManager(){const s=Vt.prototype,n=r=>r.isEmpty(),i=Du.TRANSLATE_SMALL,o=Du.TRANSLATE_BIG;return mt(this,"_keyboardManager",new gv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(s,n){Mt.initialize(s,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,n){switch(s){case et.FREETEXT_SIZE:Vt._defaultFontSize=n;break;case et.FREETEXT_COLOR:Vt._defaultColor=n;break}}updateParams(s,n){switch(s){case et.FREETEXT_SIZE:k(this,vs,AB).call(this,n);break;case et.FREETEXT_COLOR:k(this,vs,EB).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[et.FREETEXT_SIZE,Vt._defaultFontSize],[et.FREETEXT_COLOR,Vt._defaultColor||Mt._defaultLineColor]]}get propertiesToUpdate(){return[[et.FREETEXT_SIZE,v(this,Jn)],[et.FREETEXT_COLOR,v(this,Zi)]]}_translateEmpty(s,n){this._uiManager.translateSelectedEditors(s,n,!0)}getInitialTranslation(){const s=this.parentScale;return[-Vt._internalPadding*s,-(Vt._internalPadding+v(this,Jn))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(rt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),M(this,Xc,new AbortController);const s=this._uiManager.combinedSignal(v(this,Xc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:s}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:s}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:s}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:s}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:s})}disableEditMode(){var s;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",v(this,Lm)),this._isDraggable=!0,(s=v(this,Xc))==null||s.abort(),M(this,Xc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var s;this.width||(this.enableEditMode(),this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=v(this,Zn),n=M(this,Zn,k(this,vs,DB).call(this).trimEnd());if(s===n)return;const i=o=>{if(M(this,Zn,o),!o){this.remove();return}k(this,vs,Pb).call(this),this._uiManager.rebuild(this),k(this,vs,Tb).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(s)},mustExec:!1}),k(this,vs,Tb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){Vt._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,n;this.width&&(s=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",v(this,Lm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${v(this,Jn)}px * var(--scale-factor))`,i.color=v(this,Zi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Cw(this,this.div,["dblclick","keydown"]),this.width){const[o,r]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,g]=this.pageDimensions,[m,C]=this.pageTranslation;let w,y;switch(this.rotation){case 0:w=s+(l[0]-m)/f,y=n+this.height-(l[1]-C)/g;break;case 90:w=s+(l[0]-m)/f,y=n-(l[1]-C)/g,[u,d]=[d,-u];break;case 180:w=s-this.width+(l[0]-m)/f,y=n-(l[1]-C)/g,[u,d]=[-u,-d];break;case 270:w=s+(l[0]-m-this.height*g)/f,y=n+(l[1]-C-this.width*f)/g,[u,d]=[-d,u];break}this.setAt(w*o,y*r,u,d)}else this.setAt(s*o,n*r,this.width*o,this.height*r);k(this,vs,Pb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(s){var w,y,R;const n=s.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;s.preventDefault();const o=k(w=Vt,na,zA).call(w,n.getData("text")||"").replaceAll(ZC,`
`);if(!o)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const l=r.getRangeAt(0);if(!o.includes(`
`)){l.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],g=[];if(u.nodeType===Node.TEXT_NODE){const A=u.parentElement;if(g.push(u.nodeValue.slice(d).replaceAll(ZC,"")),A!==this.editorDiv){let D=f;for(const E of this.editorDiv.childNodes){if(E===A){D=g;continue}D.push(k(y=Vt,na,Fb).call(y,E))}}f.push(u.nodeValue.slice(0,d).replaceAll(ZC,""))}else if(u===this.editorDiv){let A=f,D=0;for(const E of this.editorDiv.childNodes)D++===d&&(A=g),A.push(k(R=Vt,na,Fb).call(R,E))}M(this,Zn,`${f.join(`
`)}${o}${g.join(`
`)}`),k(this,vs,Pb).call(this);const m=new Range;let C=f.reduce((A,D)=>A+D.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const D=A.nodeValue.length;if(C<=D){m.setStart(A,C),m.setEnd(A,C);break}C-=D}r.removeAllRanges(),r.addRange(m)}get contentDiv(){return this.editorDiv}static async deserialize(s,n,i){var l;let o=null;if(s instanceof wB){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:g,id:m,popupRef:C},textContent:w,textPosition:y,parent:{page:{pageNumber:R}}}=s;if(!w||w.length===0)return null;o=s={annotationType:rt.FREETEXT,color:Array.from(d),fontSize:u,value:w.join(`
`),position:y,pageIndex:R-1,rect:f.slice(0),rotation:g,id:m,deleted:!1,popupRef:C}}const r=await super.deserialize(s,n,i);return M(r,Jn,s.fontSize),M(r,Zi,Ne.makeHexColor(...s.color)),M(r,Zn,k(l=Vt,na,zA).call(l,s.value)),r.annotationElementId=s.id||null,r._initialData=o,r}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Vt._internalPadding*this.parentScale,i=this.getRect(n,n),o=Mt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:v(this,Zi)),r={annotationType:rt.FREETEXT,color:o,fontSize:v(this,Jn),value:k(this,vs,TB).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?r:this.annotationElementId&&!k(this,vs,FB).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(s){const n=super.renderAnnotationElement(s);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${v(this,Jn)}px * var(--scale-factor))`,i.color=v(this,Zi),n.replaceChildren();for(const r of v(this,Zn).split(`
`)){const l=document.createElement("div");l.append(r?document.createTextNode(r):document.createElement("br")),n.append(l)}const o=Vt._internalPadding*this.parentScale;return s.updateEdited({rect:this.getRect(o,o),popupContent:v(this,Zn)}),n}resetAnnotationElement(s){super.resetAnnotationElement(s),s.resetEdited()}};Zi=new WeakMap,Zn=new WeakMap,Lm=new WeakMap,Xc=new WeakMap,Jn=new WeakMap,vs=new WeakSet,AB=function(s){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-v(this,Jn))*this.parentScale),M(this,Jn,o),k(this,vs,Tb).call(this)},i=v(this,Jn);this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},EB=function(s){const n=o=>{M(this,Zi,this.editorDiv.style.color=o)},i=v(this,Zi);this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},DB=function(){var i;const s=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(s.push(k(i=Vt,na,Fb).call(i,o)),n=o);return s.join(`
`)},Tb=function(){const[s,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:r}=this,l=r.style.display,u=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",o.div.append(this.div),i=r.getBoundingClientRect(),r.remove(),r.style.display=l,r.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/s,this.height=i.height/n):(this.width=i.height/s,this.height=i.width/n),this.fixAndSetPosition()},na=new WeakSet,Fb=function(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(ZC,"")},Pb=function(){if(this.editorDiv.replaceChildren(),!!v(this,Zn))for(const s of v(this,Zn).split(`
`)){const n=document.createElement("div");n.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(n)}},TB=function(){return v(this,Zn).replaceAll(" "," ")},zA=function(s){return s.replaceAll(" "," ")},FB=function(s){const{value:n,fontSize:i,color:o,pageIndex:r}=this._initialData;return this._hasBeenMoved||s.value!==n||s.fontSize!==i||s.color.some((l,u)=>l!==o[u])||s.pageIndex!==r},O(Vt,na),Je(Vt,"_freeTextDefaultContent",""),Je(Vt,"_internalPadding",0),Je(Vt,"_defaultColor",null),Je(Vt,"_defaultFontSize",10),Je(Vt,"_type","freetext"),Je(Vt,"_editorType",rt.FREETEXT);let VA=Vt;class PB{toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,s){Wt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Wt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Wt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ei,Ji,Vh,zh,Ho,dt,Qc,Zc,km,Im,Wh,Uh,fl,Om,Hw,Bw,Es,Qg,MB,LB,kB,IB,OB,_B;const xr=class xr{constructor({x:t,y:s},n,i,o,r,l=0){O(this,Es);O(this,ei);O(this,Ji,[]);O(this,Vh);O(this,zh);O(this,Ho,[]);O(this,dt,new Float64Array(18));O(this,Qc);O(this,Zc);O(this,km);O(this,Im);O(this,Wh);O(this,Uh);O(this,fl,[]);M(this,ei,n),M(this,Uh,o*i),M(this,zh,r),v(this,dt).set([NaN,NaN,NaN,NaN,t,s],6),M(this,Vh,l),M(this,Im,v(xr,Om)*i),M(this,km,v(xr,Bw)*i),M(this,Wh,i),v(this,fl).push(t,s)}isEmpty(){return isNaN(v(this,dt)[8])}add({x:t,y:s}){var W;M(this,Qc,t),M(this,Zc,s);const[n,i,o,r]=v(this,ei);let[l,u,d,f]=v(this,dt).subarray(8,12);const g=t-d,m=s-f,C=Math.hypot(g,m);if(C<v(this,km))return!1;const w=C-v(this,Im),y=w/C,R=y*g,A=y*m;let D=l,E=u;l=d,u=f,d+=R,f+=A,(W=v(this,fl))==null||W.push(t,s);const T=-A/w,P=R/w,L=T*v(this,Uh),N=P*v(this,Uh);return v(this,dt).set(v(this,dt).subarray(2,8),0),v(this,dt).set([d+L,f+N],4),v(this,dt).set(v(this,dt).subarray(14,18),12),v(this,dt).set([d-L,f-N],16),isNaN(v(this,dt)[6])?(v(this,Ho).length===0&&(v(this,dt).set([l+L,u+N],2),v(this,Ho).push(NaN,NaN,NaN,NaN,(l+L-n)/o,(u+N-i)/r),v(this,dt).set([l-L,u-N],14),v(this,Ji).push(NaN,NaN,NaN,NaN,(l-L-n)/o,(u-N-i)/r)),v(this,dt).set([D,E,l,u,d,f],6),!this.isEmpty()):(v(this,dt).set([D,E,l,u,d,f],6),Math.abs(Math.atan2(E-u,D-l)-Math.atan2(A,R))<Math.PI/2?([l,u,d,f]=v(this,dt).subarray(2,6),v(this,Ho).push(NaN,NaN,NaN,NaN,((l+d)/2-n)/o,((u+f)/2-i)/r),[l,u,D,E]=v(this,dt).subarray(14,18),v(this,Ji).push(NaN,NaN,NaN,NaN,((D+l)/2-n)/o,((E+u)/2-i)/r),!0):([D,E,l,u,d,f]=v(this,dt).subarray(0,6),v(this,Ho).push(((D+5*l)/6-n)/o,((E+5*u)/6-i)/r,((5*l+d)/6-n)/o,((5*u+f)/6-i)/r,((l+d)/2-n)/o,((u+f)/2-i)/r),[d,f,l,u,D,E]=v(this,dt).subarray(12,18),v(this,Ji).push(((D+5*l)/6-n)/o,((E+5*u)/6-i)/r,((5*l+d)/6-n)/o,((5*u+f)/6-i)/r,((l+d)/2-n)/o,((u+f)/2-i)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const t=v(this,Ho),s=v(this,Ji);if(isNaN(v(this,dt)[6])&&!this.isEmpty())return k(this,Es,MB).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);k(this,Es,kB).call(this,n);for(let i=s.length-6;i>=6;i-=6)isNaN(s[i])?n.push(`L${s[i+4]} ${s[i+5]}`):n.push(`C${s[i]} ${s[i+1]} ${s[i+2]} ${s[i+3]} ${s[i+4]} ${s[i+5]}`);return k(this,Es,LB).call(this,n),n.join(" ")}newFreeDrawOutline(t,s,n,i,o,r){return new NB(t,s,n,i,o,r)}getOutlines(){var g;const t=v(this,Ho),s=v(this,Ji),n=v(this,dt),[i,o,r,l]=v(this,ei),u=new Float64Array((((g=v(this,fl))==null?void 0:g.length)??0)+2);for(let m=0,C=u.length-2;m<C;m+=2)u[m]=(v(this,fl)[m]-i)/r,u[m+1]=(v(this,fl)[m+1]-o)/l;if(u[u.length-2]=(v(this,Qc)-i)/r,u[u.length-1]=(v(this,Zc)-o)/l,isNaN(n[6])&&!this.isEmpty())return k(this,Es,IB).call(this,u);const d=new Float64Array(v(this,Ho).length+24+v(this,Ji).length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=k(this,Es,_B).call(this,d,f);for(let m=s.length-6;m>=6;m-=6)for(let C=0;C<6;C+=2){if(isNaN(s[m+C])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=s[m+C],d[f+1]=s[m+C+1],f+=2}return k(this,Es,OB).call(this,d,f),this.newFreeDrawOutline(d,u,v(this,ei),v(this,Wh),v(this,Vh),v(this,zh))}};ei=new WeakMap,Ji=new WeakMap,Vh=new WeakMap,zh=new WeakMap,Ho=new WeakMap,dt=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,km=new WeakMap,Im=new WeakMap,Wh=new WeakMap,Uh=new WeakMap,fl=new WeakMap,Om=new WeakMap,Hw=new WeakMap,Bw=new WeakMap,Es=new WeakSet,Qg=function(){const t=v(this,dt).subarray(4,6),s=v(this,dt).subarray(16,18),[n,i,o,r]=v(this,ei);return[(v(this,Qc)+(t[0]-s[0])/2-n)/o,(v(this,Zc)+(t[1]-s[1])/2-i)/r,(v(this,Qc)+(s[0]-t[0])/2-n)/o,(v(this,Zc)+(s[1]-t[1])/2-i)/r]},MB=function(){const[t,s,n,i]=v(this,ei),[o,r,l,u]=k(this,Es,Qg).call(this);return`M${(v(this,dt)[2]-t)/n} ${(v(this,dt)[3]-s)/i} L${(v(this,dt)[4]-t)/n} ${(v(this,dt)[5]-s)/i} L${o} ${r} L${l} ${u} L${(v(this,dt)[16]-t)/n} ${(v(this,dt)[17]-s)/i} L${(v(this,dt)[14]-t)/n} ${(v(this,dt)[15]-s)/i} Z`},LB=function(t){const s=v(this,Ji);t.push(`L${s[4]} ${s[5]} Z`)},kB=function(t){const[s,n,i,o]=v(this,ei),r=v(this,dt).subarray(4,6),l=v(this,dt).subarray(16,18),[u,d,f,g]=k(this,Es,Qg).call(this);t.push(`L${(r[0]-s)/i} ${(r[1]-n)/o} L${u} ${d} L${f} ${g} L${(l[0]-s)/i} ${(l[1]-n)/o}`)},IB=function(t){const s=v(this,dt),[n,i,o,r]=v(this,ei),[l,u,d,f]=k(this,Es,Qg).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(s[2]-n)/o,(s[3]-i)/r,NaN,NaN,NaN,NaN,(s[4]-n)/o,(s[5]-i)/r,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[16]-n)/o,(s[17]-i)/r,NaN,NaN,NaN,NaN,(s[14]-n)/o,(s[15]-i)/r],0),this.newFreeDrawOutline(g,t,v(this,ei),v(this,Wh),v(this,Vh),v(this,zh))},OB=function(t,s){const n=v(this,Ji);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],s),s+=6},_B=function(t,s){const n=v(this,dt).subarray(4,6),i=v(this,dt).subarray(16,18),[o,r,l,u]=v(this,ei),[d,f,g,m]=k(this,Es,Qg).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/l,(n[1]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-r)/u],s),s+=24},O(xr,Om,8),O(xr,Hw,2),O(xr,Bw,v(xr,Om)+v(xr,Hw));let ww=xr;var jh,Jc,Gr,_m,ti,Nm,us,Vn,Zg,Jg,HB;class NB extends PB{constructor(s,n,i,o,r,l){super();O(this,Vn);O(this,jh);O(this,Jc,null);O(this,Gr);O(this,_m);O(this,ti);O(this,Nm);O(this,us);M(this,us,s),M(this,ti,n),M(this,jh,i),M(this,Nm,o),M(this,Gr,r),M(this,_m,l),k(this,Vn,HB).call(this,l);const{x:u,y:d,width:f,height:g}=v(this,Jc);for(let m=0,C=s.length;m<C;m+=2)s[m]=(s[m]-u)/f,s[m+1]=(s[m+1]-d)/g;for(let m=0,C=n.length;m<C;m+=2)n[m]=(n[m]-u)/f,n[m+1]=(n[m+1]-d)/g}toSVGPath(){const s=[`M${v(this,us)[4]} ${v(this,us)[5]}`];for(let n=6,i=v(this,us).length;n<i;n+=6){if(isNaN(v(this,us)[n])){s.push(`L${v(this,us)[n+4]} ${v(this,us)[n+5]}`);continue}s.push(`C${v(this,us)[n]} ${v(this,us)[n+1]} ${v(this,us)[n+2]} ${v(this,us)[n+3]} ${v(this,us)[n+4]} ${v(this,us)[n+5]}`)}return s.push("Z"),s.join(" ")}serialize([s,n,i,o],r){const l=i-s,u=o-n;let d,f;switch(r){case 0:d=k(this,Vn,Zg).call(this,v(this,us),s,o,l,-u),f=k(this,Vn,Zg).call(this,v(this,ti),s,o,l,-u);break;case 90:d=k(this,Vn,Jg).call(this,v(this,us),s,n,l,u),f=k(this,Vn,Jg).call(this,v(this,ti),s,n,l,u);break;case 180:d=k(this,Vn,Zg).call(this,v(this,us),i,n,-l,u),f=k(this,Vn,Zg).call(this,v(this,ti),i,n,-l,u);break;case 270:d=k(this,Vn,Jg).call(this,v(this,us),i,o,-l,-u),f=k(this,Vn,Jg).call(this,v(this,ti),i,o,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return v(this,Jc)}newOutliner(s,n,i,o,r,l=0){return new ww(s,n,i,o,r,l)}getNewOutline(s,n){const{x:i,y:o,width:r,height:l}=v(this,Jc),[u,d,f,g]=v(this,jh),m=r*f,C=l*g,w=i*f+u,y=o*g+d,R=this.newOutliner({x:v(this,ti)[0]*m+w,y:v(this,ti)[1]*C+y},v(this,jh),v(this,Nm),s,v(this,_m),n??v(this,Gr));for(let A=2;A<v(this,ti).length;A+=2)R.add({x:v(this,ti)[A]*m+w,y:v(this,ti)[A+1]*C+y});return R.getOutlines()}get mustRemoveSelfIntersections(){return!0}}jh=new WeakMap,Jc=new WeakMap,Gr=new WeakMap,_m=new WeakMap,ti=new WeakMap,Nm=new WeakMap,us=new WeakMap,Vn=new WeakSet,Zg=function(s,n,i,o,r){const l=new Float64Array(s.length);for(let u=0,d=s.length;u<d;u+=2)l[u]=n+s[u]*o,l[u+1]=i+s[u+1]*r;return l},Jg=function(s,n,i,o,r){const l=new Float64Array(s.length);for(let u=0,d=s.length;u<d;u+=2)l[u]=n+s[u+1]*o,l[u+1]=i+s[u]*r;return l},HB=function(s){const n=v(this,us);let i=n[4],o=n[5],r=i,l=o,u=i,d=o,f=i,g=o;const m=s?Math.max:Math.min;for(let A=6,D=n.length;A<D;A+=6){if(isNaN(n[A]))r=Math.min(r,n[A+4]),l=Math.min(l,n[A+5]),u=Math.max(u,n[A+4]),d=Math.max(d,n[A+5]),g<n[A+5]?(f=n[A+4],g=n[A+5]):g===n[A+5]&&(f=m(f,n[A+4]));else{const E=Ne.bezierBoundingBox(i,o,...n.slice(A,A+6));r=Math.min(r,E[0]),l=Math.min(l,E[1]),u=Math.max(u,E[2]),d=Math.max(d,E[3]),g<E[3]?(f=E[2],g=E[3]):g===E[3]&&(f=m(f,E[2]))}i=n[A+4],o=n[A+5]}const C=r-v(this,Gr),w=l-v(this,Gr),y=u-r+2*v(this,Gr),R=d-l+2*v(this,Gr);M(this,Jc,{x:C,y:w,width:y,height:R,lastPoint:[f,g]})};var Hm,gl,eo,An,BB,Mb,GB,VB,WA;class hk{constructor(t,s=0,n=0,i=!0){O(this,An);O(this,Hm);O(this,gl,[]);O(this,eo,[]);let o=1/0,r=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:R,y:A,width:D,height:E}of t){const T=Math.floor((R-s)/d)*d,P=Math.ceil((R+D+s)/d)*d,L=Math.floor((A-s)/d)*d,N=Math.ceil((A+E+s)/d)*d,B=[T,L,N,!0],W=[P,L,N,!1];v(this,gl).push(B,W),o=Math.min(o,T),r=Math.max(r,P),l=Math.min(l,L),u=Math.max(u,N)}const f=r-o+2*n,g=u-l+2*n,m=o-n,C=l-n,w=v(this,gl).at(i?-1:-2),y=[w[0],w[2]];for(const R of v(this,gl)){const[A,D,E]=R;R[0]=(A-m)/f,R[1]=(D-C)/g,R[2]=(E-C)/g}M(this,Hm,{x:m,y:C,width:f,height:g,lastPoint:y})}getOutlines(){v(this,gl).sort((s,n)=>s[0]-n[0]||s[1]-n[1]||s[2]-n[2]);const t=[];for(const s of v(this,gl))s[3]?(t.push(...k(this,An,WA).call(this,s)),k(this,An,GB).call(this,s)):(k(this,An,VB).call(this,s),t.push(...k(this,An,WA).call(this,s)));return k(this,An,BB).call(this,t)}}Hm=new WeakMap,gl=new WeakMap,eo=new WeakMap,An=new WeakSet,BB=function(t){const s=[],n=new Set;for(const r of t){const[l,u,d]=r;s.push([l,u,r],[l,d,r])}s.sort((r,l)=>r[1]-l[1]||r[0]-l[0]);for(let r=0,l=s.length;r<l;r+=2){const u=s[r][2],d=s[r+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const i=[];let o;for(;n.size>0;){const r=n.values().next().value;let[l,u,d,f,g]=r;n.delete(r);let m=l,C=u;for(o=[l,d],i.push(o);;){let w;if(n.has(f))w=f;else if(n.has(g))w=g;else break;n.delete(w),[l,u,d,f,g]=w,m!==l&&(o.push(m,C,l,C===u?u:d),m=l),C=C===u?d:u}o.push(m,C)}return new Xoe(i,v(this,Hm))},Mb=function(t){const s=v(this,eo);let n=0,i=s.length-1;for(;n<=i;){const o=n+i>>1,r=s[o][0];if(r===t)return o;r<t?n=o+1:i=o-1}return i+1},GB=function([,t,s]){const n=k(this,An,Mb).call(this,t);v(this,eo).splice(n,0,[t,s])},VB=function([,t,s]){const n=k(this,An,Mb).call(this,t);for(let i=n;i<v(this,eo).length;i++){const[o,r]=v(this,eo)[i];if(o!==t)break;if(o===t&&r===s){v(this,eo).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[o,r]=v(this,eo)[i];if(o!==t)break;if(o===t&&r===s){v(this,eo).splice(i,1);return}}},WA=function(t){const[s,n,i]=t,o=[[s,n,i]],r=k(this,An,Mb).call(this,i);for(let l=0;l<r;l++){const[u,d]=v(this,eo)[l];for(let f=0,g=o.length;f<g;f++){const[,m,C]=o[f];if(!(d<=m||C<=u)){if(m>=u){if(C>d)o[f][1]=d;else{if(g===1)return[];o.splice(f,1),f--,g--}continue}o[f][2]=u,C>d&&o.push([s,d,C])}}}return o};var Bm,$h;class Xoe extends PB{constructor(s,n){super();O(this,Bm);O(this,$h);M(this,$h,s),M(this,Bm,n)}toSVGPath(){const s=[];for(const n of v(this,$h)){let[i,o]=n;s.push(`M${i} ${o}`);for(let r=2;r<n.length;r+=2){const l=n[r],u=n[r+1];l===i?(s.push(`V${u}`),o=u):u===o&&(s.push(`H${l}`),i=l)}s.push("Z")}return s.join(" ")}serialize([s,n,i,o],r){const l=[],u=i-s,d=o-n;for(const f of v(this,$h)){const g=new Array(f.length);for(let m=0;m<f.length;m+=2)g[m]=s+f[m]*u,g[m+1]=o-f[m+1]*d;l.push(g)}return l}get box(){return v(this,Bm)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Bm=new WeakMap,$h=new WeakMap;class UA extends ww{newFreeDrawOutline(t,s,n,i,o,r){return new Qoe(t,s,n,i,o,r)}get classNamesForDrawing(){return["highlight","free"]}}class Qoe extends NB{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,s,n,i,o,r=0){return new UA(t,s,n,i,o,r)}}var to,eu,qh,Rs,Gm,Kh,Vm,zm,pl,so,Yh,Wm,_t,jA,$A,qA,rc,zB,Ua;const In=class In{constructor({editor:t=null,uiManager:s=null}){O(this,_t);O(this,to,null);O(this,eu,null);O(this,qh);O(this,Rs,null);O(this,Gm,!1);O(this,Kh,!1);O(this,Vm,null);O(this,zm);O(this,pl,null);O(this,so,null);O(this,Yh);var n;t?(M(this,Kh,!1),M(this,Yh,et.HIGHLIGHT_COLOR),M(this,Vm,t)):(M(this,Kh,!0),M(this,Yh,et.HIGHLIGHT_DEFAULT_COLOR)),M(this,so,(t==null?void 0:t._uiManager)||s),M(this,zm,v(this,so)._eventBus),M(this,qh,(t==null?void 0:t.color)||((n=v(this,so))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),v(In,Wm)||M(In,Wm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return mt(this,"_keyboardManager",new gv([[["Escape","mac+Escape"],In.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],In.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],In.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],In.prototype._moveToPrevious],[["Home","mac+Home"],In.prototype._moveToBeginning],[["End","mac+End"],In.prototype._moveToEnd]]))}renderButton(){const t=M(this,to,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const s=v(this,so)._signal;t.addEventListener("click",k(this,_t,rc).bind(this),{signal:s}),t.addEventListener("keydown",k(this,_t,qA).bind(this),{signal:s});const n=M(this,eu,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=v(this,qh),t.append(n),t}renderMainDropdown(){const t=M(this,Rs,k(this,_t,jA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===v(this,to)){k(this,_t,rc).call(this,t);return}const s=t.target.getAttribute("data-color");s&&k(this,_t,$A).call(this,s,t)}_moveToNext(t){var s,n;if(!v(this,_t,Ua)){k(this,_t,rc).call(this,t);return}if(t.target===v(this,to)){(s=v(this,Rs).firstChild)==null||s.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var s,n;if(t.target===((s=v(this,Rs))==null?void 0:s.firstChild)||t.target===v(this,to)){v(this,_t,Ua)&&this._hideDropdownFromKeyboard();return}v(this,_t,Ua)||k(this,_t,rc).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var s;if(!v(this,_t,Ua)){k(this,_t,rc).call(this,t);return}(s=v(this,Rs).firstChild)==null||s.focus()}_moveToEnd(t){var s;if(!v(this,_t,Ua)){k(this,_t,rc).call(this,t);return}(s=v(this,Rs).lastChild)==null||s.focus()}hideDropdown(){var t,s;(t=v(this,Rs))==null||t.classList.add("hidden"),(s=v(this,pl))==null||s.abort(),M(this,pl,null)}_hideDropdownFromKeyboard(){var t;if(!v(this,Kh)){if(!v(this,_t,Ua)){(t=v(this,Vm))==null||t.unselect();return}this.hideDropdown(),v(this,to).focus({preventScroll:!0,focusVisible:v(this,Gm)})}}updateColor(t){if(v(this,eu)&&(v(this,eu).style.backgroundColor=t),!v(this,Rs))return;const s=v(this,so).highlightColors.values();for(const n of v(this,Rs).children)n.setAttribute("aria-selected",s.next().value===t)}destroy(){var t,s;(t=v(this,to))==null||t.remove(),M(this,to,null),M(this,eu,null),(s=v(this,Rs))==null||s.remove(),M(this,Rs,null)}};to=new WeakMap,eu=new WeakMap,qh=new WeakMap,Rs=new WeakMap,Gm=new WeakMap,Kh=new WeakMap,Vm=new WeakMap,zm=new WeakMap,pl=new WeakMap,so=new WeakMap,Yh=new WeakMap,Wm=new WeakMap,_t=new WeakSet,jA=function(){const t=document.createElement("div"),s=v(this,so)._signal;t.addEventListener("contextmenu",Ni,{signal:s}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of v(this,so).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=n,o.setAttribute("data-l10n-id",v(In,Wm)[n]);const r=document.createElement("span");o.append(r),r.className="swatch",r.style.backgroundColor=i,o.setAttribute("aria-selected",i===v(this,qh)),o.addEventListener("click",k(this,_t,$A).bind(this,i),{signal:s}),t.append(o)}return t.addEventListener("keydown",k(this,_t,qA).bind(this),{signal:s}),t},$A=function(t,s){s.stopPropagation(),v(this,zm).dispatch("switchannotationeditorparams",{source:this,type:v(this,Yh),value:t})},qA=function(t){In._keyboardManager.exec(this,t)},rc=function(t){if(v(this,_t,Ua)){this.hideDropdown();return}if(M(this,Gm,t.detail===0),v(this,pl)||(M(this,pl,new AbortController),window.addEventListener("pointerdown",k(this,_t,zB).bind(this),{signal:v(this,so).combinedSignal(v(this,pl))})),v(this,Rs)){v(this,Rs).classList.remove("hidden");return}const s=M(this,Rs,k(this,_t,jA).call(this));v(this,to).append(s)},zB=function(t){var s;(s=v(this,Rs))!=null&&s.contains(t.target)||this.hideDropdown()},Ua=function(){return v(this,Rs)&&!v(this,Rs).classList.contains("hidden")},O(In,Wm,null);let yw=In;var Xh,Um,Vr,tu,Qh,Ei,jm,$m,su,no,sn,Nn,Zh,zr,xs,Jh,Di,qm,it,KA,Lb,WB,UB,jB,YA,ac,Mi,zd,$B,kb,ep,qB,KB,YB,XB,QB;const St=class St extends Mt{constructor(s){super({...s,name:"highlightEditor"});O(this,it);O(this,Xh,null);O(this,Um,0);O(this,Vr);O(this,tu,null);O(this,Qh,null);O(this,Ei,null);O(this,jm,null);O(this,$m,0);O(this,su,null);O(this,no,null);O(this,sn,null);O(this,Nn,!1);O(this,Zh,null);O(this,zr);O(this,xs,null);O(this,Jh,"");O(this,Di);O(this,qm,"");this.color=s.color||St._defaultColor,M(this,Di,s.thickness||St._defaultThickness),M(this,zr,s.opacity||St._defaultOpacity),M(this,Vr,s.boxes||null),M(this,qm,s.methodOfCreation||""),M(this,Jh,s.text||""),this._isDraggable=!1,s.highlightId>-1?(M(this,Nn,!0),k(this,it,Lb).call(this,s),k(this,it,ac).call(this)):v(this,Vr)&&(M(this,Xh,s.anchorNode),M(this,Um,s.anchorOffset),M(this,jm,s.focusNode),M(this,$m,s.focusOffset),k(this,it,KA).call(this),k(this,it,ac).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const s=St.prototype;return mt(this,"_keyboardManager",new gv([[["ArrowLeft","mac+ArrowLeft"],s._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],s._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],s._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],s._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:v(this,Nn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:v(this,Di),methodOfCreation:v(this,qm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(s){return{numberOfColors:s.get("color").size}}static initialize(s,n){var i;Mt.initialize(s,n),St._defaultColor||(St._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(s,n){switch(s){case et.HIGHLIGHT_DEFAULT_COLOR:St._defaultColor=n;break;case et.HIGHLIGHT_THICKNESS:St._defaultThickness=n;break}}translateInPage(s,n){}get toolbarPosition(){return v(this,Zh)}updateParams(s,n){switch(s){case et.HIGHLIGHT_COLOR:k(this,it,WB).call(this,n);break;case et.HIGHLIGHT_THICKNESS:k(this,it,UB).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[et.HIGHLIGHT_DEFAULT_COLOR,St._defaultColor],[et.HIGHLIGHT_THICKNESS,St._defaultThickness]]}get propertiesToUpdate(){return[[et.HIGHLIGHT_COLOR,this.color||St._defaultColor],[et.HIGHLIGHT_THICKNESS,v(this,Di)||St._defaultThickness],[et.HIGHLIGHT_FREE,v(this,Nn)]]}async addEditToolbar(){const s=await super.addEditToolbar();return s?(this._uiManager.highlightColors&&(M(this,Qh,new yw({editor:this})),s.addColorPicker(v(this,Qh))),s):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,it,ep).call(this))}getBaseTranslation(){return[0,0]}getRect(s,n){return super.getRect(s,n,k(this,it,ep).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){k(this,it,YA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,it,ac).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var i;let n=!1;this.parent&&!s?k(this,it,YA).call(this):s&&(k(this,it,ac).call(this,s),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(s),this.show(this._isVisible),n&&this.select()}rotate(s){var o,r,l;const{drawLayer:n}=this.parent;let i;v(this,Nn)?(s=(s-this.rotation+360)%360,i=k(o=St,Mi,zd).call(o,v(this,no).box,s)):i=k(r=St,Mi,zd).call(r,this,s),n.rotate(v(this,sn),s),n.rotate(v(this,xs),s),n.updateBox(v(this,sn),i),n.updateBox(v(this,xs),k(l=St,Mi,zd).call(l,v(this,Ei).box,s))}render(){if(this.div)return this.div;const s=super.render();v(this,Jh)&&(s.setAttribute("aria-label",v(this,Jh)),s.setAttribute("role","mark")),v(this,Nn)?s.classList.add("free"):this.div.addEventListener("keydown",k(this,it,$B).bind(this),{signal:this._uiManager._signal});const n=M(this,su,document.createElement("div"));s.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=v(this,tu);const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),Cw(this,v(this,su),["pointerover","pointerleave"]),this.enableEditing(),s}pointerover(){this.isSelected||this.parent.drawLayer.addClass(v(this,xs),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(v(this,xs),"hovered")}_moveCaret(s){switch(this.parent.unselect(this),s){case 0:case 2:k(this,it,kb).call(this,!0);break;case 1:case 3:k(this,it,kb).call(this,!1);break}}select(){var s,n;super.select(),v(this,xs)&&((s=this.parent)==null||s.drawLayer.removeClass(v(this,xs),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(v(this,xs),"selected"))}unselect(){var s;super.unselect(),v(this,xs)&&((s=this.parent)==null||s.drawLayer.removeClass(v(this,xs),"selected"),v(this,Nn)||k(this,it,kb).call(this,!1))}get _mustFixPosition(){return!v(this,Nn)}show(s=this._isVisible){super.show(s),this.parent&&(this.parent.drawLayer.show(v(this,sn),s),this.parent.drawLayer.show(v(this,xs),s))}static startHighlighting(s,n,{target:i,x:o,y:r}){const{x:l,y:u,width:d,height:f}=i.getBoundingClientRect(),g=new AbortController,m=s.combinedSignal(g),C=y=>{y.preventDefault(),y.stopPropagation()},w=y=>{g.abort(),k(this,Mi,XB).call(this,s,y)};window.addEventListener("blur",w,{signal:m}),window.addEventListener("pointerup",w,{signal:m}),window.addEventListener("pointerdown",C,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ni,{signal:m}),i.addEventListener("pointermove",k(this,Mi,YB).bind(this,s),{signal:m}),this._freeHighlight=new UA({x:o,y:r},[l,u,d,f],s.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=s.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(s,n,i){var y,R,A,D;let o=null;if(s instanceof SB){const{data:{quadPoints:E,rect:T,rotation:P,id:L,color:N,opacity:B,popupRef:W},parent:{page:{pageNumber:z}}}=s;o=s={annotationType:rt.HIGHLIGHT,color:Array.from(N),opacity:B,quadPoints:E,boxes:null,pageIndex:z-1,rect:T.slice(0),rotation:P,id:L,deleted:!1,popupRef:W}}else if(s instanceof eT){const{data:{inkLists:E,rect:T,rotation:P,id:L,color:N,borderStyle:{rawWidth:B},popupRef:W},parent:{page:{pageNumber:z}}}=s;o=s={annotationType:rt.HIGHLIGHT,color:Array.from(N),thickness:B,inkLists:E,boxes:null,pageIndex:z-1,rect:T.slice(0),rotation:P,id:L,deleted:!1,popupRef:W}}const{color:r,quadPoints:l,inkLists:u,opacity:d}=s,f=await super.deserialize(s,n,i);f.color=Ne.makeHexColor(...r),M(f,zr,d||1),u&&M(f,Di,s.thickness),f.annotationElementId=s.id||null,f._initialData=o;const[g,m]=f.pageDimensions,[C,w]=f.pageTranslation;if(l){const E=M(f,Vr,[]);for(let T=0;T<l.length;T+=8)E.push({x:(l[T]-C)/g,y:1-(l[T+1]-w)/m,width:(l[T+2]-l[T])/g,height:(l[T+1]-l[T+5])/m});k(y=f,it,KA).call(y),k(R=f,it,ac).call(R),f.rotate(f.rotation)}else if(u){M(f,Nn,!0);const E=u[0],T={x:E[0]-C,y:m-(E[1]-w)},P=new UA(T,[0,0,g,m],1,v(f,Di)/2,!0,.001);for(let B=0,W=E.length;B<W;B+=2)T.x=E[B]-C,T.y=m-(E[B+1]-w),P.add(T);const{id:L,clipPathId:N}=n.drawLayer.draw(P,f.color,f._defaultOpacity,!0);k(A=f,it,Lb).call(A,{highlightOutlines:P.getOutlines(),highlightId:L,clipPathId:N}),k(D=f,it,ac).call(D)}return f}serialize(s=!1){if(this.isEmpty()||s)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Mt._colorManager.convert(this.color),o={annotationType:rt.HIGHLIGHT,color:i,opacity:v(this,zr),thickness:v(this,Di),quadPoints:k(this,it,qB).call(this),outlines:k(this,it,KB).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,it,ep).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!k(this,it,QB).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Xh=new WeakMap,Um=new WeakMap,Vr=new WeakMap,tu=new WeakMap,Qh=new WeakMap,Ei=new WeakMap,jm=new WeakMap,$m=new WeakMap,su=new WeakMap,no=new WeakMap,sn=new WeakMap,Nn=new WeakMap,Zh=new WeakMap,zr=new WeakMap,xs=new WeakMap,Jh=new WeakMap,Di=new WeakMap,qm=new WeakMap,it=new WeakSet,KA=function(){const s=new hk(v(this,Vr),.001);M(this,no,s.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=v(this,no).box;const n=new hk(v(this,Vr),.0025,.001,this._uiManager.direction==="ltr");M(this,Ei,n.getOutlines());const{lastPoint:i}=v(this,Ei).box;M(this,Zh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Lb=function({highlightOutlines:s,highlightId:n,clipPathId:i}){var g,m;if(M(this,no,s),M(this,Ei,s.getNewOutline(v(this,Di)/2+1.5,.0025)),n>=0)M(this,sn,n),M(this,tu,i),this.parent.drawLayer.finalizeLine(n,s),M(this,xs,this.parent.drawLayer.drawOutline(v(this,Ei)));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(v(this,sn),s),this.parent.drawLayer.updateBox(v(this,sn),k(g=St,Mi,zd).call(g,v(this,no).box,(C-this.rotation+360)%360)),this.parent.drawLayer.updateLine(v(this,xs),v(this,Ei)),this.parent.drawLayer.updateBox(v(this,xs),k(m=St,Mi,zd).call(m,v(this,Ei).box,C))}const{x:r,y:l,width:u,height:d}=s.box;switch(this.rotation){case 0:this.x=r,this.y=l,this.width=u,this.height=d;break;case 90:{const[C,w]=this.parentDimensions;this.x=l,this.y=1-r,this.width=u*w/C,this.height=d*C/w;break}case 180:this.x=1-r,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[C,w]=this.parentDimensions;this.x=1-l,this.y=r,this.width=u*w/C,this.height=d*C/w;break}}const{lastPoint:f}=v(this,Ei).box;M(this,Zh,[(f[0]-r)/u,(f[1]-l)/d])},WB=function(s){const n=(r,l)=>{var u,d,f;this.color=r,(u=this.parent)==null||u.drawLayer.changeColor(v(this,sn),r),(d=v(this,Qh))==null||d.updateColor(r),M(this,zr,l),(f=this.parent)==null||f.drawLayer.changeOpacity(v(this,sn),l)},i=this.color,o=v(this,zr);this.addCommands({cmd:n.bind(this,s,St._defaultOpacity),undo:n.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)},UB=function(s){const n=v(this,Di),i=o=>{M(this,Di,o),k(this,it,jB).call(this,o)};this.addCommands({cmd:i.bind(this,s),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)},jB=function(s){if(!v(this,Nn))return;k(this,it,Lb).call(this,{highlightOutlines:v(this,no).getNewOutline(s/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},YA=function(){v(this,sn)===null||!this.parent||(this.parent.drawLayer.remove(v(this,sn)),M(this,sn,null),this.parent.drawLayer.remove(v(this,xs)),M(this,xs,null))},ac=function(s=this.parent){v(this,sn)===null&&({id:gn(this,sn)._,clipPathId:gn(this,tu)._}=s.drawLayer.draw(v(this,no),this.color,v(this,zr)),M(this,xs,s.drawLayer.drawOutline(v(this,Ei))),v(this,su)&&(v(this,su).style.clipPath=v(this,tu)))},Mi=new WeakSet,zd=function({x:s,y:n,width:i,height:o},r){switch(r){case 90:return{x:1-n-o,y:s,width:o,height:i};case 180:return{x:1-s-i,y:1-n-o,width:i,height:o};case 270:return{x:n,y:1-s-i,width:o,height:i}}return{x:s,y:n,width:i,height:o}},$B=function(s){St._keyboardManager.exec(this,s)},kb=function(s){if(!v(this,Xh))return;const n=window.getSelection();s?n.setPosition(v(this,Xh),v(this,Um)):n.setPosition(v(this,jm),v(this,$m))},ep=function(){return v(this,Nn)?this.rotation:0},qB=function(){if(v(this,Nn))return null;const[s,n]=this.pageDimensions,[i,o]=this.pageTranslation,r=v(this,Vr),l=new Float32Array(r.length*8);let u=0;for(const{x:d,y:f,width:g,height:m}of r){const C=d*s+i,w=(1-f-m)*n+o;l[u]=l[u+4]=C,l[u+1]=l[u+3]=w,l[u+2]=l[u+6]=C+g*s,l[u+5]=l[u+7]=w+m*n,u+=8}return l},KB=function(s){return v(this,no).serialize(s,k(this,it,ep).call(this))},YB=function(s,n){this._freeHighlight.add(n)&&s.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},XB=function(s,n){this._freeHighlight.isEmpty()?s.drawLayer.remove(this._freeHighlightId):s.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},QB=function(s){const{color:n}=this._initialData;return s.color.some((i,o)=>i!==n[o])},O(St,Mi),Je(St,"_defaultColor",null),Je(St,"_defaultOpacity",1),Je(St,"_defaultThickness",12),Je(St,"_type","highlight"),Je(St,"_editorType",rt.HIGHLIGHT),Je(St,"_freeHighlightId",-1),Je(St,"_freeHighlight",null),Je(St,"_freeHighlightClipId","");let Sw=St;var nu,iu,Bo,Wr,Ti,ou,ru,au,Ur,ef,lu,cu,ml,Ee,ZB,JB,eG,tG,QA,sG,ZA,nG,iG,oG,rG,aG,lc,JA,eE,tE,Ib,Ob,Wd,sE,_b,ua,lG,nE,cG,uG,iE,Nb,tp;const Xt=class Xt extends Mt{constructor(s){super({...s,name:"inkEditor"});O(this,Ee);O(this,nu,0);O(this,iu,0);O(this,Bo,null);O(this,Wr,new Path2D);O(this,Ti,!1);O(this,ou,null);O(this,ru,!1);O(this,au,!1);O(this,Ur,null);O(this,ef,null);O(this,lu,0);O(this,cu,0);O(this,ml,null);this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s,n){Mt.initialize(s,n)}static updateDefaultParams(s,n){switch(s){case et.INK_THICKNESS:Xt._defaultThickness=n;break;case et.INK_COLOR:Xt._defaultColor=n;break;case et.INK_OPACITY:Xt._defaultOpacity=n/100;break}}updateParams(s,n){switch(s){case et.INK_THICKNESS:k(this,Ee,ZB).call(this,n);break;case et.INK_COLOR:k(this,Ee,JB).call(this,n);break;case et.INK_OPACITY:k(this,Ee,eG).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[et.INK_THICKNESS,Xt._defaultThickness],[et.INK_COLOR,Xt._defaultColor||Mt._defaultLineColor],[et.INK_OPACITY,Math.round(Xt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[et.INK_THICKNESS,this.thickness||Xt._defaultThickness],[et.INK_COLOR,this.color||Xt._defaultColor||Mt._defaultLineColor],[et.INK_OPACITY,Math.round(100*(this.opacity??Xt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(k(this,Ee,Ib).call(this),k(this,Ee,Ob).call(this)),this.isAttachedToDOM||(this.parent.add(this),k(this,Ee,Wd).call(this)),k(this,Ee,tp).call(this)))}remove(){var s;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,v(this,Bo)&&(clearTimeout(v(this,Bo)),M(this,Bo,null)),(s=v(this,Ur))==null||s.disconnect(),M(this,Ur,null),super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,n]=this.parentDimensions,i=this.width*s,o=this.height*n;this.setDimensions(i,o)}enableEditMode(){v(this,Ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,k(this,Ee,JA).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),k(this,Ee,eE).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){v(this,Ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),M(this,Ti,!0),this.div.classList.add("disabled"),k(this,Ee,tp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||v(this,Ti)||(this.setInForeground(),s.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),k(this,Ee,sG).call(this,s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),k(this,Ee,ZA).call(this,s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),k(this,Ee,tE).call(this,s)}canvasPointerleave(s){k(this,Ee,tE).call(this,s)}get isResizable(){return!this.isEmpty()&&v(this,Ti)}render(){if(this.div)return this.div;let s,n;this.width&&(s=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,r,l]=k(this,Ee,tG).call(this);if(this.setAt(i,o,0,0),this.setDims(r,l),k(this,Ee,Ib).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(s*u,n*d,this.width*u,this.height*d),M(this,au,!0),k(this,Ee,Wd).call(this),this.setDims(this.width*u,this.height*d),k(this,Ee,lc).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return k(this,Ee,Ob).call(this),this.div}setDimensions(s,n){const i=Math.round(s),o=Math.round(n);if(v(this,lu)===i&&v(this,cu)===o)return;M(this,lu,i),M(this,cu,o),this.canvas.style.visibility="hidden";const[r,l]=this.parentDimensions;this.width=s/r,this.height=n/l,this.fixAndSetPosition(),v(this,Ti)&&k(this,Ee,sE).call(this,s,n),k(this,Ee,Wd).call(this),k(this,Ee,lc).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(s,n,i){var R,A,D;if(s instanceof eT)return null;const o=await super.deserialize(s,n,i);o.thickness=s.thickness,o.color=Ne.makeHexColor(...s.color),o.opacity=s.opacity;const[r,l]=o.pageDimensions,u=o.width*r,d=o.height*l,f=o.parentScale,g=s.thickness/2;M(o,Ti,!0),M(o,lu,Math.round(u)),M(o,cu,Math.round(d));const{paths:m,rect:C,rotation:w}=s;for(let{bezier:E}of m){E=k(R=Xt,ua,cG).call(R,E,C,w);const T=[];o.paths.push(T);let P=f*(E[0]-g),L=f*(E[1]-g);for(let B=2,W=E.length;B<W;B+=6){const z=f*(E[B]-g),q=f*(E[B+1]-g),K=f*(E[B+2]-g),$=f*(E[B+3]-g),te=f*(E[B+4]-g),ee=f*(E[B+5]-g);T.push([[P,L],[z,q],[K,$],[te,ee]]),P=te,L=ee}const N=k(this,ua,lG).call(this,T);o.bezierPath2D.push(N)}const y=k(A=o,Ee,iE).call(A);return M(o,iu,Math.max(Mt.MIN_SIZE,y[2]-y[0])),M(o,nu,Math.max(Mt.MIN_SIZE,y[3]-y[1])),k(D=o,Ee,sE).call(D,u,d),o}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),n=Mt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:k(this,Ee,uG).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};nu=new WeakMap,iu=new WeakMap,Bo=new WeakMap,Wr=new WeakMap,Ti=new WeakMap,ou=new WeakMap,ru=new WeakMap,au=new WeakMap,Ur=new WeakMap,ef=new WeakMap,lu=new WeakMap,cu=new WeakMap,ml=new WeakMap,Ee=new WeakSet,ZB=function(s){const n=o=>{this.thickness=o,k(this,Ee,tp).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},JB=function(s){const n=o=>{this.color=o,k(this,Ee,lc).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},eG=function(s){const n=o=>{this.opacity=o,k(this,Ee,lc).call(this)};s/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,s),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},tG=function(){const{parentRotation:s,parentDimensions:[n,i]}=this;switch(s){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},QA=function(){const{ctx:s,color:n,opacity:i,thickness:o,parentScale:r,scaleFactor:l}=this;s.lineWidth=o*r/l,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${n}${bie(i)}`},sG=function(s,n){this.canvas.addEventListener("contextmenu",Ni,{signal:this._uiManager._signal}),k(this,Ee,eE).call(this),M(this,ou,new AbortController);const i=this._uiManager.combinedSignal(v(this,ou));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,v(this,au)||(M(this,au,!0),k(this,Ee,Wd).call(this),this.thickness||(this.thickness=Xt._defaultThickness),this.color||(this.color=Xt._defaultColor||Mt._defaultLineColor),this.opacity??(this.opacity=Xt._defaultOpacity)),this.currentPath.push([s,n]),M(this,ru,!1),k(this,Ee,QA).call(this),M(this,ml,()=>{k(this,Ee,oG).call(this),v(this,ml)&&window.requestAnimationFrame(v(this,ml))}),window.requestAnimationFrame(v(this,ml))},ZA=function(s,n){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===i&&n===o)return;const r=this.currentPath;let l=v(this,Wr);if(r.push([s,n]),M(this,ru,!0),r.length<=2){l.moveTo(...r[0]),l.lineTo(s,n);return}r.length===3&&(M(this,Wr,l=new Path2D),l.moveTo(...r[0])),k(this,Ee,rG).call(this,l,...r.at(-3),...r.at(-2),s,n)},nG=function(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);v(this,Wr).lineTo(...s)},iG=function(s,n){M(this,ml,null),s=Math.min(Math.max(s,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),k(this,Ee,ZA).call(this,s,n),k(this,Ee,nG).call(this);let i;if(this.currentPath.length!==1)i=k(this,Ee,aG).call(this);else{const d=[s,n];i=[[d,d.slice(),d.slice(),d]]}const o=v(this,Wr),r=this.currentPath;this.currentPath=[],M(this,Wr,new Path2D);const l=()=>{this.allRawPaths.push(r),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(k(this,Ee,Ib).call(this),k(this,Ee,Ob).call(this)),k(this,Ee,tp).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},oG=function(){if(!v(this,ru))return;M(this,ru,!1);const s=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(l=>l[0]),o=n.map(l=>l[1]);Math.min(...i)-s,Math.max(...i)+s,Math.min(...o)-s,Math.max(...o)+s;const{ctx:r}=this;r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)r.stroke(l);r.stroke(v(this,Wr)),r.restore()},rG=function(s,n,i,o,r,l,u){const d=(n+o)/2,f=(i+r)/2,g=(o+l)/2,m=(r+u)/2;s.bezierCurveTo(d+2*(o-d)/3,f+2*(r-f)/3,g+2*(o-g)/3,m+2*(r-m)/3,g,m)},aG=function(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const n=[];let i,[o,r]=s[0];for(i=1;i<s.length-2;i++){const[C,w]=s[i],[y,R]=s[i+1],A=(C+y)/2,D=(w+R)/2,E=[o+2*(C-o)/3,r+2*(w-r)/3],T=[A+2*(C-A)/3,D+2*(w-D)/3];n.push([[o,r],E,T,[A,D]]),[o,r]=[A,D]}const[l,u]=s[i],[d,f]=s[i+1],g=[o+2*(l-o)/3,r+2*(u-r)/3],m=[d+2*(l-d)/3,f+2*(u-f)/3];return n.push([[o,r],g,m,[d,f]]),n},lc=function(){if(this.isEmpty()){k(this,Ee,_b).call(this);return}k(this,Ee,QA).call(this);const{canvas:s,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,s.width,s.height),k(this,Ee,_b).call(this);for(const i of this.bezierPath2D)n.stroke(i)},JA=function(){if(v(this,ef))return;M(this,ef,new AbortController);const s=this._uiManager.combinedSignal(v(this,ef));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:s})},eE=function(){var s;(s=this.pointerdownAC)==null||s.abort(),this.pointerdownAC=null},tE=function(s){var n;(n=v(this,ou))==null||n.abort(),M(this,ou,null),k(this,Ee,JA).call(this),v(this,Bo)&&clearTimeout(v(this,Bo)),M(this,Bo,setTimeout(()=>{M(this,Bo,null),this.canvas.removeEventListener("contextmenu",Ni)},10)),k(this,Ee,iG).call(this,s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ib=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ob=function(){M(this,Ur,new ResizeObserver(s=>{const n=s[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),v(this,Ur).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=v(this,Ur))==null||s.disconnect(),M(this,Ur,null)},{once:!0})},Wd=function(){if(!v(this,au))return;const[s,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*n),k(this,Ee,_b).call(this)},sE=function(s,n){const i=k(this,Ee,Nb).call(this),o=(s-i)/v(this,iu),r=(n-i)/v(this,nu);this.scaleFactor=Math.min(o,r)},_b=function(){const s=k(this,Ee,Nb).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)},ua=new WeakSet,lG=function(s){const n=new Path2D;for(let i=0,o=s.length;i<o;i++){const[r,l,u,d]=s[i];i===0&&n.moveTo(...r),n.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return n},nE=function(s,n,i){const[o,r,l,u]=n;switch(i){case 0:for(let d=0,f=s.length;d<f;d+=2)s[d]+=o,s[d+1]=u-s[d+1];break;case 90:for(let d=0,f=s.length;d<f;d+=2){const g=s[d];s[d]=s[d+1]+o,s[d+1]=g+r}break;case 180:for(let d=0,f=s.length;d<f;d+=2)s[d]=l-s[d],s[d+1]+=r;break;case 270:for(let d=0,f=s.length;d<f;d+=2){const g=s[d];s[d]=l-s[d+1],s[d+1]=u-g}break;default:throw new Error("Invalid rotation")}return s},cG=function(s,n,i){const[o,r,l,u]=n;switch(i){case 0:for(let d=0,f=s.length;d<f;d+=2)s[d]-=o,s[d+1]=u-s[d+1];break;case 90:for(let d=0,f=s.length;d<f;d+=2){const g=s[d];s[d]=s[d+1]-r,s[d+1]=g-o}break;case 180:for(let d=0,f=s.length;d<f;d+=2)s[d]=l-s[d],s[d+1]-=r;break;case 270:for(let d=0,f=s.length;d<f;d+=2){const g=s[d];s[d]=u-s[d+1],s[d+1]=l-g}break;default:throw new Error("Invalid rotation")}return s},uG=function(s,n,i,o){var f,g;const r=[],l=this.thickness/2,u=s*n+l,d=s*i+l;for(const m of this.paths){const C=[],w=[];for(let y=0,R=m.length;y<R;y++){const[A,D,E,T]=m[y];if(A[0]===T[0]&&A[1]===T[1]&&R===1){const $=s*A[0]+u,te=s*A[1]+d;C.push($,te),w.push($,te);break}const P=s*A[0]+u,L=s*A[1]+d,N=s*D[0]+u,B=s*D[1]+d,W=s*E[0]+u,z=s*E[1]+d,q=s*T[0]+u,K=s*T[1]+d;y===0&&(C.push(P,L),w.push(P,L)),C.push(N,B,W,z,q,K),w.push(N,B),y===R-1&&w.push(q,K)}r.push({bezier:k(f=Xt,ua,nE).call(f,C,o,this.rotation),points:k(g=Xt,ua,nE).call(g,w,o,this.rotation)})}return r},iE=function(){let s=1/0,n=-1/0,i=1/0,o=-1/0;for(const r of this.paths)for(const[l,u,d,f]of r){const g=Ne.bezierBoundingBox(...l,...u,...d,...f);s=Math.min(s,g[0]),i=Math.min(i,g[1]),n=Math.max(n,g[2]),o=Math.max(o,g[3])}return[s,i,n,o]},Nb=function(){return v(this,Ti)?Math.ceil(this.thickness*this.parentScale):0},tp=function(s=!1){if(this.isEmpty())return;if(!v(this,Ti)){k(this,Ee,lc).call(this);return}const n=k(this,Ee,iE).call(this),i=k(this,Ee,Nb).call(this);M(this,iu,Math.max(Mt.MIN_SIZE,n[2]-n[0])),M(this,nu,Math.max(Mt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(i+v(this,iu)*this.scaleFactor),r=Math.ceil(i+v(this,nu)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=o/l,this.height=r/u,this.setAspectRatio(o,r);const d=this.translationX,f=this.translationY;this.translationX=-n[0],this.translationY=-n[1],k(this,Ee,Wd).call(this),k(this,Ee,lc).call(this),M(this,lu,o),M(this,cu,r),this.setDims(o,r);const g=s?i/this.scaleFactor/2:0;this.translate(d-this.translationX-g,f-this.translationY-g)},O(Xt,ua),Je(Xt,"_defaultColor",null),Je(Xt,"_defaultOpacity",1),Je(Xt,"_defaultThickness",1),Je(Xt,"_type","ink"),Je(Xt,"_editorType",rt.INK);let XA=Xt;var Zt,Us,vl,jr,Cl,tf,Go,$r,Vo,si,sf,gt,sp,np,Hb,rE,dG,Bb,aE,Gb,hG,fG;const mp=class mp extends Mt{constructor(s){super({...s,name:"stampEditor"});O(this,gt);O(this,Zt,null);O(this,Us,null);O(this,vl,null);O(this,jr,null);O(this,Cl,null);O(this,tf,"");O(this,Go,null);O(this,$r,null);O(this,Vo,null);O(this,si,!1);O(this,sf,!1);M(this,jr,s.bitmapUrl),M(this,Cl,s.bitmapFile)}static initialize(s,n){Mt.initialize(s,n)}static get supportedTypes(){return mt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return mt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(s){return this.supportedTypes.includes(s)}static paste(s,n){n.pasteEditor(rt.STAMP,{bitmapFile:s.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var s;return{type:"stamp",hasAltText:!!((s=this.altTextData)!=null&&s.altText)}}static computeTelemetryFinalData(s){const n=s.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(s=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:r,height:l}=s||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:o,width:r,height:l,channels:o.length/(r*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var s,n;v(this,Us)&&(M(this,Zt,null),this._uiManager.imageManager.deleteId(v(this,Us)),(s=v(this,Go))==null||s.remove(),M(this,Go,null),(n=v(this,$r))==null||n.disconnect(),M(this,$r,null),v(this,Vo)&&(clearTimeout(v(this,Vo)),M(this,Vo,null))),super.remove()}rebuild(){if(!this.parent){v(this,Us)&&k(this,gt,Hb).call(this);return}super.rebuild(),this.div!==null&&(v(this,Us)&&v(this,Go)===null&&k(this,gt,Hb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(v(this,vl)||v(this,Zt)||v(this,jr)||v(this,Cl)||v(this,Us))}get isResizable(){return!0}render(){if(this.div)return this.div;let s,n;if(this.width&&(s=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),v(this,Zt)?k(this,gt,rE).call(this):k(this,gt,Hb).call(this),this.width&&!this.annotationElementId){const[i,o]=this.parentDimensions;this.setAt(s*i,n*o,this.width*i,this.height*o)}return this.div}copyCanvas(s,n,i=!1){var C;s||(s=224);const{width:o,height:r}=v(this,Zt),l=new tA;let u=v(this,Zt),d=o,f=r,g=null;if(n){if(o>n||r>n){const B=Math.min(n/o,n/r);d=Math.floor(o*B),f=Math.floor(r*B)}g=document.createElement("canvas");const w=g.width=Math.ceil(d*l.sx),y=g.height=Math.ceil(f*l.sy);v(this,si)||(u=k(this,gt,Bb).call(this,w,y));const R=g.getContext("2d");R.filter=this._uiManager.hcmFilter;let A="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(C=window.matchMedia)!=null&&C.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",D="#42414d");const E=15,T=E*l.sx,P=E*l.sy,L=new OffscreenCanvas(T*2,P*2),N=L.getContext("2d");N.fillStyle=A,N.fillRect(0,0,T*2,P*2),N.fillStyle=D,N.fillRect(0,0,T,P),N.fillRect(T,P,T,P),R.fillStyle=R.createPattern(L,"repeat"),R.fillRect(0,0,w,y),R.drawImage(u,0,0,u.width,u.height,0,0,w,y)}let m=null;if(i){let w,y;if(l.symmetric&&u.width<s&&u.height<s)w=u.width,y=u.height;else if(u=v(this,Zt),o>s||r>s){const D=Math.min(s/o,s/r);w=Math.floor(o*D),y=Math.floor(r*D),v(this,si)||(u=k(this,gt,Bb).call(this,w,y))}const A=new OffscreenCanvas(w,y).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,w,y),m={width:w,height:y,data:A.getImageData(0,0,w,y).data}}return{canvas:g,width:d,height:f,imageData:m}}getImageForAltText(){return v(this,Go)}static async deserialize(s,n,i){var y;let o=null;if(s instanceof RB){const{data:{rect:R,rotation:A,id:D,structParent:E,popupRef:T},container:P,parent:{page:{pageNumber:L}}}=s,N=P.querySelector("canvas"),B=i.imageManager.getFromCanvas(P.id,N);N.remove();const W=((y=await n._structTree.getAriaAttributes(`${WD}${D}`))==null?void 0:y.get("aria-label"))||"";o=s={annotationType:rt.STAMP,bitmapId:B.id,bitmap:B.bitmap,pageIndex:L-1,rect:R.slice(0),rotation:A,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:E,popupRef:T}}const r=await super.deserialize(s,n,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:g,accessibilityData:m}=s;f&&i.imageManager.isValidId(f)?(M(r,Us,f),u&&M(r,Zt,u)):M(r,jr,d),M(r,si,g);const[C,w]=r.pageDimensions;return r.width=(l[2]-l[0])/C,r.height=(l[3]-l[1])/w,r.annotationElementId=s.id||null,m&&(r.altTextData=m),r._initialData=o,M(r,sf,!!o),r}serialize(s=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:rt.STAMP,bitmapId:v(this,Us),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:v(this,si),structTreeParentId:this._structTreeParentId};if(s)return i.bitmapUrl=k(this,gt,Gb).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:o,altText:r}=this.serializeAltText(!1);if(!o&&r&&(i.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const u=k(this,gt,fG).call(this,i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const l=v(this,si)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(v(this,Us)))n.stamps.set(v(this,Us),{area:l,serialized:i}),i.bitmap=k(this,gt,Gb).call(this,!1);else if(v(this,si)){const u=n.stamps.get(v(this,Us));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=k(this,gt,Gb).call(this,!1))}return i}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}};Zt=new WeakMap,Us=new WeakMap,vl=new WeakMap,jr=new WeakMap,Cl=new WeakMap,tf=new WeakMap,Go=new WeakMap,$r=new WeakMap,Vo=new WeakMap,si=new WeakMap,sf=new WeakMap,gt=new WeakSet,sp=function(s,n=!1){if(!s){this.remove();return}M(this,Zt,s.bitmap),n||(M(this,Us,s.id),M(this,si,s.isSvg)),s.file&&M(this,tf,s.file.name),k(this,gt,rE).call(this)},np=function(){if(M(this,vl,null),this._uiManager.enableWaiting(!1),!!v(this,Go)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Zt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Zt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Hb=function(){if(v(this,Us)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(v(this,Us)).then(i=>k(this,gt,sp).call(this,i,!0)).finally(()=>k(this,gt,np).call(this));return}if(v(this,jr)){const i=v(this,jr);M(this,jr,null),this._uiManager.enableWaiting(!0),M(this,vl,this._uiManager.imageManager.getFromUrl(i).then(o=>k(this,gt,sp).call(this,o)).finally(()=>k(this,gt,np).call(this)));return}if(v(this,Cl)){const i=v(this,Cl);M(this,Cl,null),this._uiManager.enableWaiting(!0),M(this,vl,this._uiManager.imageManager.getFromFile(i).then(o=>k(this,gt,sp).call(this,o)).finally(()=>k(this,gt,np).call(this)));return}const s=document.createElement("input");s.type="file",s.accept=mp.supportedTypesStr;const n=this._uiManager._signal;M(this,vl,new Promise(i=>{s.addEventListener("change",async()=>{if(!s.files||s.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(s.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,gt,sp).call(this,o)}i()},{signal:n}),s.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>k(this,gt,np).call(this))),s.click()},rE=function(){const{div:s}=this;let{width:n,height:i}=v(this,Zt);const[o,r]=this.pageDimensions,l=.75;if(this.width)n=this.width*o,i=this.height*r;else if(n>l*o||i>l*r){const g=Math.min(l*o/n,l*r/i);n*=g,i*=g}const[u,d]=this.parentDimensions;this.setDims(n*u/o,i*d/r),this._uiManager.enableWaiting(!1);const f=M(this,Go,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(s.hidden=!1),k(this,gt,aE).call(this,n,i),k(this,gt,hG).call(this),v(this,sf)||(this.parent.addUndoableEditor(this),M(this,sf,!0)),this._reportTelemetry({action:"inserted_image"}),v(this,tf)&&f.setAttribute("aria-label",v(this,tf))},dG=function(s,n){var l;const[i,o]=this.parentDimensions;this.width=s/i,this.height=n/o,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,v(this,Vo)!==null&&clearTimeout(v(this,Vo)),M(this,Vo,setTimeout(()=>{M(this,Vo,null),k(this,gt,aE).call(this,s,n)},200))},Bb=function(s,n){const{width:i,height:o}=v(this,Zt);let r=i,l=o,u=v(this,Zt);for(;r>2*s||l>2*n;){const d=r,f=l;r>2*s&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const g=new OffscreenCanvas(r,l);g.getContext("2d").drawImage(u,0,0,d,f,0,0,r,l),u=g.transferToImageBitmap()}return u},aE=function(s,n){const i=new tA,o=Math.ceil(s*i.sx),r=Math.ceil(n*i.sy),l=v(this,Go);if(!l||l.width===o&&l.height===r)return;l.width=o,l.height=r;const u=v(this,si)?v(this,Zt):k(this,gt,Bb).call(this,o,r),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,r)},Gb=function(s){if(s){if(v(this,si)){const o=this._uiManager.imageManager.getSvgUrl(v(this,Us));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=v(this,Zt),n.getContext("2d").drawImage(v(this,Zt),0,0),n.toDataURL()}if(v(this,si)){const[n,i]=this.pageDimensions,o=Math.round(this.width*n*Pl.PDF_TO_CSS_UNITS),r=Math.round(this.height*i*Pl.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(o,r);return l.getContext("2d").drawImage(v(this,Zt),0,0,v(this,Zt).width,v(this,Zt).height,0,0,o,r),l.transferToImageBitmap()}return structuredClone(v(this,Zt))},hG=function(){this._uiManager._signal&&(M(this,$r,new ResizeObserver(s=>{const n=s[0].contentRect;n.width&&n.height&&k(this,gt,dG).call(this,n.width,n.height)})),v(this,$r).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=v(this,$r))==null||s.disconnect(),M(this,$r,null)},{once:!0}))},fG=function(s){var d;const{rect:n,pageIndex:i,accessibilityData:{altText:o}}=this._initialData,r=s.rect.every((f,g)=>Math.abs(f-n[g])<1),l=s.pageIndex===i,u=(((d=s.accessibilityData)==null?void 0:d.alt)||"")===o;return{isSame:r&&l&&u,isSameAltText:u}},Je(mp,"_type","stamp"),Je(mp,"_editorType",rt.STAMP);let oE=mp;var uu,nf,zo,bl,qr,ni,wl,of,rf,nn,Kr,Ve,yl,Ks,gG,cE,uE,dE,Vb;const Wi=class Wi{constructor({uiManager:t,pageIndex:s,div:n,structTreeLayer:i,accessibilityManager:o,annotationLayer:r,drawLayer:l,textLayer:u,viewport:d,l10n:f}){O(this,Ks);O(this,uu);O(this,nf,!1);O(this,zo,null);O(this,bl,null);O(this,qr,null);O(this,ni,new Map);O(this,wl,!1);O(this,of,!1);O(this,rf,!1);O(this,nn,null);O(this,Kr,null);O(this,Ve);const g=[...v(Wi,yl).values()];if(!Wi._initialized){Wi._initialized=!0;for(const m of g)m.initialize(f,t)}t.registerEditorTypes(g),M(this,Ve,t),this.pageIndex=s,this.div=n,M(this,uu,o),M(this,zo,r),this.viewport=d,M(this,nn,u),this.drawLayer=l,this._structTree=i,v(this,Ve).addLayer(this)}get isEmpty(){return v(this,ni).size===0}get isInvisible(){return this.isEmpty&&v(this,Ve).getMode()===rt.NONE}updateToolbar(t){v(this,Ve).updateToolbar(t)}updateMode(t=v(this,Ve).getMode()){switch(k(this,Ks,Vb).call(this),t){case rt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case rt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case rt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const n of v(Wi,yl).values())s.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var s;return t===((s=v(this,nn))==null?void 0:s.div)}addInkEditorIfNeeded(t){if(v(this,Ve).getMode()!==rt.INK)return;if(!t){for(const n of v(this,ni).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){v(this,Ve).setEditingState(t)}addCommands(t){v(this,Ve).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var s;(s=v(this,zo))==null||s.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of v(this,ni).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(v(this,Ve).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!v(this,zo))return;const s=v(this,zo).getEditableAnnotations();for(const n of s){if(n.hide(),v(this,Ve).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;M(this,rf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,s=new Map;for(const o of v(this,ni).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);(i=this.getEditableAnnotation(o.annotationElementId))==null||i.show(),o.remove()}if(v(this,zo)){const o=v(this,zo).getEditableAnnotations();for(const r of o){const{id:l}=r.data;if(v(this,Ve).isDeletedAnnotationElement(l))continue;let u=s.get(l);if(u){u.resetAnnotationElement(r),u.show(!1),r.show();continue}u=t.get(l),u&&(v(this,Ve).addChangedExistingAnnotation(u),u.renderAnnotationElement(r)&&u.show(!1)),r.show()}}k(this,Ks,Vb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of v(Wi,yl).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,rf,!1)}getEditableAnnotation(t){var s;return((s=v(this,zo))==null?void 0:s.getEditableAnnotation(t))||null}setActiveEditor(t){v(this,Ve).getActive()!==t&&v(this,Ve).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=v(this,nn))!=null&&t.div&&!v(this,Kr)){M(this,Kr,new AbortController);const s=v(this,Ve).combinedSignal(v(this,Kr));v(this,nn).div.addEventListener("pointerdown",k(this,Ks,gG).bind(this),{signal:s}),v(this,nn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=v(this,nn))!=null&&t.div&&v(this,Kr)&&(v(this,Kr).abort(),M(this,Kr,null),v(this,nn).div.classList.remove("highlighting"))}enableClick(){if(v(this,bl))return;M(this,bl,new AbortController);const t=v(this,Ve).combinedSignal(v(this,bl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=v(this,bl))==null||t.abort(),M(this,bl,null)}attach(t){v(this,ni).set(t.id,t);const{annotationElementId:s}=t;s&&v(this,Ve).isDeletedAnnotationElement(s)&&v(this,Ve).removeDeletedAnnotationElement(t)}detach(t){var s;v(this,ni).delete(t.id),(s=v(this,uu))==null||s.removePointerInTextLayer(t.contentDiv),!v(this,rf)&&t.annotationElementId&&v(this,Ve).addDeletedAnnotationElement(t)}remove(t){this.detach(t),v(this,Ve).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,v(this,of)||this.addInkEditorIfNeeded(!1)}changeParent(t){var s;t.parent!==this&&(t.parent&&t.annotationElementId&&(v(this,Ve).addDeletedAnnotationElement(t.annotationElementId),Mt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(s=t.parent)==null||s.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),v(this,Ve).addEditor(t),this.attach(t),!t.isAttachedToDOM){const s=t.render();this.div.append(s),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),v(this,Ve).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:s}=document;t.div.contains(s)&&!v(this,qr)&&(t._focusEventsAllowed=!1,M(this,qr,setTimeout(()=>{M(this,qr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:v(this,Ve)._signal}),s.focus())},0))),t._structTreeParentId=(n=v(this,uu))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const s=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:s,undo:n,mustExec:!1})}getNextId(){return v(this,Ve).getId()}combinedSignal(t){return v(this,Ve).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=v(this,Ks,cE))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,s){v(this,Ve).updateToolbar(t),v(this,Ve).updateMode(t);const{offsetX:n,offsetY:i}=k(this,Ks,dE).call(this),o=this.getNextId(),r=k(this,Ks,uE).call(this,{parent:this,id:o,x:n,y:i,uiManager:v(this,Ve),isCentered:!0,...s});r&&this.add(r)}async deserialize(t){var s;return await((s=v(Wi,yl).get(t.annotationType??t.annotationEditorType))==null?void 0:s.deserialize(t,this,v(this,Ve)))||null}createAndAddNewEditor(t,s,n={}){const i=this.getNextId(),o=k(this,Ks,uE).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:v(this,Ve),isCentered:s,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(k(this,Ks,dE).call(this),!0)}setSelected(t){v(this,Ve).setSelected(t)}toggleSelected(t){v(this,Ve).toggleSelected(t)}unselect(t){v(this,Ve).unselect(t)}pointerup(t){const{isMac:s}=Rn.platform;if(!(t.button!==0||t.ctrlKey&&s)&&t.target===this.div&&v(this,wl)){if(M(this,wl,!1),!v(this,nf)){M(this,nf,!0);return}if(v(this,Ve).getMode()===rt.STAMP){v(this,Ve).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(v(this,Ve).getMode()===rt.HIGHLIGHT&&this.enableTextSelection(),v(this,wl)){M(this,wl,!1);return}const{isMac:s}=Rn.platform;if(t.button!==0||t.ctrlKey&&s||t.target!==this.div)return;M(this,wl,!0);const n=v(this,Ve).getActive();M(this,nf,!n||n.isEmpty())}findNewParent(t,s,n){const i=v(this,Ve).findParent(s,n);return i===null||i===this?!1:(i.changeParent(t),!0)}destroy(){var t,s;((t=v(this,Ve).getActive())==null?void 0:t.parent)===this&&(v(this,Ve).commitOrRemove(),v(this,Ve).setActiveEditor(null)),v(this,qr)&&(clearTimeout(v(this,qr)),M(this,qr,null));for(const n of v(this,ni).values())(s=v(this,uu))==null||s.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,v(this,ni).clear(),v(this,Ve).removeLayer(this)}render({viewport:t}){this.viewport=t,Eu(this.div,t);for(const s of v(this,Ve).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:t}){v(this,Ve).commitOrRemove(),k(this,Ks,Vb).call(this);const s=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Eu(this.div,{rotation:n}),s!==n)for(const i of v(this,ni).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:s}=this.viewport.rawDims;return[t,s]}get scale(){return v(this,Ve).viewParameters.realScale}};uu=new WeakMap,nf=new WeakMap,zo=new WeakMap,bl=new WeakMap,qr=new WeakMap,ni=new WeakMap,wl=new WeakMap,of=new WeakMap,rf=new WeakMap,nn=new WeakMap,Kr=new WeakMap,Ve=new WeakMap,yl=new WeakMap,Ks=new WeakSet,gG=function(t){v(this,Ve).unselectAll();const{target:s}=t;if(s===v(this,nn).div||(s.getAttribute("role")==="img"||s.classList.contains("endOfContent"))&&v(this,nn).div.contains(s)){const{isMac:n}=Rn.platform;if(t.button!==0||t.ctrlKey&&n)return;v(this,Ve).showAllEditors("highlight",!0,!0),v(this,nn).div.classList.add("free"),this.toggleDrawing(),Sw.startHighlighting(this,v(this,Ve).direction==="ltr",{target:v(this,nn).div,x:t.x,y:t.y}),v(this,nn).div.addEventListener("pointerup",()=>{v(this,nn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:v(this,Ve)._signal}),t.preventDefault()}},cE=function(){return v(Wi,yl).get(v(this,Ve).getMode())},uE=function(t){const s=v(this,Ks,cE);return s?new s.prototype.constructor(t):null},dE=function(){const{x:t,y:s,width:n,height:i}=this.div.getBoundingClientRect(),o=Math.max(0,t),r=Math.max(0,s),l=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,s+i),d=(o+l)/2-t,f=(r+u)/2-s,[g,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:g,offsetY:m}},Vb=function(){M(this,of,!0);for(const t of v(this,ni).values())t.isEmpty()&&t.remove();M(this,of,!1)},Je(Wi,"_initialized",!1),O(Wi,yl,new Map([VA,XA,oE,Sw].map(t=>[t._editorType,t])));let lE=Wi;var Wo,Km,ms,Yr,Ym,fE,Mu,gE,pG;const Vs=class Vs{constructor({pageIndex:t}){O(this,Mu);O(this,Wo,null);O(this,Km,0);O(this,ms,new Map);O(this,Yr,new Map);this.pageIndex=t}setParent(t){if(!v(this,Wo)){M(this,Wo,t);return}if(v(this,Wo)!==t){if(v(this,ms).size>0)for(const s of v(this,ms).values())s.remove(),t.append(s);M(this,Wo,t)}}static get _svgFactory(){return mt(this,"_svgFactory",new JD)}draw(t,s,n,i=!1){const o=gn(this,Km)._++,r=k(this,Mu,gE).call(this,t.box);r.classList.add(...t.classNamesForDrawing);const l=Vs._svgFactory.createElement("defs");r.append(l);const u=Vs._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",d),u.setAttribute("d",t.toSVGPath()),i&&v(this,Yr).set(o,u);const f=k(this,Mu,pG).call(this,l,d),g=Vs._svgFactory.createElement("use");return r.append(g),r.setAttribute("fill",s),r.setAttribute("fill-opacity",n),g.setAttribute("href",`#${d}`),v(this,ms).set(o,r),{id:o,clipPathId:`url(#${f})`}}drawOutline(t){const s=gn(this,Km)._++,n=k(this,Mu,gE).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const i=Vs._svgFactory.createElement("defs");n.append(i);const o=Vs._svgFactory.createElement("path");i.append(o);const r=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",r),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t.mustRemoveSelfIntersections){const f=Vs._svgFactory.createElement("mask");i.append(f),l=`mask_p${this.pageIndex}_${s}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const g=Vs._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Vs._svgFactory.createElement("use");f.append(m),m.setAttribute("href",`#${r}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=Vs._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${r}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return n.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),v(this,ms).set(s,n),s}finalizeLine(t,s){const n=v(this,Yr).get(t);v(this,Yr).delete(t),this.updateBox(t,s.box),n.setAttribute("d",s.toSVGPath())}updateLine(t,s){v(this,ms).get(t).firstChild.firstChild.setAttribute("d",s.toSVGPath())}updatePath(t,s){v(this,Yr).get(t).setAttribute("d",s.toSVGPath())}updateBox(t,s){var n;k(n=Vs,Ym,fE).call(n,v(this,ms).get(t),s)}show(t,s){v(this,ms).get(t).classList.toggle("hidden",!s)}rotate(t,s){v(this,ms).get(t).setAttribute("data-main-rotation",s)}changeColor(t,s){v(this,ms).get(t).setAttribute("fill",s)}changeOpacity(t,s){v(this,ms).get(t).setAttribute("fill-opacity",s)}addClass(t,s){v(this,ms).get(t).classList.add(s)}removeClass(t,s){v(this,ms).get(t).classList.remove(s)}getSVGRoot(t){return v(this,ms).get(t)}remove(t){v(this,Yr).delete(t),v(this,Wo)!==null&&(v(this,ms).get(t).remove(),v(this,ms).delete(t))}destroy(){M(this,Wo,null);for(const t of v(this,ms).values())t.remove();v(this,ms).clear(),v(this,Yr).clear()}};Wo=new WeakMap,Km=new WeakMap,ms=new WeakMap,Yr=new WeakMap,Ym=new WeakSet,fE=function(t,{x:s=0,y:n=0,width:i=1,height:o=1}={}){const{style:r}=t;r.top=`${100*n}%`,r.left=`${100*s}%`,r.width=`${100*i}%`,r.height=`${100*o}%`},Mu=new WeakSet,gE=function(t){var n;const s=Vs._svgFactory.create(1,1,!0);return v(this,Wo).append(s),s.setAttribute("aria-hidden",!0),k(n=Vs,Ym,fE).call(n,s,t),s},pG=function(t,s){const n=Vs._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${s}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Vs._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${s}`),o.classList.add("clip"),i},O(Vs,Ym);let hE=Vs;var Zoe=st.AbortException,Joe=st.AnnotationEditorLayer,ere=st.AnnotationEditorParamsType,tre=st.AnnotationEditorType,sre=st.AnnotationEditorUIManager,mG=st.AnnotationLayer,vG=st.AnnotationMode,nre=st.ColorPicker,ire=st.DOMSVGFactory,ore=st.DrawLayer,rre=st.FeatureTest,tT=st.GlobalWorkerOptions,are=st.ImageKind,lre=st.InvalidPDFException,cre=st.MissingPDFException,ure=st.OPS,dre=st.OutputScale,hre=st.PDFDataRangeTransport,fre=st.PDFDateString,gre=st.PDFWorker,pre=st.PasswordResponses,mre=st.PermissionFlag,vre=st.PixelsPerInch,Cre=st.RenderingCancelledException,CG=st.TextLayer,bre=st.UnexpectedResponseException,wre=st.Util,yre=st.VerbosityLevel,Sre=st.XfaLayer,Rre=st.build,xre=st.createValidAbsoluteUrl,Are=st.fetchData,bG=st.getDocument,Ere=st.getFilenameFromUrl,Dre=st.getPdfFilenameFromUrl,Tre=st.getXfaPageViewport,Fre=st.isDataScheme,Pre=st.isPdfFile,Mre=st.noContextMenu,Lre=st.normalizeUnicode,kre=st.setLayerDimensions,Ire=st.shadow,Ore=st.version;const _re=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Zoe,AnnotationEditorLayer:Joe,AnnotationEditorParamsType:ere,AnnotationEditorType:tre,AnnotationEditorUIManager:sre,AnnotationLayer:mG,AnnotationMode:vG,ColorPicker:nre,DOMSVGFactory:ire,DrawLayer:ore,FeatureTest:rre,GlobalWorkerOptions:tT,ImageKind:are,InvalidPDFException:lre,MissingPDFException:cre,OPS:ure,OutputScale:dre,PDFDataRangeTransport:hre,PDFDateString:fre,PDFWorker:gre,PasswordResponses:pre,PermissionFlag:mre,PixelsPerInch:vre,RenderingCancelledException:Cre,TextLayer:CG,UnexpectedResponseException:bre,Util:wre,VerbosityLevel:yre,XfaLayer:Sre,build:Rre,createValidAbsoluteUrl:xre,fetchData:Are,getDocument:bG,getFilenameFromUrl:Ere,getPdfFilenameFromUrl:Dre,getXfaPageViewport:Tre,isDataScheme:Fre,isPdfFile:Pre,noContextMenu:Mre,normalizeUnicode:Lre,setLayerDimensions:kre,shadow:Ire,version:Ore},Symbol.toStringTag,{value:"Module"}));var Ls=function(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Nre=["onCopy","onCut","onPaste"],Hre=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Bre=["onFocus","onBlur"],Gre=["onInput","onInvalid","onReset","onSubmit"],Vre=["onLoad","onError"],zre=["onKeyDown","onKeyPress","onKeyUp"],Wre=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Ure=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],jre=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],$re=["onSelect"],qre=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Kre=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Yre=["onScroll"],Xre=["onWheel"],Qre=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Zre=["onTransitionEnd"],Jre=["onToggle"],eae=["onChange"],tae=Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls([],Nre,!0),Hre,!0),Bre,!0),Gre,!0),Vre,!0),zre,!0),Wre,!0),Ure,!0),jre,!0),$re,!0),qre,!0),Kre,!0),Yre,!0),Xre,!0),Qre,!0),Zre,!0),eae,!0),Jre,!0);function wG(e,t){var s={};return tae.forEach(function(n){var i=e[n];i&&(t?s[n]=function(o){return i(o,t(n))}:s[n]=i)}),s}function mv(e){var t=!1,s=new Promise(function(n,i){e.then(function(o){return!t&&n(o)}).catch(function(o){return!t&&i(o)})});return{promise:s,cancel:function(){t=!0}}}var sae="Invariant failed";function Bt(e,t){if(!e)throw new Error(sae)}var nx,fk;function nae(){if(fk)return nx;fk=1;var e=function(){};return nx=e,nx}var iae=nae();const ln=vE(iae);var gk=Object.prototype.hasOwnProperty;function pk(e,t,s){for(s of e.keys())if(rh(s,t))return s}function rh(e,t){var s,n,i;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&rh(e[n],t[n]););return n===-1}if(s===Set){if(e.size!==t.size)return!1;for(n of e)if(i=n,i&&typeof i=="object"&&(i=pk(t,i),!i)||!t.has(i))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(n of e)if(i=n[0],i&&typeof i=="object"&&(i=pk(t,i),!i)||!rh(n[1],t.get(i)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(gk.call(e,s)&&++n&&!gk.call(t,s)||!(s in t)||!rh(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const yG=x.createContext(null);function ah({children:e,type:t}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}const oae="noopener noreferrer nofollow";class rae{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Bt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Bt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(s=>{Bt(this.pdfDocument),Bt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(s):Array.isArray(t)?s(t):t.then(s)}).then(s=>{Bt(Array.isArray(s));const n=s[0];new Promise(i=>{Bt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{i(o)}).catch(()=>{Bt(!1)}):typeof n=="number"?i(n):Bt(!1)}).then(i=>{const o=i+1;Bt(this.pdfViewer),Bt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:i,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const s=t-1;Bt(this.pdfViewer),Bt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:t})}addLinkAttributes(t,s,n){t.href=s,t.rel=this.externalLinkRel||oae,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const mk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},By=typeof window<"u",SG=By&&window.location.protocol==="file:";function aae(e){return typeof e<"u"}function nc(e){return aae(e)&&e!==null}function lae(e){return typeof e=="string"}function cae(e){return e instanceof ArrayBuffer}function uae(e){return Bt(By),e instanceof Blob}function pE(e){return lae(e)&&/^data:/.test(e)}function vk(e){Bt(pE(e));const[t="",s=""]=e.split(",");return t.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function dae(){return By&&window.devicePixelRatio||1}const RG="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ck(){ln(!SG,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${RG}`)}function hae(){ln(!SG,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${RG}`)}function Fu(e){e!=null&&e.cancel&&e.cancel()}function mE(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function fae(e){return e.name==="RenderingCancelledException"}function gae(e){return new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return s(new Error("Error while reading a file."));t(n.result)},n.onerror=i=>{if(!i.target)return s(new Error("Error while reading a file."));const{error:o}=i.target;if(!o)return s(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e)})}function pae(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function bf(){return x.useReducer(pae,{value:void 0,error:void 0})}var mae=function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function l(f){try{d(n.next(f))}catch(g){r(g)}}function u(f){try{d(n.throw(f))}catch(g){r(g)}}function d(f){f.done?o(f.value):i(f.value).then(l,u)}d((n=n.apply(e,t||[])).next())})},bk=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const{PDFDataRangeTransport:vae}=_re,Cae=(e,t)=>{switch(t){case mk.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case mk.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}};function wk(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const bae=x.forwardRef(function(t,s){var{children:n,className:i,error:o="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:l,file:u,inputRef:d,imageResourcesPath:f,loading:g="Loading PDF…",noData:m="No PDF file specified.",onItemClick:C,onLoadError:w,onLoadProgress:y,onLoadSuccess:R,onPassword:A=Cae,onSourceError:D,onSourceSuccess:E,options:T,renderMode:P,rotate:L}=t,N=bk(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[B,W]=bf(),{value:z,error:q}=B,[K,$]=bf(),{value:te,error:ee}=K,G=x.useRef(new rae),V=x.useRef([]),U=x.useRef(void 0),re=x.useRef(void 0);u&&u!==U.current&&wk(u)&&(ln(!rh(u,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=u),T&&T!==re.current&&(ln(!rh(T,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=T);const H=x.useRef({scrollPageIntoView:he=>{const{dest:ye,pageNumber:Me,pageIndex:He=Me-1}=he;if(C){C({dest:ye,pageIndex:He,pageNumber:Me});return}const ce=V.current[He];if(ce){ce.scrollIntoView();return}ln(!1,`An internal link leading to page ${Me} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});x.useImperativeHandle(s,()=>({linkService:G,pages:V,viewer:H}),[]);function Y(){E&&E()}function Q(){q&&(ln(!1,q.toString()),D&&D(q))}function J(){W({type:"RESET"})}x.useEffect(J,[u,W]);const le=x.useCallback(()=>mae(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return pE(u)?{data:vk(u)}:(Ck(),{url:u});if(u instanceof vae)return{range:u};if(cae(u))return{data:u};if(By&&uae(u))return{data:yield gae(u)};if(Bt(typeof u=="object"),Bt(wk(u)),"url"in u&&typeof u.url=="string"){if(pE(u.url)){const{url:he}=u,ye=bk(u,["url"]),Me=vk(he);return Object.assign({data:Me},ye)}Ck()}return u}),[u]);x.useEffect(()=>{const he=mv(le());return he.promise.then(ye=>{W({type:"RESOLVE",value:ye})}).catch(ye=>{W({type:"REJECT",error:ye})}),()=>{Fu(he)}},[le,W]),x.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){Q();return}Y()}},[z]);function ge(){te&&(R&&R(te),V.current=new Array(te.numPages),G.current.setDocument(te))}function pe(){ee&&(ln(!1,ee.toString()),w&&w(ee))}x.useEffect(function(){$({type:"RESET"})},[$,z]),x.useEffect(function(){if(!z)return;const ye=T?Object.assign(Object.assign({},z),T):z,Me=bG(ye);y&&(Me.onProgress=y),A&&(Me.onPassword=A);const He=Me,ce=He.promise.then(Ce=>{$({type:"RESOLVE",value:Ce})}).catch(Ce=>{He.destroyed||$({type:"REJECT",error:Ce})});return()=>{ce.finally(()=>He.destroy())}},[T,$,z]),x.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){pe();return}ge()}},[te]),x.useEffect(function(){G.current.setViewer(H.current),G.current.setExternalLinkRel(r),G.current.setExternalLinkTarget(l)},[r,l]);const Te=x.useCallback((he,ye)=>{V.current[he]=ye},[]),ke=x.useCallback(he=>{delete V.current[he]},[]),Ke=x.useMemo(()=>({imageResourcesPath:f,linkService:G.current,onItemClick:C,pdf:te,registerPage:Te,renderMode:P,rotate:L,unregisterPage:ke}),[f,C,te,Te,P,L,ke]),Pe=x.useMemo(()=>wG(N,()=>te),[N,te]);function wt(){return _.jsx(yG.Provider,{value:Ke,children:n})}function Et(){return u?te==null?_.jsx(ah,{type:"loading",children:typeof g=="function"?g():g}):te===!1?_.jsx(ah,{type:"error",children:typeof o=="function"?o():o}):wt():_.jsx(ah,{type:"no-data",children:typeof m=="function"?m():m})}return _.jsx("div",Object.assign({className:Ds("react-pdf__Document",i),ref:d,style:{"--scale-factor":"1"}},Pe,{children:Et()}))});function xG(){return x.useContext(yG)}function AG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e.filter(Boolean);if(s.length<=1){var n=s[0];return n||null}return function(o){s.forEach(function(r){typeof r=="function"?r(o):r&&(r.current=o)})}}const EG=x.createContext(null),DG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},wae=/^H(\d+)$/;function yae(e){return e in DG}function Gy(e){return"children"in e}function TG(e){return Gy(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function Sae(e){const t={};if(Gy(e)){const{role:s}=e,n=s.match(wae);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(yae(s)){const i=DG[s];i&&(t.role=i)}}return t}function FG(e){const t={};if(Gy(e)){if(e.alt!==void 0&&(t["aria-label"]=e.alt),e.lang!==void 0&&(t.lang=e.lang),TG(e)){const[s]=e.children;if(s){const n=FG(s);return Object.assign(Object.assign({},t),n)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Rae(e){return e?Object.assign(Object.assign({},Sae(e)),FG(e)):null}function PG({className:e,node:t}){const s=x.useMemo(()=>Rae(t),[t]),n=x.useMemo(()=>!Gy(t)||TG(t)?null:t.children.map((i,o)=>_.jsx(PG,{node:i},o)),[t]);return _.jsx("span",Object.assign({className:e},s,{children:n}))}function Vy(){return x.useContext(EG)}function xae(){const e=Vy();Bt(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:s}=e,[n,i]=bf(),{value:o,error:r}=n,{customTextRenderer:l,page:u}=e;function d(){o&&s&&s(o)}function f(){r&&(ln(!1,r.toString()),t&&t(r))}return x.useEffect(function(){i({type:"RESET"})},[i,u]),x.useEffect(function(){if(l||!u)return;const m=mv(u.getStructTree()),C=m;return m.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>Fu(C)},[l,u,i]),x.useEffect(()=>{if(o!==void 0){if(o===!1){f();return}d()}},[o]),o?_.jsx(PG,{className:"react-pdf__Page__structTree structTree",node:o}):null}const yk=vG;function Aae(e){const t=Vy();Bt(t);const s=Object.assign(Object.assign({},t),e),{_className:n,canvasBackground:i,devicePixelRatio:o=dae(),onRenderError:r,onRenderSuccess:l,page:u,renderForms:d,renderTextLayer:f,rotate:g,scale:m}=s,{canvasRef:C}=e;Bt(u);const w=x.useRef(null);function y(){u&&l&&l(mE(u,m))}function R(T){fae(T)||(ln(!1,T.toString()),r&&r(T))}const A=x.useMemo(()=>u.getViewport({scale:m*o,rotation:g}),[o,u,g,m]),D=x.useMemo(()=>u.getViewport({scale:m,rotation:g}),[u,g,m]);x.useEffect(function(){if(!u)return;u.cleanup();const{current:P}=w;if(!P)return;P.width=A.width,P.height=A.height,P.style.width=`${Math.floor(D.width)}px`,P.style.height=`${Math.floor(D.height)}px`,P.style.visibility="hidden";const L={annotationMode:d?yk.ENABLE_FORMS:yk.ENABLE,canvasContext:P.getContext("2d",{alpha:!1}),viewport:A};i&&(L.background=i);const N=u.render(L),B=N;return N.promise.then(()=>{P.style.visibility="",y()}).catch(R),()=>Fu(B)},[i,u,d,A,D]);const E=x.useCallback(()=>{const{current:T}=w;T&&(T.width=0,T.height=0)},[]);return x.useEffect(()=>E,[E]),_.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:AG(C,w),style:{display:"block",userSelect:"none"},children:f?_.jsx(xae,{}):null})}function Eae(e){return"str"in e}function Dae(){const e=Vy();Bt(e);const{customTextRenderer:t,onGetTextError:s,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:o,page:r,pageIndex:l,pageNumber:u,rotate:d,scale:f}=e;Bt(r);const[g,m]=bf(),{value:C,error:w}=g,y=x.useRef(null);ln(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function R(){C&&n&&n(C)}function A(){w&&(ln(!1,w.toString()),s&&s(w))}x.useEffect(function(){m({type:"RESET"})},[r,m]),x.useEffect(function(){if(!r)return;const B=mv(r.getTextContent()),W=B;return B.promise.then(z=>{m({type:"RESOLVE",value:z})}).catch(z=>{m({type:"REJECT",error:z})}),()=>Fu(W)},[r,m]),x.useEffect(()=>{if(C!==void 0){if(C===!1){A();return}R()}},[C]);const D=x.useCallback(()=>{o&&o()},[o]),E=x.useCallback(N=>{ln(!1,N.toString()),i&&i(N)},[i]);function T(){const N=y.current;N&&N.classList.add("selecting")}function P(){const N=y.current;N&&N.classList.remove("selecting")}const L=x.useMemo(()=>r.getViewport({scale:f,rotation:d}),[r,d,f]);return x.useLayoutEffect(function(){if(!r||!C)return;const{current:B}=y;if(!B)return;B.innerHTML="";const W=r.streamTextContent({includeMarkedContent:!0}),z={container:B,textContentSource:W,viewport:L},q=new CG(z),K=q;return q.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",B.append($);const te=B.querySelectorAll('[role="presentation"]');if(t){let ee=0;C.items.forEach((G,V)=>{if(!Eae(G))return;const U=te[ee];if(!U)return;const re=t(Object.assign({pageIndex:l,pageNumber:u,itemIndex:V},G));U.innerHTML=re,ee+=G.str&&G.hasEOL?2:1})}D()}).catch(E),()=>Fu(K)},[t,E,D,r,l,u,C,L]),_.jsx("div",{className:Ds("react-pdf__Page__textContent","textLayer"),onMouseUp:P,onMouseDown:T,ref:y})}function Tae(){const e=xG(),t=Vy();Bt(t);const s=Object.assign(Object.assign({},e),t),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:o,onGetAnnotationsSuccess:r,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:g,rotate:m,scale:C=1}=s;Bt(f),Bt(d),Bt(i);const[w,y]=bf(),{value:R,error:A}=w,D=x.useRef(null);ln(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){R&&r&&r(R)}function T(){A&&(ln(!1,A.toString()),o&&o(A))}x.useEffect(function(){y({type:"RESET"})},[y,d]),x.useEffect(function(){if(!d)return;const W=mv(d.getAnnotations()),z=W;return W.promise.then(q=>{y({type:"RESOLVE",value:q})}).catch(q=>{y({type:"REJECT",error:q})}),()=>{Fu(z)}},[y,d]),x.useEffect(()=>{if(R!==void 0){if(R===!1){T();return}E()}},[R]);function P(){u&&u()}function L(B){ln(!1,`${B}`),l&&l(B)}const N=x.useMemo(()=>d.getViewport({scale:C,rotation:m}),[d,m,C]);return x.useEffect(function(){if(!f||!d||!i||!R)return;const{current:W}=D;if(!W)return;const z=N.clone({dontFlip:!0}),q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:d,structTreeLayer:null,viewport:z},K={annotations:R,annotationStorage:f.annotationStorage,div:W,imageResourcesPath:n,linkService:i,page:d,renderForms:g,viewport:z};W.innerHTML="";try{new mG(q).render(K),P()}catch($){L($)}return()=>{}},[R,n,i,d,f,g,N]),_.jsx("div",{className:Ds("react-pdf__Page__annotations","annotationLayer"),ref:D})}var Fae=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const Sk=1;function Pae(e){const t=xG(),s=Object.assign(Object.assign({},t),e),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:o,canvasRef:r,children:l,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:g,error:m="Failed to load the page.",height:C,inputRef:w,loading:y="Loading page…",noData:R="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:D,onGetStructTreeError:E,onGetStructTreeSuccess:T,onGetTextError:P,onGetTextSuccess:L,onLoadError:N,onLoadSuccess:B,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:z,onRenderError:q,onRenderSuccess:K,onRenderTextLayerError:$,onRenderTextLayerSuccess:te,pageIndex:ee,pageNumber:G,pdf:V,registerPage:U,renderAnnotationLayer:re=!0,renderForms:H=!1,renderMode:Y="canvas",renderTextLayer:Q=!0,rotate:J,scale:le=Sk,unregisterPage:ge,width:pe}=s,Te=Fae(s,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ke,Ke]=bf(),{value:Pe,error:wt}=ke,Et=x.useRef(null);Bt(V);const he=nc(G)?G-1:ee??null,ye=G??(nc(ee)?ee+1:null),Me=J??(Pe?Pe.rotate:null),He=x.useMemo(()=>{if(!Pe)return null;let pt=1;const je=le??Sk;if(pe||C){const tt=Pe.getViewport({scale:1,rotation:Me});pe?pt=pe/tt.width:C&&(pt=C/tt.height)}return je*pt},[C,Pe,Me,le,pe]);x.useEffect(function(){return()=>{nc(he)&&i&&ge&&ge(he)}},[i,V,he,ge]);function ce(){if(B){if(!Pe||!He)return;B(mE(Pe,He))}if(i&&U){if(!nc(he)||!Et.current)return;U(he,Et.current)}}function Ce(){wt&&(ln(!1,wt.toString()),N&&N(wt))}x.useEffect(function(){Ke({type:"RESET"})},[Ke,V,he]),x.useEffect(function(){if(!V||!ye)return;const je=mv(V.getPage(ye)),tt=je;return je.promise.then(rs=>{Ke({type:"RESOLVE",value:rs})}).catch(rs=>{Ke({type:"REJECT",error:rs})}),()=>Fu(tt)},[Ke,V,ye]),x.useEffect(()=>{if(Pe!==void 0){if(Pe===!1){Ce();return}ce()}},[Pe,He]);const Re=x.useMemo(()=>Pe&&nc(he)&&ye&&nc(Me)&&nc(He)?{_className:n,canvasBackground:o,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:A,onGetAnnotationsSuccess:D,onGetStructTreeError:E,onGetStructTreeSuccess:T,onGetTextError:P,onGetTextSuccess:L,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:z,onRenderError:q,onRenderSuccess:K,onRenderTextLayerError:$,onRenderTextLayerSuccess:te,page:Pe,pageIndex:he,pageNumber:ye,renderForms:H,renderTextLayer:Q,rotate:Me,scale:He}:null,[n,o,f,g,A,D,E,T,P,L,W,z,q,K,$,te,Pe,he,ye,H,Q,Me,He]),De=x.useMemo(()=>wG(Te,()=>Pe&&(He?mE(Pe,He):void 0)),[Te,Pe,He]),Ge=`${he}@${He}/${Me}`;function Ye(){switch(Y){case"custom":return Bt(d),_.jsx(d,{},`${Ge}_custom`);case"none":return null;case"canvas":default:return _.jsx(Aae,{canvasRef:r},`${Ge}_canvas`)}}function Xe(){return Q?_.jsx(Dae,{},`${Ge}_text`):null}function Ae(){return re?_.jsx(Tae,{},`${Ge}_annotations`):null}function ze(){return _.jsxs(EG.Provider,{value:Re,children:[Ye(),Xe(),Ae(),l]})}function Lt(){return ye?V===null||Pe===void 0||Pe===null?_.jsx(ah,{type:"loading",children:typeof y=="function"?y():y}):V===!1||Pe===!1?_.jsx(ah,{type:"error",children:typeof m=="function"?m():m}):ze():_.jsx(ah,{type:"no-data",children:typeof R=="function"?R():R})}return _.jsx("div",Object.assign({className:Ds(n,u),"data-page-number":ye,ref:AG(w,Et),style:{"--scale-factor":`${He}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},De,{children:Lt()}))}hae();tT.workerSrc="pdf.worker.mjs";tT.workerSrc=new URL("/PDFtoCSVWizard/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const Rk="PdfToCsvWizard_ActivePDF";function Mae(e){let t="";const s=new Uint8Array(e);for(let n=0;n<s.byteLength;n++)t+=String.fromCharCode(s[n]);return window.btoa(t)}function Lae(e){const t=window.atob(e),s=new Uint8Array(t.length);for(let n=0;n<t.length;n++)s[n]=t.charCodeAt(n);return s.buffer}const kae={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},Iae=({onTextClick:e,onPageLoad:t})=>{const[s,n]=x.useState(0),[i,o]=x.useState(0),[r,l]=x.useState({height:0,width:0}),[u,d]=x.useState(!0),[f,g]=lx({key:Rk,defaultValue:null}),[m,C]=x.useState(!1),[w,y]=x.useState(f),[R,A]=x.useState([]),D=x.useRef(null),[E,T]=x.useState(1.25);x.useEffect(()=>{const z=cx({key:Rk});if(z){const q=new File([Lae(z.content)],z.name);y(q)}C(!0)},[]);const P=z=>{if(!z)return;(async()=>{const K=await z.arrayBuffer();console.log(K),g({content:Mae(K),name:z.name})})(),y(z),n(0),o(0)},L=async z=>{n(z.numPages),o(1),d(!1)},N=async z=>{l({height:z.height,width:z.width});const K=(await z.getTextContent()).items.filter($=>$.str.trim()).sort(($,te)=>$.transform[5]===te.transform[5]?$.transform[4]-te.transform[4]:te.transform[5]-$.transform[5]).map(($,te)=>({...$,index:te}));A(K),t(K)},B=async z=>{const q=W(z,!0);e(q)},W=(z,q=!1)=>{var V;const K=((V=D==null?void 0:D.current)==null?void 0:V.pages.current[i-1].getBoundingClientRect())??{},$={x:z.clientX-K.left,y:z.clientY-K.top};let te=R;const ee=document.elementsFromPoint(z.clientX,z.clientY)[0];if(ee.tagName==="SPAN")te=te.filter(U=>U.str===ee.textContent);else if(q)return;return te.sort((U,re)=>{const H=Math.hypot(r.height-U.transform[5]*E-$.y,U.transform[4]*E-$.x),Y=Math.hypot(r.height-re.transform[5]*E-$.y,re.transform[4]*E-$.x);return H-Y})[0]};return _.jsxs(_.Fragment,{children:[_.jsxs(El,{children:[_.jsx(hO,{onChange:P,accept:".pdf",children:z=>_.jsx(rn,{...z,children:"Upload PDF"})}),_.jsx(Rp,{label:"Zoom",onChange:z=>T(Number(z)),step:.05,value:E,min:.25,max:4}),_.jsx(Rp,{w:100,label:"Page",onChange:o,step:1,value:i,min:1,max:s}),w&&_.jsx(go,{value:i,total:s,siblings:5,onChange:o})]}),w&&_.jsxs(oo,{children:["Page ",i," of ",s]}),w&&_.jsxs(oo,{children:["Current file: ",w.name]}),_.jsx("div",{style:{height:w&&!u?r.height:void 0,width:w&&!u?r.width:void 0},children:_.jsx(bae,{ref:D,onClick:B,file:w,options:kae,onLoadSuccess:L,children:_.jsx(Pae,{scale:E,pageNumber:i,renderAnnotationLayer:!1,onLoadSuccess:N},`page_${i}`)})})]})},Oae="0.1.0";window.r=aD;const xk="PdfToCsvWizard_WorkingData",Ak="PdfToCsvWizard_Metadata",_ae=[{}];function Nae(){var Pe,wt,Et;const[e,t]=lx({key:xk,defaultValue:_ae}),[s,n]=lx({key:Ak,defaultValue:{}}),i=(he,ye)=>{n(Me=>({...Me,[he]:ye}))},[o,r]=x.useState(!1),[l,u]=x.useState(e),[d,f]=x.useState([]),[g,m]=x.useState(FO),[C,w]=x.useState(-1),[y,R]=x.useState(-1),A=x.useRef(null),[D,E]=x.useState(!1),[T,P]=x.useState(yx),[L,N]=x.useState({}),[B,W]=x.useState(-1),[z,q]=x.useState(),K=l[g.rowIndex][g.colId]??[];x.useEffect(()=>{const he=setInterval(()=>{console.log("Starting save"),u(ye=>(t(ye),ye)),console.log("Finished Saving!")},3e4);return()=>clearInterval(he)},[]),x.useEffect(()=>{const he=cx({key:xk});he&&u(he);const ye=cx({key:Ak});ye!=null&&ye.defaultRowValue&&N(ye.defaultRowValue),r(!0)},[]);const $=({rowIndex:he,colId:ye,newValue:Me})=>{var ce;if((ce=A==null?void 0:A.current)!=null&&ce.api){if(D){N(Ce=>{const Re={...Ce,[ye]:Me};return i("defaultRowValue",Re),Re}),u(Ce=>Ce.map(Re=>(Re[ye]=Me,Re)));return}u(Ce=>{const Re=Ce[he],De=[...Ce];return De.splice(he,1,{...Re,[ye]:Me}),De})}},te=he=>{if(!K)return;const ye=[...K,{symbol:he.symbol}];u(Me=>{const He=[...Me],Ce={...Me[g.rowIndex],[g.colId]:ye};return He.splice(g.rowIndex,1,Ce),He})},ee=({value:he,...ye})=>(console.log(he,ye),typeof he=="string"?he:aD(he).join(" ")),G=async he=>{var He;if(!((He=A==null?void 0:A.current)==null?void 0:He.api)||!he)return;const Me=[...K,he];$({...g,newValue:Me})},V=he=>{const ye=Z4({template:l[C],templateRowIndex:C,rowIndex:he,data:l,currentTextObjects:d,templateOffset:y});if(!ye)return;const{data:Me,offsetUsed:He}=ye;R(He),u(Me)},U=()=>V(g.rowIndex),re=()=>u(he=>[...he,L]),H=K.length&&!wy(K[K.length-1]),Y=()=>{$({...g,newValue:[]})},Q=he=>{q(l[he])},J=he=>{const ye=z;if(console.log(ye),!ye)return;const Me={};Object.entries(ye).forEach(([He,ce])=>{var Ce;Me[He]=(Ce=ce==null?void 0:ce.map)==null?void 0:Ce.call(ce,Re=>{var De;return Re.manual?{...Re}:{...Re,str:(De=d.find(Ge=>(Ge==null?void 0:Ge.index)===Re.index))==null?void 0:De.str}})}),u(He=>{const ce=[...He];return ce.splice(he,1,Me),ce}),w(he)},le=()=>{re(),m(he=>({...he,rowIndex:he.rowIndex+1})),V(g.rowIndex+1)},ge=(he,ye)=>{var Re;const Me=l[he],He=(Re=SR(Me))==null?void 0:Re.index,ce=ye-He;console.log(He,ce);const Ce={};for(const[De,Ge]of Object.entries(Me)){const Ye=Ge.map(Xe=>{var Ae;return Xe.manual?Xe:{...Xe,index:(Xe==null?void 0:Xe.index)+ce,str:(Ae=d[Xe.index+ce])==null?void 0:Ae.str}});Ce[De]=Ye}u(De=>{const Ge=[...De];return Ge.splice(C,1,Ce),Ge})},pe=he=>{var ye;(ye=he.event)!=null&&ye.target&&(he.rowIndex===B&&!he.event.target.checked?W(-1):he.event.target.checked&&W(he.rowIndex))},Te=({node:he,colDef:ye})=>m({colId:ye.colId,rowIndex:he.rowIndex}),ke=x.useCallback(he=>{u(ye=>{const Me=[...ye];return Me.splice(he,1),Me}),m(ye=>({...ye,rowIndex:0}))},[]),Ke=()=>u([{}]);return _.jsxs(_.Fragment,{children:[_.jsxs(rD,{children:["PDF Parsing Utility - ",Oae]}),_.jsx(Iae,{onTextClick:G,onPageLoad:f}),_.jsx(PO.Provider,{value:{activeCell:g,setActiveCell:m,templateRow:C,setTemplateRow:w,deleteRow:ke,copyRow:Q,pasteRow:J},children:_.jsxs(Kne,{children:[_.jsxs(El,{wrap:"nowrap",children:[T===ip&&_.jsx(xf,{checked:D,onChange:he=>E(he.target.checked),label:"Update all rows?"}),_.jsx(oD,{m:"sm",value:T,data:[ip,yx],onChange:P}),Object.values(lD).map(he=>_.jsx(rn,{onClick:()=>te(he),disabled:!H,children:he.symbol},he.symbol))]}),_.jsxs(El,{gap:"sm",p:"sm",children:[_.jsx(rn,{onClick:re,children:"Add Row"}),_.jsx(rn,{onClick:Y,children:"Clear Cell"}),_.jsx(rn,{disabled:y===-1,onClick:le,children:"Add new templated row"}),_.jsx(rn,{onClick:()=>U(),disabled:C===g.rowIndex||C==-1,children:"Apply Template"}),_.jsx(Yne,{api:(Pe=A.current)==null?void 0:Pe.api}),_.jsx(Rp,{value:(wt=SR(l[C]))==null?void 0:wt.index,disabled:((Et=SR(l[C]))==null?void 0:Et.index)===void 0||T===ip,description:"Template offset control",min:0,max:d.length-1,onChange:he=>ge(C,he)}),_.jsx(rn,{variant:"outline",onClick:Ke,c:"red",children:"Reset Grid Data"})]}),o&&_.jsx($ne,{ref:A,data:l,editingMode:T,setDataValue:$,onRowSelected:pe,onCellClicked:Te,processCellCallback:ee})]})})]})}nz.createRoot(document.getElementById("root")).render(_.jsx(x.StrictMode,{children:_.jsx(sI,{theme:Uw,children:_.jsx(Nae,{})})}));
